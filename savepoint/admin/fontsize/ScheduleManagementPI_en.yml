ScheduleManagementPI: #xd page number: 83
  pageNumber: "450" 
  viewPort: top
  title: "ScheduleManagementPI"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - actionType: evalObject
      object: .BaseDate.getDate
    - =..providerList.edgeAPI.get: ""
    - actionType: evalObject
      object:
        - =.builtIn.array.getIdByUserName:
            dataIn:
              array: =..providerList.list.edge
              userName: =..formData.providerName
            dataOut: ScheduleManagementPI.formData.providerId 
        # - ..schedule.edge.id.0@: =.Global.currentFacility.id        
        # - ..schedule.edge.id.1@: =.Global.formData.providerId
        - =.builtIn.object.extract:
            dataIn:
              array: =..providerList.list.edge
              field: name.inviteeName
            dataOut: ScheduleManagementPI.formData.providerList
        # - ..appointment.edge.id@: =.Global.formData.scheduleManageProdId      
        # - .Global.formData.providerId@: =..providerList.list.edge.0.bvid
        - ..formData.providerName@: =.Global.formData.scheduleManageProdName
        - ..formData.providerId@: =.Global.formData.scheduleManageProdId
    # 切换jwt为病人的jwt
    - .Global.jwt.edge.bvid@: =.Global.formData.scheduleManagePatdId
    - =.Global.jwt.edgeAPI.store: ""
    # 获取病人的rootnotebookId
    - ..fac_RootNotebook.edgeReq.id@: =.Global.formData.scheduleManagePatdId
    - =..fac_RootNotebook.edgeAPI.get: ""
    # 根据rootenotebookid来获取病人的profile
    - ..patientInfo.docIn.id@: =..fac_RootNotebook.edge.edge.0.id
    - =..patientInfo.docAPI.get: ""
    # 把get到的值放进用来显示的变量里
    - ..patdInfo@: =..patientInfo.docResp.doc.0.name.data
    - actionType: evalObject
      object: 
        - =.builtIn.string.concat:
            dataIn:
              - =..patdInfo.Address.city
              - ","
              - =..patdInfo.Address.state
              - ","
              - =..patdInfo.Address.zip
            dataOut: ScheduleManagementPI.patdInfo.regionCode
    - actionType: evalObject
      object:
        - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
        - =.Global.jwt.edgeAPI.store: ""
        - =..locationAll.docAPI.get: ""
    - =.builtIn.array.selectOneToArr:
        dataIn:
          arr: =..locationAll.docResp.doc.0.name.data.allLocation
          key: "medicalFacilityName"
        dataOut: ScheduleManagementPI.addressName
    # - =..appointment.edgeAPI.get: ""
    - ..appointment.edge.id.1@: =.Global.formData.scheduleManageProdId
    - =..appointment.edgeAPI.get: ""
    - =.builtIn.array.getListLength:
        dataIn:
          object: =..appointment.list.edge
        dataOut: ScheduleManagementPI.formData.appointmentLength
    - actionType: evalObject
      object: 
        - ..selectDate@: .BaseDate.calendarDate.todayDate
        - .Global.currentSubtype@: '196609'
        - .Global.visitType@: "Telemedicine"
        - ..newAppointment.edge.name.visitType@: "Telemedicine"
        - ..newAppointment.edge.name.visitTypeShow@: "Telemedicine"
  selectDate: ""
  splitTime:
    morning:
      - showTime: 6:00AM
      - showTime: 6:30AM
  visitReason: 
    response: ""
    document: 
      type: .DocType.VisitReason
      name: 
        data:
          reasonForVisit: []
    doc:
      type: .DocType.VisitReason
      id: ""
      xfname: "ovid"
      obfname: "ctime"
      _nonce: =.Global_nonce
    docAPI: 
      get: 
        .DocAPI.get: ""
        api: rd
        dataIn: visitReason.doc
        dataOut: visitReason.response

  fac_RootNotebook: # 切换成病人的id，然后再get
    edgeReq:
      id: ""
      xfname: bvid
      type: .EdgeType.RootNotebook
    edge: ""
    edgeAPI:
      get:
        api: re
        dataIn: ScheduleManagementPI.fac_RootNotebook.edgeReq
        dataOut: ScheduleManagementPI.fac_RootNotebook.edge
  patientInfo:
    docResp: ""
    docIn: 
        id: ""
        xfname: eid
        type: .DocType.Profile #  type: "257"
        obfname: "mtime"
        maxcount: "1"
        _nonce: =.Global._nonce
    docAPI: 
      get:
        .DocAPI.get: "" 
        api: rd
        dataIn: patientInfo.docIn
        dataOut: ScheduleManagementPI.patientInfo.docResp
  patdInfo: "" # 用来显示patient的具体信息
  requestLocationId: .Global.currentFacility.id
  requestAddress: ""
  locationAll:   # 把所有的location 信息，在schedule那边显示
    docResp: ""   # get到的值
    docIn:    # for geting all of the location
      type: .DocType.LocationOfFacility
      id: .Global.fac_rootNotebook
      xfname: eid
      obfname: mtime
      maxcount: "1"
      name: 
        data: 
          allLocation: 
    docAPI:
      .DocAPI: ""
      get: 
        api: rd
        dataIn: ScheduleManagementPI.locationAll.docIn
        dataOut: ScheduleManagementPI.locationAll.docResp
  appointment:
    list:
      edge: []
    deleteReq:
      id: ""
    edge:
      .Edge: ""
      # id: 
      # id: NzczFCtoRgYkcD3yEvGhRA==
      id:
        - .Global.currentFacility.id
        # - ..formData.providerId
      ObjType: 20
      xfname: "E2.bvid,E2.evid"
      # type: .EdgeType.WaitingRoom
      sCondition: "E2.type=40000 AND E2.subtype in (196609) AND E.type = 40000 AND E.subtype=196610"
      obfname: "ctime"
      _nonce: .Global._nonce
      maxcount: "100"
    edgeAPI:
      get:
        api: re
        dataIn: ScheduleManagementPI.appointment.edge
        dataOut: ScheduleManagementPI.appointment.list
      delete:
        api: dx
        dataIn: ScheduleManagementPI.appointment.deleteReq
  invite:
    edge:
      type: .EdgeType.InviteInfo
      refid: ""
      bvid: .Global.currentUser.vertex.id
      # bvid: .MyActiveProvider.providerId
      evid: .Global.currentFacility.id
      _nonce: =.Global._nonce
      # evid: "NzczFCtoRgYkcD3yEvGhRA=="
      name:
        # phoneNumber: .Global.currentUser.vertex.uid
        firstName: ""
        lastName: ""
        # name: .Global.currentUser.vertex.name.userName
        # hostName: .Global.currentFacility.name.basicInfo.medicalFacilityName
        roomName: ""
        date: ""
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: invite.edge
  approveAppointment:
    edge:
      bvid: .Global.currentFacility.id
      .Edge: ""
      name: ""
      type: .EdgeType.WaitingRoom 
      subtype: 5
      refid: ""
      evid: ""
      stime: ""
      etime: ""
    edgeAPI:
      store:
        api: ce
        dataIn: approveAppointment.edge
        dataOut: approveAppointment.response
  denyAppointment:
    edge:
      bvid: .Global.currentFacility.id
      .Edge: ""
      name: ""
      type: .EdgeType.WaitingRoom 
      subtype: 7
      refid: ""
      evid: ""
      stime: ""
      etime: ""
    edgeAPI:
      store:
        api: ce
        dataIn: denyAppointment.edge
        dataOut: denyAppointment.response
  approveAppointment10:
    response:
    edge:
      bvid: .Global.currentFacility.id
      .Edge: ""
      name: ""
      type: .EdgeType.WaitingRoom 
      subtype: 10
      refid: ""
      evid: ""
      stime: ""
      etime: ""
    edgeAPI:
      store:
        api: ce
        dataIn: approveAppointment10.edge
        dataOut: approveAppointment10.response
  providerList:
    list: ""
    edgeAPI:
      get: 
        api: re
        dataKey: providerList.list
        id: .Global.currentFacility.id
        # id: .Global.currentUser.vertex.id
        sCondition: name like '%"inviteeCategory":"Provider"%'
        xfname: evid
        maxcount: "10000"
        type: .EdgeType.Accept
  visitType: "Telemedicine"
  appointmentTime: ""
  formData: 
    currentVisitType: "Telemedicine"
    locationHidden: "true"
    locationList: ""
    dataStruc:
        - reason 
        - duration
    appointmentInfo: ""
    scheduleInfoAppointment: ""
    providerList: []
    providerName: 
    providerId: 
    appointmentLength: "0"
  components:
    - .SideMenuBar:
      children:
        - .aitLogo:
        - .MenuBar:
    - .TopBar:
    - .BodyView:
      children:
        - .Label1:
          type: label
          text: "Schedule Management"
          style:
            left: "0.03"
            fontSize: "25"
            top: "0.02"
        - .Scselect1:
          options:
            - Telemedicine
            - Office Visits
          dataKey: formData.currentVisitType
          onChange:
            - actionType: evalObject
              object:
                .Global._nonce@:
                  =.builtIn.math.random: ""
            # - actionType: updateObject
            #   dataKey: ScheduleManagementPI.appointment.list.edge
            #   dataObject: []
            - actionType: evalObject
              object:
                ..appointment.list.edge@: []
            - actionType: evalObject
              object:
                - if:
                  - =.builtIn.string.equal:
                      dataIn: 
                        string1: =..formData.currentVisitType
                        string2: "Office Visits"
                  - ..appointment.edge.sCondition@: "E2.type=40000 AND E2.subtype in (131073) AND E.type = 40000 AND E.subtype=131074" 
                  - ..appointment.edge.sCondition@: "E2.type=40000 AND E2.subtype in (196609) AND E.type = 40000 AND E.subtype=196610"
                - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                - =.Global.jwt.edgeAPI.store: ""
                - =..appointment.edgeAPI.get: ""
            - actionType: evalObject
              object: 
                - =.builtIn.array.getListLength:
                    dataIn:
                      object: =..appointment.list.edge
                    dataOut: ScheduleManagementPI.formData.appointmentLength
            - actionType: builtIn
              funcName: redraw
              viewTag: appointmentTag
            # - actionType: builtIn
            #   funcName: redraw
            #   viewTag: calenderTableView
            - actionType: builtIn
              funcName: redraw
              viewTag: appointmentLengthTag
            - actionType: evalObject
              object:
                - if:
                  - =.builtIn.string.equal:
                      dataIn: 
                        string1: =..formData.currentVisitType
                        string2: "Office Visits"
                  - actionType: builtIn
                    funcName: show
                    viewTag: locationSelect
                  - actionType: builtIn
                    funcName: hide
                    viewTag: locationSelect
            # - actionType: builtIn
            #   funcName: redraw
            #   viewTag: locationSelect 
          style:
            left: "0.35"
        - .Scselect1:
          dataKey: formData.providerName
          options:
            ..formData.providerList
          onChange:
            - actionType: evalObject
              object: 
                .Global._nonce@: 
                  =.builtIn.math.random: ""
            - actionType: evalObject
              object:   
                - ..appointment.list.edge@: []
                - =.builtIn.array.getIdByUserName:
                    dataIn:
                      array: =..providerList.list.edge
                      userName: =..formData.providerName
                    dataOut: ScheduleManagementPI.formData.providerId 
                - ..appointment.edge.id.1@: =..formData.providerId
                # - ..appointment.edge.id@: =..formData.providerId
                - ..inMeeting.edge.id@: =..formData.providerId
                - .Global.formData.scheduleManageProdId@: =..formData.providerId
                - .Global.formData.scheduleManageProdName@: =..formData.providerName
            - actionType: evalObject
              object: 
                - =..appointment.edgeAPI.get: ""
                - =.builtIn.array.getListLength:
                    dataIn:
                      object: =..appointment.list.edge
                    dataOut: ScheduleManagementPI.formData.appointmentLength
            - actionType: builtIn
              funcName: redraw
              viewTag: appointmentTag
            - actionType: builtIn
              funcName: redraw
              viewTag: calenderTableView
            - actionType: builtIn
              funcName: redraw
              viewTag: appointmentLengthTag
        - .Scimage1:
        - .Addbutton:
          children: 
            - .Label1:
              text: 'Add Appointment'
              style: 
                fontSize: '1.6vh'
                top: '0.014'
                left: '0.025'
            - type: image
              path: addwhite.png
              style:
                top: '0.015'
                width: "0.01"
                left: '0.007'
          onClick:
            - actionType: evalObject
              object:
                - ..visitReason.doc.id@: =..formData.providerId
                - ..newAppointment.edge.name.providerName@: =..formData.providerName
                - =..visitReason.docAPI.get: ""
                # - =.builtIn.object.extractArray: 
                #     dataIn: 
                #       obj: =..visitReason.response.doc.0.name.data.reasonForVisit
                #       arr: =..formData.dataStruc
                #     dataOut: ScheduleManagementPI.middleStruc  
                - ..visitReason.document@: =..visitReason.response.doc.0

                - =.builtIn.array.convertToList:
                    dataIn:
                      array: =..visitReason.document.name.data.reasonForVisit
                      key: reason
                    dataOut: ScheduleManagementPI.reasonForVisit
                - =.builtIn.array.getByKey:
                    dataIn:
                      array: =..visitReason.document.name.data.reasonForVisit
                      key1: reason
                      value: =..reasonForVisit.0
                      key2: duration
                    dataOut: ScheduleManagementPI.selectData.duration
                - =.builtIn.string.retainNumber:
                    dataIn:
                      value: =..selectData.duration
                    dataOut: ScheduleManagementPI.formData.duration
                - .ScheduleManagementPI.selectData.reason@: =..reasonForVisit.0
                - .BaseDate.formData.duration@: =.ScheduleManagementPI.formData.duration
                # - .BaseDate.formData.duration@: 10
            - actionType: builtIn
              funcName: redraw
              viewTag: create1
            - actionType: evalObject
              object:
                - if: 
                  - =.builtIn.string.equal:
                      dataIn: 
                        string1: =.Global.auth.scheduleInfo.create
                        string2: true 
                  - actionType: popUp
                    popUpView: create1
                  - actionType: popUp
                    popUpView: scheduleInfoAuthCreate
            
    - type: view
      style: 
        left: "0.18"
        width: "0.22"
        height: "0.83"
        top: "0.149"
        backgroundColor: "0xffffff"
      children: 
        - type: view
          style:
            width: '0.22'
            height: '0.08'
            left: '0'
            marginTop: "0"
            backgroundColor: "0xffffff"
          viewTag: appointmentLengthTag
          children:
            - .Label1:
              text: Appointment Request
              style:
                left: '0.01'
                fontSize: '16'
                top: '0.015'
            - .Label1:
              dataKey: formData.appointmentLength
              style:
                left: '0.01'
                color: '#0063A8'
                top: '0.05'
            - .Label1:
              text: pending request
              style:
                left: '0.02'
                color: '#0063A8'
                fontSize: "14"
                top: '0.05'
        - type: view
          viewTag: locationSelect
          style:
            width: "0.22"
            left: "0"
            height: "0.05"
            marginTop: "0"
            display: none
            isHidden: =..formData.locationHidden
          children:
            - type: label
              text: "Select Location"
              style:
                width: "0.08"
                left: "0.01"
                height: "0.05"
                textAlign:
                  y: center
                fontSize: "12"
            - type: select
              dataKey: requestAddress
              onChange: 
                - actionType: evalObject
                  object:
                    - =.builtIn.array.matchInArray:
                        dataIn:
                          arr: =..locationAll.docResp.doc.0.name.data.allLocation
                          value: =..requestAddress
                          key: medicalFacilityName
                          key1: "id"
                        dataOut: ScheduleManagementPI.requestLocationId
                    - ..appointment.edge.id.1@: =..formData.providerId
                    - ..appointment.edge.id.0@: =..requestLocationId
                    - ..appointment.list.edge@: []
                    - ..appointment.edge.sCondition@: "E2.type=40000 AND E2.subtype in (131073) AND E.type = 40000 AND E.subtype=131074" 
                    - .Global.jwt.edge.bvid@: =..requestLocationId
                    - =.Global.jwt.edgeAPI.store: ""
                    - =..appointment.edgeAPI.get: ""
                    - =.builtIn.array.getListLength:
                        dataIn:
                          object: =..appointment.list.edge
                        dataOut: ScheduleManagementPI.formData.appointmentLength
                - actionType: builtIn
                  funcName: redraw
                  viewTag: appointmentTag
                # - actionType: builtIn
                #   funcName: redraw
                #   viewTag: calenderTableView
                - actionType: builtIn
                  funcName: redraw
                  viewTag: appointmentLengthTag
              options:
                ..addressName
              style:
                width: "0.1"
                left: "0.08"
                height: "0.03"
                top: "0.01"
        - type: scrollView
          viewTag: appointmentTag
          style:
            width: "0.22"
            left: "0"
            marginTop: "0"
            height: "0.75"
            overflow: scroll
            backgroundColor: "0xffffff"
          children:
            - .BaseList:
              # viewTag: appointmentTag
              listObject: ..appointment.list.edge
              style:
                width: '0.22'
                left: '0'
                height: 'auto'
                # top: '0.22'
                top: "0"
                margin: "0"
                # position: fixed
              children:
                - .BaseListItem:
                  style:
                    width: '0.2'
                    left: '0.01'
                    height: '0.16'
                    marginTop: "0.01"
                    display: inline-block
                    backgroundColor: ' #F4F8FA'
                    borderRadius: '10'
                    # overflow: "hidden"
                  children:
                    - .Label1:
                      dataKey: itemObject.name.patientName
                      style:
                        fontSize: '14'
                        fontWeight: '500'
                        left: '0.05'
                        top: '0.02'
                    - .Label1:
                      dataKey: itemObject.name.visitType
                      style:
                        left: '0.05'
                        top: '0.047'
                        color: '#808080'
                    - .Label1:
                      text: 'More Info'
                      onClick: 
                        - emit:
                            dataKey: 
                              var: itemObject
                            actions:
                              - .Global.formData.scheduleManagePatdId@: $var.bvid
                        - goto: ScheduleManagementPI
                      style:
                        left: '0.155'
                        top: '0.02'
                        color: '#1492E6'
                    - type: image
                      path: schedule.png
                      style:
                        width: '0.01'
                        left: '0.05'
                        top: '0.08'
                    - .Label1:
                      text=func: .builtIn.string.formatUnixtimeL_en
                      dataKey: itemObject.stime
                      style:
                        left: '0.065'
                        top: '0.08'
                        color: '#000000'
                    - type: image
                      path: history.png
                      style:
                        width: '0.01'
                        left: '0.117'
                        top: '0.081'
                    - .Label1:
                      text=func: .builtIn.string.formatUnixtimeLT_en
                      dataKey: itemObject.stime
                      style:
                        left: '0.13'
                        top: '0.08'
                        color: '#000000'               
                    - type: button
                      text: 'Approve'
                      onClick:
                        - emit:
                            dataKey: 
                              var: itemObject
                            actions:
                              - ..formData.appointmentInfo@: $var
                              - ..invite.edge.refid@: $var.id
                              - =.builtIn.date.getDurationByMinute:
                                  dataIn:
                                    stime: =..formData.appointmentInfo.stime
                                    etime: =..formData.appointmentInfo.etime
                                  dataOut: ScheduleManagementPI.formData.durationMinutes
                              - =.builtIn.string.concat:
                                  dataIn:
                                    - =..formData.durationMinutes
                                    - " "
                                    - "min"
                                  dataOut: ScheduleManagementPI.formData.durationMinutes
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: Next2
                        - actionType: popUp
                          popUpView: Next2
                      style:
                        fontSize: '13'
                        color: '#8990a1'
                        backgroundColor: '#f4f8fa' 
                        width: '0.06'
                        top: '0.12'
                        borderRadius: '5'
                        left: '0.02'
                    # - type: button
                    #   text: 'Change'
                    #   style:
                    #     fontSize: '13'
                    #     color: '#8990a1'
                    #     backgroundColor: '#f4f8fa'
                    #     width: '0.04'
                    #     top: '0.12'
                    #     borderRadius: '5'
                    #     left: '0.086'
                    - type: button
                      text: 'Deny'
                      onClick:
                        # - actionType: evalObject
                        #   object:
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - emit:
                            dataKey: 
                              var: itemObject
                            actions:
                              # - ..appointment.deleteReq.id@: $var.id
                              # - =..appointment.edgeAPI.delete: ""
                              - .Global.jwt.edge.bvid@: $var.evid
                              - =.Global.jwt.edgeAPI.store: ""
                              - ..denyAppointment.edge@: $var
                              - ..denyAppointment.edge.id@: ""
                              - ..denyAppointment.edge.subtype@: 7
                              - ..denyAppointment.edge.evid@: $var.bvid
                              - ..denyAppointment.edge.bvid@: $var.evid
                              - ..denyAppointment.edge.refid@: $var.id
                              - =..denyAppointment.edgeAPI.store: ""
                              - ..appointment.list.edge@: []
                              - =..appointment.edgeAPI.get: ""
                              - .Global.jwt.edge.bvid@: =.Global.currentUser.vertex.id
                              - =.Global.jwt.edgeAPI.store: ""
                              - =.builtIn.goto:
                                  dataIn:
                                    destination: ScheduleManagementPI
                                    pageReload: true
                        # - actionType: builtIn
                        #   funcName: redraw
                        #   viewTag: appointmentTag


                      style:
                        fontSize: '13'
                        color: '#8990a1'
                        backgroundColor: '#f4f8fa'
                        width: '0.06'
                        top: '0.12'
                        borderRadius: '5'
                        left: '0.12'
                    - type: view
                      style:
                        width: '0.2'
                        height: '0.001'
                        backgroundColor: '#dee2e4'
                        top: '0.11'
                    - type: view
                      style:
                        height: '0.049'
                        width: '0.0005'
                        backgroundColor: '#dee2e4'
                        top: '0.11'
                        left: '0.1'
                    - type: image
                      path: 'Icon awesome-check.png'
                      style: 
                        width: '0.01'
                        top: '0.125'
                        left: '0.02'
                    # - type: image
                    #   path: 'chooseAvatar2.png'
                    #   style: 
                    #     width: '0.01'
                    #     top: '0.125'
                    #     left: '0.076'
                    - type: image
                      path: 'Icon material-close.png'
                      style: 
                        width: '0.01'
                        top: '0.123'
                        left: '0.12'
                    - type: image
                      path: 'Beau McGee.png'
                      style: 
                        width: '0.04'
                        top: '0.01'
                        left: '0.003'

    - type: view
      viewTag: patientInfoView
      style:
        width: '0.55'
        height: '0.83'
        top: '0.15'
        left: '0.41'
        background: "0xffffff"
      children:
        - .InfoTitle:
          dataKey: patdInfo.fullName
        - type: view
          style: 
            top: "0.03"
            left: "0.32"
          children:
            - type: view
              style: 
                top: "0"
              children:
                - type: image
                  style: 
                    top: "0.01"
                    zIndex: "10"
                    left: "0.005"
                    width: "0.01"
                  path: approve.png
                - type: button
                  text: Approve
                  style: 
                    fontFamily: "Poppins"
                    fontSize: "12"
                    color: "#003D68"
                    boxShadow: "0px 0px 1px 1px #1522321a"
                    borderColor: "0xffffff"
                    backgroundColor: "0xffffff"
                    width: "0.080"
                    height: "0.04"
                    borderRadius: "5px"
            - type: view
              style: 
                top: "0"
              children:
                - type: image
                  style: 
                    top: "0.01"
                    zIndex: "10"
                    left: "0.115"
                    width: "0.01"
                  path: Unavailable.png
                - type: button
                  text: Unavailable
                  style: 
                    fontFamily: "Poppins"
                    fontSize: "12"
                    color: "#003D68"
                    boxShadow: "0px 0px 1px 1px #1522321a"
                    borderColor: "0xffffff"
                    backgroundColor: "0xffffff"
                    width: "0.080"
                    height: "0.04"
                    left: "0.11"
                    borderRadius: "5px"
        - type: view
          style:
            width: "0.55"
            top: "0.12"
            height: "0.035"
            left: "0"
          children:
            - type: label
              text: Patient Info
              style:
                fontFamily: "Poppins"
                fontSize: "12"
                color: "#003D68"
                left: "0.05"
                top: "0"     
                width: "0.15"
                height: "0.03" 
                textAlign: 
                  x: center
                border: 
                  style: "2"
                borderWidth: "3"
                borderColor: "#003d68"
            - type: label
              text: Billing
              style:
                fontFamily: "Poppins"
                fontSize: "12"
                color: "#003D68"
                left: "0.2"
                height: "0.03" 
                top: "0"     
                width: "0.15" 
                textAlign: 
                  x: center
            - type: label
              text: Consents
              style:
                fontFamily: "Poppins"
                fontSize: "12"
                color: "#003D68"
                left: "0.35"
                height: "0.03" 
                top: "0"     
                width: "0.15" 
                textAlign: 
                  x: center
        - type: view
          style:
            width: "0.55"
            top: "0.21"
            height: "0.6"
            left: "0"
          children: 
            - type: view
              style: 
                left: "0.03"
                top: '0'
                height: "0.6"
                width: "0.23"
              children: 
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Patient Name:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.fullName
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Address:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.Address.St
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Patient's County of Residence:"
                    - .InfoDataKey: 
                      text: ""
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Email:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.email 
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Occupation:"
                    - .InfoDataKey: 
                      text: "-------"
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Emergency Contact:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.name

            - type: view
              style: 
                left: "0.29"
                top: '0'
                height: "0.6"
                width: "0.23"
              children: 
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Date of Birth:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.birth 
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "City, State, Zip code:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.regionCode
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Phone Number:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.phone1    
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Employer:"
                    - .InfoDataKey: 
                      text: none
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Relation:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.relation
                - .InfoView:
                  children: 
                    - .InfoLabel: 
                      text: "Emergency's Contact Phone Number:"
                    - .InfoDataKey: 
                      dataKey: patdInfo.phone2 
        - type: button
          text: Close
          style:
            backgroundColor: "#005795"
            color: "0xffffff"
            top: "0.75"
            left: "0.43"
            width: "0.1"
            height: "0.05"
            border:
              style: "5"
            borderRadius: "5px"
            fontFamily: "Avenir"
            fontSize: "1.6vh"
          onClick: 
            - actionType: builtIn
              funcName: goBack
              reload: true      
    - .BasePopUp:
      viewTag: Create
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Create
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - type: label
              text: Complete fields below
              style:
                left: '0.04'
                top: '0.01'
                fontSize: '14'
                color: '#517086'
            - type: label
              text: Provider
              style:
                left: '0.08'
                top: '0.07'
                fontSize: '13'
            - .TextField1:
              style:
                width: '0.24'
                left: '0.08'
                top: '0.1'
                fontSize: '13'
            - type: label
              text: Appointment Type
              style:
                left: '0.08'
                top: '0.18'
                fontSize: '13'
            - type: label
              text: Gary Chen, MD
              style:
                left: '0.088'
                top: '0.11'
                fontSize: '13'
            - type: select
              options:
                - Select
                - Office Visit
                - Virtual Care
              style:
                left: '0.08'
                top: '0.21'
                fontSize: '13'
                borderColor: "#EAEAEA" 
                width: '0.245'
                height: '0.046'
                textIndent: 10px
            - .Scimage1:         
              style:
                left: '0.30'
                top: '0.21'
                height: '0.046'
            - type: image
              path: redstar.png
              style:
                width: '0.01'
                left: '0.17'
                top: '0.175'
            - type: label
              text: Reason for Visit
              style:
                left: '0.08'
                top: '0.29'
                fontSize: '13'
            - .TextField1:
              placeholder: 'Enter Here'
              style:
                width: '0.24'
                left: '0.08'
                top: '0.32'
                fontSize: '13'
            - type: label
              text: Invite Participant's
              style:
                left: '0.08'
                top: '0.4'
                fontSize: '13'          
            - .TextField1:
              style:
                width: '0.24'
                left: '0.08'
                top: '0.43'
                fontSize: '13'
            - type: label
              text: Invite
              style:
                color: '#1492E6'
                left: '0.29'
                top: '0.44'
                fontSize: '13'    
            - type: label
              text: January 12, 2021 9:15am
              style:
                color: '#0063A8'
                left: '0.21'
                top: '0.5'
                fontSize: '15'
            - type: label
              text: Date & Time Selected
              style:
                color: 'black'
                left: '0.08'
                top: '0.5'
                fontSize: '14'
            - .BottomButton:
              text: 'Next'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Create
   
      # children:  
    - .BasePopUp:
      viewTag: AddAppointment
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: AddAppointment
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - type: label
              text: Complete fields below
              style:
                left: '0.04'
                top: '0.01'
                fontSize: '14'
                color: '#517086'
            - type: label
              text: Select Provider
              style:
                left: '0.08'
                top: '0.08'
                fontSize: '13'
            - .TextField1:
              placeholder: 'Enter Here'
              style:
                width: '0.24'
                left: '0.08'
                top: '0.31'
                fontSize: '13'
            - .TimeSelect: 
              options:
                - select
                - Eiliyah Golden, MD
                - Gary Chen, MD
                - Beau McGee, MD
              style:
                width: '0.24'
                left: '0.08'
                top: '0.11'
                fontSize: '13'
                textIndent: 10px
            - .Scimage1:         
              style:
                left: '0.30'
                top: '0.11'
                height: '0.046'
            - type: label
              text: Appointment Type
              style:
                left: '0.08'
                top: '0.18'
                fontSize: '13'
            - type: label
              text: Choose a Date
              style:
                left: '0.08'
                top: '0.38'
                fontSize: '13'
            - type: label
              text: Reason for Visit
              style:
                left: '0.08'
                top: '0.28'
                fontSize: '13'
            - .TimeSelect: 
              options:
                - select
                - Office Visit
                - Virtual Care
              style:
                width: '0.24'
                left: '0.08'
                top: '0.21'
                fontSize: '13'
                textIndent: 10px
            - .Scimage1:         
              style:
                left: '0.30'
                top: '0.21'
                height: '0.046'
            - type: image
              path: redstar.png
              style:
                width: '0.01'
                left: '0.155'
                top: '0.083'
            - type: image
              path: redstar.png
              style:
                width: '0.01'
                left: '0.17'
                top: '0.183'
            - type: image
              path: redstar.png
              style:
                width: '0.01'
                left: '0.155'
                top: '0.383'
            - .BottomButton:
              text: 'Next'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Next1
                - actionType: popUpDismiss
                  popUpView: AddAppointment
    - .BasePopUp:
      viewTag: Next1
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Next1
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - type: label
              text: Complete fields below
              style:
                left: '0.04'
                top: '0.01'
                fontSize: '14'
                color: '#517086' 
            - type: label
              text: Provider
              style:
                left: '0.08'
                top: '0.07'
                fontSize: '13'
            - .TextField1:
              style:
                width: '0.24'
                left: '0.08'
                top: '0.1'
                fontSize: '13'
            - type: label
              text: Appointment Type
              style:
                left: '0.08'
                top: '0.18'
                fontSize: '13'
            - type: label
              text: Gary Chen, MD
              style:
                left: '0.088'
                top: '0.11'
                fontSize: '13'
            
            - .TextField1:
              style:
                width: '0.24'
                left: '0.08'
                top: '0.21'
                fontSize: '13'
            - type: label
              text: Virtual Care
              style:
                left: '0.088'
                top: '0.22'
                fontSize: '13'              
            - .TextField1:
              placeholder: 'Enter Here'
              style:
                width: '0.24'
                left: '0.08'
                top: '0.32'
                fontSize: '13'
            - type: label
              text: Reason for Visit
              style:
                left: '0.08'
                top: '0.29'
                fontSize: '13'
            - type: label
              text: Invite Participant's
              style:
                left: '0.08'
                top: '0.4'
                fontSize: '13'          
            - .TextField1:
              style:
                width: '0.24'
                left: '0.08'
                top: '0.43'
                fontSize: '13'
            - type: label
              text: Invite
              style:
                color: '#1492E6'
                left: '0.29'
                top: '0.44'
                fontSize: '13'
            - type: label
              text: January 12, 2021 at 9:00am
              style:
                color: '#0063A8'
                left: '0.18'
                top: '0.5'
                fontSize: '15'
            - type: label
              text: Date Selected
              style:
                color: 'black'
                left: '0.08'
                top: '0.5'
                fontSize: '14'
            - .BottomButton:
              text: 'Next'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#DDDDDD'
                color: '#737373'
              onClick:
                - actionType: popUp
                  popUpView: Next2
                - actionType: popUpDismiss
                  popUpView: Next1
            - .BottomButton:
              text: 'Back'
              style:
                left: '0.03'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: AddApponintment
                - actionType: popUpDismiss
                  popUpView: Next1
    - .BasePopUp:
      viewTag: Next2
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
              text: 'Appointment Details'
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Next2
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - type: label
              text: Success!
              style:
                width: '0.4'
                textAlign:
                  x: center
                # left: '0.04'
                top: '0.05'
                fontSize: '18'
            - type: image
              path: Flat.jpg
              style:
                width: '0.09'
                left: '0.14'
                top: '0.14'
            - type: label
              textBoard: 
                - text: 'Provider:'
                - br:
                - text: 'Appointment Type:'
                - br:
                - text: 'Reason for Visit:'
                - br:
                - text: 'Appointment Date:'
                - br: 
                - text: 'Appointment Time:'
                - br:
                - text: 'Participants:'
                - br:
                - text: 'Patient need to complete intake forms'
              style:
                left: '0.08'
                top: '0.37'
                lineHeight: '2'
            - type: label
              textBoard: 
                - text: 'Gary Chen, MD'
              style:
                left: '0.132'
                top: '0.38'
                fontWeight: '500'
            - type: label
              text: 'Virtual Care'
              style:
                left: '0.192'
                top: '0.427'
                fontWeight: '500'
            - type: label
              text: ' January 12, 2021'
              style:
                left: '0.19'
                top: '0.524'
                fontWeight: '500'
            - type: label
              text: '9:00am'
              style:
                left: '0.192'
                top: '0.573'
                fontWeight: '500'
            - type: label
              text: 'Elizabeth Del Rio, Gary Chen, MD'
              style:
                left: '0.15'
                top: '0.62'
                fontWeight: '500'
            - .BottomButton:
              text: 'Next'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#DDDDDD'
                color: '#737373'
              onClick:
                - actionType: popUpDismiss
                  popUpView: Next2
            - .BottomButton:
              text: 'Back'
              style:
                left: '0.03'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Next1
                - actionType: popUpDismiss
                  popUpView: Next2
    - .BasePopUp:
      viewTag: Recents
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
              text: 'Invite'
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Recents      
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - .BaseList:
              listObject: ..Recents
              style:
                width: '0.4'
                height: '0.35'  
                top: '0.06'   
                left: '0'
                display: flex
                # backgroundColor: 'red'
                borderBottom: '1px solid #f3f3f3'
              children:
                - .BaseListItem:
                  style:
                    height: '0.05'
                    width: '0.4'
                    display: inline-block
                    # backgroundColor: 'blue'
                  children:
                    - .Label1:
                      dataKey: 'itemObject.key'
                      style: 
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.08'
                        fontSize: '13'
                    - .Label1:
                      dataKey: 'itemObject.time'
                      style:  
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.29'
                        fontSize: '13'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Favorites
              text: Contacts
              style:
                top: '0.03'
                width: '0.1'
                left: '0.08'
                opacity: '0.5'
            - .Recentsbutton:
              text: Recents
              onClick:
                - actionType: popUp
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Favorites
              style:
                top: '0.03'
                left: '0.16'
            - type: view
              style: 
                backgroundColor: '#003D68'
                width: '0.06'
                height: '0.003'
                left: '0.17'
                top: '0.07'
            - .Recentsbutton:
              text: Favorites 
              onClick:
                - actionType: popUp
                  popUpView: Favorites
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
              style:
                top: '0.03'
                left: '0.24'
                opacity: '0.5'
            - .Label1:
              text: 'First Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.47'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.5'
                fontSize: '13'
            - .Label1:
              text: 'Last Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.57'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.6'
                fontSize: '13' 
            - .Label1:
              text: 'Phone Number'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.67'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.7'
                fontSize: '13'  
            - .BottomButton:
              text: 'Invite'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Next2
                - actionType: popUpDismiss
                  popUpView: Recents
            - .BottomButton:
              text: 'Back'
              style:
                left: '0.03'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
    - .BasePopUp:
      viewTag: Favorites
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
              text: 'Invite'
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Favorites     
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - .BaseList:
              listObject: ..Favorites
              style:
                width: '0.4'
                height: '0.35'  
                top: '0.06'   
                left: '0'
                display: flex
                # backgroundColor: 'red'
                borderBottom: '1px solid #f3f3f3'
              children:
                - .BaseListItem:
                  style:
                    height: '0.05'
                    width: '0.4'
                    display: inline-block
                    # backgroundColor: 'blue'
                  children:
                    - .Label1:
                      dataKey: 'itemObject.key'
                      style: 
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.08'
                        fontSize: '13'
                    - .Label1:
                      dataKey: 'itemObject.time'
                      style:  
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.29'
                        fontSize: '13' 
                    - type: image
                      path: star.png
                      style:
                        left: '0.055'
                        top: '0.01'
                        height: '0.03'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Favorites
              text: Contacts
              style:
                top: '0.03'
                width: '0.1'
                left: '0.08'
                opacity: '0.5'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Favorites
              text: Recents
              style:
                top: '0.03'
                left: '0.16'
                opacity: '0.5'
            - type: view
              style: 
                backgroundColor: '#003D68'
                width: '0.06'
                height: '0.003'
                left: '0.25'
                top: '0.07'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Favorites
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
              text: Favorites 
              style:
                top: '0.03'
                left: '0.24'
                # opacity: '0.5'
            - .Label1:
              text: 'First Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.47'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.5'
                fontSize: '13'
            - .Label1:
              text: 'Last Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.57'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.6'
                fontSize: '13' 
            - .Label1:
              text: 'Phone Number'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.67'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.7'
                fontSize: '13'  
            - .BottomButton:
              text: 'Invite'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Next2
                - actionType: popUpDismiss
                  popUpView: Favorites
            - .BottomButton:
              text: 'Back'
              style:
                left: '0.03'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'       
    - .BasePopUp:
      viewTag: Contacts
      children:
        - .PopUphead:
          children:
            - .CreateLabel:
              text: 'Invite'
            - .Closebutton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: Contacts     
        - type: view
          style:
            height: '0.91'
            width: '0.4'
            top: '0.08'
            backgroundColor: '0xffffff'
          children:
            - .BaseList:
              listObject: ..Contacts
              style:
                width: '0.4'
                height: '0.35'  
                top: '0.06'   
                left: '0'
                display: flex
                # backgroundColor: 'red'
                borderBottom: '1px solid #f3f3f3'
              children:
                - .BaseListItem:
                  style:
                    height: '0.05'
                    width: '0.4'
                    display: inline-block
                    # backgroundColor: 'blue'
                  children:
                    - .Label1:
                      dataKey: 'itemObject.key'
                      style: 
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.08'
                        fontSize: '13'
                    - .Label1:
                      dataKey: 'itemObject.time'
                      style:  
                        height: '0.05'
                        textAlign:
                          y: center
                        left: '0.29'
                        fontSize: '13' 
                    - type: image
                      path:
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if: 
                              - true
                              - $var.path
                              - $var.path
                      style:
                        left: '0.055'
                        top: '0.01'
                        height: '0.03'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Favorites
              text: Contacts
              style:
                top: '0.03'
                width: '0.1'
                left: '0.08'
                # opacity: '0.5'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
                - actionType: popUpDismiss
                  popUpView: Favorites
              text: Recents
              style:
                top: '0.03'
                left: '0.16'
                opacity: '0.5'
            - type: view
              style: 
                backgroundColor: '#003D68'
                width: '0.06'
                height: '0.003'
                left: '0.1'
                top: '0.07'
            - .Recentsbutton:
              onClick:
                - actionType: popUp
                  popUpView: Favorites
                - actionType: popUpDismiss
                  popUpView: Recents
                - actionType: popUpDismiss
                  popUpView: Contacts
              text: Favorites 
              style:
                top: '0.03'
                left: '0.24'
                opacity: '0.5'
            - .Label1:
              text: 'First Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.47'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.5'
                fontSize: '13'
            - .Label1:
              text: 'Last Name'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.57'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.6'
                fontSize: '13' 
            - .Label1:
              text: 'Phone Number'
              style:
                fontSize: '13'
                left: '0.1'
                top: '0.67'
            - .TextField1:
              placeholder: 'Enter Here' 
              style:
                width: '0.2'
                left: '0.1'
                top: '0.7'
                fontSize: '13'  
            - .BottomButton:
              text: 'Invite'
              style:
                left: '0.28'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'
              onClick:
                - actionType: popUp
                  popUpView: Next2
                - actionType: popUpDismiss
                  popUpView: Contacts
            - .BottomButton:
              text: 'Back'
              style:
                left: '0.03'
                top: '0.8'
                backgroundColor: '#005795'
                color: '0xffffff'                
