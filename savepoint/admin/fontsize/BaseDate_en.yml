BaseDate:
    # calendarDate:
      # minidayLable: []
    showAllSplitTime:
      morning: []
      afternoon: []
    schedule:
      response: ""
      scheduleList: ""
      get:
        api: re
        dataIn: BaseDate.schedule.edge
        dataOut: BaseDate.schedule.scheduleList
      edge:
        type: 40000
        id: ""
          # - .Global.currentUser.vertex.id
        sCondition: =.Global.scheduleScondition
        xfname: "evid"
        maxcount: "10000"
        obfname: "ctime"
        asc: true
        _nonce: =.Global._nonce
    getDate:
      - actionType: evalObject
        object:
          .BaseDate.calendarDate.year@:
            =.builtIn.date.getYear: ""
      - actionType: evalObject
        object:
          .BaseDate.calendarDate.month@:
            =.builtIn.date.getMonth: ""
      - actionType: evalObject
        object:
          .BaseDate.calendarDate.day@:
            =.builtIn.date.getDate: ""
      - =.builtIn.date.calendarArray:
            dataIn:
              year: =.BaseDate.calendarDate.year
              month: =.BaseDate.calendarDate.month
              today: =.BaseDate.calendarDate.day
            dataOut: BaseDate.calendarDate.dayLable
      - =.builtIn.date.miniWeeklyCalendarArray:
          dataIn:
            year: =.BaseDate.calendarDate.year
            month: =.BaseDate.calendarDate.month
            today: =.BaseDate.calendarDate.day
            markDay: =.BaseDate.calendarDate.day
            color: "0x000000"
            backgroundColor: "0xFFFFFF6f"
            todayColor: "0xffffff"
            todayBackgroundColor: "0x2988E6"
          dataOut: BaseDate.calendarDate.minidayLable
      - =.builtIn.date.transformMonth:
          dataIn:
            month: =.BaseDate.calendarDate.month
          dataOut: BaseDate.calendarDate.monthName
      - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.BaseDate.calendarDate.year
              month: =.BaseDate.calendarDate.month
              day: =.BaseDate.calendarDate.day
              formatType: "Y-M-D"
            dataOut: BaseDate.calendarDate.todayDate
    calendar:
      type: view
      viewTag: calendarTag
      style:
        width: "0.24"
        left: "0"
        top: "0"
        backgroundColor: "0xffffff"
        # backgroundColor: "0x2988e6"
        height: "0.4"
        border: 
          style: "3"
        borderWidth: "1"
        borderColor: "#d0d9df"
        borderRadius: "5"
    calendarHeader:
      type: view
      style:
        top: "0"
        left: "0"
        width: "0.24"
        height: "0.05"
    monthView:
      type: view
      style:
        top: "0"
        left: "0.04"
        width: "0.06"
        height: "0.05"
      children:
        - type: image
          path: blueright.png
          onClick:
            - emit:
                actions:
                  - =.builtIn.date.loopMonth:
                      dataIn:
                        month: =.BaseDate.calendarDate.month
                        step: -1
                      dataOut: BaseDate.calendarDate.month
                  - =.builtIn.date.transformMonth:
                      dataIn:
                        month: =.BaseDate.calendarDate.month
                      dataOut: BaseDate.calendarDate.monthName
                  - =.builtIn.date.calendarArray:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: =.BaseDate.calendarDate.month
                        today: 1
                      dataOut: BaseDate.calendarDate.dayLable
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
          style:
            height: "0.015"
            top: "0.0175"
        - type: label
          dataKey: BaseDate.calendarDate.monthName
          style:
            width: "0.02"
            height: "0.02"
            left: "0.019"
            top: "0.01"
            fontSize: "16"
            color: "0x003254"
            textAlign:
              x: center
        - type: image
          path: blueleft.png
          onClick:
            - emit:
                actions:
                  - =.builtIn.date.loopMonth:
                      dataIn:
                        month: =.BaseDate.calendarDate.month
                        step: 1
                      dataOut: BaseDate.calendarDate.month
                  - =.builtIn.date.transformMonth:
                      dataIn:
                        month: =.BaseDate.calendarDate.month
                      dataOut: BaseDate.calendarDate.monthName
                  - =.builtIn.date.calendarArray:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: =.BaseDate.calendarDate.month
                        today: 1
                      dataOut: BaseDate.calendarDate.dayLable             
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
          style:
            left: "0.055"
            height: "0.015"
            top: "0.0175"
    yearView:
      type: view
      style:
        top: "0"
        left: "0.14"
        width: "0.06"
        height: "0.05"
      children:
        - type: image
          path: blueright.png
          onClick:
            - emit:
                actions:
                  - =.builtIn.number.Subtraction:
                      dataIn:
                        num: =.BaseDate.calendarDate.year
                        step: 1
                      dataOut: BaseDate.calendarDate.year
                  - =.builtIn.date.calendarArray:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: 1
                        today: 1
                      dataOut: BaseDate.calendarDate.dayLable
            - actionType: evalObject
              object: 
                - .BaseDate.calendarDate.month@: 1
            - actionType: evalObject
              object:
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
            
          style:
            height: "0.015"
            top: "0.0175"
        - type: label
          dataKey: BaseDate.calendarDate.year
          style:
            width: "0.02"
            height: "0.02"
            left: "0.019"
            top: "0.01"
            fontSize: "16"
            color: "0x003254"
            textAlign:
              x: center
        - type: image
          path: blueleft.png
          onClick:
            - emit:
                actions:
                  - =.builtIn.number.addition:
                      dataIn:
                        num: =.BaseDate.calendarDate.year
                        step: 1
                      dataOut: BaseDate.calendarDate.year
                  - =.builtIn.date.calendarArray:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: 1
                        today: 1
                      dataOut: BaseDate.calendarDate.dayLable
            - actionType: evalObject
              object: 
                .BaseDate.calendarDate.month@: 1
            - actionType: evalObject
              object:
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
          style:
            left: "0.055"
            height: "0.015"
            top: "0.0175"
    weekView:
      type: list
      contentType: listObject
      listObject: 
        - key: SU
        - key: MO
        - key: TU
        - key: WE
        - key: TH
        - key: FR
        - key: SA
      iteratorVar: itemObject
      style:
        top: "0.05"
        width: "0.21"
        left: "0.015"
        height: "0.05"
        justifyContent: "space-between"
      children:
        - type: listItem
          itemObject: ""
          style:
            width: "0.03"
            height: "0.05"
            boxSizing: "border-box"
            border: "none"
            padding: "0"
            display: "inline-block"
          children:
            - type: label 
              dataKey: itemObject.key
              style:
                color: "0x003254"
                width: "0.03"
                height: "0.05"
                fontSize: "14"
                # backgroundColor: "0xffffff"
                textAlign:
                  x: center
    dayView:
      type: list
      contentType: listObject
      listObject: =.BaseDate.calendarDate.dayLable
      iteratorVar: itemObject
      style:
        top: "0.07"
        left: "0.015"
        width: "0.21"
        # height: "auto"
        # justifyContent: "space-between"
      children:
        - type: listItem
          itemObject: ""
          onClick:
            - emit:
                dataKey:
                  var: itemObject
                actions:
                  - .BaseDate.flag@: $var.key
                  - if:
                    - =.BaseDate.flag
                    - .BaseDate.calendarDate.day@: $var.key
                    - continue
                  - =.builtIn.date.calendarArray:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: =.BaseDate.calendarDate.month
                        today: =.BaseDate.calendarDate.day
                      dataOut: BaseDate.calendarDate.dayLable
                  - =.builtIn.date.ShowDateByNumber:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: =.BaseDate.calendarDate.month
                        day: =.BaseDate.calendarDate.day
                        formatType: "Y-M-D"
                      dataOut: BaseDate.calendarDate.todayDate
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
          style:
            width: "0.03"
            height: "0.02"
            # boxSizing: "border-box"
            # border: "none"
            padding: "0"
            margin: "0"
            display: "inline-block"
            # flex: "auto"
            marginTop: "0.02"
          children:
            - type: label
              dataKey: itemObject.key
              style:
                top: "0"
                left: "0.0065"
                width: "0.017"
                height: "0.03"
                color: itemObject.color
                backgroundColor: itemObject.backgroundColor
                borderRadius: "50"
                fontSize: "18"
                textAlign:
                  x: center
                  y: center
    leftWeek:
      type: view
      style:
        top: "0.08"
        # left: "0.5"
        # left: "0.1"
        width: "0.02"
        height: "0.08"
      children:
        - type: image
          path: blueright.png
          onClick:
            - emit:
                actions:
                    - =.builtIn.date.LastWeek:
                        dataIn:
                          year: =.BaseDate.calendarDate.minidayLable.0.year
                          month: =.BaseDate.calendarDate.minidayLable.0.month
                          day: =.BaseDate.calendarDate.minidayLable.0.day
                        dataOut: BaseDate.calendarDate.tempDate
                    - =.builtIn.date.miniWeeklyCalendarArray:
                        dataIn:
                          year: =.BaseDate.calendarDate.tempDate.year
                          month: =.BaseDate.calendarDate.tempDate.month
                          today: 32
                          markDay: =.BaseDate.calendarDate.tempDate.day
                          color: "0x000000"
                          backgroundColor: "0xFFFFFF6f"
                          todayColor: "0xffffff"
                          todayBackgroundColor: "0x2988E6"
                        dataOut: BaseDate.calendarDate.minidayLable
            - actionType: evalObject
              object:
                - .BaseDate.calendarDate.year@: =.BaseDate.calendarDate.tempDate.year
                - .BaseDate.calendarDate.month@: =.BaseDate.calendarDate.tempDate.month
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
          style:
            top: "0.02"
            height: "0.015"
    nextWeek:
      type: view
      style:
        top: "0.03"
        left: "0.23"
        width: "0.02"
        # height: "0.08"
      children:
        - type: image
          path: blueleft.png
          style:
            top: "0.07"
            # left: "0.1"
            height: "0.015"
          onClick:
            - emit:
                actions:
                  - =.builtIn.date.NextWeek:
                        dataIn:
                          year: =.BaseDate.calendarDate.minidayLable.6.year
                          month: =.BaseDate.calendarDate.minidayLable.6.month
                          day: =.BaseDate.calendarDate.minidayLable.6.day
                        dataOut: BaseDate.calendarDate.tempDate
                  - =.builtIn.date.miniWeeklyCalendarArray:
                        dataIn:
                          year: =.BaseDate.calendarDate.tempDate.year
                          month: =.BaseDate.calendarDate.tempDate.month
                          today: 32
                          markDay: =.BaseDate.calendarDate.tempDate.day
                          color: "0x000000"
                          backgroundColor: "0xFFFFFF6f"
                          todayColor: "0xffffff"
                          todayBackgroundColor: "0x2988E6"
                        dataOut: BaseDate.calendarDate.minidayLable
            - actionType: evalObject
              object:
                - .BaseDate.calendarDate.year@: =.BaseDate.calendarDate.tempDate.year
                - .BaseDate.calendarDate.month@: =.BaseDate.calendarDate.tempDate.month
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
    minidayView:
      type: list
      contentType: listObject
      listObject: =.BaseDate.calendarDate.minidayLable
      iteratorVar: itemObject
      style:
        top: "0.06"
        left: "0.015"
        width: "0.21"
        # height: "auto"
        # justifyContent: "space-between"
      children:
        - type: listItem
          itemObject: ""
          onClick:
            - emit:
                dataKey:
                  var: itemObject
                actions:
                  - =.builtIn.date.miniWeeklyCalendarArray:
                      dataIn:
                        year: $var.year
                        month: $var.month
                        today: $var.day
                        markDay: $var.day
                        color: "0x000000"
                        backgroundColor: "0xFFFFFF6f"
                        todayColor: "0xffffff"
                        todayBackgroundColor: "0x2988E6"
                      dataOut: BaseDate.calendarDate.minidayLable
                  - .BaseDate.calendarDate.year@: $var.year
                  - .BaseDate.calendarDate.month@: $var.month
                  - .BaseDate.calendarDate.day@: $var.day
                  - =.builtIn.date.ShowDateByNumber:
                      dataIn:
                        year: =.BaseDate.calendarDate.year
                        month: =.BaseDate.calendarDate.month
                        day: =.BaseDate.calendarDate.day
                        formatType: "Y-M-D"
                      dataOut: BaseDate.calendarDate.todayDate
                  - .BaseDate.showAllSplitTime.morning@: []
                  - .BaseDate.showAllSplitTime.afternoon@: []
                  - =.builtIn.date.transformMonth:
                      dataIn:
                        month: =.BaseDate.calendarDate.month
                      dataOut: BaseDate.calendarDate.monthName
                  - =.builtIn.date.getTimeStampOfDate:
                      dataIn:
                        date: =.BaseDate.calendarDate.todayDate
                      dataOut: BaseDate.calendarDate.todayStamp
                  - =.builtIn.string.concat:
                      dataIn:
                        - "(stime<"
                        - =.BaseDate.calendarDate.todayStamp.start
                        - " AND "
                        - "etime>"
                        - =.BaseDate.calendarDate.todayStamp.start
                        - " OR "
                        - "stime>"
                        - =.BaseDate.calendarDate.todayStamp.start
                        - " AND "
                        - "etime<"
                        - =.BaseDate.calendarDate.todayStamp.end
                        - " OR "
                        - "stime<"
                        - =.BaseDate.calendarDate.todayStamp.end
                        - " AND "
                        - "etime>"
                        - =.BaseDate.calendarDate.todayStamp.end
                        - ")"
                        - " AND "
                        - "subtype="
                        - =.Global.currentSubtype
                        # - " AND "
                        # - "name like '%"
                        # - =..selectData.reason
                        # - "%'"
                      dataOut: Global.scheduleScondition
                  # - =.builtIn.string.concat:
                  #     dataIn:
                  #       - "stime>"
                  #       - =.BaseDate.calendarDate.todayStamp.start
                  #       - " AND "
                  #       - "etime<"
                  #       - =.BaseDate.calendarDate.todayStamp.end
                  #       - " AND "
                  #       - "subtype="
                  #       - =.Global.currentSubtype
                  #     dataOut: Global.scheduleScondition
            - actionType: evalObject
              object:
                - .BaseDate.schedule.scheduleList.edge@: []
            - actionType: evalObject
              object: 
                .Global._nonce@: 
                  =.builtIn.math.random: ""
            - actionType: evalObject
              object:
                - =..schedule.get: ""
            - actionType: evalObject
              object:           
                - =.builtIn.date.splitTime:
                    dataIn:
                      object2: =..schedule.scheduleList.edge
                      timeSlot: =..formData.duration
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      day: =.BaseDate.calendarDate.day
                    dataOut: BaseDate.splitTime 
            - actionType: builtIn
              funcName: redraw
              viewTag: calendarTag
            - actionType: builtIn
              funcName: redraw
              viewTag: DataTag
            - actionType: builtIn
              funcName: redraw
              viewTag: splitTimeTag
          style:
            width: "0.03"
            height: "0.02"
            # boxSizing: "border-box"
            # border: "none"
            padding: "0"
            margin: "0"
            display: "inline-block"
            # flex: "auto"
            marginTop: "0.02"
          children:
            - type: label
              dataKey: itemObject.day
              style:
                top: "0"
                left: "0.0065"
                width: "0.017"
                height: "0.03"
                color: itemObject.color
                backgroundColor: itemObject.backgroundColor
                borderRadius: "50"
                fontSize: "18"
                textAlign:
                  x: center
                  y: center
    addButton:
      type: button
      text: Add
      style:
        top: "0.34"
        borderWidth: "0"
        width: "0.05"
        left: "0.17"
        fontWeight: "500"
        color: "0xffffff"
        height: "0.04"
        backgroundColor: "0x2988e6"
        borderRadius: "5"