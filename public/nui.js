var xl=(B,ct,Ot)=>new Promise((c,b)=>{var zt=Le=>{try{ut(Ot.next(Le))}catch(qt){b(qt)}},Ti=Le=>{try{ut(Ot.throw(Le))}catch(qt){b(qt)}},ut=Le=>Le.done?c(Le.value):Promise.resolve(Le.value).then(zt,Ti);ut((Ot=Ot.apply(B,ct)).next())});var nui=function(B){"use strict";var ct=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ot(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var c={exports:{}};(function(e,t){(function(r,i){i(t)})(ct,function(r){var i="<unknown>";function n(y){return y.split(`
`).reduce((K,Y)=>{const Pe=l(Y)||u(Y)||E(Y)||v(Y)||d(Y);return Pe&&K.push(Pe),K},[])}var a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/;function l(y){const O=a.exec(y);if(!O)return null;const K=O[2]&&O[2].indexOf("native")===0,Y=O[2]&&O[2].indexOf("eval")===0,Pe=s.exec(O[2]);return Y&&Pe!=null&&(O[2]=Pe[1],O[3]=Pe[2],O[4]=Pe[3]),{file:K?null:O[2],methodName:O[1]||i,arguments:K?[O[2]]:[],lineNumber:O[3]?+O[3]:null,column:O[4]?+O[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function u(y){const O=o.exec(y);return O?{file:O[2],methodName:O[1]||i,arguments:[],lineNumber:+O[3],column:O[4]?+O[4]:null}:null}var p=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,T=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function E(y){const O=p.exec(y);if(!O)return null;const K=O[3]&&O[3].indexOf(" > eval")>-1,Y=T.exec(O[3]);return K&&Y!=null&&(O[3]=Y[1],O[4]=Y[2],O[5]=null),{file:O[3],methodName:O[1]||i,arguments:O[2]?O[2].split(","):[],lineNumber:O[4]?+O[4]:null,column:O[5]?+O[5]:null}}var x=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function d(y){const O=x.exec(y);return O?{file:O[3],methodName:O[1]||i,arguments:[],lineNumber:+O[4],column:O[5]?+O[5]:null}:null}var f=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function v(y){const O=f.exec(y);return O?{file:O[2],methodName:O[1]||i,arguments:[],lineNumber:+O[3],column:O[4]?+O[4]:null}:null}var h=n,g="----------------------------------------------------------";function m(y){return z(y)?y:[y]}function P(y,O){m(y).forEach(O)}function C(y,...O){return Object.assign(y,...O)}function I(...y){function O(...K){y.forEach(Y=>Y==null?void 0:Y(...K))}return O}function L(y){return y.length=0,y}function _(y){return z(y)?Sl(O=>N(O)?_(O):O,y):N(y)?Si(oa(y),(O,K)=>(N(y[K])?O[K]=_(y[K]):O[K]=y[K],O),{}):y}function A(...y){return function(O){return y.reduceRight((K,Y)=>K(Y(O)),K=>K)}}function F(y){return new Map([...G(y)])}function G(y){return N(y)?Object.entries(y):[]}function k(y,O){if(y){let K=!1;if(y instanceof Map){for(const[Y,Pe]of y)if(O(Y,Pe,()=>K=!0),K)break}else if(N(y)){for(const[Y,Pe]of G(y))if(O(Y,Pe,()=>K=!0),K)break}}}function W(y,O){return O.filter(y)}function w(y,O){O.forEach(y)}function U(y,...O){return xl(this,null,function*(){try{const K=yield y(...O);return[null,K]}catch(K){return[K instanceof Error?K:new Error(String(K)),void 0]}})}function j(){return typeof window!="undefined"&&typeof window.document!="undefined"}function R(){return typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null}function S(y){return N(y)&&"then"in y}function D(){return typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"}function z(y){return Array.isArray(y)}function le(y){return typeof y=="boolean"}function ne(y){return N(y)&&y instanceof Map}function N(y){return!!y&&!z(y)&&typeof y=="object"}function X(y){return typeof y=="number"}function ee(y){return N(y)&&y instanceof Set}function ae(y){return typeof y=="string"}function $e(y){return typeof y=="undefined"}function wl(y){return y===null}function eS(y){return wl(y)||$e(y)}function tS(y){return typeof y=="function"}function oa(y){return N(y)?Object.keys(y):[]}function Sl(y,O){return O.map(y)}function rS(y,O){return Si(oa(y),(K,Y)=>(O.includes(Y)||(K[Y]=y[Y]),K),{})}function iS(y){let[O,K]=y.split(",");const Y=O.split(";")[0].split(":")[1],Pe=Y.substring(Y.indexOf("/")+1);return{base64:K,ext:Pe,mimeType:Y}}function nS(y,O=""){console.time(O),y(),console.timeEnd(O)}function aS(y,O){return Si(m(O),(K,Y,Pe,PS)=>(PS.includes(Y)&&(K[Y]=y[Y]),K),{})}function Si(y,O,K){return y.reduce(O,K)}function sS(y){function O(K){return y(...K)}return O}function oS(y,O){if(y===O)return!0;if(y.length!==O.length)return!1;for(let K=0,Y=y.length;K<Y;K++)if(y[K]!==O[K])return!1;return!0}function lS(y){return Object.values(y)}function cS(y=""){return y.replace(/\\/g,"/")}var uS="[0m",qe=y=>O=>`[${y}m${O}${uS}`,Tl=console.log,fS=()=>Tl(""),dS=qe(1),hS=qe(34),El=qe(36),_S=qe(32),pS=qe(3),vS=qe(35),gS=qe(31),yS=qe(37),bS=(y,O=El)=>`[${(O==null?void 0:O(y))||y}]`,mS=qe(33);function $S(y){y instanceof Error||(y=new Error(String(y))),console.log(`[${y.name||"Error"}] ${y.message}`,y.stack)}r.array=m,r.arrayEach=P,r.assign=C,r.blue=hS,r.bold=dS,r.callAll=I,r.clearArr=L,r.cloneDeep=_,r.compose=A,r.createMap=F,r.cyan=El,r.divider=g,r.eachEntries=k,r.entries=G,r.filter=W,r.forEach=w,r.green=_S,r.handleAsync=U,r.isArr=z,r.isBool=le,r.isBrowser=j,r.isFnc=tS,r.isMap=ne,r.isNil=eS,r.isNode=R,r.isNull=wl,r.isNum=X,r.isObj=N,r.isPromise=S,r.isSet=ee,r.isStr=ae,r.isUnd=$e,r.isWorker=D,r.italic=pS,r.keys=oa,r.log=Tl,r.logError=$S,r.magenta=vS,r.map=Sl,r.newline=fS,r.omit=rS,r.parseDataURI=iS,r.parseStackTrace=h,r.perf=nS,r.pick=aS,r.red=gS,r.reduce=Si,r.shallowArrayEqual=oS,r.spread=sS,r.unixify=cS,r.values=lS,r.white=yS,r.withTag=bS,r.yellow=mS,Object.defineProperty(r,"__esModule",{value:!0})})})(c,c.exports);var b={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var zt=function(e,t){return zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])},zt(e,t)};function Ti(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ut=function(){return ut=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ut.apply(this,arguments)};function Le(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function qt(e,t,r,i){var n=arguments.length,a=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(n<3?s(a):n>3?s(t,r,a):s(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function Il(e,t){return function(r,i){t(r,i,e)}}function Rl(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Cl(e,t,r,i){function n(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(p){try{u(i.next(p))}catch(T){s(T)}}function o(p){try{u(i.throw(p))}catch(T){s(T)}}function u(p){p.done?a(p.value):n(p.value).then(l,o)}u((i=i.apply(e,t||[])).next())})}function Fl(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(p){return o([u,p])}}function o(u){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(p){u=[6,p],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ei=Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]};function jl(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ei(t,e,r)}function xi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function la(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,a=[],s;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return a}function Dl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(la(arguments[t]));return e}function Nl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,n++)i[n]=a[s];return i}function Gl(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,a;i<n;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function Yt(e){return this instanceof Yt?(this.v=e,this):new Yt(e)}function Ml(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(E){i[E]&&(n[E]=function(x){return new Promise(function(d,f){a.push([E,x,d,f])>1||l(E,x)})})}function l(E,x){try{o(i[E](x))}catch(d){T(a[0][3],d)}}function o(E){E.value instanceof Yt?Promise.resolve(E.value.v).then(u,p):T(a[0][2],E)}function u(E){l("next",E)}function p(E){l("throw",E)}function T(E,x){E(x),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Wl(e){var t,r;return t={},i("next"),i("throw",function(n){throw n}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(n,a){t[n]=e[n]?function(s){return(r=!r)?{value:Yt(e[n](s)),done:n==="return"}:a?a(s):s}:a}}function Ll(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof xi=="function"?xi(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(a){r[a]=e[a]&&function(s){return new Promise(function(l,o){s=e[a](s),n(l,o,s.done,s.value)})}}function n(a,s,l,o){Promise.resolve(o).then(function(u){a({value:u,done:l})},s)}}function Bl(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ul=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function Vl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ei(t,e,r);return Ul(t,e),t}function Hl(e){return e&&e.__esModule?e:{default:e}}function Kl(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)}function kl(e,t,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}var zl=Object.freeze({__proto__:null,__extends:Ti,get __assign(){return ut},__rest:Le,__decorate:qt,__param:Il,__metadata:Rl,__awaiter:Cl,__generator:Fl,__createBinding:Ei,__exportStar:jl,__values:xi,__read:la,__spread:Dl,__spreadArrays:Nl,__spreadArray:Gl,__await:Yt,__asyncGenerator:Ml,__asyncDelegator:Wl,__asyncValues:Ll,__makeTemplateObject:Bl,__importStar:Vl,__importDefault:Hl,__classPrivateFieldGet:Kl,__classPrivateFieldSet:kl}),Ae=Ot(zl),ca={};Object.defineProperty(ca,"__esModule",{value:!0});var ua={};Object.defineProperty(ua,"__esModule",{value:!0});var fa={};Object.defineProperty(fa,"__esModule",{value:!0});var da={};Object.defineProperty(da,"__esModule",{value:!0});var ha={};Object.defineProperty(ha,"__esModule",{value:!0});var _a={};Object.defineProperty(_a,"__esModule",{value:!0});var pa={};Object.defineProperty(pa,"__esModule",{value:!0});var va={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.userEvent=e.styleKeys=e.deviceTypes=e.contentTypes=e.componentTypes=e.componentKeys=e.component=e.actionTypes=e.action=void 0,e.action={BUILTIN:"builtIn",EVALOBJECT:"evalObject",OPENCAMERA:"openCamera",OPENPHOTOLIBRARY:"openPhotoLibrary",OPENDOCUMENTMANAGER:"openDocumentManager",PAGEJUMP:"pageJump",POPUP:"popUp",POPUPDISMISS:"popUpDismiss",REFRESH:"refresh",REGISTER:"register",REMOVESIGNATURE:"removeSignature",SAVEOBJECT:"saveObject",SAVESIGNATURE:"saveSignature",UPDATEOBJECT:"updateObject"},e.actionTypes=Object.values(e.action),e.component={BUTTON:"button",CANVAS:"canvas",CHART:"chart",CHATLIST:"chatList",ECOSDOC:"ecosDoc",DIVIDER:"divider",FOOTER:"footer",HEADER:"header",IMAGE:"image",LABEL:"label",LIST:"list",LISTITEM:"listItem",MAP:"map",PAGE:"page",PLUGIN:"plugin",PLUGINHEAD:"pluginHead",PLUGINBODYTAIL:"pluginBodyTail",POPUP:"popUp",REGISTER:"register",SELECT:"select",SCROLLVIEW:"scrollView",TEXTFIELD:"textField",TEXTVIEW:"textView",VIDEO:"video",VIEW:"view"},e.componentKeys=["backgroundColor","borderRadius","chatItem","children","contentType","dataId","dataIn","dataKey","dataModel","ecosObj","height","isEditable","itemObject","iteratorVar","itmeObject","listObject","onChange","onClick","onInput","optionKey","options","path","pathSelected","placeHolder","placeholder","refresh","required","style","text","text=func","textAlign","textBoard","type","viewTag","width","zIndex","chatItem"],e.componentTypes=Object.values(e.component),e.contentTypes=["countryCode","email","file","formattedDate","formattedDuration","hidden","listObject","messageHidden","number","password","passwordHidden","phone","phoneNumber","tel","text","timer","videoSubStream"],e.deviceTypes=["web","ios","android"],e.styleKeys=["FontSize","axis","background","backgroundColor","border","borderColor","borderRadius","borderRaduis","borderWidth","boxShadow","boxSizing","color","contentSize","diaplay","display","filter","float","flex","flexFlow","fontColor","fontFamily","fontSize","fontStyle","fontWeight","foontWeight","height","hieght","isHidden","justifyContent","left","letterSpacing","lineHeight","marginLeft","marginTop","onClick","padding","paddingBottom","paddingLeft","placeholder","position","required","shadow","text-align","textAlign","textDecoration","textIndent","top","width","zIndex"],e.userEvent=["onBlur","onClick","onChange","onFocus","onHover","onInput","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"]})(va);var yr={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.minimalBorderStyleKeys=Ye.minimalStyleKeys=Ye.componentTypes=void 0,Ye.componentTypes=["button","chart","divider","footer","header","image","label","list","listItem","page","plugin","pluginHead","pluginBodyTail","popUp","register","select","scrollView","textField","textView","video","view"],Ye.minimalStyleKeys=["backgroundColor","border","borderColor","borderRadius","borderWidth","color","fontSize","fontStyle","fontFamily","fontWeight","height","left","position","textAlign","textColor","top","width","zIndex"],Ye.minimalBorderStyleKeys=["color","style","width"];var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});function ql(e=""){return!!e.endsWith("@")}Ii.default=ql;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});function Yl(e=""){return!!e.startsWith("=")}Ri.default=Yl;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});function Jl(e=""){return!!e.startsWith("=..")}Ci.default=Jl;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});function Zl(e=""){return!!e.startsWith("=.")}Fi.default=Zl;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});function Xl(e=""){return!!(e.startsWith("..")||e.startsWith("=.."))}ji.default=Xl;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});function Ql(e=""){return e.startsWith("..")||e.startsWith("=..")?!1:!!(e.startsWith(".")&&e[1].toUpperCase()===e[1]||e.startsWith("=.")&&e[2].toUpperCase()===e[2])}Di.default=Ql;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});function ec(e=""){return e.startsWith("~/")}Ni.default=ec;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});function tc(e=""){return/^[_]+\./.test(e)}Gi.default=tc;var ga={},V={},rc=Array.isArray,Ee=rc,ic=typeof ct=="object"&&ct&&ct.Object===Object&&ct,ya=ic,nc=ya,ac=typeof self=="object"&&self&&self.Object===Object&&self,sc=nc||ac||Function("return this")(),pe=sc,oc=pe,lc=oc.Symbol,Jt=lc,ba=Jt,ma=Object.prototype,cc=ma.hasOwnProperty,uc=ma.toString,Zt=ba?ba.toStringTag:void 0;function fc(e){var t=cc.call(e,Zt),r=e[Zt];try{e[Zt]=void 0;var i=!0}catch(a){}var n=uc.call(e);return i&&(t?e[Zt]=r:delete e[Zt]),n}var dc=fc,hc=Object.prototype,_c=hc.toString;function pc(e){return _c.call(e)}var vc=pc,$a=Jt,gc=dc,yc=vc,bc="[object Null]",mc="[object Undefined]",Pa=$a?$a.toStringTag:void 0;function $c(e){return e==null?e===void 0?mc:bc:Pa&&Pa in Object(e)?gc(e):yc(e)}var wt=$c;function Pc(e){return e!=null&&typeof e=="object"}var Be=Pc,Ac=wt,Oc=Be,wc="[object Symbol]";function Sc(e){return typeof e=="symbol"||Oc(e)&&Ac(e)==wc}var br=Sc,Tc=Ee,Ec=br,xc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ic=/^\w*$/;function Rc(e,t){if(Tc(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ec(e)?!0:Ic.test(e)||!xc.test(e)||t!=null&&e in Object(t)}var Cc=Rc;function Fc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xe=Fc,jc=wt,Dc=xe,Nc="[object AsyncFunction]",Gc="[object Function]",Mc="[object GeneratorFunction]",Wc="[object Proxy]";function Lc(e){if(!Dc(e))return!1;var t=jc(e);return t==Gc||t==Mc||t==Nc||t==Wc}var Mi=Lc,Bc=pe,Uc=Bc["__core-js_shared__"],Vc=Uc,Wi=Vc,Aa=function(){var e=/[^.]+$/.exec(Wi&&Wi.keys&&Wi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hc(e){return!!Aa&&Aa in e}var Kc=Hc,kc=Function.prototype,zc=kc.toString;function qc(e){if(e!=null){try{return zc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Oa=qc,Yc=Mi,Jc=Kc,Zc=xe,Xc=Oa,Qc=/[\\^$.*+?()[\]{}|]/g,eu=/^\[object .+?Constructor\]$/,tu=Function.prototype,ru=Object.prototype,iu=tu.toString,nu=ru.hasOwnProperty,au=RegExp("^"+iu.call(nu).replace(Qc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function su(e){if(!Zc(e)||Jc(e))return!1;var t=Yc(e)?au:eu;return t.test(Xc(e))}var ou=su;function lu(e,t){return e==null?void 0:e[t]}var cu=lu,uu=ou,fu=cu;function du(e,t){var r=fu(e,t);return uu(r)?r:void 0}var ft=du,hu=ft,_u=hu(Object,"create"),mr=_u,wa=mr;function pu(){this.__data__=wa?wa(null):{},this.size=0}var vu=pu;function gu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yu=gu,bu=mr,mu="__lodash_hash_undefined__",$u=Object.prototype,Pu=$u.hasOwnProperty;function Au(e){var t=this.__data__;if(bu){var r=t[e];return r===mu?void 0:r}return Pu.call(t,e)?t[e]:void 0}var Ou=Au,wu=mr,Su=Object.prototype,Tu=Su.hasOwnProperty;function Eu(e){var t=this.__data__;return wu?t[e]!==void 0:Tu.call(t,e)}var xu=Eu,Iu=mr,Ru="__lodash_hash_undefined__";function Cu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Iu&&t===void 0?Ru:t,this}var Fu=Cu,ju=vu,Du=yu,Nu=Ou,Gu=xu,Mu=Fu;function St(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}St.prototype.clear=ju,St.prototype.delete=Du,St.prototype.get=Nu,St.prototype.has=Gu,St.prototype.set=Mu;var Wu=St;function Lu(){this.__data__=[],this.size=0}var Bu=Lu;function Uu(e,t){return e===t||e!==e&&t!==t}var $r=Uu,Vu=$r;function Hu(e,t){for(var r=e.length;r--;)if(Vu(e[r][0],t))return r;return-1}var Pr=Hu,Ku=Pr,ku=Array.prototype,zu=ku.splice;function qu(e){var t=this.__data__,r=Ku(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():zu.call(t,r,1),--this.size,!0}var Yu=qu,Ju=Pr;function Zu(e){var t=this.__data__,r=Ju(t,e);return r<0?void 0:t[r][1]}var Xu=Zu,Qu=Pr;function ef(e){return Qu(this.__data__,e)>-1}var tf=ef,rf=Pr;function nf(e,t){var r=this.__data__,i=rf(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var af=nf,sf=Bu,of=Yu,lf=Xu,cf=tf,uf=af;function Tt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Tt.prototype.clear=sf,Tt.prototype.delete=of,Tt.prototype.get=lf,Tt.prototype.has=cf,Tt.prototype.set=uf;var Ar=Tt,ff=ft,df=pe,hf=ff(df,"Map"),Li=hf,Sa=Wu,_f=Ar,pf=Li;function vf(){this.size=0,this.__data__={hash:new Sa,map:new(pf||_f),string:new Sa}}var gf=vf;function yf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bf=yf,mf=bf;function $f(e,t){var r=e.__data__;return mf(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Or=$f,Pf=Or;function Af(e){var t=Pf(this,e).delete(e);return this.size-=t?1:0,t}var Of=Af,wf=Or;function Sf(e){return wf(this,e).get(e)}var Tf=Sf,Ef=Or;function xf(e){return Ef(this,e).has(e)}var If=xf,Rf=Or;function Cf(e,t){var r=Rf(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var Ff=Cf,jf=gf,Df=Of,Nf=Tf,Gf=If,Mf=Ff;function Et(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Et.prototype.clear=jf,Et.prototype.delete=Df,Et.prototype.get=Nf,Et.prototype.has=Gf,Et.prototype.set=Mf;var Ta=Et,Ea=Ta,Wf="Expected a function";function Bi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wf);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var s=e.apply(this,i);return r.cache=a.set(n,s)||a,s};return r.cache=new(Bi.Cache||Ea),r}Bi.Cache=Ea;var Lf=Bi,Bf=Lf,Uf=500;function Vf(e){var t=Bf(e,function(i){return r.size===Uf&&r.clear(),i}),r=t.cache;return t}var Hf=Vf,Kf=Hf,kf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zf=/\\(\\)?/g,qf=Kf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kf,function(r,i,n,a){t.push(n?a.replace(zf,"$1"):i||r)}),t}),Yf=qf;function Jf(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var Zf=Jf,xa=Jt,Xf=Zf,Qf=Ee,ed=br,td=1/0,Ia=xa?xa.prototype:void 0,Ra=Ia?Ia.toString:void 0;function Ca(e){if(typeof e=="string")return e;if(Qf(e))return Xf(e,Ca)+"";if(ed(e))return Ra?Ra.call(e):"";var t=e+"";return t=="0"&&1/e==-td?"-0":t}var rd=Ca,id=rd;function nd(e){return e==null?"":id(e)}var ad=nd,sd=Ee,od=Cc,ld=Yf,cd=ad;function ud(e,t){return sd(e)?e:od(e,t)?[e]:ld(cd(e))}var Ui=ud,fd=br,dd=1/0;function hd(e){if(typeof e=="string"||fd(e))return e;var t=e+"";return t=="0"&&1/e==-dd?"-0":t}var Vi=hd,_d=Ui,pd=Vi;function vd(e,t){t=_d(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[pd(t[r++])];return r&&r==i?e:void 0}var gd=vd,yd=gd;function bd(e,t,r){var i=e==null?void 0:yd(e,t);return i===void 0?r:i}var J=bd,md=Object.prototype,$d=md.hasOwnProperty;function Pd(e,t){return e!=null&&$d.call(e,t)}var Ad=Pd,Od=wt,wd=Be,Sd="[object Arguments]";function Td(e){return wd(e)&&Od(e)==Sd}var Ed=Td,Fa=Ed,xd=Be,ja=Object.prototype,Id=ja.hasOwnProperty,Rd=ja.propertyIsEnumerable,Cd=Fa(function(){return arguments}())?Fa:function(e){return xd(e)&&Id.call(e,"callee")&&!Rd.call(e,"callee")},wr=Cd,Fd=9007199254740991,jd=/^(?:0|[1-9]\d*)$/;function Dd(e,t){var r=typeof e;return t=t==null?Fd:t,!!t&&(r=="number"||r!="symbol"&&jd.test(e))&&e>-1&&e%1==0&&e<t}var Xt=Dd,Nd=9007199254740991;function Gd(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nd}var Hi=Gd,Md=Ui,Wd=wr,Ld=Ee,Bd=Xt,Ud=Hi,Vd=Vi;function Hd(e,t,r){t=Md(t,e);for(var i=-1,n=t.length,a=!1;++i<n;){var s=Vd(t[i]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++i!=n?a:(n=e==null?0:e.length,!!n&&Ud(n)&&Bd(s,n)&&(Ld(e)||Wd(e)))}var Kd=Hd,kd=Ad,zd=Kd;function qd(e,t){return e!=null&&zd(e,t,kd)}var Ki=qd;Object.defineProperty(V,"__esModule",{value:!0}),V.trimReference=V.Regex=V.isStr=V.isNum=V.isJs=V.isJson=V.isYml=V.isVid=V.isPdf=V.isImg=V.isObj=V.isNil=V.isBool=V.isArr=V.hasInAnyKeys=V.hasAnyKeys=V.hasNameField=V.hasMinimumKeys=V.hasInAllKeys=V.hasAllKeys=V.hasKeyEqualTo=V.hasKey=V.exists=V.excludeKeys=void 0;const Da=Ae,Yd=(0,Da.__importDefault)(J),Sr=(0,Da.__importDefault)(Ki);function Jd(e,t){const r=Array.isArray(t)?t:[t];return e.filter(i=>!r.includes(i))}V.excludeKeys=Jd;function Zd(e){return!Ga(e)}V.exists=Zd;function Xd(e,t){return(0,Sr.default)(t,e)}V.hasKey=Xd;function Qd(e,t){return(0,Sr.default)(t,e)&&(0,Yd.default)(t,e)===t}V.hasKeyEqualTo=Qd;function eh(e){return t=>(Array.isArray(e)?e:[e]).every(r=>r in(t||{}))}V.hasAllKeys=eh;function th(e){return t=>(Array.isArray(e)?e:[e]).every(r=>(0,Sr.default)(t,r))}V.hasInAllKeys=th;function rh(e,t,r){const i=[],n=Array.isArray(e)?e:[e],a=n.length;let s=0;for(let l=0;l<a;l++){const o=n[l];if(o in r&&!i.includes(o)&&(s++,i.push(o)),s>=t)return!0}return!1}V.hasMinimumKeys=rh;function ih(e){return ki(e)&&"name"in e&&ki(e.name)}V.hasNameField=ih;function nh(e,t){return(Array.isArray(e)?e:[e]).some(r=>r in t)}V.hasAnyKeys=nh;function ah(e,t){return(Array.isArray(e)?e:[e]).some(r=>(0,Sr.default)(t,r))}V.hasInAnyKeys=ah;function Na(e){return Array.isArray(e)}V.isArr=Na;function sh(e){return typeof e=="boolean"}V.isBool=sh;function Ga(e){return e===null||typeof e=="undefined"}V.isNil=Ga;function ki(e){return e!=null&&!Na(e)&&typeof e=="object"}V.isObj=ki;function oh(e){return/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i.test(e)}V.isImg=oh;function lh(e){return e.endsWith(".pdf")}V.isPdf=lh;function ch(e){return/([a-z\-_0-9\/\:\.]*\.(mp4|avi|wmv))/i.test(e)}V.isVid=ch;function uh(e=""){return e.endsWith(".yml")}V.isYml=uh;function fh(e=""){return e.endsWith(".json")}V.isJson=fh;function dh(e=""){return e.endsWith("")}V.isJs=dh;function hh(e){return typeof e=="number"}V.isNum=hh;function _h(e){return typeof e=="string"}V.isStr=_h,V.Regex=function(){return{onlyNumbers:/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/,reference:{dot:{single:{root:/(^\.[A-Z])/,localRoot:/(^\.[a-z])/},double:{root:/(^\.\.[A-Z])/,localRoot:/(^\.\.[a-z])/}}}}}();function ph(e){return e.replace(/^[.=@]+/i,"").replace(/[.=@]+$/i,"")||""}V.trimReference=ph,function(e){Object.defineProperty(e,"__esModule",{value:!0}),(0,Ae.__exportStar)(V,e)}(ga),Object.defineProperty(yr,"__esModule",{value:!0}),yr.Identify=void 0;const Ue=Ae,Ma=Ye,vh=(0,Ue.__importDefault)(Ii),gh=(0,Ue.__importDefault)(Ri),yh=(0,Ue.__importDefault)(Ci),bh=(0,Ue.__importDefault)(Fi),mh=(0,Ue.__importDefault)(ji),$h=(0,Ue.__importDefault)(Di),Ph=(0,Ue.__importDefault)(Ni),Ah=(0,Ue.__importDefault)(Gi),se=(0,Ue.__importStar)(ga);function Tr(e){return function(t){return function(r){return e(r)?t(r):void 0}}}const Oh=Tr(se.isArr),Fe=Tr(se.isNum),M=Tr(se.isObj),wh=Tr(se.isStr);yr.Identify=function(){const e=(...i)=>n=>i.some(a=>a(n)),t={rootConfig:M(i=>["apiHost","apiPort"].every(n=>n in i)),appConfig:M(i=>["startPage"].every(n=>n in i)),action:{any:M(i=>"actionType"in i),builtIn:M(i=>"funcName"in i||i.actionType==="builtIn"),evalObject:M(i=>i.actionType==="evalObject"),openCamera:M(i=>i.actionType==="openCamera"),openPhotoLibrary:M(i=>i.actionType==="openPhotoLibrary"),openDocumentManager:M(i=>i.actionType==="openDocumentManager"),pageJump:M(i=>i.actionType==="pageJump"),popUp:M(i=>i.actionType==="popUp"),popUpDismiss:M(i=>i.actionType==="popUpDismiss"),refresh:M(i=>i.actionType==="refresh"),removeSignature:M(i=>i.actionType==="removeSignature"),saveObject:M(i=>i.actionType==="saveObject"),saveSignature:M(i=>i.actionType==="saveSignature"),updateObject:M(i=>i.actionType==="updateObject")},actionChain(i){return se.isArr(i)&&[t.action.any,t.emit,t.goto].some(n=>i.some(n))},isBoolean(i){return t.isBooleanTrue(i)||t.isBooleanFalse(i)},isBooleanTrue(i){return i===!0||i==="true"},isBooleanFalse(i){return i===!1||i==="false"},component:{button:M(i=>i.type==="button"),canvas:M(i=>i.type==="canvas"),divider:M(i=>i.type==="divider"),ecosDoc:M(i=>i.type==="ecosDoc"),footer:M(i=>i.type==="footer"),header:M(i=>i.type==="header"),image:M(i=>i.type==="image"),label:M(i=>i.type==="label"),list:M(i=>i.type==="list"),listLike:M(i=>["chatList","list"].includes(i.type)),listItem:M(i=>i.type==="listItem"),map:M(i=>i.type==="map"),page:M(i=>i.type==="page"),plugin:M(i=>i.type==="plugin"),pluginHead:M(i=>i.type==="pluginHead"),pluginBodyTop:M(i=>i.type==="pluginBodyTop"),pluginBodyTail:M(i=>i.type==="pluginBodyTail"),popUp:M(i=>i.type==="popUp"),register:M(i=>i.type==="register"),select:M(i=>i.type==="select"),scrollView:M(i=>i.type==="scrollView"),textField:M(i=>i.type==="textField"),textView:M(i=>i.type==="textView"),video:M(i=>i.type==="video"),view:M(i=>i.type==="view")},ecosObj:{audio(i){},doc:M(i=>{var n,a;return se.hasNameField(i)&&(/application\//i.test(((n=i.name)===null||n===void 0?void 0:n.type)||"")||((a=i.subtype)===null||a===void 0?void 0:a.mediaType)===1)}),font(i){},image:M(i=>{var n,a;return se.hasNameField(i)&&(/image/i.test(((n=i.name)===null||n===void 0?void 0:n.type)||"")||((a=i.subtype)===null||a===void 0?void 0:a.mediaType)===4)}),message(i){},model(i){},multipart(i){},other:M(i=>{var n,a;return se.hasNameField(i)&&(!/(application|audio|font|image|multipart|text|video)\//i.test(((n=i.name)===null||n===void 0?void 0:n.type)||"")||((a=i.subtype)===null||a===void 0?void 0:a.mediaType)===0)}),text:M(i=>{var n,a,s;return se.hasNameField(i)&&(/text\//i.test(((n=i.name)===null||n===void 0?void 0:n.type)||"")||((a=i.subtype)===null||a===void 0?void 0:a.mediaType)===8||((s=i.subtype)===null||s===void 0?void 0:s.mediaType)===0)}),video:M(i=>{var n,a;return se.hasNameField(i)&&(/video\//i.test(((n=i.name)===null||n===void 0?void 0:n.type)||"")||((a=i.subtype)===null||a===void 0?void 0:a.mediaType)===9)})},emit:M(i=>"actions"in i),goto:M(i=>"goto"in i),if:M(i=>"if"in i),mediaType:{audio:Fe(i=>i==2),doc:Fe(i=>i==1),font:Fe(i=>i==3),image:Fe(i=>i==4),message:Fe(i=>i==5),model:Fe(i=>i==6),multipart:Fe(i=>i==7),other:Fe(i=>i==0),text:Fe(i=>i==8),video:Fe(i=>i==9)},rootKey:(i="")=>!!(i&&i[0].toUpperCase()===i[0]&&!se.Regex.onlyNumbers.test(i)),localKey:(i="")=>!!(i&&i[0].toLowerCase()===i[0]&&!se.Regex.onlyNumbers.test(i)),reference:wh(i=>!se.isStr(i)||i===".yml"?!1:!!(i.startsWith(".")||i.startsWith("=")||i.startsWith("@")||i.startsWith("~")||/^[_]+\./.test(i))),localReference:mh.default,awaitReference:vh.default,evalReference:gh.default,evalLocalReference:yh.default,evalRootReference:bh.default,rootReference:$h.default,tildeReference:Ph.default,traverseReference:Ah.default,pageComponentUrl(i){if(!se.isStr(i))return!1;const n=i.split(/(@|#)/);if(n.length!==5)return!1;const[a,s,l,o,u]=n;return s==="@"&&o==="#"},textBoard(i){return se.isArr(i)&&i.some(t.textBoardItem)},textBoardItem(i){return se.isObj(i)?"br"in i:se.isStr(i)?i==="br":!1}},r={actionChain:Oh(i=>se.isArr(i)&&i.some(e(t.action.any,n=>se.isObj(n)&&"emit"in n,n=>se.isObj(n)&&"goto"in n))),component:Object.assign({any(i){return se.isObj(i)&&"type"in i&&Ma.componentTypes.some(n=>i.type===n)}},Object.assign({},Ma.componentTypes.reduce((i,n)=>Object.assign(i,{[n]:a=>se.isObj(a)&&a.type===n}),{}))),emit:M(i=>"emit"in i),goto:M(i=>"goto"in i),if:M(i=>"if"in i),path:M(i=>"path"in i),textFunc:M(i=>"text=func"in i),toast:M(i=>"toast"in i)};return Object.assign(Object.assign({},t),{folds:r})}(),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Identify=void 0;const t=Ae;(0,t.__exportStar)(ca,e),(0,t.__exportStar)(ua,e),(0,t.__exportStar)(fa,e),(0,t.__exportStar)(da,e),(0,t.__exportStar)(ha,e),(0,t.__exportStar)(_a,e),(0,t.__exportStar)(pa,e),(0,t.__exportStar)(va,e);var r=yr;Object.defineProperty(e,"Identify",{enumerable:!0,get:function(){return r.Identify}})}(b);var Q={},zi={};function Sh(e){return e}var qi=Sh,Th=ft,Eh=pe,xh=Th(Eh,"WeakMap"),Wa=xh,La=Wa,Ih=La&&new La,Ba=Ih,Rh=qi,Ua=Ba,Ch=Ua?function(e,t){return Ua.set(e,t),e}:Rh,Va=Ch,Fh=xe,Ha=Object.create,jh=function(){function e(){}return function(t){if(!Fh(t))return{};if(Ha)return Ha(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Er=jh,Dh=Er,Nh=xe;function Gh(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Dh(e.prototype),i=e.apply(r,t);return Nh(i)?i:r}}var xr=Gh,Mh=xr,Wh=pe,Lh=1;function Bh(e,t,r){var i=t&Lh,n=Mh(e);function a(){var s=this&&this!==Wh&&this instanceof a?n:e;return s.apply(i?r:this,arguments)}return a}var Uh=Bh;function Vh(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Yi=Vh,Hh=Math.max;function Kh(e,t,r,i){for(var n=-1,a=e.length,s=r.length,l=-1,o=t.length,u=Hh(a-s,0),p=Array(o+u),T=!i;++l<o;)p[l]=t[l];for(;++n<s;)(T||n<a)&&(p[r[n]]=e[n]);for(;u--;)p[l++]=e[n++];return p}var Ka=Kh,kh=Math.max;function zh(e,t,r,i){for(var n=-1,a=e.length,s=-1,l=r.length,o=-1,u=t.length,p=kh(a-l,0),T=Array(p+u),E=!i;++n<p;)T[n]=e[n];for(var x=n;++o<u;)T[x+o]=t[o];for(;++s<l;)(E||n<a)&&(T[x+r[s]]=e[n++]);return T}var ka=zh;function qh(e,t){for(var r=e.length,i=0;r--;)e[r]===t&&++i;return i}var Yh=qh;function Jh(){}var Ji=Jh,Zh=Er,Xh=Ji,Qh=4294967295;function Ir(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qh,this.__views__=[]}Ir.prototype=Zh(Xh.prototype),Ir.prototype.constructor=Ir;var Zi=Ir;function e_(){}var t_=e_,za=Ba,r_=t_,i_=za?function(e){return za.get(e)}:r_,Xi=i_,n_={},a_=n_,qa=a_,s_=Object.prototype,o_=s_.hasOwnProperty;function l_(e){for(var t=e.name+"",r=qa[t],i=o_.call(qa,t)?r.length:0;i--;){var n=r[i],a=n.func;if(a==null||a==e)return n.name}return t}var Ya=l_,c_=Er,u_=Ji;function Rr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Rr.prototype=c_(u_.prototype),Rr.prototype.constructor=Rr;var Qi=Rr;function f_(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var Cr=f_,d_=Zi,h_=Qi,__=Cr;function p_(e){if(e instanceof d_)return e.clone();var t=new h_(e.__wrapped__,e.__chain__);return t.__actions__=__(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var v_=p_,g_=Zi,Ja=Qi,y_=Ji,b_=Ee,m_=Be,$_=v_,P_=Object.prototype,A_=P_.hasOwnProperty;function Fr(e){if(m_(e)&&!b_(e)&&!(e instanceof g_)){if(e instanceof Ja)return e;if(A_.call(e,"__wrapped__"))return $_(e)}return new Ja(e)}Fr.prototype=y_.prototype,Fr.prototype.constructor=Fr;var O_=Fr,w_=Zi,S_=Xi,T_=Ya,E_=O_;function x_(e){var t=T_(e),r=E_[t];if(typeof r!="function"||!(t in w_.prototype))return!1;if(e===r)return!0;var i=S_(r);return!!i&&e===i[0]}var Za=x_,I_=800,R_=16,C_=Date.now;function F_(e){var t=0,r=0;return function(){var i=C_(),n=R_-(i-r);if(r=i,n>0){if(++t>=I_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Xa=F_,j_=Va,D_=Xa,N_=D_(j_),Qa=N_,G_=/\{\n\/\* \[wrapped with (.+)\] \*/,M_=/,? & /;function W_(e){var t=e.match(G_);return t?t[1].split(M_):[]}var L_=W_,B_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function U_(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(B_,`{
/* [wrapped with `+t+`] */
`)}var V_=U_;function H_(e){return function(){return e}}var K_=H_,k_=ft,z_=function(){try{var e=k_(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),es=z_,q_=K_,ts=es,Y_=qi,J_=ts?function(e,t){return ts(e,"toString",{configurable:!0,enumerable:!1,value:q_(t),writable:!0})}:Y_,Z_=J_,X_=Z_,Q_=Xa,ep=Q_(X_),en=ep;function tp(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var rs=tp;function rp(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}var ip=rp;function np(e){return e!==e}var ap=np;function sp(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}var op=sp,lp=ip,cp=ap,up=op;function fp(e,t,r){return t===t?up(e,t,r):lp(e,cp,r)}var dp=fp,hp=dp;function _p(e,t){var r=e==null?0:e.length;return!!r&&hp(e,t,0)>-1}var pp=_p,vp=rs,gp=pp,yp=1,bp=2,mp=8,$p=16,Pp=32,Ap=64,Op=128,wp=256,Sp=512,Tp=[["ary",Op],["bind",yp],["bindKey",bp],["curry",mp],["curryRight",$p],["flip",Sp],["partial",Pp],["partialRight",Ap],["rearg",wp]];function Ep(e,t){return vp(Tp,function(r){var i="_."+r[0];t&r[1]&&!gp(e,i)&&e.push(i)}),e.sort()}var xp=Ep,Ip=L_,Rp=V_,Cp=en,Fp=xp;function jp(e,t,r){var i=t+"";return Cp(e,Rp(i,Fp(Ip(i),r)))}var is=jp,Dp=Za,Np=Qa,Gp=is,Mp=1,Wp=2,Lp=4,Bp=8,ns=32,as=64;function Up(e,t,r,i,n,a,s,l,o,u){var p=t&Bp,T=p?s:void 0,E=p?void 0:s,x=p?a:void 0,d=p?void 0:a;t|=p?ns:as,t&=~(p?as:ns),t&Lp||(t&=~(Mp|Wp));var f=[e,t,n,x,T,d,E,l,o,u],v=r.apply(void 0,f);return Dp(e)&&Np(v,f),v.placeholder=i,Gp(v,e,t)}var ss=Up;function Vp(e){var t=e;return t.placeholder}var tn=Vp,Hp=Cr,Kp=Xt,kp=Math.min;function zp(e,t){for(var r=e.length,i=kp(t.length,r),n=Hp(e);i--;){var a=t[i];e[i]=Kp(a,r)?n[a]:void 0}return e}var qp=zp,os="__lodash_placeholder__";function Yp(e,t){for(var r=-1,i=e.length,n=0,a=[];++r<i;){var s=e[r];(s===t||s===os)&&(e[r]=os,a[n++]=r)}return a}var jr=Yp,Jp=Ka,Zp=ka,Xp=Yh,ls=xr,Qp=ss,ev=tn,tv=qp,rv=jr,iv=pe,nv=1,av=2,sv=8,ov=16,lv=128,cv=512;function cs(e,t,r,i,n,a,s,l,o,u){var p=t&lv,T=t&nv,E=t&av,x=t&(sv|ov),d=t&cv,f=E?void 0:ls(e);function v(){for(var h=arguments.length,g=Array(h),m=h;m--;)g[m]=arguments[m];if(x)var P=ev(v),C=Xp(g,P);if(i&&(g=Jp(g,i,n,x)),a&&(g=Zp(g,a,s,x)),h-=C,x&&h<u){var I=rv(g,P);return Qp(e,t,cs,v.placeholder,r,g,I,l,o,u-h)}var L=T?r:this,_=E?L[e]:e;return h=g.length,l?g=tv(g,l):d&&h>1&&g.reverse(),p&&o<h&&(g.length=o),this&&this!==iv&&this instanceof v&&(_=f||ls(_)),_.apply(L,g)}return v}var us=cs,uv=Yi,fv=xr,dv=us,hv=ss,_v=tn,pv=jr,vv=pe;function gv(e,t,r){var i=fv(e);function n(){for(var a=arguments.length,s=Array(a),l=a,o=_v(n);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==o&&s[a-1]!==o?[]:pv(s,o);if(a-=u.length,a<r)return hv(e,t,dv,n.placeholder,void 0,s,u,void 0,void 0,r-a);var p=this&&this!==vv&&this instanceof n?i:e;return uv(p,this,s)}return n}var yv=gv,bv=Yi,mv=xr,$v=pe,Pv=1;function Av(e,t,r,i){var n=t&Pv,a=mv(e);function s(){for(var l=-1,o=arguments.length,u=-1,p=i.length,T=Array(p+o),E=this&&this!==$v&&this instanceof s?a:e;++u<p;)T[u]=i[u];for(;o--;)T[u++]=arguments[++l];return bv(E,n?r:this,T)}return s}var Ov=Av,wv=Ka,Sv=ka,fs=jr,ds="__lodash_placeholder__",rn=1,Tv=2,Ev=4,hs=8,Qt=128,_s=256,xv=Math.min;function Iv(e,t){var r=e[1],i=t[1],n=r|i,a=n<(rn|Tv|Qt),s=i==Qt&&r==hs||i==Qt&&r==_s&&e[7].length<=t[8]||i==(Qt|_s)&&t[7].length<=t[8]&&r==hs;if(!(a||s))return e;i&rn&&(e[2]=t[2],n|=r&rn?0:Ev);var l=t[3];if(l){var o=e[3];e[3]=o?wv(o,l,t[4]):l,e[4]=o?fs(e[3],ds):t[4]}return l=t[5],l&&(o=e[5],e[5]=o?Sv(o,l,t[6]):l,e[6]=o?fs(e[5],ds):t[6]),l=t[7],l&&(e[7]=l),i&Qt&&(e[8]=e[8]==null?t[8]:xv(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=n,e}var Rv=Iv,Cv=/\s/;function Fv(e){for(var t=e.length;t--&&Cv.test(e.charAt(t)););return t}var jv=Fv,Dv=jv,Nv=/^\s+/;function Gv(e){return e&&e.slice(0,Dv(e)+1).replace(Nv,"")}var Mv=Gv,Wv=Mv,ps=xe,Lv=br,vs=0/0,Bv=/^[-+]0x[0-9a-f]+$/i,Uv=/^0b[01]+$/i,Vv=/^0o[0-7]+$/i,Hv=parseInt;function Kv(e){if(typeof e=="number")return e;if(Lv(e))return vs;if(ps(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ps(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Wv(e);var r=Uv.test(e);return r||Vv.test(e)?Hv(e.slice(2),r?2:8):Bv.test(e)?vs:+e}var kv=Kv,zv=kv,gs=1/0,qv=17976931348623157e292;function Yv(e){if(!e)return e===0?e:0;if(e=zv(e),e===gs||e===-gs){var t=e<0?-1:1;return t*qv}return e===e?e:0}var Jv=Yv,Zv=Jv;function Xv(e){var t=Zv(e),r=t%1;return t===t?r?t-r:t:0}var Qv=Xv,eg=Va,tg=Uh,rg=yv,ig=us,ng=Ov,ag=Xi,sg=Rv,og=Qa,lg=is,ys=Qv,cg="Expected a function",bs=1,ug=2,nn=8,an=16,sn=32,ms=64,$s=Math.max;function fg(e,t,r,i,n,a,s,l){var o=t&ug;if(!o&&typeof e!="function")throw new TypeError(cg);var u=i?i.length:0;if(u||(t&=~(sn|ms),i=n=void 0),s=s===void 0?s:$s(ys(s),0),l=l===void 0?l:ys(l),u-=n?n.length:0,t&ms){var p=i,T=n;i=n=void 0}var E=o?void 0:ag(e),x=[e,t,r,i,n,p,T,a,s,l];if(E&&sg(x,E),e=x[0],t=x[1],r=x[2],i=x[3],n=x[4],l=x[9]=x[9]===void 0?o?0:e.length:$s(x[9]-u,0),!l&&t&(nn|an)&&(t&=~(nn|an)),!t||t==bs)var d=tg(e,t,r);else t==nn||t==an?d=rg(e,t,l):(t==sn||t==(bs|sn))&&!n.length?d=ng(e,t,r,i):d=ig.apply(void 0,x);var f=E?eg:og;return lg(f(d,x),e,t)}var Dr=fg,dg=Dr,hg=8;function on(e,t,r){t=r?void 0:t;var i=dg(e,hg,void 0,void 0,void 0,void 0,void 0,t);return i.placeholder=on.placeholder,i}on.placeholder={};var _g=on;function pg(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var ln=pg,Ps=Jt,vg=wr,gg=Ee,As=Ps?Ps.isConcatSpreadable:void 0;function yg(e){return gg(e)||vg(e)||!!(As&&e&&e[As])}var bg=yg,mg=ln,$g=bg;function Os(e,t,r,i,n){var a=-1,s=e.length;for(r||(r=$g),n||(n=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?Os(l,t-1,r,i,n):mg(n,l):i||(n[n.length]=l)}return n}var Pg=Os,Ag=Pg;function Og(e){var t=e==null?0:e.length;return t?Ag(e,1):[]}var wg=Og,Sg=Yi,ws=Math.max;function Tg(e,t,r){return t=ws(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,a=ws(i.length-t,0),s=Array(a);++n<a;)s[n]=i[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=i[n];return l[t]=r(s),Sg(e,this,l)}}var Ss=Tg,Eg=wg,xg=Ss,Ig=en;function Rg(e){return Ig(xg(e,void 0,Eg),e+"")}var Cg=Rg,Ts=Qi,Fg=Cg,jg=Xi,cn=Ya,Dg=Ee,Es=Za,Ng="Expected a function",Gg=8,Mg=32,Wg=128,Lg=256;function Bg(e){return Fg(function(t){var r=t.length,i=r,n=Ts.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if(typeof a!="function")throw new TypeError(Ng);if(n&&!s&&cn(a)=="wrapper")var s=new Ts([],!0)}for(i=s?i:r;++i<r;){a=t[i];var l=cn(a),o=l=="wrapper"?jg(a):void 0;o&&Es(o[0])&&o[1]==(Wg|Gg|Mg|Lg)&&!o[4].length&&o[9]==1?s=s[cn(o[0])].apply(s,o[3]):s=a.length==1&&Es(a)?s[l]():s.thru(a)}return function(){var u=arguments,p=u[0];if(s&&u.length==1&&Dg(p))return s.plant(p).value();for(var T=0,E=r?t[T].apply(this,u):p;++T<r;)E=t[T].call(this,E);return E}})}var Ug=Bg,Vg=Ug,Hg=Vg(!0),Kg=Hg,un={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unwrapObj=e.isFnc=e.isUnd=e.isStr=e.isNum=e.isObj=e.isBool=e.isArr=e.array=void 0;const t=p=>(0,e.isArr)(p)?p:[p];e.array=t;const r=p=>Array.isArray(p);e.isArr=r;const i=p=>typeof p=="boolean";e.isBool=i;const n=p=>!!p&&!(0,e.isArr)(p)&&typeof p=="object";e.isObj=n;const a=p=>typeof p=="number";e.isNum=a;const s=p=>typeof p=="string";e.isStr=s;const l=p=>typeof p=="undefined";e.isUnd=l;const o=p=>typeof p=="function";e.isFnc=o;const u=p=>(0,e.isFnc)(p)?p():p;e.unwrapObj=u})(un),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withYmlExt=e.trimReference=e.toDataPath=e.isValidAsset=e.isTest=e.isStable=e.isSerializableStr=e.isRootDataKey=e.isOutboundLink=e.hasNoodlPlaceholder=e.getDataValue=e.findReferences=e.findDataValue=e.evalIf=e.excludeIteratorVar=e.createEmitDataKey=e.createNoodlPlaceholderReplacer=e.createPlaceholderReplacer=void 0;const t=Ae,r=(0,t.__importDefault)(_g),i=(0,t.__importDefault)(Kg),n=(0,t.__importDefault)(J),a=(0,t.__importDefault)(Ki),s=(0,t.__importStar)(un);function l(_,A){const F=new RegExp((s.isArr(_)?_:[_]).reduce((k,W)=>k+(k?`|${W}`:W),""),A);function G(k,W){if(s.isStr(k))return k.replace(F,String(W));if(s.isObj(k)){const w=JSON.stringify(k).replace(F,String(W));return JSON.parse(w)}return""}return G}e.createPlaceholderReplacer=l,e.createNoodlPlaceholderReplacer=function(){const _=(0,r.default)(l("\\${cadlBaseUrl}","gi")),A=(0,r.default)(l("\\${cadlVersion}","gi")),F=(0,r.default)(l("\\${designSuffix}","gi")),G={cadlVersion:A,designSuffix:F,cadlBaseUrl:_};return W=>{let w=[],U=Object.entries(W);W.cadlBaseUrl&&"cadlVersion"in W&&(W.cadlBaseUrl=_(W.cadlBaseUrl,W.cadlVersion));for(let j=0;j<U.length;j++){const[R,S]=U[j];if(R in G){const D="\\${"+R+"}",z=new RegExp(D,"gi");w.push(le=>le.replace(z,S))}}return(0,i.default)(...w)}}();function o(_,A,F){const G=(F==null?void 0:F.iteratorVar)||"";return s.isStr(_)?(0,e.findDataValue)(A,u(_,G)):s.isObj(_)?Object.keys(_).reduce((k,W)=>(k[W]=(0,e.findDataValue)(A,u(_[W],G)),k),{}):_}e.createEmitDataKey=o;function u(_,A=""){return s.isStr(_)&&A&&_.includes(A)?_===A?"":_.split(`${A}.`).join("").replace(A,""):_}e.excludeIteratorVar=u;function p(_,A){if(Array.isArray(A.if)){const[F,G,k]=A.if;return _(F,G,k)?G:k}return!1}e.evalIf=p;const T=(_,A)=>{var F;return A?(0,n.default)(s.unwrapObj((F=s.isArr(_)?_:[_])===null||F===void 0?void 0:F.find(G=>(0,a.default)(s.unwrapObj(G),A))),A):s.unwrapObj(s.isArr(_)?_[0]:_)};e.findDataValue=T;function E(_){let A=[];return(Array.isArray(_)?_:[_]).forEach(F=>{if(s.isStr(F))F.startsWith(".")&&A.push(F);else if(s.isArr(F))A=A.concat(E(F));else if(s.isObj(F))for(let G in F){const k=F[G];A=A.concat(E(G)),A=A.concat(E(k))}}),A}e.findReferences=E;function x(_,A,F){if(_&&typeof A=="string"&&typeof _=="object"){let G="";return(F==null?void 0:F.iteratorVar)&&A.startsWith(F.iteratorVar)?G=A.split(".").slice(1).join("."):G=A,(0,n.default)(_,G)}}e.getDataValue=x,e.hasNoodlPlaceholder=function(){const _=new RegExp(`(${Object.values({cadlBaseUrl:"\\${cadlBaseUrl}",cadlVersion:"\\${cadlVersion}",designSuffix:"\\${designSuffix}"}).join("|")})`,"i");function A(F){return s.isStr(F)?_.test(F):!1}return A}();function d(_=""){return/https?:\/\//.test(_)}e.isOutboundLink=d;function f(_){if(typeof _=="string"){if(_.startsWith(".")&&(_=_.substring(_.search(/[a-zA-Z]/)).trim()),!/^[a-zA-Z]/i.test(_))return!1;if(_)return _[0].toUpperCase()===_[0]}return!1}e.isRootDataKey=f;function v(_){return s.isStr(_)&&/^[a-zA-Z]+[0-9]+/.test(_)}e.isSerializableStr=v;function h(){return process.env.ECOS_ENV==="stable"}e.isStable=h;function g(){return process.env.ECOS_ENV==="test"}e.isTest=g;function m(_){return(_==null?void 0:_.endsWith("..tar"))?!1:s.isStr(_)&&/(.[a-zA-Z]+)$/i.test(_)}e.isValidAsset=m;function P(_=""){return s.isArr(_)?_:s.isStr(_)?_.split("."):s.array(_).filter(A=>!s.isUnd(A))}e.toDataPath=P;const C={prefix:/^[.=@]+/i,suffix:/[.=@]+$/i};function I(_,A){return A==="prefix"?C.prefix.test(_)?_.replace(C.prefix,""):_:A==="suffix"?C.suffix.test(_)?_.replace(C.suffix,""):_:_.replace(C.prefix,"").replace(C.suffix,"")||""}e.trimReference=I;function L(_=""){return!_.endsWith(".yml")&&(_+=".yml"),_}e.withYmlExt=L}(zi);var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.deviceTypes=void 0,er.deviceTypes=["web","ios","android"];var xs={};Object.defineProperty(xs,"__esModule",{value:!0});var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const dn=Ae,Is=zi,kg=(0,dn.__importDefault)(J),zg=(0,dn.__importStar)(er),Nr=(0,dn.__importStar)(un);class qg{configVersion(t,r,i){return(0,kg.default)(t,[r,"cadlVersion",i])}appConfigUrl(t,r,i){if(Nr.isStr(t)){if(arguments.length<2)throw new Error("cadlMain is required when passing in the baseUrl");return(0,Is.createPlaceholderReplacer)("\\${cadlVersion}","gi")(t||"",i||"")+r}if(Nr.isObj(t)){if(arguments.length<3)throw new Error("Both the deviceType and env is required when passing in the root config object");const n=zg.deviceTypes.includes(r)?r:"web",a=this.configVersion(t,n,i),s=t.cadlMain||"";return(0,Is.createPlaceholderReplacer)("\\${cadlVersion}","gi")(t.cadlBaseUrl||"",a)+s}return Nr.isStr(t)?t:""}destination(t,{denoter:r="^",duration:i=350}={}){var n;const a={destination:"",duration:i,id:""};function s(l=""){const o=l.split(/(@|#)/);if(o.length!==5)return!1;const[u,p,T,E,x]=o;return p==="@"&&E==="#"}if(Nr.isStr(t))if(s(t)){const[l="",o,u="",p,T=""]=t.split(/(@|#)/);return{targetPage:l,currentPage:u,viewTag:T}}else if(t.includes(r)){const l=t.indexOf(r);if(a.isSamePage=l===0,a.isSamePage)a.destination="",a.id=t.replace(r,"");else{const o=(n=t.split(r)[1])===null||n===void 0?void 0:n.split(";");let u="",p=o[1]||"";p.startsWith(";")&&(p=p.replace(";","")),a.id=o[0]||"",a.destination=t.substring(0,l),p.split(":").forEach((T,E)=>E%2==1?a[u]=T:E%2==0?u=T:void 0)}}else a.destination=t,a.isSamePage=!1;else a.destination="";return a}queryString({destination:t="",pageUrl:r="",startPage:i=""}){const n="index.html?";r=r.indexOf(n)!==-1?r:r+n;let a=r.endsWith("?")?"":"-";if(t!==i){const s=r.indexOf(`?${t}`),l=r.indexOf(`-${t}`);s!==-1?(r=r.substring(0,s+1),a=r.endsWith("?")?"":"-"):l!==-1&&(r=r.substring(0,l),a=r.endsWith("?")?"":"-"),r+=`${a}${t}`}else r=n;return r}}fn.default=qg,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;const t=Ae;(0,t.__exportStar)(zi,e),(0,t.__exportStar)(er,e),(0,t.__exportStar)(xs,e);var r=fn;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return(0,t.__importDefault)(r).default}})}(Q);function Ve(e){return typeof e!="number"&&(e=Number(e)),e<0?Math.ceil(e):Math.floor(e)}function Yg(e,t){if(!t||typeof t!="object")return new Date(NaN);const r="years"in t?Ve(t.years):0,i="months"in t?Ve(t.months):0,n="weeks"in t?Ve(t.weeks):0,a="days"in t?Ve(t.days):0,s="hours"in t?Ve(t.hours):0,l="minutes"in t?Ve(t.minutes):0,o="seconds"in t?Ve(t.seconds):0,u=new Date(e.getTime()),p=i||r?Zg(u,i+r*12):u,T=a||n?Jg(p,a+n*7):p,E=l+s*60,d=(o+E*60)*1e3;return new Date(T.getTime()+d)}function Jg(e,t){const r=new Date(e.getTime()),i=Ve(t);return isNaN(i)?new Date(NaN):(i&&r.setDate(r.getDate()+i),r)}function Zg(e,t){const r=new Date(e.getTime()),i=Ve(t);if(isNaN(i))return new Date(NaN);if(!i)return r;const n=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+i+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function Xg(e){var t,r;return c.exports.isUnd(e)?"":c.exports.isStr(e)?e:((t=e.blueprint)==null?void 0:t.popUpView)||((r=e.blueprint)==null?void 0:r.viewTag)||e.get("popUpView")||e.get("viewTag")||e.id||""}function Rs(){return`_${Math.random().toString(36).substr(2,9)}`}function Qg(e){const t=new Date(e.getTime());return t.setHours(0,0,0,0),t}function ey(e){const[t,r,i]=e.if||[];return c.exports.isFnc(t)?(t==null?void 0:t())?r:i:t?r:i}function ty(e,t){return b.Identify.rootKey(e)?Q.toDataPath(e):b.Identify.localKey(e)?t?[t,...Q.toDataPath(e)]:Q.toDataPath(e):[]}function ry(e,t="",r){const i=Q.trimReference(r);return b.Identify.localKey(i)?J(c.exports.isFnc(e)?e():e,ty(i,t)):J(c.exports.isFnc(e)?e():e,Q.toDataPath(i))}function ce(e){return typeof e=="object"&&"blueprint"in(e||{})}var iy=Object.defineProperty,ny=Object.defineProperties,ay=Object.getOwnPropertyDescriptors,Cs=Object.getOwnPropertySymbols,sy=Object.prototype.hasOwnProperty,oy=Object.prototype.propertyIsEnumerable,Fs=(e,t,r)=>t in e?iy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gr=(e,t)=>{for(var r in t||(t={}))sy.call(t,r)&&Fs(e,r,t[r]);if(Cs)for(var r of Cs(t))oy.call(t,r)&&Fs(e,r,t[r]);return e},hn=(e,t)=>ny(e,ay(t)),js=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Z=(e,t,r)=>(js(e,t,"read from private field"),r?r.call(e):t.get(e)),Je=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},xt=(e,t,r,i)=>(js(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),ly=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())}),Ie,Ze,tr,Se,dt,Mr,Wr,Lr;const Ds=class{constructor(e,t){Je(this,Ie,void 0),Je(this,Ze,{}),Je(this,tr,[]),Je(this,Se,void 0),Je(this,dt,[]),Je(this,Mr,""),Je(this,Wr,null),Je(this,Lr,(r,i)=>{var n;let a;return r==="style"?c.exports.isUnd(i)?a=this.blueprint.style:c.exports.isStr(i)&&(a=(n=this.blueprint.style)==null?void 0:n[i]):r==="type"?a=this.blueprint.type:a=Z(this,Se)[r]||Z(this,Ie)[r],a}),xt(this,Ie,Ds.isComponent(e)?e.blueprint:e),xt(this,Se,hn(Gr({},Z(this,Ie)),{style:Gr({},Z(this,Ie).style)})),xt(this,Mr,(t==null?void 0:t.id)||Z(this,Se).id||Rs()),this.type=Z(this,Ie).type}static isComponent(e){return ce(e)}[Symbol.iterator](){const e=c.exports.entries(Z(this,Se));return{next(){return{done:!e.length,value:e.pop()||[]}}}}[Symbol.for("nodejs.util.inspect.custom")](){return hn(Gr({},this.toJSON()),{type:this.type,blueprint:Z(this,Ie),hooks:this.hooks,hookIds:Z(this,tr)})}get blueprint(){return Z(this,Ie)||xt(this,Ie,{type:this.type}),Z(this,Ie)}get children(){return Z(this,dt)||xt(this,dt,[]),Z(this,dt)}get contentType(){var e;return((e=this.blueprint)==null?void 0:e.contentType)||""}get hooks(){return Z(this,Ze)}get id(){return Z(this,Mr)}get length(){return this.children.length||0}get parent(){return Z(this,Wr)}get props(){return Z(this,Se)}get style(){return(!this.props.style||c.exports.isStr(this.props.style))&&(this.props.style={}),this.props.style}set style(e){Z(this,Se).style=e}get(e,t){if(c.exports.isStr(e))return e==="type"?this.type:Z(this,Lr).call(this,e,t);if(c.exports.isArr(e)){const r={};return e.forEach(i=>r[i]=Z(this,Lr).call(this,i)),r}}set(e,t,r){return e==="style"?this.style&&(this.style[t]=r):Z(this,Se)[e]=t,this}has(e){return e in(this.props||{})}remove(e,t){return e==="style"&&c.exports.isStr(t)?Z(this,Se).style&&delete Z(this,Se).style[t]:delete Z(this,Se)[e],this}toString({spaces:e=2}={}){return JSON.stringify(this.toJSON(),null,e)}setParent(e){return xt(this,Wr,e),this}child(e){return c.exports.isNum(e)?this.children[e]:this.children[0]}createChild(e){var t;return(t=e==null?void 0:e.setParent)==null||t.call(e,this),Z(this,dt).push(e),e}removeChild(e){if(e==null)return this.children.shift();if(c.exports.isNum(e))return this.children.splice(e,1)[0];if(c.exports.isStr(e)){const t=this.children.findIndex(r=>r.id===e);if(t>-1)return this.children.splice(t,1)[0]}else if(this.children.includes(e))return this.children.splice(this.children.indexOf(e),1)[0]}on(e,t,r=""){var i;if(r)if(!Z(this,tr).includes(r))Z(this,tr).push(r);else return this;return!c.exports.isArr(this.hooks[e])&&(this.hooks[e]=[]),(i=this.hooks[e])==null||i.push(t),this}off(e,t){var r,i,n;return c.exports.isArr(this.hooks[e])?(((r=this.hooks[e])==null?void 0:r.includes(t))&&((n=this.hooks[e])==null||n.splice((i=Z(this,Ze)[e])==null?void 0:i.indexOf(t),1)),this):this}emit(e,...t){return ly(this,null,function*(){if(c.exports.isArr(Z(this,Ze)[e]))return Promise.allSettled(Z(this,Ze)[e].map(r=>r==null?void 0:r(...t)))})}clear(e){const t=i=>{var n;c.exports.isArr(i)&&((n=i.forEach)==null||n.call(i,a=>{var s;a&&((s=a.parent)==null||s.removeChild(a),a.setParent(null),t(a.children))}),i.length=0)},r=()=>c.exports.keys(Z(this,Ze)).forEach(i=>{["PAGE_COMPONENTS","PAGE_CHANGED","PAGE_CREATED"].includes(i)||(Z(this,Ze)[i].length=0)});return e?(c.exports.arrayEach(e,i=>i==="children"?t(Z(this,dt)):r()),this):(t(this.children),r(),this)}edit(e,t){if(c.exports.isFnc(e)){const r=e(this.props);c.exports.isObj(r)&&c.exports.eachEntries(r,(i,n)=>{i==="style"?c.exports.assign(this.style,n):this.props[i]=n})}else if(c.exports.isStr(e))this.props[e]=t;else if(c.exports.isObj(e)){const r=(t==null?void 0:t.remove)?i=>{const n=i==="style"?this.style:this.props;c.exports.isStr(t.remove)?delete n[t.remove]:c.exports.isArr(t.remove)?t.remove.forEach(a=>delete n[a]):c.exports.isObj(t.remove)&&c.exports.eachEntries(t.remove,(a,s)=>(s==null?void 0:s())&&delete n[a])}:void 0;c.exports.eachEntries(e,(i,n)=>{i==="style"?(n===null?this.style={}:c.exports.isObj(n)?c.exports.assign(this.style,n):this.style=n,r==null||r("style")):(this.props[i]=n,r==null||r())})}}toJSON(){var e;return hn(Gr({},this.props),{id:this.id,parentId:((e=this.parent)==null?void 0:e.id)||null,children:this.children.map(t=>{var r;return(r=t==null?void 0:t.toJSON)==null?void 0:r.call(t)})})}};let _n=Ds;Ie=new WeakMap,Ze=new WeakMap,tr=new WeakMap,Se=new WeakMap,dt=new WeakMap,Mr=new WeakMap,Wr=new WeakMap,Lr=new WeakMap;const Br={actionTypes:["anonymous","emit","goto","toast"],components:["br","span"],emitTriggers:["dataKey","dataValue","path","placeholder","postMessage","register"],dataAttributes:["data-key","data-listid","data-name","data-globalid","data-options","data-placeholder","data-src","data-value","data-viewtag","data-ux"]},pn=[...b.actionTypes,...Br.actionTypes];[...b.componentTypes,...Br.components];const vn=[...Br.emitTriggers,...b.userEvent,"onInput","postMessage"],Ur={page:{hooks:{PAGE_CREATED:"PAGE_CREATED",PAGE_REMOVED:"PAGE_REMOVED",PAGE_UPDATED:"PAGE_UPDATED"}}},Vr=pn.filter(e=>!/(builtIn|emit|register)/i.test(e)),ht={border:{"1":{borderStyle:"none",borderRadius:"0px"},"2":{borderRadius:"0px",borderStyle:"none",borderBottomStyle:"solid"},"3":{borderStyle:"solid"},"4":{borderStyle:"dashed",borderRadius:"0px"},"5":{borderStyle:"none"},"6":{borderStyle:"solid",borderRadius:"0px"},"7":{borderBottomStyle:"solid",borderRadius:"0px"}}},gn={component:{list:{ADD_DATA_OBJECT:"ADD_DATA_OBJECT",DELETE_DATA_OBJECT:"DELETE_DATA_OBJECT"},page:{PAGE_CREATED:"PAGE_CREATED",PAGE_CHANGED:"PAGE_CHANGED",PAGE_COMPONENTS:"PAGE_COMPONENTS"},textField:{placeholder:"PLACEHOLDER"}}},Hr={REGISTER:"register",TRANSACTION:"transaction"},Ns={REQUEST_PAGE_OBJECT:"REQUEST_PAGE_OBJECT"},cy={DATA_KEY:"dataKey",DATA_VALUE:"dataValue",PATH:"path",PLACEHOLDER:"placeholder",POST_MESSAGE:"postMessage",REGISTER:"register",ON_BLUR:"onBlur",ON_CLICK:"onClick",ON_CHANGE:"onChange",ON_HOVER:"onHover",ON_MOUSEENTER:"onMouseEnter",ON_MOUSELEAVE:"onMouseLeave",ON_MOUSEOUT:"onMouseOut",ON_MOUSEOVER:"onMouseOver"};var uy=Object.defineProperty,fy=Object.defineProperties,dy=Object.getOwnPropertyDescriptors,Gs=Object.getOwnPropertySymbols,hy=Object.prototype.hasOwnProperty,_y=Object.prototype.propertyIsEnumerable,Ms=(e,t,r)=>t in e?uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,py=(e,t)=>{for(var r in t||(t={}))hy.call(t,r)&&Ms(e,r,t[r]);if(Gs)for(var r of Gs(t))_y.call(t,r)&&Ms(e,r,t[r]);return e},vy=(e,t)=>fy(e,dy(t)),Ws=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Oe=(e,t,r)=>(Ws(e,t,"read from private field"),r?r.call(e):t.get(e)),yn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},It=(e,t,r,i)=>(Ws(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),He,Xe,Qe;const Rt=e=>{const t=new Map;return e.forEach(r=>t.set(r,[])),t},Ls=()=>pn.reduce((e,t)=>(e[t]={executor:{calls:{count:0,timestamps:[]}}},e),{});class Bs{constructor(){yn(this,He,void 0),yn(this,Xe,void 0),yn(this,Qe,void 0),this.state=Ls(),It(this,He,Rt([...Vr])),It(this,Xe,Rt([])),It(this,Qe,Rt([...vn]));for(const t of Oe(this,He).keys())Object.defineProperty(this,t,{configurable:!0,enumerable:!0,get:()=>Oe(this,He).get(t)});Object.defineProperty(this,"builtIn",{configurable:!0,enumerable:!0,get:()=>Oe(this,Xe)}),Object.defineProperty(this,"emit",{configurable:!0,enumerable:!0,get:()=>Oe(this,Qe)})}[Symbol.iterator](){const t=[...Oe(this,He).values(),...Oe(this,Xe).values(),...Oe(this,Qe).values()].reverse();return{next:()=>({value:t.pop(),done:!t.length})}}[Symbol.for("nodejs.util.inspect.custom")](){return vy(py({},this),{length:this.length})}get length(){return Oe(this,He).size+Oe(this,Xe).size+Oe(this,Qe).size}clear(){Oe(this,He).clear(),Oe(this,Xe).clear(),Oe(this,Qe).clear(),this.state=Ls()}exists(t){if(c.exports.isFnc(t)){for(const r of this)if(r){for(const i of r)if("actionType"in i){if(i.fn===t)return!0}else if(i.some(n=>n.fn===t))return!0}}return!1}reset(){It(this,He,Rt([...Vr])),It(this,Xe,Rt([])),It(this,Qe,Rt([...vn]))}}He=new WeakMap,Xe=new WeakMap,Qe=new WeakMap;function ve(e){return!!(e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"created"))}var gy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ue=(e,t,r)=>(gy(e,t,"read from private field"),r?r.call(e):t.get(e)),Us=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},fe,Kr;const kr=class{constructor(){if(Us(this,fe,new Map),Us(this,Kr,{add:[],clear:[],remove:[]}),kr._inst)return kr._inst;kr._inst=this}[Symbol.for("nodejs.util.inspect.custom")](){const e={length:this.length,components:{}};for(const t of this)if(t){t.page in e.components||(e.components[t.page]={});const r=e.components[t.page];!r.ids&&(r.ids=[]),!r.total&&(r.total=0),r.ids.includes(t.component.id)||(r.ids.push(t.component.id),r.total++)}return e}[Symbol.iterator](){const e=[...ue(this,fe).values()];return{next(){return{value:e.pop(),done:!e.length}}}}get length(){return ue(this,fe).size}on(e,t){const r=ue(this,Kr)[e];return c.exports.isArr(r)&&!r.includes(t)&&r.push(t),this}emit(e,...t){var r,i;return((i=(r=ue(this,Kr)[e])==null?void 0:r.map)==null?void 0:i.call(r,n=>n(...t)))||[]}add(e,t){if(e){const r=ve(t)?t.page:c.exports.isObj(t)?t.page||"":t||"",i={component:e,page:r};ve(t)&&(i.pageId=t.id),ue(this,fe).set(e.id,i),this.emit("add",i)}return this.get(e)}clear(e){let t={},r=i=>{var n;const a=((n=i==null?void 0:i.component)==null?void 0:n.id)||"";t[a]=i,this.remove(i.component)};for(const i of ue(this,fe).values())e!==void 0?(e===i.page||i.pageId&&(e==null?void 0:e.startsWith("#"))&&i.pageId===e.substring(1))&&r(i):r(i);return this.emit("clear",t),t=null,this}find(e,t=""){return c.exports.isFnc(e)?[...this].find(r=>r&&e(r)):[...this].find(r=>(r==null?void 0:r.page)===t)}get(e){return c.exports.isObj(e)?ue(this,fe).get(e.id):e?ue(this,fe).get(e):ue(this,fe)}has(e){return c.exports.isNil(e)?!1:ue(this,fe).has(c.exports.isObj(e)?e.id||"":e)}remove(e){var t,r;if(c.exports.isObj(e)){if(e&&ue(this,fe).has(e.id)){const i=e.id,n=(r=ue(this,fe).get(e.id))==null?void 0:r.page;ue(this,fe).delete(e.id),this.emit("remove",{id:i,page:n})}}else if(ue(this,fe).has(e)){const i=e,n=(t=ue(this,fe).get(i))==null?void 0:t.page;ue(this,fe).delete(i),this.emit("remove",{id:i,page:n})}return this}filter(e){return c.exports.isStr(e)?this.reduce((t,r)=>r.page===e?t.concat(r):t,[]):this.reduce((t,r)=>e(r)?t.concat(r):t,[])}forEach(e){for(const t of this)t&&e(t)}map(e){return[...this].map(t=>t&&e(t))}reduce(e,t){return c.exports.reduce([...this],e,t)}};let Vs=kr;fe=new WeakMap,Kr=new WeakMap;function _t(e){return typeof e=="string"&&e.startsWith("0x")?e.replace("0x","#"):e||""}function bn(e){return Number(e)%1!=0}function Ct(e){return/[a-zA-Z]/i.test(String(e))}var Hs=Object.getOwnPropertySymbols,yy=Object.prototype.hasOwnProperty,by=Object.prototype.propertyIsEnumerable,my=(e,t)=>{var r={};for(var i in e)yy.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Hs)for(var i of Hs(e))t.indexOf(i)<0&&by.call(e,i)&&(r[i]=e[i]);return r},Ks=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},zr=(e,t,r)=>(Ks(e,t,"read from private field"),r?r.call(e):t.get(e)),$y=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Py=(e,t,r,i)=>(Ks(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),pt;const rr=e=>c.exports.isNull(e)||c.exports.isUnd(e),mn=class{constructor({width:e,height:t}={}){$y(this,pt,{}),this.width=void 0,this.height=void 0,this.width=e,this.height=t}static applyMinMax(e){var t=e,{width:r,height:i}=t,n=my(t,["width","height"]);return(rr(r)||rr(i))&&(r=innerWidth,i=innerHeight),n.aspectRatio<n.min?r=n.min*i:n.aspectRatio>n.max&&(r=n.max*i),{width:r,height:i}}static getAspectRatio(e,t){(rr(e)||rr(t))&&(e=innerWidth,t=innerHeight);const r=(l,o)=>l===o?l:l===0?o:o===0?l:~l&1?o&1?r(l>>1,o):r(l>>1,o>>1)<<1:~o&1?r(l,o>>1):l>o?r(l-o>>1,o):r(o-l>>1,l),i=r(e,t),n=e/i,a=t/i;return n/a}static getSize(e,t,{toFixed:r=2,unit:i}={}){let n;if(e=="0"?n=0:e=="1"?n=Number(t):c.exports.isStr(e)?Ct(e)?n=e.replace(/[a-zA-Z]+/gi,""):n=Number(e)*t:c.exports.isNum(e)&&(bn(e)?n=e*t:n=e,n=e*t),rr(n))return n;switch(i){case"noodl":return(Number(n)/t).toFixed(r);case"px":return`${Number(n).toFixed(r)}px`;default:return Number(n).toFixed(r)}}static isNil(e,t){return e===null||c.exports.isUnd(e)||e==="auto"||e===""||e===`0${t}`}static isNoodlUnit(e){return c.exports.isStr(e)&&!/[a-zA-Z]/i.test(e)&&!Number.isNaN(Number(e))}static toNum(e){return c.exports.isNum(e)?e:c.exports.isStr(e)?Number(e.replace(/[a-zA-Z]/gi,"")):Number(String(e))}isValid(){return this.width!==null&&this.height!==null}get onResize(){return zr(this,pt)}set onResize(e){if(typeof window!="undefined"){window.removeEventListener("resize",zr(this,pt)),Py(this,pt,()=>{const r=this.width,i=this.height;console.log("%c","color:#95a5a6;",{previousWidth:r,previousHeight:i,newWidth:window.innerWidth,newHeight:window.innerHeight}),this.width=window.innerWidth,this.height=window.innerHeight,e({width:this.width,height:this.height,previousWidth:r,previousHeight:i})});const t=r=>{window.removeEventListener("resize",zr(this,pt)),window.removeEventListener("unload",t)};typeof window!="undefined"&&(window.addEventListener("resize",zr(this,pt)),window.addEventListener("unload",t))}}getWidth(e,t){return mn.getSize(e,this.width,t)}getHeight(e,t){return mn.getSize(e,this.height,t)}};let ge=mn;pt=new WeakMap;var ks=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ye=(e,t,r)=>(ks(e,t,"read from private field"),r?r.call(e):t.get(e)),Ft=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},qr=(e,t,r,i)=>(ks(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Yr,ir,jt,nr,vt,$n;class Pn{constructor(t=new ge,{id:r=Rs(),name:i}={}){Ft(this,Yr,()=>[]),Ft(this,ir,{PAGE_CHANGED:[]}),Ft(this,jt,new Map),Ft(this,nr,void 0),Ft(this,vt,""),this.history=[],Ft(this,$n,n=>(a,s)=>{var l,o;return Promise.all((o=(l=ye(this,ir).PAGE_CHANGED)==null?void 0:l.map)==null?void 0:o.call(l,u=>u==null?void 0:u(a,s))),n==null?void 0:n(a,s)}),qr(this,nr,r),this.created=Date.now(),i&&qr(this,vt,i),this.viewport=t}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}get key(){return`${this.id}-${this.created}`}get id(){return ye(this,nr)}get components(){return ye(this,Yr).call(this)||[]}get onChange(){return ye(this,jt)}get page(){return ye(this,vt)}set page(t){if(ye(this,vt)===t)return;const r=ye(this,vt);if(qr(this,vt,t),this.history.push(t),this.history.length>10)for(;this.history.length>10;)this.history.shift();for(const i of ye(this,jt).values())i(r,t)}emit(t,...r){var i,n;(n=(i=ye(this,ir)[t])==null?void 0:i.forEach)==null||n.call(i,a=>a==null?void 0:a(...r))}on(t,r){return r&&ye(this,ir)[t].push(r),this}toJSON(){var t,r;return{created:this.created,components:this.components,currentPage:this.page,history:this.history,id:ye(this,nr),viewport:{width:((t=this.viewport)==null?void 0:t.width)||null,height:((r=this.viewport)==null?void 0:r.height)||null}}}toString(){var t;return JSON.stringify((t=this.toJSON)==null?void 0:t.call(this),null,2)}use(t){return typeof t=="function"?qr(this,Yr,t):typeof t=="object"&&"onChange"in t&&!ye(this,jt).has(t.onChange.id)&&ye(this,jt).set(t.onChange.id,ye(this,$n).call(this,t.onChange.fn)),this}}Yr=new WeakMap,ir=new WeakMap,jt=new WeakMap,nr=new WeakMap,vt=new WeakMap,$n=new WeakMap,Pn._id="root";var Ay=Object.defineProperty,Oy=Object.defineProperties,wy=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Sy=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,qs=(e,t,r)=>t in e?Ay(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ey=(e,t)=>{for(var r in t||(t={}))Sy.call(t,r)&&qs(e,r,t[r]);if(zs)for(var r of zs(t))Ty.call(t,r)&&qs(e,r,t[r]);return e},xy=(e,t)=>Oy(e,wy(t)),Iy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},oe=(e,t,r)=>(Iy(e,t,"read from private field"),r?r.call(e):t.get(e)),Jr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Dt,de,An,Zr;const Xr=class{constructor(){if(Jr(this,Dt,{[Ur.page.hooks.PAGE_CREATED]:[],[Ur.page.hooks.PAGE_REMOVED]:[]}),Jr(this,de,new Map),Jr(this,An,{created:new Map,removed:new Map}),Jr(this,Zr,(e,t)=>{var r,i;(i=(r=oe(this,Dt)[e])==null?void 0:r.forEach)==null||i.call(r,n=>n==null?void 0:n(t))}),Xr._inst)return Xr._inst;Xr._inst=this,this.on("PAGE_CREATED",({page:e})=>{this.state.created.set(e.created,{startPage:e.page,endPage:""})}),this.on("PAGE_REMOVED",e=>{this.state.removed.set(e.created,xy(Ey({},this.state.created.get(e.created)),{endPage:e.page})),this.state.created.delete(e.created)})}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}[Symbol.iterator](){const e=[...oe(this,de)].reverse();return{next(){return{value:e.pop(),done:!e.length}}}}get length(){return oe(this,de).size}get hooks(){return oe(this,Dt)}get state(){return oe(this,An)}clear(){for(const[e,{page:t}]of oe(this,de))c.exports.isArr(t.components)&&(t.components.length=0),oe(this,de).delete(e);return c.exports.forEach(e=>e.length=0,c.exports.values(oe(this,Dt))),this}create(e={}){var t;let{id:r,name:i,viewport:n}=e;r=r||(oe(this,de).size?void 0:"root");const a=new Pn(n,{id:r,name:i});e.onChange&&a.use({onChange:{id:e.onChange.id||"",fn:e.onChange.fn}}),oe(this,de).set(a.id,{page:a});const s={page:a};return ce(e.component)&&(s.component=e.component),oe(this,Zr).call(this,Ur.page.hooks.PAGE_CREATED,s),(t=oe(this,de).get(a.id))==null?void 0:t.page}get(e){return e?oe(this,de).get(e):[...oe(this,de).values()]}has(e){return oe(this,de).has(e)}forEach(e){c.exports.forEach(e,[...oe(this,de).values()])}on(e,t){var r,i;return(i=(r=oe(this,Dt)[e])==null?void 0:r.push)==null||i.call(r,t),this}remove(e){return c.exports.isNil(e)?this:(oe(this,de).has(e.id)&&oe(this,de).delete(e.id)&&oe(this,Zr).call(this,Ur.page.hooks.PAGE_REMOVED,e),this)}toJSON(){return c.exports.reduce([...oe(this,de).values()],(e,t)=>{if(!t)return e;const r=t.page,i=r.page||"unknown";return e.ids.includes(r.id)||e.ids.push(r.id),e.pageNames.includes(i)||e.pageNames.push(i),e},{ids:[],length:this.length,pageNames:[]})}};let Ys=Xr;Dt=new WeakMap,de=new WeakMap,An=new WeakMap,Zr=new WeakMap;var Ry=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ie=(e,t,r)=>(Ry(e,t,"read from private field"),r?r.call(e):t.get(e)),On=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},je,De,Ne;const Js=["head","body-top","body-bottom"];class Zs{constructor(){On(this,je,new Map),On(this,De,new Map),On(this,Ne,new Map)}[Symbol.iterator](){const t=[...ie(this,je).values(),...ie(this,De).values(),...ie(this,Ne).values()].reverse();return{next:()=>({value:t.pop(),done:!t.length})}}get length(){return ie(this,je).size+ie(this,De).size+ie(this,Ne).size}add(t,r){if(!Js.includes(t))throw new Error(`Invalid plugin location "${t}". Available options are: ${Js.join(", ")}`);const i=r.id||"";return t==="head"?ie(this,je).set(i,r):t==="body-top"?ie(this,De).set(i,r):t==="body-bottom"&&ie(this,Ne).set(i,r),r}clear(){return ie(this,je).clear(),ie(this,De).clear(),ie(this,Ne).clear(),this}get(t){switch(t){case"head":return ie(this,je);case"body-top":return ie(this,De);case"body-bottom":return ie(this,Ne);default:return[...ie(this,je).values(),...ie(this,De).values(),...ie(this,Ne).values()]}}has(t){return typeof t!="string"?!1:ie(this,je).has(t)||ie(this,De).has(t)||ie(this,Ne).has(t)}remove(t){if(typeof t!="string")return null;for(const r of[ie(this,je),ie(this,De),ie(this,Ne)])if(r.has(t)){const i=r.get(t);return r.delete(t),i||null}return null}}je=new WeakMap,De=new WeakMap,Ne=new WeakMap;var Cy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nt=(e,t,r)=>(Cy(e,t,"read from private field"),r?r.call(e):t.get(e)),Fy=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},et;const Qr=class{constructor(){if(Fy(this,et,new Map),Qr._inst)return Qr._inst;Qr._inst=this}clear(){return Nt(this,et).clear(),this}has(e){return e?Nt(this,et).has(e):!1}get(e){return e?Nt(this,et).get(e):Nt(this,et)}set(e,t){return Nt(this,et).set(e,t),t}remove(e){return Nt(this,et).delete(e),this}};let Xs=Qr;et=new WeakMap;var jy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},gt=(e,t,r)=>(jy(e,t,"read from private field"),r?r.call(e):t.get(e)),Qs=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yt,ei;const ti=class{constructor(){if(Qs(this,yt,new Map),Qs(this,ei,{register:new Map}),ti._inst)return ti._inst;ti._inst=this}clear(){return gt(this,yt).clear(),this}get(e){return e?gt(this,yt).get(e):gt(this,yt)}has(e){return gt(this,yt).has(e)}set(e,t){return gt(this,yt).set(e,t),this}getHandler(e,t){if(e==="register")return gt(this,ei).register.get(t)}useHandler(e,t){return e==="register"&&gt(this,ei).register.set(t.event,t.fn),this}};let eo=ti;yt=new WeakMap,ei=new WeakMap;var tt={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});class Dy extends Error{constructor(t){super(t);this.name="AbortExecuteError"}}ar.default=Dy;var ri={},ii={},be={};Object.defineProperty(be,"__esModule",{value:!0}),be.isString=be.isPlainObject=be.isFunction=be.isArray=be.createId=void 0;function Ny(){return`_${Math.random().toString(36).substr(2,9)}`}be.createId=Ny;function Gy(e){return Array.isArray(e)}be.isArray=Gy;function My(e){return typeof e=="function"}be.isFunction=My;function Wy(e){return!!(e&&!Array.isArray(e)&&typeof e=="object")}be.isPlainObject=Wy;function Ly(e){return typeof e=="string"}be.isString=Ly;var ni={},ai={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.triggers=e.REFRESH=e.trigger=e.ON_REFRESH=e.ON_STATUS=e.ON_ABORT=e.TIMED_OUT=e.RESOLVED=e.PENDING=e.ERROR=e.ABORTED=e.IN_PROGRESS=e.IDLE=void 0,e.IDLE="idle",e.IN_PROGRESS="in.progress",e.ABORTED="aborted",e.ERROR="error",e.PENDING="pending",e.RESOLVED="resolved",e.TIMED_OUT="timed.out",e.ON_ABORT="on.abort",e.ON_STATUS="on.status",e.ON_REFRESH="on.refresh",e.trigger={ON_BLUR:"onBlur",ON_CLICK:"onClick",ON_CHANGE:"onChange",ON_HOVER:"onHover",ON_MOUSEENTER:"onMouseEnter",ON_MOUSELEAVE:"onMouseLeave",ON_MOUSEOUT:"onMouseOut",ON_MOUSEOVER:"onMouseOver"},e.REFRESH="refresh",e.triggers=Object.values(e.trigger)})(ai);var By=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())}),si,oi,Gt,sr,li,or,rt,ci,Mt,ui,Wt;Object.defineProperty(ni,"__esModule",{value:!0});const q=Ae,wn=be,Uy=(0,q.__importDefault)(ar),bt=(0,q.__importStar)(ai),to=8e3;class Vy{constructor(t,r){si.set(this,void 0),oi.set(this,void 0),Gt.set(this,!1),sr.set(this,!1),li.set(this,{}),or.set(this,void 0),rt.set(this,1/0),ci.set(this,null),Mt.set(this,null),ui.set(this,void 0),Wt.set(this,null),this.error=null,this.hasExecutor=!1,this.receivedResult=!1,this.timeout=to,(0,q.__classPrivateFieldSet)(this,si,(0,wn.createId)(),"f"),(0,q.__classPrivateFieldSet)(this,or,r,"f"),(0,q.__classPrivateFieldSet)(this,ui,t,"f"),(0,q.__classPrivateFieldSet)(this,oi,r.actionType,"f")}[(si=new WeakMap,oi=new WeakMap,Gt=new WeakMap,sr=new WeakMap,li=new WeakMap,or=new WeakMap,rt=new WeakMap,ci=new WeakMap,Mt=new WeakMap,ui=new WeakMap,Wt=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return this.snapshot()}get actionType(){return(0,q.__classPrivateFieldGet)(this,oi,"f")}get aborted(){return(0,q.__classPrivateFieldGet)(this,Gt,"f")}get executed(){return(0,q.__classPrivateFieldGet)(this,sr,"f")}get executor(){return(0,q.__classPrivateFieldGet)(this,li,"f")}set executor(t){(0,q.__classPrivateFieldSet)(this,li,t,"f"),this.hasExecutor=(0,wn.isFunction)(t)}get id(){return(0,q.__classPrivateFieldGet)(this,si,"f")}get original(){return(0,q.__classPrivateFieldGet)(this,or,"f")}get trigger(){return(0,q.__classPrivateFieldGet)(this,ui,"f")}get status(){return(0,q.__classPrivateFieldGet)(this,ci,"f")}set status(t){(0,q.__classPrivateFieldSet)(this,ci,t,"f")}abort(t){(0,wn.isArray)(t)&&(t=t.join(", ")),this.clearTimeout(),this.status=bt.ABORTED,this.result=new Uy.default(t),(0,q.__classPrivateFieldSet)(this,Gt,!0,"f")}clearTimeout(){(0,q.__classPrivateFieldGet)(this,Mt,"f")&&clearTimeout((0,q.__classPrivateFieldGet)(this,Mt,"f")),(0,q.__classPrivateFieldSet)(this,Mt,null,"f"),(0,q.__classPrivateFieldSet)(this,rt,1/0,"f")}clearInterval(){(0,q.__classPrivateFieldGet)(this,Wt,"f")&&clearInterval((0,q.__classPrivateFieldGet)(this,Wt,"f")),(0,q.__classPrivateFieldSet)(this,Wt,null,"f"),(0,q.__classPrivateFieldSet)(this,rt,1/0,"f")}execute(...t){return By(this,null,function*(){var r;try{return this.clearTimeout(),this.clearInterval(),(0,q.__classPrivateFieldSet)(this,rt,this.timeout,"f"),this.error=null,(0,q.__classPrivateFieldSet)(this,sr,!1,"f"),this.result=void 0,this.status=bt.PENDING,(0,q.__classPrivateFieldSet)(this,Wt,setInterval(()=>(0,q.__classPrivateFieldSet)(this,rt,(0,q.__classPrivateFieldGet)(this,rt,"f")-1e3,"f"),1e3),"f"),(0,q.__classPrivateFieldSet)(this,Mt,setTimeout(()=>{this.clearTimeout(),this.status=bt.TIMED_OUT},this.timeout||to),"f"),this.result=(0,q.__classPrivateFieldGet)(this,Gt,"f")?void 0:yield(r=this.executor)===null||r===void 0?void 0:r.call(this,...t),this.result!==void 0&&(this.receivedResult=!0),(0,q.__classPrivateFieldGet)(this,Gt,"f")||(this.status=bt.RESOLVED,(0,q.__classPrivateFieldSet)(this,sr,!0,"f")),this.result}catch(i){throw this.error=i,this.status=bt.ERROR,i}finally{this.clearTimeout(),this.clearInterval()}})}snapshot(){const t={actionType:this.actionType,error:this.error,executed:this.executed,hasExecutor:this.hasExecutor,id:this.id,original:(0,q.__classPrivateFieldGet)(this,or,"f"),remaining:(0,q.__classPrivateFieldGet)(this,rt,"f"),receivedResult:this.receivedResult,status:this.status,trigger:this.trigger,timeout:this.timeout};return this.status===bt.RESOLVED?t.result=this.result:this.status===bt.ERROR&&(t.result=this.error),t}toString(){return JSON.stringify(this.snapshot(),null,2)}}ni.default=Vy,Object.defineProperty(ii,"__esModule",{value:!0});const Hy=Ae,Lt=be,Ky=(0,Hy.__importDefault)(ni);function ky(e,t){let r,i;return(0,Lt.isString)(e)&&!(0,Lt.isString)(t)&&(0,Lt.isPlainObject)(t)?(r=e,i=t):(0,Lt.isPlainObject)(e)&&(!(0,Lt.isString)(e)&&!("actionType"in e)&&"action"in e?(r=e.trigger,i=e.action):!(0,Lt.isString)(e)&&"actionType"in e&&(r=e.trigger,i=e)),new Ky.default(r||"",i)}ii.default=ky;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});function zy(e){return!!(e&&!Array.isArray(e)&&typeof e=="object"&&!("queue"in e)&&("hasExecutor"in e||"executor"in e))}lr.default=zy;var Sn=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())}),Bt,Ut,mt,Ke,fi,di,cr,it,Ge,he,Me,nt,me,$t,Tn,ur,_e;Object.defineProperty(ri,"__esModule",{value:!0});const $=Ae,ro=(0,$.__importDefault)(ar),io=(0,$.__importDefault)(ii),qy=(0,$.__importDefault)(lr),ke=be,we=(0,$.__importStar)(ai);class En{constructor(t,r,i,n=(0,ke.createId)()){Bt.set(this,void 0),Ut.set(this,void 0),mt.set(this,null),Ke.set(this,null),fi.set(this,{}),di.set(this,void 0),cr.set(this,[]),it.set(this,void 0),Ge.set(this,{}),he.set(this,[]),Me.set(this,[]),nt.set(this,we.IDLE),me.set(this,null),this.data=new Map,$t.set(this,()=>({actions:this.actions,data:this.data,trigger:this.trigger})),Tn.set(this,()=>{(0,$.__classPrivateFieldGet)(this,me,"f")&&clearTimeout((0,$.__classPrivateFieldGet)(this,me,"f")),this.loadQueue(),(0,$.__classPrivateFieldGet)(this,ur,"f").call(this,we.IDLE),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onRefresh")}),ur.set(this,(a,s)=>(a===we.IDLE?(0,$.__classPrivateFieldSet)(this,nt,we.IDLE,"f"):a===we.IN_PROGRESS?(0,$.__classPrivateFieldSet)(this,nt,we.IN_PROGRESS,"f"):a===we.ABORTED?((0,$.__classPrivateFieldSet)(this,nt,we.ABORTED,"f"),(0,ke.isArray)(s)&&s.length>1?(0,$.__classPrivateFieldSet)(this,Bt,s,"f"):(0,ke.isArray)(s)?(0,$.__classPrivateFieldSet)(this,Bt,s[0],"f"):(0,ke.isString)(s)&&(0,$.__classPrivateFieldSet)(this,Bt,s,"f")):a===we.ERROR&&((0,$.__classPrivateFieldSet)(this,nt,we.ERROR,"f"),(0,$.__classPrivateFieldSet)(this,Ke,s,"f")),this)),_e.set(this,(a,...s)=>{var l,o,u;(u=(o=(l=(0,$.__classPrivateFieldGet)(this,Ge,"f"))===null||l===void 0?void 0:l[a])===null||o===void 0?void 0:o.forEach)===null||u===void 0||u.call(o,p=>{var T,E;return(E=(T=p)===null||T===void 0?void 0:T.call)===null||E===void 0?void 0:E.call(T,this,...s)})}),(0,$.__classPrivateFieldSet)(this,di,n,"f"),this.trigger=t,(0,$.__classPrivateFieldSet)(this,Ut,r,"f"),(0,$.__classPrivateFieldSet)(this,it,i,"f")}static createGenerator(t){return(0,$.__asyncGenerator)(this,arguments,function*(){let i,n=[],a;for(;t.queue.length;)i=t.queue.shift(),a=t.isAborted()?void 0:yield(0,$.__await)(yield yield(0,$.__await)(i)),n.push({action:i,result:a});return yield(0,$.__await)(n)})}[(Bt=new WeakMap,Ut=new WeakMap,mt=new WeakMap,Ke=new WeakMap,fi=new WeakMap,di=new WeakMap,cr=new WeakMap,it=new WeakMap,Ge=new WeakMap,he=new WeakMap,Me=new WeakMap,nt=new WeakMap,me=new WeakMap,$t=new WeakMap,Tn=new WeakMap,ur=new WeakMap,_e=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return this.snapshot()}get actions(){return(0,$.__classPrivateFieldGet)(this,Ut,"f")}get current(){return(0,$.__classPrivateFieldGet)(this,mt,"f")}get id(){return(0,$.__classPrivateFieldGet)(this,di,"f")||""}get injected(){return(0,$.__classPrivateFieldGet)(this,cr,"f")}get queue(){return(0,$.__classPrivateFieldGet)(this,he,"f")}set loader(t){(0,$.__classPrivateFieldSet)(this,it,t,"f")}abort(t){return Sn(this,null,function*(){let r;t&&((0,ke.isArray)(t)&&t.length>1?t.push(...t):(0,ke.isArray)(t)?r=t[0]:t&&(r=t)),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onAbortStart",r),(0,$.__classPrivateFieldGet)(this,ur,"f").call(this,we.ABORTED,r),this.current&&!this.current.executed&&(0,$.__classPrivateFieldGet)(this,he,"f").unshift(this.current);let i=[],n=[];for(;(0,$.__classPrivateFieldGet)(this,he,"f").length;){const a=(0,$.__classPrivateFieldGet)(this,he,"f").shift();if(a&&a.status!=="aborted")try{(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onBeforeAbortAction",{action:a,queue:(0,$.__classPrivateFieldGet)(this,he,"f")}),a==null||a.abort(r||""),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onAfterAbortAction",{action:a,queue:(0,$.__classPrivateFieldGet)(this,he,"f")})}catch(s){(0,$.__classPrivateFieldSet)(this,Ke,s,"f"),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onAbortError",{action:a,error:s})}finally{(0,$.__classPrivateFieldGet)(this,Me,"f").push({action:a,result:new ro.default("Aborted from calling the abort method")})}}return(0,$.__classPrivateFieldSet)(this,mt,null,"f"),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onAbortEnd",{aborted:i,error:n}),(0,$.__classPrivateFieldGet)(this,Me,"f")})}clear(t){arguments.length?t==="data"?this.data.clear():t==="actions"?(0,$.__classPrivateFieldGet)(this,Ut,"f").length=0:t==="queue"?(0,$.__classPrivateFieldGet)(this,he,"f").length=0:t==="results"?(0,$.__classPrivateFieldGet)(this,Me,"f").length=0:t==="timeout"?(0,$.__classPrivateFieldGet)(this,me,"f")&&(clearTimeout((0,$.__classPrivateFieldGet)(this,me,"f")),(0,$.__classPrivateFieldSet)(this,me,null,"f")):t==="error"?(0,$.__classPrivateFieldGet)(this,Ke,"f")&&(0,$.__classPrivateFieldSet)(this,Ke,null,"f"):t==="hooks"&&Object.keys((0,$.__classPrivateFieldGet)(this,Ge,"f")).forEach(r=>delete(0,$.__classPrivateFieldGet)(this,Ge,"f")[r]):(this.data.clear(),(0,$.__classPrivateFieldSet)(this,mt,null,"f"),(0,$.__classPrivateFieldGet)(this,Ut,"f").length=0,(0,$.__classPrivateFieldGet)(this,he,"f").length=0,(0,$.__classPrivateFieldGet)(this,Me,"f").length=0,(0,$.__classPrivateFieldGet)(this,me,"f")&&clearTimeout((0,$.__classPrivateFieldGet)(this,me,"f")),(0,$.__classPrivateFieldGet)(this,Ke,"f")&&(0,$.__classPrivateFieldSet)(this,Ke,null,"f"),Object.keys((0,$.__classPrivateFieldGet)(this,Ge,"f")).forEach(r=>delete(0,$.__classPrivateFieldGet)(this,Ge,"f")[r]))}execute(t){return Sn(this,arguments,function*(r,{timeout:i=1e4}={}){var n,a,s,l,o;try{(0,$.__classPrivateFieldSet)(this,Me,[],"f"),(0,$.__classPrivateFieldGet)(this,ur,"f").call(this,we.IN_PROGRESS),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onExecuteStart",Object.assign(Object.assign({},(0,$.__classPrivateFieldGet)(this,$t,"f").call(this)),{args:r,queue:this.queue,timeout:i}));let u,p,T;if(p=yield this.next(),p)for(;!(p==null?void 0:p.done);)try{(0,$.__classPrivateFieldGet)(this,me,"f")&&clearTimeout((0,$.__classPrivateFieldGet)(this,me,"f"));let E=u;(0,$.__classPrivateFieldSet)(this,me,setTimeout(()=>{var x;const d=`Action of type "${E==null?void 0:E.actionType}" timed out`;(x=E==null?void 0:E.abort)===null||x===void 0||x.call(E,d),E=null;try{this.abort(d)}catch(f){throw new ro.default(f.message)}},i),"f"),p?p.done||(u=p==null?void 0:p.value,(u==null?void 0:u.status)!=="aborted"&&((0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onBeforeActionExecute",Object.assign(Object.assign({},(0,$.__classPrivateFieldGet)(this,$t,"f").call(this)),{action:u,args:r})),T=yield(n=u==null?void 0:u.execute)===null||n===void 0?void 0:n.call(u,r),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onExecuteResult",T),(0,$.__classPrivateFieldGet)(this,Me,"f").push({action:u,result:u==null?void 0:u.result}),p=yield(a=this.next)===null||a===void 0?void 0:a.call(this,T))):yield this.abort(`Expected an iterator to be returned but received ${typeof p} instead`),(0,ke.isPlainObject)(T)&&"wait"in T&&(yield(s=this===null||this===void 0?void 0:this.abort)===null||s===void 0?void 0:s.call(this,`An action returned from a "${u==null?void 0:u.actionType}" type requested to wait`))}catch(E){throw E}finally{(0,$.__classPrivateFieldGet)(this,me,"f")&&clearTimeout((0,$.__classPrivateFieldGet)(this,me,"f"))}}catch(u){const p=u instanceof Error?u:new Error(String(u));(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onExecuteError",Object.assign(Object.assign({},(0,$.__classPrivateFieldGet)(this,$t,"f").call(this)),{current:this.current,error:p})),yield(l=this.abort)===null||l===void 0?void 0:l.call(this,p.message)}finally{(o=(0,$.__classPrivateFieldGet)(this,Tn,"f"))===null||o===void 0||o.call(this),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onExecuteEnd",(0,$.__classPrivateFieldGet)(this,$t,"f").call(this))}return(0,$.__classPrivateFieldGet)(this,Me,"f")})}inject(t){(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onBeforeInject",Object.assign(Object.assign({},(0,$.__classPrivateFieldGet)(this,$t,"f").call(this)),{action:t,current:this.current}));const r=this.load(t);return(0,$.__classPrivateFieldGet)(this,he,"f").unshift(r),(0,$.__classPrivateFieldGet)(this,cr,"f").push(r),(0,$.__classPrivateFieldGet)(this,_e,"f").call(this,"onAfterInject",t,r),r}isAborted(){return(0,$.__classPrivateFieldGet)(this,nt,"f")===we.ABORTED}load(t){var r;return(0,ke.isArray)(t)?((r=(0,$.__classPrivateFieldGet)(this,it,"f"))===null||r===void 0?void 0:r.call(this,t))||t.map(i=>(0,io.default)(this.trigger,i)):(0,$.__classPrivateFieldGet)(this,it,"f")?(0,$.__classPrivateFieldGet)(this,it,"f").call(this,[t])[0]:(0,io.default)(this.trigger,t)}loadQueue(){var t;let r=((t=(0,$.__classPrivateFieldGet)(this,it,"f"))===null||t===void 0?void 0:t.call(this,this.actions))||[];if(Array.isArray(r)||(r=[r]),r.forEach((i,n)=>(0,$.__classPrivateFieldGet)(this,he,"f")[n]=i),(0,$.__classPrivateFieldGet)(this,he,"f").length>r.length)for(;(0,$.__classPrivateFieldGet)(this,he,"f").length>r.length;)(0,$.__classPrivateFieldGet)(this,he,"f").pop();return(0,$.__classPrivateFieldSet)(this,fi,En.createGenerator(this),"f"),this.queue}next(t){return Sn(this,null,function*(){var r;const i=yield(r=(0,$.__classPrivateFieldGet)(this,fi,"f"))===null||r===void 0?void 0:r.next(t);return i&&(!i.done&&(0,qy.default)(i.value)&&(0,$.__classPrivateFieldSet)(this,mt,i.value,"f"),i.done&&(0,$.__classPrivateFieldSet)(this,mt,null,"f")),i})}snapshot(t){return Object.assign({abortReason:(0,$.__classPrivateFieldGet)(this,Bt,"f"),actions:this.actions,data:Array.from(this.data.values()),error:(0,$.__classPrivateFieldGet)(this,Ke,"f"),current:this.current,injected:(0,$.__classPrivateFieldGet)(this,cr,"f"),queue:this.queue.map(i=>i.snapshot()),results:(0,$.__classPrivateFieldGet)(this,Me,"f"),status:(0,$.__classPrivateFieldGet)(this,nt,"f"),trigger:this.trigger},t)}use(t){return(0,ke.isPlainObject)(t)&&Object.entries(t).forEach(([r,i])=>{var n;(0,$.__classPrivateFieldGet)(this,Ge,"f")[r]||((0,$.__classPrivateFieldGet)(this,Ge,"f")[r]=[]),(n=(0,$.__classPrivateFieldGet)(this,Ge,"f")[r])===null||n===void 0||n.push(i)}),this}}ri.default=En;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Yy=(0,Ae.__importDefault)(ri);function Jy(e,t,r,i){let n,a=[],s,l="";return typeof e=="string"?(n=e,a=t,s=r,l=i):(n=e.trigger,a=e.actions,s=e.loader,l=e.id),new Yy.default(n,a,s,l)}xn.default=Jy;var In={};Object.defineProperty(In,"__esModule",{value:!0});const Zy=(0,Ae.__importDefault)(lr);function Xy(e){return!!(e&&typeof e=="object"&&!(0,Zy.default)(e)&&("queue"in e||"loadQueue"in e))}In.default=Xy;var no={};Object.defineProperty(no,"__esModule",{value:!0}),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.triggers=e.trigger=e.isActionChain=e.isAction=e.createActionChain=e.createAction=e.Action=e.ActionChain=e.AbortExecuteError=void 0;const t=Ae;var r=ar;Object.defineProperty(e,"AbortExecuteError",{enumerable:!0,get:function(){return(0,t.__importDefault)(r).default}});var i=ri;Object.defineProperty(e,"ActionChain",{enumerable:!0,get:function(){return(0,t.__importDefault)(i).default}});var n=ni;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return(0,t.__importDefault)(n).default}});var a=ii;Object.defineProperty(e,"createAction",{enumerable:!0,get:function(){return(0,t.__importDefault)(a).default}});var s=xn;Object.defineProperty(e,"createActionChain",{enumerable:!0,get:function(){return(0,t.__importDefault)(s).default}});var l=lr;Object.defineProperty(e,"isAction",{enumerable:!0,get:function(){return(0,t.__importDefault)(l).default}});var o=In;Object.defineProperty(e,"isActionChain",{enumerable:!0,get:function(){return(0,t.__importDefault)(o).default}});var u=ai;Object.defineProperty(e,"trigger",{enumerable:!0,get:function(){return u.trigger}}),Object.defineProperty(e,"triggers",{enumerable:!0,get:function(){return u.triggers}}),(0,t.__exportStar)(no,e)}(tt);var Qy=Object.defineProperty,e0=Object.defineProperties,t0=Object.getOwnPropertyDescriptors,ao=Object.getOwnPropertySymbols,r0=Object.prototype.hasOwnProperty,i0=Object.prototype.propertyIsEnumerable,so=(e,t,r)=>t in e?Qy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oo=(e,t)=>{for(var r in t||(t={}))r0.call(t,r)&&so(e,r,t[r]);if(ao)for(var r of ao(t))i0.call(t,r)&&so(e,r,t[r]);return e},lo=(e,t)=>e0(e,t0(t));class hi extends tt.Action{constructor(t,r){var i,n;r=lo(oo({},r),{actionType:"emit"});super(t,r);this.actions=((i=r==null?void 0:r.emit)==null?void 0:i.actions)||(r==null?void 0:r.actions)||[],this.dataKey=((n=r==null?void 0:r.emit)==null?void 0:n.dataKey)||(r==null?void 0:r.dataKey)}get executor(){return super.executor}set executor(t){super.executor=t}snapshot(){return lo(oo({},super.snapshot()),{dataKey:this.dataKey,actions:this.actions})}}function n0(e){const[t,r,i]=(e==null?void 0:e.if)||[];return b.Identify.isBoolean(t)?b.Identify.isBooleanTrue(t)?r:i:c.exports.isFnc(t)?t()?r:i:t?r:i}function Rn(e,t){if(!e)return null;let r=e==null?void 0:e.parent;if(t(r))return r;for(;r;){if(t(r.parent))return r.parent;r=r.parent}return r||null}function Re(e){var t,r;if(!ce(e)||!_i(e))return null;let i,n,a=at(e);if(b.Identify.component.listItem(e)?n=e:n=Rn(e,b.Identify.component.listItem),ce(n)){if(a&&n.props[a])return n.props[a];let s=n.parent,l=c.exports.isNum(n.get("index"))?n.get("index"):n.get("listIndex");if(ce(s)&&(b.Identify.component.listItem(e)?i=n.get(a):i=(t=s.get("listObject"))==null?void 0:t[l]),!i&&c.exports.isNum(l)){const o=ce(s)?(r=s.blueprint)==null?void 0:r.listObject:void 0;(o==null?void 0:o.length)&&(i=o[l])}}return i||null}function at(e){var t,r,i;return ce(e)?b.Identify.component.list(e)?((t=e.blueprint)==null?void 0:t.iteratorVar)||"":((i=(r=Rn(e,n=>b.Identify.component.list(n)))==null?void 0:r.blueprint)==null?void 0:i.iteratorVar)||"":""}function a0(e){if(!e)return[];const t=[e];return Dn(e,r=>t.push(r)),t}function s0(e){if(typeof window!="undefined"){if(e)return typeof e=="string"&&(e=[e]),c.exports.isArr(e)?e.reduce((i,n)=>(i[n]=document.querySelector(`[data-key="${n}"]`),i),{}):[];const t={},r=document.querySelectorAll("[data-key]");return r&&r.forEach(i=>{const n=i.dataset;n.key&&n.name?t[n.name]=document.querySelector(`[data-key="${n.key}"]`):console.log("%cInvalid data name and/or data key","color:#e74c3c;font-weight:bold;",{dataset:n,node:i})}),t}}function Cn(e){if(e){if(typeof e=="string"){const t=e;e=document.querySelector(`[data-key="${t}"]`)}if(e instanceof Element)switch(e.constructor.name){case"HTMLInputElement":case"HTMLSelectElement":case"HTMLTextAreaElement":return e.value;case"HTMLButtonElement":console.log("%c[getDataValue] Tried to retrieve a data value from a button element but there is no implementation for it. Perhaps it needs to be supported?","color:#e74c3c;font-weight:bold;",{node:e});break}}return""}function o0(e){const t={};let r;if(c.exports.isArr(e))r=i=>t[i]=Cn(i),e.forEach(r);else if(c.exports.isObj(e))r=i=>t[i]=Cn((e==null?void 0:e[i])||""),Object.keys(e||{}).forEach(r);else{if(arguments.length)return console.log("%c[getDataValues] nodes is not an array or object","color:#e74c3c;font-weight:bold;",e),t;{const i=s0();i&&(r=n=>{const a=i[n];a?t[n]=Cn(a):console.log(`%c[getDataValues] Attempted to find a node for key ${n} but received null or undefined. The program should not have gotten here`,"color:#e74c3c;font-weight:bold;",{allNodes:i,node:a,key:n})},Object.keys(i).forEach(r))}}return t}function l0(e){return"head"}function _i(e){return ce(e)?!!at(e):!1}function Fn(e){return e.type==="chatList"||e.type==="list"}function jn(e,{page:t="",root:r={}}){let i=e.replace(/(\.\.|\.)/,"");return e[0]===e[0].toLowerCase()?J(r==null?void 0:r[t],i):e[0]===e[0].toUpperCase()?J(r,i):""}function c0(e,t){var r,i;return!e||!ce(t)?null:t.get(e)||t[e]||(t.has(e)||((r=t.props)==null?void 0:r[e]))&&((i=t.blueprint)==null?void 0:i[e])||null}function Dn(e,t){let r,i;if(c.exports.isFnc(e)?(r=t,i=e):(r=e,i=t),r&&c.exports.isArr(r.children))for(const n of r.children)i==null||i(n),i&&Dn(n,i);r=void 0,i=void 0}function ze(e,t){let r="",i="";if(c.exports.isStr(t)){if(r=t,!e)return r||"";c.exports.isStr(e)?/^(http|blob)/i.test(e)?i=e:e.startsWith("~/")||(i=r+e):i=`${r}${e}`}else if(c.exports.isObj(t)){i=e||"";let{dataObject:n,iteratorVar:a=""}=t;if(c.exports.isStr(i)){if(i.startsWith("http"))return i;c.exports.isObj(n)&&c.exports.isStr(a)&&(a&&i.startsWith(a)&&(i=Q.excludeIteratorVar(i,a)||""),i=J(n,i),c.exports.isStr(i)?/^(http|blob)/i.test(i)?i=i:i.startsWith("~/")||(i=`${r}${i}`):i=`${r}${i}`)}}return i}var u0=Object.defineProperty,co=Object.getOwnPropertySymbols,f0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable,uo=(e,t,r)=>t in e?u0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fo=(e,t)=>{for(var r in t||(t={}))f0.call(t,r)&&uo(e,r,t[r]);if(co)for(var r of co(t))d0.call(t,r)&&uo(e,r,t[r]);return e},ho=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},fr=(e,t,r)=>(ho(e,t,"read from private field"),r?r.call(e):t.get(e)),pi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},vi=(e,t,r,i)=>(ho(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),_o=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())}),gi,yi,bi,dr;class h0{constructor(){pi(this,gi,{}),pi(this,yi,null)}get next(){return fr(this,yi)}set next(t){vi(this,yi,t)}get resolver(){return fr(this,gi)}set resolver(t){vi(this,gi,t)}}gi=new WeakMap,yi=new WeakMap;class Vt extends h0{constructor(t="",r){super();pi(this,bi,!1),pi(this,dr,void 0),vi(this,dr,t),r&&this.setResolver(r)}get internal(){return fr(this,bi)}set internal(t){if(!t)throw new Error("An internal resolver cannot disable its internal behavior");vi(this,bi,t)}get name(){return fr(this,dr)}setResolver(t){return this.resolver=t,this}resolve(t,r){return _o(this,null,function*(){var i;if(!t)return;const n=function(s){return _o(this,null,function*(){var l,o;c.exports.isObj(s)&&(r=fo(fo({},r),s)),yield(o=(l=this.next)==null?void 0:l.resolve)==null?void 0:o.call(l,t,r)})}.bind(this);yield(i=this.resolver)==null?void 0:i.call(this,t,r,n)})}toString(){return`Resolver [${fr(this,dr)}]`}}bi=new WeakMap,dr=new WeakMap;var po=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const Nn=new Vt("resolveAsync");function _0(e,t){return po(this,arguments,function*(r,{createActionChain:i,getAssetsUrl:n,on:a}){var s,l,o,u,p;const T=r.blueprint||{},{dataValue:E,path:x,placeholder:d}=T;if(b.Identify.folds.emit(E)){const f=i("dataValue",[{emit:E.emit,actionType:"emit"}]);(a==null?void 0:a.actionChain)&&f.use(a.actionChain);const h=(l=(yield(s=f==null?void 0:f.execute)==null?void 0:s.call(f)).find(g=>!!(g==null?void 0:g.result)))==null?void 0:l.result;r.edit({"data-value":h}),yield r.emit("data-value",h)}if(b.Identify.folds.emit(x)){const f=i("path",[{emit:x.emit,actionType:"emit"}]);(a==null?void 0:a.actionChain)&&f.use(a.actionChain);const v=yield f.execute();let h=(o=v==null?void 0:v.find(g=>!!(g==null?void 0:g.result)))==null?void 0:o.result;b.Identify.component.page(r)||(h=h?ze(h,n()):"",r.edit({src:h}),r.edit({"data-src":h}),r.emit("path",h))}if(b.Identify.folds.emit(d)){const f=i("placeholder",[{emit:d.emit,actionType:"emit"}]);(a==null?void 0:a.actionChain)&&f.use(a.actionChain);const v=yield(u=f.execute)==null?void 0:u.call(f),h=(p=v==null?void 0:v.find(g=>!!g.result))==null?void 0:p.result;r.edit({"data-placeholder":h}),r.emit("placeholder",h)}})}Nn.setResolver((e,t,r)=>po(void 0,null,function*(){try{const i=e.blueprint||{},{createActionChain:n,on:a}=t;return b.userEvent.concat("postMessage").forEach(s=>{if(i[s]){const l=n(s,i[s]);(a==null?void 0:a.actionChain)&&l.use(a.actionChain),e.edit({[s]:l}),s!=="postMessage"&&(e.style.cursor="pointer")}if(i.onTextChange){const l=n("onInput",i.onTextChange);e.edit({onInput:l}),(a==null?void 0:a.actionChain)&&l.use(a.actionChain)}}),yield _0(e,t),r==null?void 0:r()}catch(i){throw console.error(i),i}}));var p0=Ar;function v0(){this.__data__=new p0,this.size=0}var g0=v0;function y0(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var b0=y0;function m0(e){return this.__data__.get(e)}var $0=m0;function P0(e){return this.__data__.has(e)}var A0=P0,O0=Ar,w0=Li,S0=Ta,T0=200;function E0(e,t){var r=this.__data__;if(r instanceof O0){var i=r.__data__;if(!w0||i.length<T0-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new S0(i)}return r.set(e,t),this.size=r.size,this}var x0=E0,I0=Ar,R0=g0,C0=b0,F0=$0,j0=A0,D0=x0;function Ht(e){var t=this.__data__=new I0(e);this.size=t.size}Ht.prototype.clear=R0,Ht.prototype.delete=C0,Ht.prototype.get=F0,Ht.prototype.has=j0,Ht.prototype.set=D0;var vo=Ht,go=es;function N0(e,t,r){t=="__proto__"&&go?go(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Gn=N0,G0=Gn,M0=$r,W0=Object.prototype,L0=W0.hasOwnProperty;function B0(e,t,r){var i=e[t];(!(L0.call(e,t)&&M0(i,r))||r===void 0&&!(t in e))&&G0(e,t,r)}var Mn=B0,U0=Mn,V0=Gn;function H0(e,t,r,i){var n=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],o=i?i(r[l],e[l],l,r,e):void 0;o===void 0&&(o=e[l]),n?V0(r,l,o):U0(r,l,o)}return r}var hr=H0;function K0(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var k0=K0,_r={exports:{}};function z0(){return!1}var q0=z0;(function(e,t){var r=pe,i=q0,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,l=s?r.Buffer:void 0,o=l?l.isBuffer:void 0,u=o||i;e.exports=u})(_r,_r.exports);var Y0=wt,J0=Hi,Z0=Be,X0="[object Arguments]",Q0="[object Array]",eb="[object Boolean]",tb="[object Date]",rb="[object Error]",ib="[object Function]",nb="[object Map]",ab="[object Number]",sb="[object Object]",ob="[object RegExp]",lb="[object Set]",cb="[object String]",ub="[object WeakMap]",fb="[object ArrayBuffer]",db="[object DataView]",hb="[object Float32Array]",_b="[object Float64Array]",pb="[object Int8Array]",vb="[object Int16Array]",gb="[object Int32Array]",yb="[object Uint8Array]",bb="[object Uint8ClampedArray]",mb="[object Uint16Array]",$b="[object Uint32Array]",re={};re[hb]=re[_b]=re[pb]=re[vb]=re[gb]=re[yb]=re[bb]=re[mb]=re[$b]=!0,re[X0]=re[Q0]=re[fb]=re[eb]=re[db]=re[tb]=re[rb]=re[ib]=re[nb]=re[ab]=re[sb]=re[ob]=re[lb]=re[cb]=re[ub]=!1;function Pb(e){return Z0(e)&&J0(e.length)&&!!re[Y0(e)]}var Ab=Pb;function Ob(e){return function(t){return e(t)}}var Wn=Ob,pr={exports:{}};(function(e,t){var r=ya,i=t&&!t.nodeType&&t,n=i&&!0&&e&&!e.nodeType&&e,a=n&&n.exports===i,s=a&&r.process,l=function(){try{var o=n&&n.require&&n.require("util").types;return o||s&&s.binding&&s.binding("util")}catch(u){}}();e.exports=l})(pr,pr.exports);var wb=Ab,Sb=Wn,yo=pr.exports,bo=yo&&yo.isTypedArray,Tb=bo?Sb(bo):wb,mo=Tb,Eb=k0,xb=wr,Ib=Ee,Rb=_r.exports,Cb=Xt,Fb=mo,jb=Object.prototype,Db=jb.hasOwnProperty;function Nb(e,t){var r=Ib(e),i=!r&&xb(e),n=!r&&!i&&Rb(e),a=!r&&!i&&!n&&Fb(e),s=r||i||n||a,l=s?Eb(e.length,String):[],o=l.length;for(var u in e)(t||Db.call(e,u))&&!(s&&(u=="length"||n&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cb(u,o)))&&l.push(u);return l}var $o=Nb,Gb=Object.prototype;function Mb(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gb;return e===r}var Ln=Mb;function Wb(e,t){return function(r){return e(t(r))}}var Po=Wb,Lb=Po,Bb=Lb(Object.keys,Object),Ub=Bb,Vb=Ln,Hb=Ub,Kb=Object.prototype,kb=Kb.hasOwnProperty;function zb(e){if(!Vb(e))return Hb(e);var t=[];for(var r in Object(e))kb.call(e,r)&&r!="constructor"&&t.push(r);return t}var qb=zb,Yb=Mi,Jb=Hi;function Zb(e){return e!=null&&Jb(e.length)&&!Yb(e)}var mi=Zb,Xb=$o,Qb=qb,em=mi;function tm(e){return em(e)?Xb(e):Qb(e)}var Bn=tm,rm=hr,im=Bn;function nm(e,t){return e&&rm(t,im(t),e)}var am=nm;function sm(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var om=sm,lm=xe,cm=Ln,um=om,fm=Object.prototype,dm=fm.hasOwnProperty;function hm(e){if(!lm(e))return um(e);var t=cm(e),r=[];for(var i in e)i=="constructor"&&(t||!dm.call(e,i))||r.push(i);return r}var _m=hm,pm=$o,vm=_m,gm=mi;function ym(e){return gm(e)?pm(e,!0):vm(e)}var vr=ym,bm=hr,mm=vr;function $m(e,t){return e&&bm(t,mm(t),e)}var Pm=$m,$i={exports:{}};(function(e,t){var r=pe,i=t&&!t.nodeType&&t,n=i&&!0&&e&&!e.nodeType&&e,a=n&&n.exports===i,s=a?r.Buffer:void 0,l=s?s.allocUnsafe:void 0;function o(u,p){if(p)return u.slice();var T=u.length,E=l?l(T):new u.constructor(T);return u.copy(E),E}e.exports=o})($i,$i.exports);function Am(e,t){for(var r=-1,i=e==null?0:e.length,n=0,a=[];++r<i;){var s=e[r];t(s,r,e)&&(a[n++]=s)}return a}var Om=Am;function wm(){return[]}var Ao=wm,Sm=Om,Tm=Ao,Em=Object.prototype,xm=Em.propertyIsEnumerable,Oo=Object.getOwnPropertySymbols,Im=Oo?function(e){return e==null?[]:(e=Object(e),Sm(Oo(e),function(t){return xm.call(e,t)}))}:Tm,Un=Im,Rm=hr,Cm=Un;function Fm(e,t){return Rm(e,Cm(e),t)}var jm=Fm,Dm=Po,Nm=Dm(Object.getPrototypeOf,Object),Vn=Nm,Gm=ln,Mm=Vn,Wm=Un,Lm=Ao,Bm=Object.getOwnPropertySymbols,Um=Bm?function(e){for(var t=[];e;)Gm(t,Wm(e)),e=Mm(e);return t}:Lm,wo=Um,Vm=hr,Hm=wo;function Km(e,t){return Vm(e,Hm(e),t)}var km=Km,zm=ln,qm=Ee;function Ym(e,t,r){var i=t(e);return qm(e)?i:zm(i,r(e))}var So=Ym,Jm=So,Zm=Un,Xm=Bn;function Qm(e){return Jm(e,Xm,Zm)}var e$=Qm,t$=So,r$=wo,i$=vr;function n$(e){return t$(e,i$,r$)}var a$=n$,s$=ft,o$=pe,l$=s$(o$,"DataView"),c$=l$,u$=ft,f$=pe,d$=u$(f$,"Promise"),h$=d$,_$=ft,p$=pe,v$=_$(p$,"Set"),g$=v$,Hn=c$,Kn=Li,kn=h$,zn=g$,qn=Wa,To=wt,Kt=Oa,Eo="[object Map]",y$="[object Object]",xo="[object Promise]",Io="[object Set]",Ro="[object WeakMap]",Co="[object DataView]",b$=Kt(Hn),m$=Kt(Kn),$$=Kt(kn),P$=Kt(zn),A$=Kt(qn),Pt=To;(Hn&&Pt(new Hn(new ArrayBuffer(1)))!=Co||Kn&&Pt(new Kn)!=Eo||kn&&Pt(kn.resolve())!=xo||zn&&Pt(new zn)!=Io||qn&&Pt(new qn)!=Ro)&&(Pt=function(e){var t=To(e),r=t==y$?e.constructor:void 0,i=r?Kt(r):"";if(i)switch(i){case b$:return Co;case m$:return Eo;case $$:return xo;case P$:return Io;case A$:return Ro}return t});var Yn=Pt,O$=Object.prototype,w$=O$.hasOwnProperty;function S$(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&w$.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var T$=S$,E$=pe,x$=E$.Uint8Array,I$=x$,Fo=I$;function R$(e){var t=new e.constructor(e.byteLength);return new Fo(t).set(new Fo(e)),t}var Jn=R$,C$=Jn;function F$(e,t){var r=t?C$(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var j$=F$,D$=/\w*$/;function N$(e){var t=new e.constructor(e.source,D$.exec(e));return t.lastIndex=e.lastIndex,t}var G$=N$,jo=Jt,Do=jo?jo.prototype:void 0,No=Do?Do.valueOf:void 0;function M$(e){return No?Object(No.call(e)):{}}var W$=M$,L$=Jn;function B$(e,t){var r=t?L$(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Go=B$,U$=Jn,V$=j$,H$=G$,K$=W$,k$=Go,z$="[object Boolean]",q$="[object Date]",Y$="[object Map]",J$="[object Number]",Z$="[object RegExp]",X$="[object Set]",Q$="[object String]",eP="[object Symbol]",tP="[object ArrayBuffer]",rP="[object DataView]",iP="[object Float32Array]",nP="[object Float64Array]",aP="[object Int8Array]",sP="[object Int16Array]",oP="[object Int32Array]",lP="[object Uint8Array]",cP="[object Uint8ClampedArray]",uP="[object Uint16Array]",fP="[object Uint32Array]";function dP(e,t,r){var i=e.constructor;switch(t){case tP:return U$(e);case z$:case q$:return new i(+e);case rP:return V$(e,r);case iP:case nP:case aP:case sP:case oP:case lP:case cP:case uP:case fP:return k$(e,r);case Y$:return new i;case J$:case Q$:return new i(e);case Z$:return H$(e);case X$:return new i;case eP:return K$(e)}}var hP=dP,_P=Er,pP=Vn,vP=Ln;function gP(e){return typeof e.constructor=="function"&&!vP(e)?_P(pP(e)):{}}var Mo=gP,yP=Yn,bP=Be,mP="[object Map]";function $P(e){return bP(e)&&yP(e)==mP}var PP=$P,AP=PP,OP=Wn,Wo=pr.exports,Lo=Wo&&Wo.isMap,wP=Lo?OP(Lo):AP,SP=wP,TP=Yn,EP=Be,xP="[object Set]";function IP(e){return EP(e)&&TP(e)==xP}var RP=IP,CP=RP,FP=Wn,Bo=pr.exports,Uo=Bo&&Bo.isSet,jP=Uo?FP(Uo):CP,DP=jP,NP=vo,GP=rs,MP=Mn,WP=am,LP=Pm,BP=$i.exports,UP=Cr,VP=jm,HP=km,KP=e$,kP=a$,zP=Yn,qP=T$,YP=hP,JP=Mo,ZP=Ee,XP=_r.exports,QP=SP,eA=xe,tA=DP,rA=Bn,iA=vr,nA=1,aA=2,sA=4,Vo="[object Arguments]",oA="[object Array]",lA="[object Boolean]",cA="[object Date]",uA="[object Error]",Ho="[object Function]",fA="[object GeneratorFunction]",dA="[object Map]",hA="[object Number]",Ko="[object Object]",_A="[object RegExp]",pA="[object Set]",vA="[object String]",gA="[object Symbol]",yA="[object WeakMap]",bA="[object ArrayBuffer]",mA="[object DataView]",$A="[object Float32Array]",PA="[object Float64Array]",AA="[object Int8Array]",OA="[object Int16Array]",wA="[object Int32Array]",SA="[object Uint8Array]",TA="[object Uint8ClampedArray]",EA="[object Uint16Array]",xA="[object Uint32Array]",te={};te[Vo]=te[oA]=te[bA]=te[mA]=te[lA]=te[cA]=te[$A]=te[PA]=te[AA]=te[OA]=te[wA]=te[dA]=te[hA]=te[Ko]=te[_A]=te[pA]=te[vA]=te[gA]=te[SA]=te[TA]=te[EA]=te[xA]=!0,te[uA]=te[Ho]=te[yA]=!1;function Pi(e,t,r,i,n,a){var s,l=t&nA,o=t&aA,u=t&sA;if(r&&(s=n?r(e,i,n,a):r(e)),s!==void 0)return s;if(!eA(e))return e;var p=ZP(e);if(p){if(s=qP(e),!l)return UP(e,s)}else{var T=zP(e),E=T==Ho||T==fA;if(XP(e))return BP(e,l);if(T==Ko||T==Vo||E&&!n){if(s=o||E?{}:JP(e),!l)return o?HP(e,LP(s,e)):VP(e,WP(s,e))}else{if(!te[T])return n?e:{};s=YP(e,T,l)}}a||(a=new NP);var x=a.get(e);if(x)return x;a.set(e,s),tA(e)?e.forEach(function(v){s.add(Pi(v,t,r,v,e,a))}):QP(e)&&e.forEach(function(v,h){s.set(h,Pi(v,t,r,h,e,a))});var d=u?o?kP:KP:o?iA:rA,f=p?void 0:d(e);return GP(f||e,function(v,h){f&&(h=v,v=e[h]),MP(s,h,Pi(v,t,r,h,e,a))}),s}var IA=Pi,RA=IA,CA=1,FA=4;function jA(e){return RA(e,CA|FA)}var DA=jA,NA=Mn,GA=Ui,MA=Xt,ko=xe,WA=Vi;function LA(e,t,r,i){if(!ko(e))return e;t=GA(t,e);for(var n=-1,a=t.length,s=a-1,l=e;l!=null&&++n<a;){var o=WA(t[n]),u=r;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(n!=s){var p=l[o];u=i?i(p,o,l):void 0,u===void 0&&(u=ko(p)?p:MA(t[n+1])?[]:{})}NA(l,o,u),l=l[o]}return e}var BA=LA,UA=BA;function VA(e,t,r){return e==null?e:UA(e,t,r)}var zo=VA;function st({component:e,key:t,value:r,page:i,root:n,localKey:a,on:s}){const l=(o,u)=>(u==null?void 0:u.reference)?u.reference({component:e,page:i,key:t||"",value:o}):ry(n,a||(i==null?void 0:i.page),o);for(r=l(r,s);c.exports.isStr(r)&&b.Identify.reference(r);)r=l(r,s);return r}const HA=new Bs,KA=new Vs,kA=new Ys,zA=new Zs,qA=new Xs,YA=new eo,H={actions:HA,component:KA,page:kA,plugin:zA,register:qA,transactions:YA};var JA=Object.defineProperty,qo=Object.getOwnPropertySymbols,ZA=Object.prototype.hasOwnProperty,XA=Object.prototype.propertyIsEnumerable,Yo=(e,t,r)=>t in e?JA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ot=(e,t)=>{for(var r in t||(t={}))ZA.call(t,r)&&Yo(e,r,t[r]);if(qo)for(var r of qo(t))XA.call(t,r)&&Yo(e,r,t[r]);return e},Jo=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const Zn=new Vt("resolveComponents");Zn.setResolver((e,t,r)=>Jo(void 0,null,function*(){var i,n,a,s,l,o,u,p,T,E;const{callback:x,context:d,createComponent:f,createPage:v,createPlugin:h,createSrc:g,emit:m,getAssetsUrl:P,getPages:C,getRoot:I,getRootPage:L,page:_,resolveComponents:A}=t;x==null||x(e);try{const F=e.blueprint||{},G=F.style||{},{contentType:k,dataKey:W,path:w,text:U,textBoard:j}=F,R=(d==null?void 0:d.iteratorVar)||F.iteratorVar||at(e);if(b.Identify.component.ecosDoc(e)){const S=e.get("ecosObj");c.exports.isObj(S)?(e.edit({mediaType:(i=S.subtype)==null?void 0:i.mediaType,mimeType:(n=S.name)==null?void 0:n.type,nameField:S.name}),c.exports.isObj(S.name)||console.log('%cAn ecosObj was received with a "name" field that was not an object. This will rely on the subtype to determine the type of document to determine the metadata',"color:#FF5722;",{component:e,ecosObj:S})):console.log('%cAn ecosDoc component had an empty "ecosObj" value',"color:#ec0000;",e)}if(Fn(e)){let S=function(N){return N.type==="chatList"?"chatItem":"children"},D=function(N){let X=e.get("listObject")||e.blueprint.listObject;if(b.Identify.reference(X)){let ee=N.page,ae="";c.exports.isStr(ee)?(ae=ee,ee=N.getRootPage()):ve(ee)&&(ae=ee.page),e.edit("listObject",st({component:N.component,localKey:ae,root:N.getRoot(),key:"listObject",page:ee,value:X})),X=e.get("listObject")}return X};const le=function(N){const X=S(N),ee=N.blueprint.children,ae=DA(c.exports.isArr(ee)?ee[0]:ee);return c.exports.isObj(ae)&&X==="chatItem"&&(ae.type="listItem"),ae}(e);e.clear("children");let ne=D(t);if(c.exports.isStr(ne)&&(R&&ne.startsWith(R)||ne.startsWith("itemObject"))){let N=ne.toString();N=Q.excludeIteratorVar(N,R),ne=J(Re(e),N)}if(c.exports.isArr(ne)){const N=ne.length;for(let X=0;X<N;X++){const ee=ne[X],ae={index:X,iteratorVar:R,dataObject:ee};let $e=f(le,_);$e=e.createChild($e),$e.edit({index:X,[R]:ee}),$e=yield A({callback:x,components:$e,context:ot(ot({},d),ae),on:t.on,page:_})}}}if(b.Identify.component.page(e)){let S=e.get("path"),D;ve(t.page)&&t.page.id!=="root"?D=t.page:D=e.get("page"),D||(H.page.has(e.id)?D=H.page.get(e.id).page:D=v(e)),D!==e.get("page")&&e.edit("page",D),D.viewport||(D.viewport=new ge);let z=G.width,le=G.height;for(const N of["width","height"]){const X=N==="width"?z:le;D.viewport[N]=ge.isNil(X)?L().viewport[N]:Number(ge.getSize(X,(a=t.viewport)==null?void 0:a[N],{toFixed:2}))}const ne=(N="")=>N.startsWith("http")||N.endsWith(".html");if(c.exports.isStr(S)){const N=D.page===S;if(N&&!ne(S))return r==null?void 0:r();{D.page===""&&S||D.page&&S===""||N||e.get("page")||H.page.has(e.id)&&e.set("page",H.page.get(e.id).page),N||(D.page=S);const X=ae=>Jo(this,null,function*(){try{yield m({type:Hr.TRANSACTION,transaction:Ns.REQUEST_PAGE_OBJECT,params:ae}),ae.emit(gn.component.page.PAGE_CHANGED)}catch($e){console.error($e)}});try{C().includes(S)||S===""?C().includes(D.page)&&(yield X(D)):S.startsWith("http")?D.page=S:D.page=ze(S,P())}catch(ae){console.error(`[Page component] Error attempting to get the page object for a page component]: ${ae.message}`,((s=ae.stack)==null?void 0:s.call(ae))||new Error(ae))}const ee=(ae,$e)=>()=>ae($e);D.on(gn.component.page.PAGE_CHANGED,ee(X,D))}}else console.log("%cThe pageName was not a string when resolving the page name for a page component","color:#ec0000;",e.toJSON())}if(b.Identify.component.plugin(e)||b.Identify.component.pluginHead(e)||b.Identify.component.pluginBodyTop(e)||b.Identify.component.pluginBodyTail(e)){if(H.plugin.has(w))return r==null?void 0:r();const S=h(e);e.set("plugin",S);try{const D=ze(yield g(w,{component:e,key:"path",page:_}),P()),z=yield(l=window.fetch)==null?void 0:l.call(window,D),le=z==null?void 0:z.headers,ne=((o=le==null?void 0:le.get)==null?void 0:o.call(le,"Content-Type"))||"",N=z==null?void 0:z.url;/(text|javascript)/i.test(ne)?e.edit("content",yield(u=z==null?void 0:z.text)==null?void 0:u.call(z)):e.edit("content",yield(p=z==null?void 0:z.json)==null?void 0:p.call(z));const X=yield(T=z==null?void 0:z.json)==null?void 0:T.call(z);S&&(S.content=e.get("content")),setTimeout(()=>e.emit("content",X||""))}catch(D){console.error(`[${D.name}]: ${D.message}`,D)}finally{S.initiated=!0}}if(b.Identify.component.label(F)&&"textBoard"in F&&(c.exports.isArr(j)?(c.exports.isStr(U)&&console.log('%cA component cannot have a "text" and "textBoard" property because they both overlap. The "text" will take precedence.',"color:#ec0000;font-weight:bold;",e.toJSON()),j.forEach(S=>{if(b.Identify.textBoardItem(S)){const D=f("br",_);x==null||x(D),e.createChild(D)}else{if(S==null?void 0:S.dataKey)if(R&&(S==null?void 0:S.dataKey.startsWith(R))){const N=Re(e),X=Q.excludeIteratorVar(S==null?void 0:S.dataKey,R);S.text=X?J(N,X):N}else{const N=Q.findDataValue([()=>I(),()=>I()[_.page]],S==null?void 0:S.dataKey);S.text=c.exports.isObj(N)?J(N,S==null?void 0:S.datKey):N}let D={type:"span",style:ot(ot(ot(ot(ot({},"color"in S?{color:_t(S.color||"")}:void 0),"fontSize"in S?{fontSize:S.fontSize.search(/[a-z]/gi)!=-1?S.fontSize:S.fontSize+"px"}:void 0),"fontWeight"in S?{fontWeight:S.fontWeight}:void 0),"left"in S?{marginLeft:S.left.includes("px")?S.left:`${S.left}px`}:void 0),"top"in S?{marginTop:S.top.includes("px")?S.top:`${S.top}px`}:void 0),text:"text"in S?S.text:""};b.userEvent.forEach(N=>{(S==null?void 0:S[N])&&(D[N]=S==null?void 0:S[N])});const z=f(D,_),{createActionChain:le,on:ne}=t;b.userEvent.forEach(N=>{if(S==null?void 0:S[N]){const X=le(N,S[N]);(ne==null?void 0:ne.actionChain)&&X.use(ne.actionChain),z.edit({[N]:X})}}),e.createChild(z),x==null||x(z)}})):console.log(`%cExpected textBoard to be an array but received "${typeof j}". This part of the component will not be included in the output`,"color:#ec0000;font-weight:bold;",{component:e,textBoard:j})),k==="timer"&&W){let S,D;_i(e)&&(S=Re(e),Ki(S,W)?console.log(`%cThe path ${W} exists in a data object. Retrieving its value from there now...`,"color:#00b406;",{component:e,dataKey:W,dataObject:S,dataValue:D=J(S,W)}):console.log(`%cA path does not exist at ${W}. Skipping the query and moving to higher level now...`,"color:#ec0000;",{component:e,dataKey:W,dataObject:S})),D===void 0&&(S=Q.findDataValue([()=>I(),()=>I()[_.page]],W),D=c.exports.isObj(S)?J(S,W):S),c.exports.isUnd(D)?console.log('%cNo data object or value could be found for a component with contentType: "timer".',"color:#ec0000;",{component:e,dataKey:W,dataObject:S,dataValue:D}):c.exports.isObj(S)&&zo(S,W,D)}if(!Fn(e)&&!b.Identify.component.page(e)&&c.exports.isArr((E=e.blueprint)==null?void 0:E.children))for(const S of e.blueprint.children){let D=b.Identify.component.page(e.parent)?e.parent.get("page"):_||_,z=f(S,D);z=e.createChild(z),z=yield A({callback:x,components:z,context:ot({},d),page:D,on:t.on}),!H.component.has(z)&&H.component.add(z,D)}!H.component.has(e)&&H.component.add(e,_)}catch(F){console.error(F)}return r==null?void 0:r()}));var QA=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const Xn=new Vt("resolveDataAttribs");Xn.setResolver((e,t,r)=>QA(void 0,null,function*(){var i,n,a,s,l,o,u,p,T,E;const x=e.blueprint||{},{context:d,getAssetsUrl:f,getQueryObjects:v,getRoot:h,page:g}=t,{contentType:m,controls:P,dataKey:C,image:I,options:L,popUpView:_,path:A,poster:F,resource:G,viewTag:k}=x,W=(d==null?void 0:d.iteratorVar)||at(e);if(b.Identify.component.listItem(e)&&!e.get(W)&&(d==null?void 0:d.dataObject)&&(e.edit(W,d.dataObject),!c.exports.isNil(d.index)&&e.edit("index",d.index)),/(passwordHidden|messageHidden)/i.test(m)?e.edit({"data-ux":m}):/(vidoeSubStream|videoSubStream)/i.test(m)&&e.edit({"data-ux":m}),e.has("global")&&e.edit({"data-globalid":Xg(e)}),b.Identify.component.popUp(x)&&e.edit({"data-ux":_||k}),Fn(e)&&e.edit({"data-listid":e.id}),c.exports.isStr(C)){let w;if(!b.Identify.folds.emit(C)){if(W&&(W===C?w=d==null?void 0:d.dataObject:w=J(d==null?void 0:d.dataObject,Q.excludeIteratorVar(C,W))),c.exports.isUnd(w)&&(w=Q.findDataValue(v({component:e,page:g}),Q.excludeIteratorVar(C,W))),c.exports.isFnc(e.get("text=func"))){if(m==="timer"){const S=Qg(new Date);w=Yg(S,{seconds:w}),w===null&&(w=new Date)}w=e.get("text=func")(w)}b.Identify.component.image(e)&&((i=e.blueprint)==null?void 0:i["path=func"])&&(w=(n=e.get("path=func"))==null?void 0:n(w)),e.edit({"data-value":w})}let U=(a=C==null?void 0:C.split)==null?void 0:a.call(C,"."),j=((s=U==null?void 0:U.shift)==null?void 0:s.call(U))||"",R=(o=(l=h())==null?void 0:l[g==null?void 0:g.page])==null?void 0:o[j];if(U==null?void 0:U.length)for(;U.length;)j=((u=U==null?void 0:U.shift)==null?void 0:u.call(U))||"",j=((T=(p=j[0])==null?void 0:p.toLowerCase)==null?void 0:T.call(p))+j.substring(1),R=R==null?void 0:R[j];else j=(U==null?void 0:U[0])||"";e.edit({"data-key":C,"data-name":j},{remove:"dataKey"})}for(const[w="",U]of e)c.exports.isStr(U)&&b.Identify.reference(U)&&(w==="style"?c.exports.assign(e.style,jn(U,{page:g==null?void 0:g.page,root:h()})):e.edit(jn(U,{page:g==null?void 0:g.page,root:h()})));if(F&&e.edit({poster:ze(F,f())}),b.Identify.isBoolean(P)&&e.edit({controls:b.Identify.isBooleanTrue(P)}),A||G||I){let w="";c.exports.isStr(A)?w=A:c.exports.isStr(G)?w=G:c.exports.isStr(I)&&(w=I),c.exports.isStr(w)&&(b.Identify.reference(w)&&(w.startsWith("..")?(w=w.substring(2),w=J(h()[(E=t==null?void 0:t.page)==null?void 0:E.page],w)):w.startsWith(".")&&(w=w.substring(1),w=J(h(),w))),W&&w.startsWith(W)?(w=Q.excludeIteratorVar(w,W)||"",w=J(d==null?void 0:d.dataObject,w)||"",c.exports.isStr(w)&&!w.startsWith(f())&&(w=f()+w),e.edit({"data-src":w,src:w}),A&&e.emit("path",w),I&&e.emit("image",w)):w&&(w=ze(w,f()),e.edit({"data-src":w,path:w}),setTimeout(()=>{A&&e.emit("path",w),I&&e.emit("image",w)})))}if(b.Identify.component.select(e)&&[C,L].find(w=>w&&c.exports.isStr(w))){let w=C&&c.exports.isStr(C)?C:L,U=L,j=!!(W&&w.startsWith(W));c.exports.isArr(U)||(j?(w=Q.excludeIteratorVar(w,W),U=w?J(Re(e),w):Re(e)):(w=Q.trimReference(w),U=J(b.Identify.localKey(w)?h()[g.page]:h(),w))),U?(e.set("data-options",U||[]),setTimeout(()=>e.emit("options",e.get("data-options")))):console.log(`%cCould not find the list of options for a select component using the path "${L}"`,"color:#ec0000;",e)}return k&&(e.edit({"data-viewtag":k}),/(mainStream|selfStream|subStream|camera|microphone|hangUp|inviteOthers)/i.test(k)?e.edit({"data-ux":k}):(e.edit("data-viewtag",k),e.get("data-ux")||e.edit({"data-ux":k}))),r==null?void 0:r()}));const Qn=["width","left"],Zo=["height","top","marginTop"],eO=[...Qn,...Zo],ea=[...Zo,"borderRadius","fontSize","paddingTop","paddingBottom","marginBottom"],Xo=[...Qn,"marginLeft","marginRight","paddingLeft","paddingRight"];function tO(e,t,r){if(!e)return;const i=e==null?void 0:e[t];if(c.exports.isStr(i)){if(i=="0")return{[t]:"0px"};if(i=="1")return{[t]:`${r}px`};if(!Ct(i))return{[t]:Qo(r,i)+"px"}}else if(bn(e==null?void 0:e[t]))return{[t]:Qo(r,i)+"px"}}function Te(e,t){return e=="0"?"0px":e=="1"?`${t}px`:c.exports.isStr(e)?Ct(e)?e:`${Number(e)*t}px`:isFinite(e)?bn(e)?`${e*t}px`:`${e}px`:e}function Qo(e,t){return c.exports.isStr(t)||c.exports.isNum(t)?e*Number(t):e}function lt(e){return c.exports.isStr(e)&&!/[a-zA-Z]/i.test(e)&&e%1!=0}function gr(e={},t="",r=""){if(b.Identify.localReference(t)){if(r)return J(e[r],Q.toDataPath(Q.trimReference(t)))}else if(b.Identify.rootReference(t))return J(e,Q.toDataPath(Q.trimReference(t)));return t}function el(e={},t={},{context:r,getBaseStyles:i,pageName:n="",root:a={},viewport:s}={}){var l,o,u,p;if(c.exports.isFnc(i)&&c.exports.isObj(t==null?void 0:t.style))for(const[T,E]of c.exports.entries(i(e,t)))e.style[T]=E;if(c.exports.isObj(t)){let T=(r==null?void 0:r.iteratorVar)||at(e)||"";for(const[E,x]of c.exports.entries(t)){let d=e==null?void 0:e[E];if(E==="dataKey"){if(c.exports.isStr(x)){if(b.Identify.reference(x))e["data-value"]=gr(a,x,n);else{const f=b.Identify.localKey(E),v=x.split(".");f&&v[0]===n&&v.shift(),e["data-value"]=J(f?a[n]:a,v);continue}b.Identify.component.select(t)&&(e["data-value"]=gr(a,x,n))}}else if(E==="options"){if(b.Identify.component.select(t)){const{dataKey:f}=t;if(!!(f&&c.exports.isStr(f)||c.exports.isStr(d))){let h=f&&c.exports.isStr(f)?f:d,g,m=!!(T&&h.startsWith(T));c.exports.isArr(d)||(m?(h=Q.excludeIteratorVar(h,T),g=(r==null?void 0:r.dataObject)||Re(e),d=h?J(g,h):g):(h=Q.trimReference(h),d=gr(a,h,n))),d&&(e["data-options"]=d||[])}}}else if(E==="style")if(c.exports.isObj(x)){const{align:f,axis:v,border:h,borderRadius:g,borderWidth:m,display:P,fontFamily:C,fontSize:I,fontStyle:L,textAlign:_,verticalAlign:A}=x;if(v==="horizontal"?(d.display="flex",d.flexWrap="nowrap",delete d.axis):v==="vertical"&&(d.display="flex",d.flexDirection="column",delete d.axis),f&&(f==="centerX"?(d.display="flex",d.justifyContent="center",delete d.align):f==="centerY"&&(d.display="flex",d.alignItems="center",delete d.align)),_){if(c.exports.isStr(_))_==="left"?d.textAlign="left":_==="center"?d.textAlign="center":_==="right"?d.textAlign="right":_==="centerX"?d.textAlign="center":_==="centerY"&&(d.display="flex",d.alignItems="center",delete d.textAlign);else if(c.exports.isObj(_)&&(_.x!=null&&(d.textAlign=_.x==="centerX"?"center":_.x),_.y!=null&&(_.y==="center"||_.y==="centerY"))){let j=new Map([["left","flex-start"],["right","flex-end"],["center","center"]]);d.display="flex",d.alignItems="center",d.justifyContent=j.get(_.x?_.x:"left"),_.x||delete d.textAlign}}if(P==="inline"?d.display="inline":P==="inline-block"&&(d.display="inline-block",d.verticalAlign="top"),A&&(d.verticalAlign=A),h!==void 0){let j,R,S,D;h=="0"&&(d.borderStyle="none"),c.exports.isObj(h)&&(j=h.style,R=h.color,S=h.width,D=h.line),R&&(d.borderColor=String(R).replace("0x","#")),D&&(d.borderStyle=D),S&&(d.borderWidth=S),j=="1"?c.exports.assign(d,ht.border["1"]):j=="2"?c.exports.assign(d,ht.border["2"]):j=="3"?(c.exports.assign(d,ht.border["3"]),S||(d.borderWidth="thin")):j=="4"?(c.exports.assign(d,ht.border["4"]),S||(d.borderWidth="thin")):j=="5"?c.exports.assign(d,ht.border["5"]):j=="6"?c.exports.assign(d,ht.border["6"]):j=="7"&&c.exports.assign(d,ht.border["7"])}if(m&&(c.exports.isStr(m)?Ct(m)||(d.borderWidth=`${m}px`):c.exports.isNum(m)&&(d.borderWidth=`${m}px`)),g)if(lt(g))d.borderRadius=String(Te(g,s==null?void 0:s.height));else{c.exports.isStr(g)?Ct(g)?d.borderRadius=`${g}`:d.borderRadius=g+"px":c.exports.isNum(g)&&(d.borderRadius=`${g}px`);const j=/[a-zA-Z]+$/,R=Number(`${g}`.replace(j,""));Number.isNaN(R)||(d.borderRadius=`${R}px`,(!d.borderWidth||d.borderWidth==="none"||d.borderWidth==="0px")&&(d.borderWidth="1px",d.borderColor="rgba(0, 0, 0, 0)"))}(h==null?void 0:h.style)&&delete d.border,c.exports.isUnd(I)||(c.exports.isStr(I)?Ct(I)||(lt(I)?d.fontSize=String(ge.getSize(I,s==null?void 0:s.height)):d.fontSize=`${I}px`):c.exports.isNum(I)&&(d.fontSize=`${I}px`),c.exports.isStr(C)&&d.fontFamily),L==="bold"&&(d.fontWeight="bold",delete d.fontStyle),eO.forEach(j=>{if(!c.exports.isNil(x==null?void 0:x[j])){const R=tO(x,j,s==null?void 0:s[Qn.includes(j)?"width":"height"]);if(c.exports.isObj(R))for(const[S,D]of c.exports.entries(R))d[S]=D}}),c.exports.isObj(d==null?void 0:d.textAlign)&&delete d.textAlign;const{width:F,height:G,maxHeight:k,maxWidth:W,minHeight:w,minWidth:U}=x||{};s&&(c.exports.isNil(F)||(d.width=String(Te(F,s.width))),c.exports.isNil(G)||(lt(G)||G==1||G=="1",d.height=String(Te(G,s.height))),c.exports.isNil(k)||(d.maxHeight=String(Te(k,s.height))),c.exports.isNil(W)||(d.maxWidth=String(Te(W,s.width))),c.exports.isNil(w)||(d.minHeight=String(Te(w,s.height))),c.exports.isNil(U)||(d.minWidth=String(Te(U,s.width))));for(let[j,R]of c.exports.entries(x))if(ea.includes(j)?lt(R)&&(d[j]=String(ge.getSize(R,s==null?void 0:s.height,{unit:"px"}))):Xo.includes(j)&&lt(R)&&(d[j]=String(ge.getSize(R,s==null?void 0:s.width,{unit:"px"}))),c.exports.isStr(R)){if(R.endsWith("vw")||R.endsWith("vh")){const D=parseFloat(R.substring(0,R.length-2))/100;d[j]=String(Te(D,s==null?void 0:s[R.endsWith("vw")?"width":"height"]))}const S=T&&R.startsWith(T);if(b.Identify.reference(R)){if(c.exports.isStr(R)&&b.Identify.localReference(R))R=gr(a,R,n);else if(c.exports.isStr(R)&&(b.Identify.rootReference(R)&&(R=gr(a,R)),c.exports.isStr(R)&&(R.endsWith("vw")||R.endsWith("vh")))){const D=parseFloat(R.substring(0,R.length-2))/100;d[j]=String(Te(D,s==null?void 0:s[R.endsWith("vw")?"width":"height"]))}if(c.exports.isStr(R)&&(R.endsWith("vw")||R.endsWith("vh"))){const D=parseFloat(R.substring(0,R.length-2))/100;d[j]=String(Te(D,s==null?void 0:s[R.endsWith("vw")?"width":"height"]))}else ea.includes(j)?lt(R)?d[j]=String(ge.getSize(R,s==null?void 0:s.height,{unit:"px"})):j=="borderRadius"&&c.exports.isStr(R)&&(d[j]=R):Xo.includes(j)?lt(R)&&(d[j]=String(ge.getSize(R,s==null?void 0:s.width,{unit:"px"}))):(d[j]=_t(R),j=="pointerEvents"&&R!="none"&&delete d.pointerEvents,j=="isHidden"&&b.Identify.isBooleanTrue(R)&&(e.style.visibility="hidden"))}if(c.exports.isStr(R)&&(j==="textColor"||R.startsWith("0x")||S))if(j==="textColor")d.color=_t(R),delete d.textColor;else{if(S){const D=(r==null?void 0:r.dataObject)||Re(e);if(c.exports.isObj(D)){const z=Q.excludeIteratorVar(R,T);let le=_t(J(D,z));ea.includes(j)?lt(le)&&(d[j]=String(ge.getSize(le,s==null?void 0:s.height,{unit:"px"}))):d[j]=le}else d[j]=_t(String(D))}c.exports.isStr(R)&&R.startsWith("0x")&&(d[j]=_t(R))}}}else c.exports.isStr(x);else E==="viewTag"&&(e["data-viewtag"]=d)}b.Identify.component.header(t)?e.style.zIndex=100:b.Identify.component.image(t)?c.exports.isObj(t.style)&&("height"in(t.style||{})||delete e.style.height,"width"in(t.style||{})||delete e.style.width,"objectFit"in(t.style||{})||(e.style.objectFit="contain")):b.Identify.component.listLike(t)&&e.style.display!=="none"?(e.style.display=((l=t.style)==null?void 0:l.axis)==="horizontal"||((o=t.style)==null?void 0:o.axis)==="vertical"?"flex":"block",e.style.listStyle="none",e.style.padding="0px"):b.Identify.component.listItem(t)?(e.style.listStyle="none",e.style.padding=0):b.Identify.component.popUp(t)?e.style.visibility="hidden":b.Identify.component.scrollView(t)&&e.style.display!=="none"?e.style.display="block":b.Identify.component.textView(t)?(e.style.rows=10,e.style.resize="none"):b.Identify.component.video(t)&&(e.style.objectFit="contain"),b.Identify.isBooleanTrue((u=t==null?void 0:t.style)==null?void 0:u.shadow)&&(e.style.boxShadow="5px 5px 10px 3px rgba(0, 0, 0, 0.015)",delete e.style.shadow),b.Identify.isBooleanTrue((p=t==null?void 0:t.style)==null?void 0:p.isHidden)&&(e.style.visibility="hidden"),b.Identify.isBoolean(t==null?void 0:t.required)&&(e.required=b.Identify.isBooleanTrue(t==null?void 0:t.required))}return e}var rO=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const ta=new Vt("resolveStyles");ta.setResolver((e,t,r)=>rO(void 0,null,function*(){const{context:i,getBaseStyles:n,viewport:a,getRoot:s,page:l}=t;return e.edit(el(e.props,e.blueprint,{context:i,getBaseStyles:n,pageName:l==null?void 0:l.page,root:s(),viewport:a})),r==null?void 0:r()}));function ra(e){if(e!==null&&typeof e=="object"){if("actionType"in e)return e.actionType;if(b.Identify.folds.emit(e))return"emit";if(b.Identify.goto(e)||b.Identify.folds.goto(e))return"goto"}return console.log(`%cUnknown actionType "${e.actionType}". It will be set to "anonymous"`,"color:#ec0000;",e),"anonymous"}function ia(e){const t=[];if(!b.Identify.folds.emit(e)){if(!b.Identify.goto(e)){if(b.Identify.action.any(e)&&e.actionType!=="anonymous"){if(!b.Identify.action.builtIn(e))if(b.Identify.action.evalObject(e)){if("object"in e){if(b.Identify.reference(e.object))t.push(`Received a string reference "${e.object}" as the "object" for action "evalObject"`);else if(e.object!==null&&typeof e.object=="object")for(const[r,i]of Object.entries(e.object))b.Identify.reference(r)&&t.push(`Received a string reference key "${r}" inside evalObject`),b.Identify.reference(i)&&t.push(`Received a string reference value "${r}" inside evalObject`)}}else b.Identify.action.openCamera(e)||b.Identify.action.openDocumentManager(e)||b.Identify.action.openPhotoLibrary(e)||b.Identify.action.pageJump(e)||b.Identify.action.popUp(e)||b.Identify.action.popUpDismiss(e)||b.Identify.action.refresh(e)||b.Identify.action.removeSignature(e)||b.Identify.action.saveObject(e)||b.Identify.action.saveSignature(e)||b.Identify.action.updateObject(e)||t.push(`Encountered an unsupported action object of type "${e.actionType}". Check typos or letter casings.`)}}}return t}var iO=Object.defineProperty,nO=Object.defineProperties,aO=Object.getOwnPropertyDescriptors,tl=Object.getOwnPropertySymbols,sO=Object.prototype.hasOwnProperty,oO=Object.prototype.propertyIsEnumerable,rl=(e,t,r)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lO=(e,t)=>{for(var r in t||(t={}))sO.call(t,r)&&rl(e,r,t[r]);if(tl)for(var r of tl(t))oO.call(t,r)&&rl(e,r,t[r]);return e},cO=(e,t)=>nO(e,aO(t));function na(e,t){let r;return c.exports.isStr(e)?b.Identify.folds.emit(t)?r=new hi(e,t):t&&(c.exports.isStr(t)?r=tt.createAction(e,{actionType:"goto",goto:t}):c.exports.isObj(t)&&("actionType"in t||(t.actionType=ra(t)),r=tt.createAction(e,t))):"action"in e&&(b.Identify.folds.emit(e.action)?r=new hi(e.trigger,e.action):("actionType"in(e.action||{})||(e.action=cO(lO({},e.action),{actionType:ra(e.action)})),r=tt.createAction(e.trigger,e.action))),(r==null?void 0:r.original)&&ia(r.original).forEach(i=>{console.log(`%c${i}`,"color:#ec0000;",r==null?void 0:r.original)}),r}function il(e,t,r,i){let n;return typeof e=="string"?n=tt.createActionChain(e,t,r,i):n=tt.createActionChain(e),n}var uO=Object.defineProperty,nl=Object.getOwnPropertySymbols,fO=Object.prototype.hasOwnProperty,dO=Object.prototype.propertyIsEnumerable,al=(e,t,r)=>t in e?uO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aa=(e,t)=>{for(var r in t||(t={}))fO.call(t,r)&&al(e,r,t[r]);if(nl)for(var r of nl(t))dO.call(t,r)&&al(e,r,t[r]);return e};function sl(e,t){let r;const i=hO(e,t==null?void 0:t.props);return typeof e=="string"?r=new _n(aa({type:e},i)):ce(e)?(r=e,i&&c.exports.isObj(i)&&e.edit(i)):r=new _n(aa(aa({},e),i)),r}function hO(e,t){if(t)return typeof t=="function"?t(e):t}function ol(e){return!!(e&&typeof e=="object"&&"isNoodlUnit"in e&&"applyMinMax"in e)}function ll({root:e,component:t,page:r,localKey:i=(r==null?void 0:r.page)||"",key:n="",value:a,on:s}){let{currentPage:l,targetPage:o,viewTag:u}=new Q.Parser().destination(a);return(s==null?void 0:s.pageComponentUrl)?s==null?void 0:s.pageComponentUrl({component:t,page:r,key:n,value:a}):(b.Identify.reference(l)&&(l=st({component:t,page:r,key:n,value:l,localKey:i,on:s,root:e})),b.Identify.reference(o)&&(o=st({component:t,page:r,key:n,value:o,localKey:i,on:s,root:e})),b.Identify.reference(u)&&(u=st({component:t,page:r,key:n,value:u,localKey:i,on:s,root:e})),`${o}@${l}#${u}`)}var _O=Dr,pO=512;function vO(e){return _O(e,pO)}var gO=vO,yO=qi,bO=Ss,mO=en;function $O(e,t){return mO(bO(e,t,yO),e+"")}var cl=$O,PO=cl,AO=Dr,OO=tn,wO=jr,SO=64,sa=PO(function(e,t){var r=wO(t,OO(sa));return AO(e,SO,void 0,t,r)});sa.placeholder={};var TO=sa;function Ai(e,t,r=[]){if(c.exports.isNil(e))return;if(c.exports.isFnc(e))return gO(TO(ul,e()));let i=t(null,e,r);if(i!=="SKIP"){if(c.exports.isArr(e)){const n=e.length;for(let a=0;a<n;a++){const s=e[a];i=t(a,s,r.concat(a)),i!=="SKIP"&&(c.exports.isNil(s)||Ai(s,t,r.concat(a)))}}else if(c.exports.isObj(e))for(const[n,a]of c.exports.entries(e))i=t(n,a,r.concat(n)),i!=="SKIP"&&(c.exports.isNil(a)||Ai(a,t,r.concat(n)))}}function ul(e,{action:t,actionChain:r,component:i,style:n}){function a(s,l=[]){const o=l.lastIndexOf("children");return o===0?s:o>0?J(s,l.slice(0,o)):null}Ai(e,function(l,o,u){let p;if(l===null){if(b.Identify.folds.component.any(o)){const T=u[u.length-1],E=a(e,u);p=i==null?void 0:i({key:c.exports.isNum(T)?T:null,type:o.type,value:o,parent:E,path:u})}if(p==="SKIP")return"SKIP"}else if(c.exports.isStr(l)){if(l==="style")c.exports.isObj(o)&&(p=n==null?void 0:n({key:l,value:o,component:e,path:u}));else if(!c.exports.isStr(o))if(c.exports.isArr(o)){if(b.Identify.actionChain(o)){if(p=r==null?void 0:r({trigger:l,value:o,component:e,path:u}),p==="SKIP")return;for(let T=0;T<o.length;T++)t==null||t({key:T,trigger:l,value:o[T],path:u.concat(T),parent:o,component:e})}}else c.exports.isObj(o);if(p==="SKIP")return"SKIP"}else c.exports.isNum(l);return p})}function fl(e,t){if(ce(e)){t(e);for(const r of e.children)fl(r,t)}}var EO=Dr,xO=128;function IO(e,t,r){return t=r?void 0:t,t=e&&t==null?e.length:t,EO(e,xO,void 0,void 0,void 0,void 0,t)}var RO=IO,CO=RO;function FO(e){return CO(e,1)}var jO=FO,DO=Gn,NO=$r;function GO(e,t,r){(r!==void 0&&!NO(e[t],r)||r===void 0&&!(t in e))&&DO(e,t,r)}var dl=GO;function MO(e){return function(t,r,i){for(var n=-1,a=Object(t),s=i(t),l=s.length;l--;){var o=s[e?l:++n];if(r(a[o],o,a)===!1)break}return t}}var WO=MO,LO=WO,BO=LO(),UO=BO,VO=mi,HO=Be;function KO(e){return HO(e)&&VO(e)}var kO=KO,zO=wt,qO=Vn,YO=Be,JO="[object Object]",ZO=Function.prototype,XO=Object.prototype,hl=ZO.toString,QO=XO.hasOwnProperty,ew=hl.call(Object);function tw(e){if(!YO(e)||zO(e)!=JO)return!1;var t=qO(e);if(t===null)return!0;var r=QO.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hl.call(r)==ew}var rw=tw;function iw(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _l=iw,nw=hr,aw=vr;function sw(e){return nw(e,aw(e))}var ow=sw,pl=dl,lw=$i.exports,cw=Go,uw=Cr,fw=Mo,vl=wr,gl=Ee,dw=kO,hw=_r.exports,_w=Mi,pw=xe,vw=rw,gw=mo,yl=_l,yw=ow;function bw(e,t,r,i,n,a,s){var l=yl(e,r),o=yl(t,r),u=s.get(o);if(u){pl(e,r,u);return}var p=a?a(l,o,r+"",e,t,s):void 0,T=p===void 0;if(T){var E=gl(o),x=!E&&hw(o),d=!E&&!x&&gw(o);p=o,E||x||d?gl(l)?p=l:dw(l)?p=uw(l):x?(T=!1,p=lw(o,!0)):d?(T=!1,p=cw(o,!0)):p=[]:vw(o)||vl(o)?(p=l,vl(l)?p=yw(l):(!pw(l)||_w(l))&&(p=fw(o))):T=!1}T&&(s.set(o,p),n(p,o,i,a,s),s.delete(o)),pl(e,r,p)}var mw=bw,$w=vo,Pw=dl,Aw=UO,Ow=mw,ww=xe,Sw=vr,Tw=_l;function bl(e,t,r,i,n){e!==t&&Aw(t,function(a,s){if(n||(n=new $w),ww(a))Ow(e,t,s,r,bl,i,n);else{var l=i?i(Tw(e,s),a,s+"",e,t,n):void 0;l===void 0&&(l=a),Pw(e,s,l)}},Sw)}var Ew=bl,xw=$r,Iw=mi,Rw=Xt,Cw=xe;function Fw(e,t,r){if(!Cw(r))return!1;var i=typeof t;return(i=="number"?Iw(r)&&Rw(t,r.length):i=="string"&&t in r)?xw(r[t],e):!1}var jw=Fw,Dw=cl,Nw=jw;function Gw(e){return Dw(function(t,r){var i=-1,n=r.length,a=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(n--,a):void 0,s&&Nw(r[0],r[1],s)&&(a=n<3?void 0:a,n=1),t=Object(t);++i<n;){var l=r[i];l&&e(t,l,i,a)}return t})}var Mw=Gw,Ww=Ew,Lw=Mw,Bw=Lw(function(e,t,r){Ww(e,t,r)}),Uw=Bw,Vw=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const ml=new Vt("resolveSetup");ml.setResolver(function(t,r,i){return Vw(this,null,function*(){try{const{getRoot:n,on:a,page:s}=r;if(c.exports.isObj(t.blueprint)){const l=t.get.bind(t),o=function(p){var T,E;let x=this.blueprint[p];if(c.exports.isStr(x)){if(b.Identify.pageComponentUrl(x))return ll({component:t,page:s,key:p,value:x,localKey:s==null?void 0:s.page,on:a,root:n});if(b.Identify.reference(x))return st({component:t,page:s,key:p,value:x,localKey:s==null?void 0:s.page,on:a,root:n})}else{if(b.Identify.if(x))return(a==null?void 0:a.if)?(x=a.if({component:t,page:s,key:p,value:x})?(T=x.if)==null?void 0:T[1]:(E=x.if)==null?void 0:E[2],b.Identify.reference(x)?st({component:t,page:s,key:p,value:x,localKey:s==null?void 0:s.page,on:a,root:n}):x):(x=ey(x),b.Identify.reference(x)?st({component:t,page:s,key:p,value:x,localKey:s==null?void 0:s.page,on:a,root:n}):x);if(!this)return l==null?void 0:l(p)}return l(p)};Object.defineProperty(t,"get",{configurable:!0,enumerable:!0,get(){return o.bind(this)}})}}catch(n){console.error(n)}return i==null?void 0:i()})});var $l=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},kt=(e,t,r)=>($l(e,t,"read from private field"),r?r.call(e):t.get(e)),Pl=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Hw=(e,t,r,i)=>($l(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Kw=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())}),At,Oi;class kw{constructor(){Pl(this,At,[]),Pl(this,Oi,void 0),kt(this,At).push(ml,Nn,Zn,ta,Xn);let t=0,r=kt(this,At)[t];for(;r;)r.next=kt(this,At)[++t],r=r.next;Hw(this,Oi,kt(this,At)[0].resolve.bind(kt(this,At)[0]))}transform(t,r){return Kw(this,null,function*(){var i;try{yield(i=kt(this,Oi))==null?void 0:i.call(this,t,r)}catch(n){console.error(n)}})}}At=new WeakMap,Oi=new WeakMap;var zw=Object.defineProperty,qw=Object.defineProperties,Yw=Object.getOwnPropertyDescriptors,Al=Object.getOwnPropertySymbols,Jw=Object.prototype.hasOwnProperty,Zw=Object.prototype.propertyIsEnumerable,Ol=(e,t,r)=>t in e?zw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ce=(e,t)=>{for(var r in t||(t={}))Jw.call(t,r)&&Ol(e,r,t[r]);if(Al)for(var r of Al(t))Zw.call(t,r)&&Ol(e,r,t[r]);return e},wi=(e,t)=>qw(e,Yw(t)),We=(e,t,r)=>new Promise((i,n)=>{var a=o=>{try{l(r.next(o))}catch(u){n(u)}},s=o=>{try{l(r.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(a,s);l((r=r.apply(e,t)).next())});const Xw=function(){const e=new Map;function t(f,v){if(ve(f)){const h=f.page;if(h){let g=0;for(const m of H.component)m&&m.page===h&&(H.component.remove(m.component),g++);v==null||v({componentsRemoved:g})}H.page.remove(f)}}function r(f,v){let h;return ce(f)?h=f:h=sl(f),!H.component.has(h)&&H.component.add(h,v||d.getRootPage()),h}function i(){const f=[];return v=>(f.push(v),h=>(console.log("%c[_gotoFactory] fns","color:#c4a901;",f),f.map(g=>g==null?void 0:g(h))))}const n=i();function a(f,v){return We(this,null,function*(){var h,g,m,P,C;let I,L=d.getRootPage();if(c.exports.isStr(f)){if([...d.getPages(),...d.getPreloadPages()].includes(f)){const _=d.getBaseUrl()+f+"_en.yml";return(h=I==null?void 0:I.emit)==null||h.call(I,"path",_),_}return ze(f,d.getAssetsUrl())}else if(c.exports.isObj(f)){if(b.Identify.folds.emit(f)){I=v==null?void 0:v.component;const _=(g=d.cache.actions.emit.get("path"))==null?void 0:g[0],A=((m=v==null?void 0:v.context)==null?void 0:m.iteratorVar)||at(I);if(c.exports.isFnc(_==null?void 0:_.fn)){const F=new hi("path",f);"dataKey"in f.emit&&(F.dataKey=Q.createEmitDataKey(f.emit.dataKey,o({component:I,page:L,listDataObject:v==null?void 0:v.dataObject}),{iteratorVar:A})),F.executor=()=>We(this,null,function*(){const k=(d.cache.actions.emit.get("path")||[]).reduce((w,U)=>(U==null?void 0:U.trigger)==="path"?w.concat(U):w,[]);if(!k.length)return"";const W=yield Promise.race(k.map(w=>We(this,null,function*(){var U;return(U=w.fn)==null?void 0:U.call(w,F,d.getConsumerOptions({component:I,on:v==null?void 0:v.on,page:L,path:f}))})));return(c.exports.isArr(W)?W[0]:W)||""});let G=yield F.execute(f);if(c.exports.isStr(G))return G.startsWith("http")||(G=ze(G,d.getAssetsUrl())),(P=I==null?void 0:I.emit)==null||P.call(I,"path",G),G}}else if(b.Identify.if(f))return c.exports.isObj(v)&&"on"in v&&v.on.if?(C=v.on)==null?void 0:C.if({key:v.key||"",component:v.component,page:v.page||L,value:f}):ze(Q.evalIf(_=>b.Identify.isBoolean(_)?b.Identify.isBooleanTrue(_):c.exports.isFnc(_)?I?_(Re(I)):_():!!_,f),d.getAssetsUrl())}})}function s(f){return We(this,null,function*(){var v,h,g;try{if(f.type===Hr.REGISTER){const{event:m,params:P}=f;if(H.register.has(m)){const C=[],I=H.register.get(m);if(I.handler){const L=I.handler.fn;if(c.exports.isFnc(L)){console.log("%cThe callback exists in the handler object. It will be invoked","color:#95a5a6;");const _=yield L==null?void 0:L(I,f.params);C.push(_);const A=d.cache.transactions.getHandler("register",m);c.exports.isFnc(A)&&(yield A(_))}return C}else return console.log("%cA handler object did not exist. A default function will be used that calls the functions in the callbacks list by default","color:#95a5a6;"),(v=I.fn)==null?void 0:v.call(I,I,P)}else console.log("%cWarning: Emitted a register object that was not in the store","color:#FF5722;",f)}else if(f.type===Hr.TRANSACTION)return(g=(h=H.transactions.get(f.transaction))==null?void 0:h.fn)==null?void 0:g.call(h,f.params)}catch(m){throw console.error(m),m}})}function l(f){return function(h="",{dataObject:g,iteratorVar:m="",page:P,pageObject:C}={}){var I,L,_;let A=h;const F=(P==null?void 0:P.page)||(f==null?void 0:f.page)||"";if(c.exports.isStr(A)){if(b.Identify.reference(A)){if(A=Q.trimReference(A),b.Identify.localKey(A))return J(C||((I=d.getRoot())==null?void 0:I[F]),A);if(b.Identify.rootKey(A))return J(d.getRoot(),A)}if(m&&A.startsWith(m))return A=Q.excludeIteratorVar(A,m)||"",g||console.log("%cAttempting to retrieve a value from a list data object but a data object was not provided. This may result in an unexpected value being returned","color:#ec0000;"),J(g||C||((L=d.getRoot())==null?void 0:L[F])||d.getRoot(),A);if(A[0].toLowerCase()===A[0]){const k=J(g,A);return c.exports.isUnd(k)?J((_=d.getRoot())==null?void 0:_[F],A):k}const G=J(g,A);return c.exports.isUnd(G)?J(d.getRoot(),A):G}}}function o(f={}){const v=[];if((f==null?void 0:f.component)&&_i(f.component)){const h=(f==null?void 0:f.listDataObject)||Re(f.component);h?v.push(h):console.log(`%cCould not find a data object for a list consumer "${f.component.type}" component`,"color:#ec0000;",f.component)}return(f==null?void 0:f.page)&&v.push(()=>{var h;return d.getRoot()[((h=f.page)==null?void 0:h.page)||""]}),v.push(()=>d.getRoot()),(f==null?void 0:f.queries)&&c.exports.array(f.queries).forEach(h=>v.unshift(h)),v}const u=new kw;function p(f,v,h){return We(this,null,function*(){let g=!0,m=[],P=[],C,I={},L,_;c.exports.isArr(f)?(P=f,c.exports.isFnc(v)?(L=v,ve(h)?C=h:C=d.getRootPage()):ve(v)?C=v:c.exports.isObj(v)&&(v.callback&&(L=v.callback),v.context&&(I=v.context),v.page&&(C=v.page),v.on&&(_=v.on)),c.exports.isFnc(h)?L=h:c.exports.isObj(h)&&(h.on&&(_=h.on),h.callback&&(L=h.callback),h.context&&(I=h.context),ve(h.page)&&(C=h.page))):c.exports.isObj(f)&&("type"in f||"children"in f||"style"in f?(P=[f],c.exports.isFnc(v)?L=v:ve(v)?C=v:c.exports.isObj(v)&&(ve(v.page)&&(C=v.page),v.context&&(I=v.context),v.callback&&(L=v.callback),v.on&&(_=v.on)),c.exports.isFnc(h)?L=h:c.exports.isObj(h)&&(ve(h.page)&&(C=h.page),h.context&&(I=h.context),h.callback&&(L=h.callback),h.on&&(_=h.on)),g=!1):(f.callback&&(L=f.callback),f.context&&c.exports.assign(I,f.context),f.page&&(C=f.page),f.on&&(_=f.on),P=c.exports.array(f.components),g=c.exports.isArr(f.components)));function A(k,W){return We(this,arguments,function*(w,{callback:U,context:j,on:R,page:S}){const D=d.getConsumerOptions({callback:U,component:w,context:j,on:R,page:S});yield u.transform(w,D);const z=(j==null?void 0:j.iteratorVar)||"",le=z&&c.exports.isObj(j==null?void 0:j.dataObject);for(const[ne,N]of c.exports.entries(w.props))if(ne==="style"){if(le&&c.exports.isObj(N)){for(let[X,ee]of c.exports.entries(N))if(c.exports.isStr(ee))if(ee.startsWith(z)){const ae=Q.excludeIteratorVar(ee,z),$e=ee;ee=J(j==null?void 0:j.dataObject,ae),ee?w.edit({style:{[X]:ee}}):console.log(`%cEncountered an unparsed style value "${$e}" for style key "${X}"`,"color:#ec0000;",{component:w,possibleValue:ee})}else b.Identify.reference(ee)&&console.log(`%cEncountered an unparsed style value "${ee}" for style key "${X}"`,"color:#ec0000;",w)}}else b.Identify.reference(N)&&b.Identify.reference(w.get(ne))&&(console.log(`%cEncountered an unparsed reference value "${N}" for key "${ne}"`,"color:#ec0000;",w),ne==="data-value"&&w.edit({[ne]:""}));return w})}!C&&(C=d.getRootPage());const F=c.exports.array(P),G=F.length;for(let k=0;k<G;k++)m.push(yield A(d.createComponent(F[k],C),{callback:L,context:I,on:_,page:C}));return g?m:m[0]})}function T(f){if(f===void 0)return H.actions;switch(f){case"builtIn":return H.actions.builtIn;case"emit":return H.actions.emit;default:return H.actions[f]}}function E(f,v={},h={}){var g;try{let m="",P;if(c.exports.isStr(f))m=f,P=d.cache.register.get(m)||{},c.exports.isFnc(v)?(zo(P,"handler.fn",v),c.exports.isObj(h)&&(h.handler?(c.exports.assign(P,h),P.handler=Ce(Ce({},P.handler),h.handler)):c.exports.assign(P,h))):c.exports.isObj(v)&&c.exports.eachEntries(v,(C,I)=>{P&&(C==="handler"?P.handler=Ce(Ce({},P.handler),v.handler):P[C]=I)}),c.exports.isFnc((g=P.handler)==null?void 0:g.fn)&&c.exports.isFnc(P.fn)&&(console.log("%cSetting register.fn to undefined because a custom handler fn was provided","color:#95a5a6;",P),P.fn=void 0),!P.page&&(P.page="_global"),!P.callbacks&&(P.callbacks=[]),P.name!==m&&(P.name=m);else if(c.exports.isObj(f)&&(m=f.onEvent,P=d.cache.register.get(m)||{},v&&c.exports.assign(P,v),!P.callbacks&&(P.callbacks=[]),P.name!==m&&(P.name=m),!P.page&&(P.page="_global"),!d.cache.register.has(m)&&(P.handler?c.exports.isFnc(P.handler.fn)&&c.exports.isFnc(P.fn)&&(P.fn=void 0):c.exports.isFnc(P.fn)||(P.fn=function(I,L){return We(this,null,function*(){var _,A;return Promise.all(((A=(_=d.cache.register.get(m))==null?void 0:_.callbacks)==null?void 0:A.map(F=>We(this,null,function*(){var G;return tt.isActionChain(F)?(G=F==null?void 0:F.execute)==null?void 0:G.call(F,I,L):c.exports.isFnc(F)?yield F(I,L):F})))||[])})}),b.Identify.folds.emit(f)))){const C=d.createActionChain("register",{emit:f.emit,actionType:"emit"},{loadQueue:!0});P.callbacks.push(C)}return H.register.set(m,P)}catch(m){m instanceof Error?console.error(`[${m.name}] ${m.message}`):console.error(m)}}const d={_experimental:{get register(){return E}},_defineGetter(f,v){Object.defineProperty(this,f,{get:c.exports.isFnc(v)?()=>v:()=>v.get})},get cache(){return H},get clean(){return t},get createGetter(){return l},get createGoto(){return n},get createComponent(){return r},createPage(f){var v;if(ve(f))return f;let h="",g,m,P,C;if(c.exports.isStr(f))h=f;else if(ce(f)){if(g=f.id,h=String(f.get("path")||""),P=f.get("page")||((v=H.page.get(f.id))==null?void 0:v.page),ve(P))return P}else if(c.exports.isObj(f)){if(f.name&&(h=f.name),f.onChange&&(m=f.onChange),ce(f.component)){const I=f.component.id;if(I&&H.page.has(I))return H.page.get(I).page}else g=f.id||g||"";(f==null?void 0:f.viewport)&&(ol(f.viewport)?C=f.viewport:c.exports.isObj(f.viewport)&&(C=new ge(f.viewport)))}return P=H.page.create({id:g,name:h,onChange:m,viewport:C}),P==null||P.use(()=>{var I;return(I=d.getRoot()[(P==null?void 0:P.page)||""])==null?void 0:I.components}),P},createPlugin(f="head",v){var h,g;let m="",P=(ce(v)?(h=v.blueprint)==null?void 0:h.path:v==null?void 0:v.path)||"";if(c.exports.isStr(f))m=f;else{v=f,P=((g=f.blueprint)==null?void 0:g.path)||"";const L=f==null?void 0:f.type;P.endsWith(".css")?m="head":P.endsWith(".html")?m="body-top":L==="pluginHead"?m="head":L==="pluginBodyTop"?m="body-top":L==="pluginBodyTail"&&(m="body-bottom"),!m&&(m="head")}const C=P,I={id:C,content:"",initiated:!1,location:m,path:P};return P||(P="",I.id="",I.path=""),!H.plugin.has(C)&&H.plugin.add(m,I),I},createActionChain(f,v,h,g){var m,P;c.exports.isArr(v)||(v=[v]);const C=g||(h==null?void 0:h.id)||((m=h==null?void 0:h.component)==null?void 0:m.id),I=il({actions:c.exports.reduce(v,(L,_)=>{const A=ia(_);return A.length&&c.exports.forEach(F=>console.log(`%c${F}`,"color:#ec0000;",_),A),c.exports.isObj(_)&&!("actionType"in _)?_=wi(Ce({},_),{actionType:ra(_)}):c.exports.isFnc(_)&&(_={actionType:"anonymous",fn:_}),L.concat(_)},[]),trigger:f,loader:L=>{function _(A,F=[],G){return function(W){return We(this,null,function*(){var w;if(F.length){const U=[...(yield Promise.allSettled(F.map(j=>We(this,null,function*(){var R;return yield(R=j.fn)==null?void 0:R.call(j,A,wi(Ce({},G),{component:h==null?void 0:h.component,event:W,ref:I}))})))).values()];return U.length<2?(w=U[0])==null?void 0:w.value:[...U==null?void 0:U.values()]}})}}return L.map(A=>{var F,G,k,W;if(b.Identify.folds.emit(A)){const U=na(f,A);if(h==null?void 0:h.component){const R=((F=h==null?void 0:h.context)==null?void 0:F.iteratorVar)||at(h.component),S=((G=h==null?void 0:h.context)==null?void 0:G.dataObject)||Re(h.component);((k=A.emit)==null?void 0:k.dataKey)&&(U.dataKey=Q.createEmitDataKey(A.emit.dataKey,o({component:h.component,page:h.page,listDataObject:S}),{iteratorVar:R}))}const j=((W=d.cache.actions.emit)==null?void 0:W.get(f))||[];return U.executor=_(U,j,d.getConsumerOptions({context:h==null?void 0:h.context,component:h==null?void 0:h.component,on:h==null?void 0:h.on,page:h==null?void 0:h.page})),U}const w=na(f,A);return w.executor=_(w,b.Identify.action.builtIn(A)?d.cache.actions.builtIn.get(A.funcName):b.Identify.goto(A)?d.cache.actions.goto:d.cache.actions[A.actionType]||[],d.getConsumerOptions({context:h==null?void 0:h.context,component:h==null?void 0:h.component,on:h==null?void 0:h.on,page:h==null?void 0:h.page})),w})},_id:C});return(h==null?void 0:h.loadQueue)&&I.loadQueue(),((P=h==null?void 0:h.on)==null?void 0:P.actionChain)&&I.use(h.on.actionChain),I},get createSrc(){return a},get emit(){return s},getAssetsUrl:()=>"",getActions:T,getBuiltIns:()=>H.actions.builtIn,getBaseUrl:()=>"",getBaseStyles(f,v=ce(f)?f.blueprint:f){var h,g;const m=(ce(f)?((h=f.blueprint)==null?void 0:h.style)||f.style:v.style||(f==null?void 0:f.style))||{},P=Ce({},m);return ge.isNil(m==null?void 0:m.top)||(m==null?void 0:m.top)==="auto"?P.position="relative":P.position="absolute",(m==null?void 0:m.position)=="fixed"&&(P.position="fixed"),c.exports.isNil(m.height)&&(P.height="auto"),Uw(wi(Ce({},(g=d.getRoot())==null?void 0:g.Style),{position:"absolute",outline:"none"}),m,P)},getConsumerOptions({callback:f,component:v,on:h,page:g,context:m}){const P=(C,I)=>{var L,_,A,F;if((I==null?void 0:I.parent)&&b.Identify.component.page(I.parent)){if((_=(L=I.parent)==null?void 0:L.get)==null?void 0:_.call(L,"page"))return(F=(A=I.parent)==null?void 0:A.get)==null?void 0:F.call(A,"page");if(H.page.has(I.id))return H.page.get(I.id).page}return C||d.getRootPage()};return wi(Ce({},d),{callback:f,cache:H,component:v,context:m,get createPage(){return d.createPage},createActionChain(C,I,{context:L,loadQueue:_=!0}={},A){const F=c.exports.isStr(A)&&A&&A||(v==null?void 0:v.id);return d.createActionChain(C,I,{context:Ce(Ce({},m),L),component:v,loadQueue:_,id:F,on:h,page:g},F)},createSrc(C,I){return a({key:C,value:I,component:v,page:P(g,v)})},get emit(){return s},get getBaseStyles(){return d.getBaseStyles},get getQueryObjects(){return o},get on(){return h},get page(){return P(g,v)},get resolveComponents(){return p},get viewport(){var C;return(C=P(g,v))==null?void 0:C.viewport}})},getPlugins(f){return H.plugin.get(f)},getPages(){return[]},getPreloadPages(){return[]},getRoot(){return{}},getRootPage(){var f;return H.page.has("root")?(f=c.exports.array(H.page.get("root"))[0])==null?void 0:f.page:H.page.create({viewport:new ge})},get resolveComponents(){return p},reset(){H.actions.clear(),H.actions.reset(),H.component.clear(),H.page.clear(),H.plugin.clear(),H.register.clear(),H.transactions.clear(),d._defineGetter("getAssetsUrl",()=>""),d._defineGetter("getBaseUrl",()=>""),d._defineGetter("getPages",()=>[]),d._defineGetter("getPreloadPages",()=>[]),d._defineGetter("getRoot",()=>"")},use(f){var v,h;for(const g of Vr)g in f&&c.exports.forEach(m=>{var P;if(!c.exports.isFnc(m))throw new Error(`fn is required for handling actionType "${g}"`);(P=H.actions[g])==null||P.push({actionType:g,fn:m})},c.exports.array(f[g]));if("builtIn"in f&&c.exports.forEach(([g,m])=>{c.exports.forEach(P=>{var C;if(!g)throw new Error("Missing funcName in a builtIn handler");H.actions.builtIn.has(g)||H.actions.builtIn.set(g,[]),(C=H.actions.builtIn.get(g))==null||C.push({actionType:"builtIn",funcName:g,fn:P})},c.exports.array(m))},c.exports.entries(f.builtIn)),"emit"in f&&c.exports.forEach(([g,m])=>c.exports.forEach(P=>{var C;(C=d.cache.actions.emit.get(g))==null||C.push({actionType:"emit",fn:P,trigger:g})},c.exports.array(m)),c.exports.entries(f.emit)),f.on)for(const[g,m]of c.exports.entries(f.on))e.has(g)||e.set(g,[]),(h=(v=e.get(g))==null?void 0:v.push)==null||h.call(v,m);"plugin"in f&&c.exports.forEach(g=>d.createPlugin(l0(),g),c.exports.array(f.plugin)),"register"in f&&(b.Identify.component.register(f.register)||c.exports.isArr(f.register)?c.exports.forEach(jO(d._experimental.register),c.exports.array(f.register)):c.exports.eachEntries(f.register,(g,m)=>{c.exports.isFnc(m)&&d._experimental.register(g,m)})),"transaction"in f&&c.exports.eachEntries(f.transaction,(g,m)=>{const P={};c.exports.isFnc(m)?P.fn=m:c.exports.isObj(m)&&c.exports.assign(P,m),H.transactions.set(g,P)});for(const g of["getAssetsUrl","getBaseUrl","getPages","getPreloadPages","getRoot"])f[g]&&d._defineGetter(g,f[g]);return d}};return d}(),Qw=Br.dataAttributes;return B.ActionsCache=Bs,B.Component=_n,B.ComponentCache=Vs,B.EmitAction=hi,B.NUI=Xw,B.Page=Pn,B.PageCache=Ys,B.PluginCache=Zs,B.RegisterCache=Xs,B.Resolver=Vt,B.TransactionsCache=eo,B.Viewport=ge,B.actionTypes=pn,B.createAction=na,B.createActionChain=il,B.createComponent=sl,B.dataAttributes=Qw,B.evalIf=n0,B.event=gn,B.findIteratorVar=at,B.findListDataObject=Re,B.findParent=Rn,B.flatten=a0,B.formatColor=_t,B.getActionObjectErrors=ia,B.getDataValues=o0,B.isComponent=ce,B.isListConsumer=_i,B.isPage=ve,B.isViewport=ol,B.normalizeProps=el,B.nuiEmitTransaction=Ns,B.nuiEmitType=Hr,B.nuiGroupedActionTypes=Vr,B.parseReference=jn,B.publish=Dn,B.pullFromComponent=c0,B.resolveAssetUrl=ze,B.resolveAsync=Nn,B.resolveComponents=Zn,B.resolveDataAttribs=Xn,B.resolvePageComponentUrl=ll,B.resolveReference=st,B.resolveStyles=ta,B.traverse=Ai,B.trigger=cy,B.triggers=vn,B.visit=fl,B.visitHooks=ul,Object.defineProperty(B,"__esModule",{value:!0}),B}({});
