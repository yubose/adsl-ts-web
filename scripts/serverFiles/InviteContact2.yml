InviteContact2: # This is page name
  module: meetingroom
  title: "Invite"
  pageNumber: "140"  # xd page 16
  init:
    - .SignInCheck
  save:
    - ..inviteMeeting.edgeAPI.store
    - actionType: evalObject
      object:
        =.builtIn.string.concat:
          dataIn:
            - =.Global.contact.document.name.data.firstName
            - " "
            - =.Global.contact.document.name.data.lastName
          dataOut: Global.contact.document.name.data.fullName    
  inviteMeeting:
    edge:
      .Edge: ""
      type: 1053
      refid: .Global.VideoChatObjStore.reference.edge.refid
      bvid: .Global.currentUser.vertex.id
      name:
        phoneNumber: .Global.contact.document.name.data.phoneNumber
        firstName: .Global.contact.document.name.data.firstName
        lastName: .Global.contact.document.name.data.lastName
        fullName: .Global.contact.document.name.data.fullName
        hostName: .ManageMeeting.lobbyRoom.edge.name.fullName
        roomName: .ManageMeeting.lobbyRoom.edge.name.roomName
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: inviteMeeting.edge

  components:
    - .BaseCheckView: ""
      message: "Incorrect phoneNumber"
      viewTag: wrongPhone
    - .BaseHeader3:
    - .HeaderLeftButton:
    # - .HeaderRightButton:
    #   text: Contacts
    - type: view
      style:
        left: "0"
        top: "0.12"
        width: "1"
        height: "0.35"
      children:
        - type: label
          text: "Phone #"
          style:
            left: "0.1333"
            top: "0.05"
            width: "0.72"
            height: "0.03"
            fontSize: "16"
        - type: label
          dataKey: inviteMeeting.edge.name.phoneNumber
          contentType: phone
          style:
            left: "0.1333"
            top: "0.09"
            width: "0.72"
            height: "0.03"
            fontSize: "19"
            color: "0x707070ff"
            border:
              style: "2"
              color: "0x707070ff"
            borderWidth: "1"
        - type: label
          text: "First Name:"
          style:
            left: "0.1333"
            top: "0.155"
            width: "0.72"
            height: "0.03"
            fontSize: "16"
        - type: label
          dataKey: inviteMeeting.edge.name.firstName
          contentType: text
          style:
            left: "0.1333"
            top: "0.195"
            width: "0.72"
            height: "0.03"
            fontSize: "19"
            color: "0x707070ff"
            border:
              style: "2"
              color: "0x707070ff"
            borderWidth: "1"
        - type: label
          text: "Last Name:"
          style:
            left: "0.1333"
            top: "0.26"
            width: "0.72"
            height: "0.03"
            fontSize: "16"
        - type: label
          dataKey: inviteMeeting.edge.name.lastName
          contentType: text
          style:
            left: "0.1333"
            top: "0.3"
            width: "0.72"
            height: "0.03"
            fontSize: "19"
            color: "0x707070ff"
            border:
              style: "2"
              color: "0x707070ff"
            borderWidth: "1"
    # - type: view
    #   style: 
    #     left: "0"
    #     width: "1"
    #     top: "0.5"
    #     height: "0.15"
      # children: 
      #   - type: view
      #     onClick: 
      #       - goto: ContactAccess
      #     style: 
      #       left: "0.1"
      #       top: "0"
      #       width: "0.8"
      #       height: "0.06"
      #       border: 
      #         style: "3"
      #       borderRadius: "30"
      #       borderColor: "0x388ecc"
      #       borderWidth: "1"
        #   children: 
        #     - type: image
        #       path: "addressBook.png"
        #       style: 
        #         left: "0.05"
        #         width: "0.08"
        #         top: "0.01"
        #     - type: label
        #       text: "Add contact from Phone"
        #       style: 
        #         left: "0.18"
        #         top: "0.005"
        #         width: "0.7"
        #         height: "0.04"
        #         textAlign: 
        #           x: left
        #         fontSize: "16"
        #     - type: label
        #       text: "Add contacts from your phone"
        #       style: 
        #         left: "0.18"
        #         top: "0.03"
        #         width: "0.7"
        #         height: "0.02"
        #         color: "0x00000066"
        #         textAlign: 
        #           x: left
        #         fontSize: "14"
        # - type: view
        #   style: 
        #     left: "0.1"
        #     top: "0.08"
        #     width: "0.8"
        #     height: "0.06"
        #     border: 
        #       style: "3"
        #     borderRadius: "40"
        #     borderColor: "0x388ecc"
        #     borderWidth: "0.0001px"
        #   children: 
        #     - type: image
        #       path: "QRcode.png"
        #       style: 
        #         left: "0.05"
        #         width: "0.08"
        #         top: "0.01"
        #     - type: label
        #       text: "Add with QR code"
        #       style: 
        #         left: "0.18"
        #         top: "0.005"
        #         width: "0.7"
        #         height: "0.04"
        #         textAlign: 
        #           x: left
        #         fontSize: "16"
        #     - type: label
        #       text: "Scan a friends QR code"
        #       style: 
        #         left: "0.18"
        #         top: "0.03"
        #         width: "0.7"
        #         height: "0.02"
        #         color: "0x00000066"
        #         textAlign: 
        #           x: left
        #         fontSize: "14"
  
    - type: button
      onClick:
        - actionType: popUp
          popUpView: confirmView
      text: Invite
      style:
        left: "0.1"
        top: "0.75"
        width: "0.8"
        height: "0.05"
        color: "0xffffffff"
        fontSize: "19"
        backgroundColor: "0x388eccff"
        textAlign:
          x: center
        border:
          style: "1"
    - type: popUp # view
      viewTag: confirmView
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1" 
        backgroundColor: "0x00000066" 
      children:
        - type: view
          style:
            left: "0.05"
            top: "0.15"
            width: "0.89333"
            height: "0.35"
            backgroundColor: "0xeeeeeeff"
            border:
              style: "5"
            borderRadius: "15"
          children:
            - type: label
              text: "Send Invite Link"
              style:
                .LabelStyle:
                  left: "0"
                  top: "0.04"
                  width: "0.89333"
                  height: "0.04"
                  color: "0x00000088"
                  fontSize: "20"
                  fontStyle: bold
                  display: inline
                  textAlign:
                    x: center
                    y: center
            - type: label
              text: "Send invite link to"
              style:
                .LabelStyle:
                  left: "0"
                  top: "0.1"
                  width: "0.89333"
                  height: "0.04"
                  color: "0x00000088"
                  fontSize: "14"
                  display: inline
                  textAlign:
                    x: center
                    y: center 
            - type: label
              # text: "John"
              dataKey: inviteMeeting.edge.name.firstName
              style:
                .LabelStyle:
                  left: "0"
                  top: "0.15"
                  width: "0.89333"
                  height: "0.027247"
                  color: "0x00000088"
                  fontSize: "14"
                  display: inline
                  textAlign:
                    x: center
                    y: center 
            - type: label
              #text: "+1 7148397253"
              dataKey: inviteMeeting.edge.name.phoneNumber
              style:
                .LabelStyle:
                  left: "0"
                  top: "0.20"
                  width: "0.89333"
                  height: "0.027247"
                  color: "0x00000088"
                  fontSize: "14"
                  display: inline
                  textAlign:
                    x: center
                    y: center 
            - type: divider
              style:
                .DividerStyle:
                  left: "0"
                  top: "0.25436"
                  width: "0.89333"
                  height: "0.001"
                  backgroundColor: "0x00000088"
            - type: button
              onClick: 
                - actionType: popUpDismiss
                  popUpView: confirmView
              text: Cancel
              style:
                .LabelStyle:
                  left: "0"
                  top: "0.275"
                  width: "0.42"
                  height: "0.06812"
                  color: "0x007affff"
                  fontSize: "17"
                  display: inline
                  textAlign:
                    x: center
                    y: center 
                  border:
                    style: "5"
                  borderRadius: "15"

            - type: button
              onClick: 
                - actionType: saveObject
                  object: ..save
                - actionType: evalObject
                  object: 
                    .Global._nonce@: 
                      =.builtIn.math.random: ""     
                - actionType: popUpDismiss
                  popUpView: confirmView
                - goto: InviteSuccess02
              text: Confirm
              style:
                .LabelStyle:
                  left: "0.45"
                  top: "0.275"
                  width: "0.42"
                  height: "0.06812"
                  color: "0x007affff"
                  fontSize: "17"
                  display: inline
                  textAlign:
                    x: center
                    y: center 
                  border:
                    style: "5"
                  borderRadius: "15"
            - type: divider
              style:
                .DividerStyle:
                  left: "0.45"
                  top: "0.26"
                  width: "0.001"
                  height: "0.07"
                  backgroundColor: "0x00000088"