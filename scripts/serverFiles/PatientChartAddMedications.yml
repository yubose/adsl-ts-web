PatientChartAddMedications:
  pageNumber: "174.5"
  title: "Patient Chart"
  currentMedications: .PatientChartDM.patientChart.document.data.currentMedications  #引用用户总表单对象
  # data template for update
  currentMedicationsTemp:  
    - key: Medication
      value: ""
    - key: Strength
      value: ""  
    - key: Amount
      value: ""
    - key: Frequency
      value: ""   
  currentMedicationsList: 
  components: 
    - .BaseHeader:
    - .HeaderLeftButton:  
    - .HeaderRightButton:
      text: Skip
      onClick:
        - goto: PatientChartImmunizations
    - type: view
      style: 
        height: "0.1"
      children:
        - type: image
          path: Progresspercent30.png
          style: 
            width: "0.9"
            top: "0.12"
            height: "0.035"
            left: "0.05"
    - type: view
      style: 
        left: "0"
        top: "0.14"
        height: "0.46"
        width: "1"
        border:
          style: "2"
          color: "0x939393af"
        borderWidth: "2.5"
      children: 
        - type: label
          text: Current Medications
          style: 
            left: "0.1"
            top: "0.02"
            height: "0.05"
            width: "0.5"
            color: "0x000000"
            fontWeight: "500"
            textAlign: 
              x: left
            fontSize: "18"
        - type: label
          text: Please enter all prescription and over-the-counter medications
          style:
            left: "0.1"
            width: "0.9"
            height: "0.05"
            top: "0.07"
            color: "0x000000"
            fontWeight: "400"
            textAlign:
              x: left
            fontSize: "12"
            fontFamily: sans-serif
        - type: image
          viewTag: provider
          dataKey: medications.edge.name.isTaking
          onClick:
            - actionType: builtIn
              funcName: toggleProviderOnOff
          path: selectOff.png
          pathSelected: selectOn.png      
          style:
            height: "0.025"
            width: "0.042"
            left: "0.1"
            top: "0.13"
        - type: label
          text: Not taking any medications
          style:
            left: "0.18"
            width: "0.9"
            color: "0x000000"
            fontWeight: "400"
            height: "0.03"
            top: "0.128"
            textAlign:
              x: left
            fontSize: "12"
            fontFamily: sans-serif
        - type: textField
          placeholder: Medication
          dataKey: medications.edge.name.medication
          style: 
            left: "0.1"
            top: "0.18"
            width: "0.4"
            height: "0.03"
            fontSize: "11.5"
            border: 
              style: "3"
            textIndent: "10px"
            borderColor: "0x00000066"
            borderRadius: "3"
            paddingLeft: "5px"
        - type: textField
          placeholder: Strength (ex:150mg)
          dataKey: medications.edge.name.strength
          style: 
            left: "0.1"
            top: "0.23"
            width: "0.4"
            height: "0.03"
            fontSize: "11.5"
            border: 
              style: "3"
            textIndent: "10px"
            borderColor: "0x00000066"
            borderRadius: "3"
            paddingLeft: "5px"
        - type: textField
          placeholder: Amount (ex:1 pill)
          dataKey: medications.edge.name.amount
          style: 
            left: "0.1"
            top: "0.28"
            width: "0.4"
            height: "0.03"
            fontSize: "11.5"
            border: 
              style: "3" 
            borderRadius: "3"
            paddingLeft: "5px"
            textIndent: "10px"
            borderColor: "0x00000066"
        - type: textField
          placeholder: Frequency (twice daily)
          dataKey: medications.edge.name.frequency
          style: 
            left: "0.1"
            top: "0.33"
            width: "0.4"
            height: "0.03"
            fontSize: "11.5"
            border: 
              style: "3"
            textIndent: "10px"
            borderColor: "0x00000066"
            borderRadius: "3"
            # paddingLeft: "5px"
        - type: button
          text: Add medication
          onClick:
            - actionType: saveObject
              object: ..save
            - actionType: refresh  
          style: 
            left: "0.33"
            top: "0.39"
            height: "0.04"
            width: "0.34"
            border: 
              style: "3"
              color: "0x388ecc"
            color: "0x388ecc"
            fontStyle: "bold"
            borderRadius: "7"
            borderWidth: "1.8"
    - type: list
      contentType: listObject
      listObject: ..listData.medicationList # to dataObject to enumerate the list
      iteratorVar: itemObject
      style:
        left: "0"
        width: "1"
        top: "0.6"
        height: "0.2"
      children: 
        - type: listItem
          itemObject: ""
          style:
            top: "0"
            width: "1"
            height: "0.1"
          children:
            - .PatientChartLabel:
              text: Name
              style:
                top: "0.02"
                left: "0.05"
                fontSize: "14"
            - .PatientChartLabel:
              text: Strength
              style:
                top: "0.02"
                left: "0.28"
                fontSize: "14"
            - .PatientChartLabel:
              text: Amount
              style:
                top: "0.02"
                left: "0.5"
                fontSize: "14"
            - .PatientChartLabel:
              text: Frequency
              style:
                top: "0.02"
                left: "0.73"
                fontSize: "14"
            - .PatientChartLabelLittle:
              text: Lexapro
              dataKey: itemObject.name.medication
              style: 
                top: "0.055"
                left: "0.05"
            - .PatientChartLabelLittle:
              text: 10mg
              dataKey: itemObject.name.strength
              style: 
                top: "0.055"
                left: "0.28"
            - .PatientChartLabelLittle:
              text: 1 pill
              dataKey: itemObject.name.amount
              style: 
                top: "0.055"
                left: "0.5"
            - .PatientChartLabelLittle:
              text: Once daily
              dataKey: itemObject.name.frequency
              style: 
                top: "0.055"
                left: "0.73"
    - type: button
      text: Next
      onClick:
        - emit:
          dataKey:
            var: .PatientChartDM.patientChart.document.data.currentMedications
          actions:
            var@: ..currentMedications
        - goto: PatientChartImmunizations
      style:
        left: "0.12"
        width: "0.76"
        top: "0.9"
        height: "0.05"
        color: "0xffffffff"
        border: 
          style: "3"
        borderColor: "0x388ecc"
        backgroundColor: "0x388ecc"
        borderRadius: "3"
