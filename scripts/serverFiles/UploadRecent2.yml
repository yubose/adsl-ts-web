UploadRecent2:
  pageNumber: "340"
  title: "Invite" # xd page 36
  init:
    - .SignInCheck
    - ..listData.get
  listData:
    response:
      edge:
    edge:
      .Edge: ""
      type : 1053
      maxcount : "20"
      id: .Global.currentUser.vertex.id
      obfname : "mtime"
      xfname : bvid
    get:
      .EdgeAPI.get : ""
      api: re
      dataIn: listData.edge
      dataOut: listData.response
      _nonce: =.Global._nonce
  inviteMeeting:
    edge: ""
  generalInfo:
    value: true
  components:
    - type: view
      style:
        top: "0"
        left: "0"
        width: "1"
        height: "1"
        position: "fixed"
      children:
        - .BaseHeader3:
        - .HeaderLeftButton:
          onClick:
            - goto: ManageMeeting
        # - .HeaderRightImg:
        #     path: sideNav2.png
        #     onClick:
        #       - goto: SideMenuBar
        - .SubMenuView:
          style:
            top: "0.09"
            backgroundColor: "0x388ecc"
            height: "0.1"
            zIndex: "10"
          children:
            - .SubMenuButton:
              text: "Favorites"
              style:
                top: "0.03"
              onClick:
                - goto: UploadFavorite2
            - .SubMenuButton:
              text: "Recents"
              style:
                top: "0.03"
                left: "0.33"
                color: "0xffffffff"
              onClick:
                - goto: UploadRecent2
            - .SubMenuButton:
              text: "Contacts"
              style:
                top: "0.03"
                left: "0.66"
              onClick:
                - goto: UploadContact2

        - type: view
          style:
            top: "0.2"
            left: "0"
            width: "1"
            height: "0.8"
          children:
            - type: label
              text: Recents
              style:
                left: "0.05"
                top: "0.01"
                width: "0.6"
                height: "0.03"
                fontSize: "20"
                textAlign:
                  x: left
                  y: center

            - type: list
              contentType: listObject
              listObject: ..listData.response.edge # to dataObject to enumerate the list
              iteratorVar: itemObject
              style:
                top: "0.04"
                left: "0.05"
                width: "0.9"
                height: "0.7"
              children:
                - type: listItem
                  itemObject: ""
                  onClick:
                    - actionType: updateObject # updateObject(dataKey, dataObject, dataObjectKey)
                      dataKey: UploadRecent2.inviteMeeting.edge
                      dataObject: itemObject
                    - actionType: evalObject
                      object:
                        - .Global.contact.document.name.data.phoneNumber@: =..inviteMeeting.edge.name.phoneNumber
                        - .Global.contact.document.name.data.firstName@: =..inviteMeeting.edge.name.firstName
                        - .Global.contact.document.name.data.lastName@: =..inviteMeeting.edge.name.lastName
                    - goto: InviteContact2
                  style:
                    left: "0"
                    top: "0"
                    width: "1"
                    height: "0.1"
                    border:
                      style: "2"
                    borderWidth: "1"
                    borderColor: "0x00000011"
                  children:
                    - type: image
                      viewTag: select
                      path: rightYellowArrow.png
                      style:
                        top: "0.03"
                        left: "0"
                        height: "0.04"
                    # - type: image
                    #   path: drImg.png
                    #   style:
                    #     borderRadius: "10000"
                    #     height: "0.07"
                    #     top: "0.015"
                    #     left: "0.13"
                    - type: label
                      dataKey: itemObject.name.fullName
                      style:
                        top: "0"
                        left: "0.15"
                        height: "0.1"
                        width: "0.3"
                        fontStyle: "bold"
                        textAlign:
                          y: center
                          x: right
                    # - type: label
                    #   dataKey: itemObject.name.lastName
                    #   style:
                    #     left: "0.25"
                    #     height: "0.1"
                    #     width: "0.1"
                    #     fontStyle: "bold"
                    #     textAlign:
                    #       y: center
                    #       x: left
                    - type: label
                      # if .buildIn.string.formatUnixtime_en(itemObject.ctime) is not valid
                      # keep the 'text' field, otherwise, replace the 'text' field with the return value.
                      text=func: =.builtIn.string.formatUnixtime_en
                      dataKey: itemObject.ctime # Mon Day, Year hh:mm:ss
                      style:
                        left: "0.52"
                        top: "0.04"
                        height: "0.03"
                        fontSize: "12"
                        zIndex: 1000
