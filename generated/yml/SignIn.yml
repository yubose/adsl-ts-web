SignIn :
  module: meetingRoom
  pageNumber: "3"
  init:
    - if :
        - .builtIn.SignInOk
        - goto: ChatList
        - continue
  update: 
    .Global.currentUser.vertex@ : =.builtIn.UserVertex # set {".Global.currentUser.vertex":".builtIn.UserVertex"}
    .Global.currentUser.JWT@ : =.builtIn.JWT
    =.Global.contactList.get: "" # get.api.re
    .Global.contactList.dataCache.loadingDateTime@ : =.Global.currentDateTime
    .Global.currentUser.dataCache.loadingDateTime@ : =.Global.currentDateTime
  formData:
    countryCode: "+1"
    phoneNumber: "000-000-0002"
    password: "password"


#1090
#  AccessToken string `json:"accessToken"`
#  DeviceType  string `json:"deviceType"`


#1091
#  type InviteArgs struct {
#  InviteePhoneNumber string `json:"inviteePhoneNumber"`
#  InviteeName        string `json:"inviteeName"`
#  InviterName        string `json:"inviterName"`
#  EventName          string `json:"eventName"`
#  Message            string `json:"message"`
#


# apiData:
#   phone_number: ..formData.countryCode + "  " + ..formData.phoneNumber.builtIn.trim
#   password: ..formData.password
  components:
    - type: view
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
      children:
        - .LogoSign
        - type: label
          text: Welcome back
          style:
            color: "0x000000ff"
            left: "0.147"
            top: "0.28"
            width: "0.72"
            height: "0.041"
            fontSize: "24"
            fontStyle: bold
            display: inline
            textAlign: 
              x: left
              y: center
        - type: label
          text: sign in to continue
          style:
            color: "0x00000058"
            left: "0.147"
            top: "0.33"
            width: "0.72"
            height: "0.041"
            fontSize: "16"
            fontStyle: bold
            display: inline
            textAlign: 
              x: left
              y: center
        - type: view
          style:
            left: "0.121"
            top: "0.42"
            width: "0.2"
            height: "0.09"
          children:
            - type: label
              text: Country
              style:
                color: "0x00000058"
                left: "0"
                top: "0"
                width: "0.2"
                height: "0.041"
                fontSize: "12"
                textAlign: 
                  x: left
                  y: center
            - type: select
              contentType: countryCode
              placeholder: ..formData.countryCode
              dataKey: formData.countryCode # formData.countryCode : inputValue
              options:
                  - "+1"
              required: "true"
              style:
                left: "0"
                top: "0.045"
                width: "0.2"
                height: "0.041"
                fontSize: "14"
                borderWidth: "1"
                border:
                  style: "2"
                  color: "0x00000058"    
        - type: view
          style:
            left: "0.3333"
            top: "0.42"
            width: "0.61333"
            height: "0.09"
          children:
            - type: label
              text: Phone
              style:
                color: "0x00000058"
                left: "0"
                top: "0"
                width: "0.483"
                height: "0.041"
                fontSize: "12"
                textAlign: 
                  x: left
                  y: center
            - type: textField # take users' input
              contentType: phoneNumber
              placeholder: ..formData.phoneNumber
              dataKey: formData.phoneNumber  # users' input will be saved to this key
              style:
                textAlign:
                  x: left
                fontSize: "14"
                left: "0"
                top: "0.045"
                width: "0.54667"
                height: "0.041"
                required: "true"
                borderWidth: "1"
                border:
                  style: "2"
        - type: textField
          contentType: password
          placeholder: ..formData.password
          dataKey: formData.password
          required: "true"
          style:
            textAlign:
                x: left
            fontSize: "14"
            left: "0.134"
            top: "0.554"
            width: "0.747"
            height: "0.041"
            borderWidth: "1"

            border:
              style: "2"
        - type: label
          text: Forgot Password?
          style:
            color: "0x00000058"
            left: "0.134"
            top: "0.6"
            width: "0.747"
            height: "0.041"
            fontSize: "14"
            fontStyle: bold
            display: inline
            textAlign: 
              x: right
              y: center
        - type: button
          text: Sign In
          style:
            color: "0xffffffff"
            fontSize: "16"
            fontStyle: bold
            left: "0.134"
            top: "0.7"
            width: "0.747"
            height: "0.06"
            backgroundColor: "0x388eccff"
            border:
              style: "1"
            display: inline
            textAlign:
              x: center
              y: center
          onClick:
            - actionType: builtIn # reserved Value
              funcName: signIn  #signIn(..formData)
              object: ..formData
            - actionType: evalObject # evalObject(..update)
              object: ..update
            - actionType: pageJump
              destination: ChatList
            - =.FirebaseToken.registerToken
        - type: view
          style:
            left: "0.134"
            top: "0.89"
            width: "0.752"
            height: "0.054"
          children:
            - type: label
              text: New user?
              style:
                .LabelStyle:
                  color: "0x00000088"

                  fontSize: "14"
                  left: "0"
                  top: "0"
                  width: "0.4"
                  height: "0.054"
                  display: inline
                  textAlign:
                    x: right
                    y: center
            - type: button
              text: Sign Up
              style:
                color: "0x3185c7ff"
                fontSize: "14"
                fontStyle: bold
                left: "0.41"
                top: "0"
                width: "0.25"
                height: "0.054"
                backgroundColor: "0xffffffff"
                border:
                  style: "1"
              onClick: 
                - actionType: pageJump
                  destination: SignUp
