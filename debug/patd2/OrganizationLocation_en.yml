OrganizationLocation: 
  title: Organization Info
  init: 
    - .SignInCheck

    - ..dataObject@: =.Global.formData.temporaryFacilityId
    # - .Global.jwt.edge.bvid@: =..dataObject.bsig
    # - =.Global.jwt.edgeAPI.store: ""
    - ..fac_RootNotebook.edgeAPI.get
    - ..locationAll.docAPI.get 
    - =.builtIn.object.extractArray:
        dataIn:
          obj: =..locationAll.docResp.doc
          arr: =..formData.arr
        dataOut: OrganizationLocation.formData.locationsList
  formData: 
    arr:
      - name.data.allLocation.0.medicalFacilityName
      - name.data.allLocation.0.id
      # - name
    locationsList: []
  locationAll:   # 把所有的location 信息，在schedule那边显示
    docResp: ""   # get到的值
    docIn:    # for geting all of the location
      type: .DocType.LocationOfFacility
      id: =.OrganizationLocation.fac_RootNotebook.edge.edge.0.id 
      xfname: eid
      obfname: mtime
      maxcount: "1"
      name: 
        data: 
          allLocation: 
    docAPI:
      .DocAPI: ""
      get: 
        api: rd
        dataIn: OrganizationLocation.locationAll.docIn
        dataOut: OrganizationLocation.locationAll.docResp      
  fac_RootNotebook:
    edgeReq:
      id: =..dataObject.bsig
      xfname: bvid
      type: 10000
    edge: ""
    edgeAPI:
      get:
        api: re
        dataIn: OrganizationLocation.fac_RootNotebook.edgeReq
        dataOut: OrganizationLocation.fac_RootNotebook.edge     
  components: 
    - .BaseHeader:
    - .HeaderLeftButton:
      onClick: 
        - goto: NewFacilities
    - type: scrollView
      style:
        left: "0"
        width: "1"
        top: "0.1"
        height: "0.9"
      children: 
        - type: view
          style: 
            left: "0"
            width: "1"
            top: "0"
            height: "0.26"
            # backgroundColor: "0xcdcdcd"
            border: 
              style: "2"
            borderWidth: "3"
            borderColor: "0xdededf"
          children: 
            - type: image
              path: office-building.svg
              style: 
                top: "0.03"
                width: "0.1"
                left: "0.45"
            - type: image
              path: qr.svg
              style: 
                left: "0.85"
                width: "0.08"
                top: "0.01"
            - type: label
              dataKey: dataObject.name.data.basicInfo.medicalFacilityName
              # text: A&C Urgent Care
              style:
                left: "0"
                width: "1"
                top: "0.09"
                height: "0.04"
                fontSize: .Nfont.h3
                color: "0x4b4b4b"
                textAlign: 
                  x: center
            - type: label
              dataKey: dataObject.name.data.basicInfo.address
              style:
                left: "0"
                width: "1"
                top: "0.13"
                height: "0.025"
                fontSize: .Nfont.h2
                color: "0x4b4b4b"
                textAlign: 
                  x: center
            - type: view
              onClick: 
                - goto: InboxDashboard
              style:
                width: "1"
                left: "0"
                height: "0.1"
                top: "0.16"
              children:
                - type: image
                  path: mailIcon.svg
                  style:
                    left: "0.425"
                    width: "0.15"
                - type: label
                  text: AiTmail
                  style:
                    left: "0.425"
                    width: "0.15"
                    top: "0.07"
                    fontSize: .Nfont.h15
                    color: "0x4b4b4b"
                    textAlign:
                      x: center
        - type: view
          style: 
            top: "0.265"  
            width: '1'
            left: "0"
            height: "0.64"
          children:      
            - type: view
              style: 
                left: "0"
                width: "1"
                top: "0"
                height: "0.05"
                border: 
                  style: "2"
                borderWidth: "1"
                borderColor: "0xdededf"
              children: 
                - type: label
                  text: About
                  onClick: 
                    - goto: OrganizationInfo             
                  style: 
                    left: "0.13"
                    width: "0.24"
                    top: "0.01"
                    height: "0.039"
                    fontSize: .Nfont.h2
                    color: "0x2988e6"
                    textAlign: 
                      x: center
                      y: center
                - type: label
                  text: Locations
                  style: 
                    left: "0.38"
                    width: "0.24"
                    top: "0.01"
                    height: "0.039"
                    fontSize: .Nfont.h2
                    color: "0x2988e6"
                    fontWeight: "600"
                    border: 
                      style: "2"
                    borderWidth: "3"
                    borderColor: "0x2988e6"
                    textAlign: 
                      x: center
                      y: center 
                - type: label
                  text: Providers
                  onClick:
                    - goto: OrganizationProvider
                  style: 
                    left: "0.63"
                    width: "0.24"
                    top: "0.01"
                    height: "0.039"
                    fontSize: .Nfont.h2
                    color: "0x2988e6"
                    textAlign: 
                      x: center
                      y: center
                   
            - type: scrollView
              style: 
                left: "0"
                width: '1'
                top: "0.05"
                height: "0.58"
                overflow: scroll
              children:
                - type: list
                  contentType: listObject
                  listObject: ..formData.locationsList
                  iteratorVar: itemObject
                  style:
                    width: '1'
                    top: "0"
                    left: "0"
                    margin: '0'
                    height: auto
                  children:
                    - type: listItem
                      itemObject: ""
                      onClick:  
                        - emit:
                            dataKey: 
                              var: itemObject
                            actions:
                              - ..providerId@: $var.userId
                        - actionType: updateObject
                          dataKey: Global.ActiveProvider
                          dataObject: itemObject
                        - actionType: evalObject
                          object: 
                            - goto: MobileContacts
 
                        
                      style:
                        width: '1'
                        height: '0.08'
                        left: '0'
                        border: 
                          style: "2"
                        borderWidth: "1"
                        borderColor: "0xdededf"
                      children:
                        - type: label
                          text=func: .builtIn.string.getFirstChar
                          dataKey: itemObject.medicalFacilityName
                          style:
                            top: "0.0175"
                            left: "0.08"
                            height: "0.045"
                            width: "0.1"
                            backgroundColor: "#ffc0cb"
                            color: "0xffffff"
                            border: 
                              style: "1"
                            textAlign:
                              x: center
                              y: center
                            zIndex: 100
                        - type: label
                          dataKey: itemObject.medicalFacilityName
                          style:
                            left: "0.23"
                            height: '0.04'
                            top: "0.02"
                            textAlign:
                              y: center
                            width: "0.4"
                            fontSize: .Nfont.h2
                            zIndex: 100
    - .BaseCheckView:
      viewTag: alertStatusView
      message: "You don't have authority to schedule an appointment"
      colorChange: "0x2988e6"
      imgPath: aboutBlue.svg
      children:
        - type: view
          style:
            width: "0.8"
            height: "0.3"
            top: "0.3"
            left: "0.1"
            zIndex: "100"
            backgroundColor: "0xffffff"
            borderRadius: "7"
            border: 
              style: "3"
            borderColor: '#f4f8fa'
            borderWidth: "3" 
          children:
            - .BaseCheckViewImg:
            - .BaseCheckViewLabel:
            - .BaseCheckViewButton:
              onClick:
                - actionType: popUpDismiss
                  popUpView: ____.viewTag