FluVaccinationConsentFormEditPage1:
  title: Flu Vaccination Consent Form
  pageNumber:
  init:
    - .SignInCheck
    #android use calendar init
    - actionType: evalObject
      object:
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 121
              next: 10
            dataOut: BaseComponents.year
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.year
    #android use calendar init
    - actionType: evalObject
      object: .BaseComponents.getDate
    #android use calendar init
    - actionType: evalObject
      object: .BaseComponents.getShow
    - actionType: evalObject
      object:
        - ..calendarDate@: =.BaseComponents.calendarDate
    #IOS use calendar init
    - actionType: evalObject
      object:
        - =.builtIn.date.getMonth:
            dataIn:
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn:
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.day
    #IOS use calendar init
    - actionType: evalObject
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.FluVaccinationConsentFormEditPage1.calendarDate.year
              month: =.FluVaccinationConsentFormEditPage1.calendarDate.month
              today: =.FluVaccinationConsentFormEditPage1.calendarDate.day
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.FluVaccinationConsentFormEditPage1.calendarDate.month
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.FluVaccinationConsentFormEditPage1.calendarDate.year
              month: =.FluVaccinationConsentFormEditPage1.calendarDate.month
              day: =.FluVaccinationConsentFormEditPage1.calendarDate.day
              formatType: "M/D/Y"
            dataOut: FluVaccinationConsentFormEditPage1.calendarDate.todayDate

    # 判断fluVaccinationConsentForm是否存在,存在显示上次填写的数据,否则显示默认数据
    - if:
        - =.Global.formData.fluVaccinationConsentForm.id
        - ..apiRequest.fluVaccinationConsentForm.docReq.name.data@: =.Global.formData.fluVaccinationConsentForm.name.data
        - continue

    #  判断是否是第一次填写fluVaccinationConsentForm
    - if:
        - =.Global.formData.firstFluVaccinationConsentForm
        - actionType: evalObject
          object:
            - if:
                - =.Global.roomInfo.edge.stime
                - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.examDate@: =.Global.roomInfo.edge.stime
                - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.examDate@: =.Global.clock.stime
            - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.patientName@: =.Global.Profile.name.data.basicInfo.fullName
            - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.dob@: =.Global.Profile.name.data.basicInfo.dateOfBirth
            - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.phone@: =.Global.Profile.name.data.basicInfo.phone
            - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.email@: =.Global.Profile.name.data.contactInfo.email
            - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address@: =.Global.Profile.name.data.contactInfo.address
        - continue
  calendarDate:
    year: ""
    month: ""
    day: ""
    monthName: ""
    todayDate: ""
    dayLable: []
  formData: ""
  formDataTemp:
    AllergicEggsTemp:
      - key: isAllergicEggs
        value: "Yes"
      - key: isAllergicEggs
        value: "No"
    AllergicImmunizationTemp:
      - key: isAllergicImmunization
        value: "Yes"
      - key: isAllergicImmunization
        value: "No"
    AllergicMedicationTemp:
      - key: isAllergicMedication
        value: "Yes"
      - key: isAllergicMedication
        value: "No"
    PregnantTemp:
      - key: isPregnant
        value: "Yes"
      - key: isPregnant
        value: "No"
    LocationTemp:
      - key: location
        value: "Right Deltoid"
      - key: location
        value: "Left Deltoid"

  apiRequest:
    fluVaccinationConsentForm:
      docResp: ""
      docReq:
        eid: .Global.rootNotebookID
        type: .DocType.FluVaccinationConsent
        subtype:
          mediaType: "application/json"
        name:
          data:
            classTag:
              name: Patient
              fontColor: "0xf8ae29"
              backgroundColor: "0xfff4e0"
              display: block
            statusTag:
              display: none
            facilityInfo:
              facilityAvatarID: .Global.currentFacility.name.data.basicInfo.businessLogo
              facilityName: .Global.currentFacility.name.data.basicInfo.medicalFacilityName
              location: .Global.currentFacility.name.data.basicInfo.location
              email: .Global.currentFacility.name.data.basicInfo.email
              main: .Global.currentFacility.name.data.basicInfo.phoneNumber
              fax: .Global.currentFacility.name.data.basicInfo.fax
              website: .Global.currentFacility.name.data.basicInfo.website
            patientInfo:
              examDate: ""
              patientName: ""
              dob: ""
              phone: ""
              email:
              address:
                city: ""
                county: ""
                line: ""
                secondLine: ""
                state: ""
                zipCode: ""
              companyName: ""
            status:
              isAllergicEggs: ""
              isAllergicImmunization: ""
              isAllergicMedication: ""
              isPregnant: ""
              isCertify: false
            adminInfo:
              lot: ""
              expiration: ""
              nurse: ""
              location: ""
              maSignature: ""
          title: "Flu Vaccination Consent Form"
          user: .Global.Profile.name.data.basicInfo.fullName
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: FluVaccinationConsentFormEditPage1.apiRequest.fluVaccinationConsentForm.docReq
          dataOut: FluVaccinationConsentFormEditPage1.apiRequest.fluVaccinationConsentForm.docResp
  components:
    - .BasePublicHeader:
        children:
          - type: view
            style:
              ..style.backLeft:
            children:
              - type: image
                path: arrowLeftgrey.svg
                style:
                  ..style.backLeftImg:
                onClick:
                  - ..event.backClick
          - .BasePublicHeaderTitle:
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: view
          style:
            ..style.publicBox:
          children:
            - type: view
              style:
                ..style.facilityInfoBox:
              children:
                - type: image
                  path: office-building.svg
                  path=func: =.builtIn.utils.prepareDocToPath
                  dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.facilityAvatarID
                  style:
                    ..style.avatar:
                - type: view
                  style:
                    ..style.infoBox:
                  children:
                    - type: label
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.facilityName
                      style:
                        ..style.facilityTitle:
                    - type: label
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.location
                      style:
                        ..style.facilityLocation:
            - type: view
              style:
                ..style.facilityOtherBox:
              children:
                - .DocPublicStyleOneBox:
                  children:
                    - .DocPublicStyleOneLeft:
                      text: Email
                    - .DocPublicStyleOneRight:
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.email
                - .DocPublicStyleOneBox:
                  children:
                    - .DocPublicStyleOneLeft:
                      text: Website
                    - .DocPublicStyleOneRight:
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.website
                - .DocPublicStyleOneBox:
                  children:
                    - .DocPublicStyleOneLeft:
                      text: "Main #"
                    - .DocPublicStyleOneRight:
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.main
                - .DocPublicStyleOneBox:
                  children:
                    - .DocPublicStyleOneLeft:
                      text: "Fax #"
                    - .DocPublicStyleOneRight:
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.fax
        - type: view
          style:
            ..style.publicBox:
          children:
            - type: view
              style:
                ..style.partitionBox:
              children:
                - type: label
                  text: Patient Part
                  dataKey:
                  style:
                    ..style.partitionLabel:
            - type: view
              style:
                ..style.facilityOtherBox:
              children:
                - type: view
                  style:
                    ..style.blockBox:
                    marginTop: "0.0270935"
                  children:
                    - type: label
                      text: Exam Date
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: label
                      text=func: .builtIn.string.formatUnixtime_en
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.examDate
                      style:
                        ..style.timeLabel:
                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Patient Name
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.patientName
                      style:
                        ..style.blockBoxInput:

                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Date of Birth
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: view
                      viewTag: birthTag
                      style:
                        ..style.dateBox:
                      onClick:
                        - actionType: popUp
                          popUpView: birthDay
                      children:
                        - type: textField
                          placeholder: Select
                          dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.dob
                          isEditable: "false"
                          style:
                            ..style.dateInput:
                        - type: image
                          path: dateImg.svg
                          style:
                            ..style.dateImg:

                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: "Phone #"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.phone
                      style:
                        ..style.blockBoxInput:
                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: "Email"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.email
                      style:
                        ..style.blockBoxInput:

                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Patient Address
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                        display: "block"
                    - type: textField
                      placeholder: Address Line
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.line
                      style:
                        ..style.blockInput:
                        marginTop: "0.01"
                    - type: textField
                      placeholder: Address Second Line
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.secondLine
                      style:
                        ..style.blockInput:
                        marginTop: "0.01"
                    - type: view
                      style:
                        ..style.InputBox:
                        marginTop: "0.01"
                      children:
                        - type: textField
                          placeholder: City
                          dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.city
                          style:
                            ..style.blockInputInline:
                            width: "0.21"
                        - type: textField
                          placeholder: County
                          dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.county
                          style:
                            ..style.blockInputInline:
                            marginLeft: "0.026"
                            width: "0.21"
                        - type: select
                          dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.state
                          options: .SelectINformationDM.state
                          style:
                            ..style.blockInputInline:
                            marginLeft: "0.026"
                            width: "0.21"
                        - type: textField
                          placeholder: Zip code
                          dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.address.zipCode
                          style:
                            ..style.blockInputInline:
                            marginLeft: "0.026"
                            width: "0.21"
                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Company Name/Referred by
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                        display: "block"
                        width: "0.92"
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.companyName
                      style:
                        ..style.blockInput:
                        marginTop: "0.01"

        - .DocPublicLine:
        - type: view
          style:
            ..style.publicBox:
            marginLeft: "0.04"
          children:
            - type: label
              text: HAVE YOU EVER HAD ANY OF THE FOLLOWING?
              dataKey:
              style:
                ..style.secondLabel:
            - type: label
              text: 1) Allergic reaction to chicken eggs?
              style:
                ..style.questionLabel:
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.AllergicEggsTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: allergicEggsTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.allergicEggsRaidoPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.allergicEggsClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:
            - type: label
              text: 2) Allergic reaction to flu shot or any other type of immunization shot?
              style:
                ..style.questionLabel:
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.AllergicImmunizationTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: allergicImmunizationTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.immunizationRaidoPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.immunizationClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:
            - type: label
              text: 3) Allergic reaction to any medication or drug?
              style:
                ..style.questionLabel:
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.AllergicMedicationTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: allergicMedicationTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.medicationRaidoPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.medicationClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:
            - type: label
              text: 4) Are you or could you be pregnant?
              style:
                ..style.questionLabel:
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.PregnantTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: pregnantTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.pregnantRaidoPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.pregnantClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:
            - type: view
              viewTag: defaultTag
              style:
                ..style.blockBox:
                marginTop: "0.0246305"
              children:
                - type: image
                  path:
                    ..event.checkBoxPath:
                  style:
                    ..style.img:
                  onClick:
                    - ..event.checkBoxClick
                - type: label

                  textBoard:
                    - text: "I certify that the above answers are true and correct to the best of my knowledge. I voluntarily request a flu vaccination from "
                    - text: "Golden West Medical Center"
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.facilityName
                    - text: ". I understand that there is a remote possibility of adverse reaction or other complications of the flu vaccination. I voluntarily agree to assume any risks associated with the administration of the flu vaccine. I hereby waive and release "
                    - text: "Golden West Medical Center"
                      dataKey: apiRequest.fluVaccinationConsentForm.docReq.name.data.facilityInfo.facilityName
                    - text: " from any and all liabilities sustained by me while participating in the flu vaccination program."
                  dataKey:
                  style:
                    ..style.setLabel:
        - type: view
          style:
            ..style.publicBox:
          children:
            - type: view
              style:
                ..style.partitionBox:
                marginTop: "0.065270"
              children:
                - type: label
                  text: Admin Part
                  dataKey:
                  style:
                    ..style.partitionLabel:
            - type: view
              style:
                ..style.facilityOtherBox:
              children:
                - type: view
                  style:
                    ..style.blockBox:
                    marginTop: "0.0270935"
                  children:
                    - type: label
                      text: "LOT #"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: "--"
                      isEditable: false
                      dataKey:
                      style:
                        ..style.blockBoxInput:
                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: "Expiration"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: view
                      style:
                        ..style.dateBox:
                        backgroundColor: "#fafafa"
                      children:
                        - type: textField
                          placeholder: "--"
                          isEditable: "false"
                          style:
                            ..style.dateInput:
                            backgroundColor: "#fafafa"
                        - type: image
                          path: dateImg.svg
                          style:
                            ..style.dateImg:
                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: "Nurse"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: "--"
                      isEditable: false
                      dataKey:
                      style:
                        ..style.blockBoxInput:
                - type: view
                  style:
                    ..style.blockBox:
                    marginTop: "0.02709359"
                  children:
                    - type: label
                      text: "Location"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                        display: "block"
                - type: list
                  contentType: listObject
                  listObject: ..formDataTemp.LocationTemp
                  iteratorVar: itemObject
                  androidGrid: true
                  viewTag: locationTag
                  style:
                    ..style.selectList:
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        ..style.selectListItem:
                        width: "0.33066666"
                      children:
                        - type: image
                          path: radioGray.svg
                          style:
                            ..style.itemImg:
                        - type: label
                          text:
                          dataKey: itemObject.value
                          style:
                            ..style.itemValue:
                - type: view
                  style:
                    ..style.blockBox:
                    marginTop: "0.024630"
                  children:
                    - type: label
                      text: "MA`s Signature"
                      dataKey:
                      style:
                        ..style.blockBoxTitle:
                    - type: textField
                      placeholder: "--"
                      isEditable: false
                      dataKey:
                      style:
                        ..style.blockBoxInput:
        - type: view
          style:
            marginTop: "0.03"
    - type: view
      style:
        ..style.btnBox:
      children:
        - type: button
          text: Done
          dataKey:
          style:
            ..style.btn:
          onClick:
            - ..event.btnClick
    # 弹窗区域
    - type: popUp
      viewTag: birthDay
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.86"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.patientInfo.dob@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: birthTag
                - actionType: popUpDismiss
                  popUpView: birthDay
    - .TipsOneLine:
      viewTag: agreeView
      message: "Please complete require fields"
  event:
    allergicEggsRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicEggs
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    allergicEggsClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicEggs
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: allergicEggsTag
    immunizationRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicImmunization
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    immunizationClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicImmunization
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: allergicImmunizationTag
    medicationRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicMedication
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    medicationClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isAllergicMedication
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: allergicMedicationTag
    pregnantRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isPregnant
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    pregnantClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isPregnant
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: pregnantTag
    checkBoxPath:
      emit:
        actions:
          - if:
              - =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isCertify
              - selectOnBlue.svg
              - selectOffBlue.svg
    checkBoxClick:
      - actionType: evalObject
        object:
          - if:
              - =..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isCertify
              - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isCertify@: false
              - ..apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isCertify@: true
      - actionType: builtIn
        funcName: redraw
        viewTag: defaultTag
    backClick:
      - actionType: evalObject
        object:
          - .Global.formData.firstFluVaccinationConsentForm@: false
          - =..apiRequest.fluVaccinationConsentForm.docAPI.store: ""
          - .Global.formData.fluVaccinationConsentForm@: =..apiRequest.fluVaccinationConsentForm.docResp.doc
      - actionType: builtIn
        funcName: goBack
        reload: true
    btnClick:
      - actionType: evalObject
        object:
          - if:
              - =.FluVaccinationConsentFormEditPage1.apiRequest.fluVaccinationConsentForm.docReq.name.data.status.isCertify
              - continue
              - actionType: popUp
                popUpView: agreeView
                wait: true
                popUpDismiss: 2000
      - actionType: evalObject
        object:
          - .Global.formData.firstFluVaccinationConsentForm@: false
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.vaccine
                value: "Flu Vaccination Consent Form"
          - =.builtIn.array.elementUnique:
              dataIn:
                arr: =.Global.vaccine
              dataOut: FluVaccinationConsentFormEditPage1.formData.doc

      - actionType: evalObject
        object:
          - .Global.vaccine@: ""

      - actionType: evalObject
        object:
          - .Global.vaccine@: =..formData.doc
          - =..apiRequest.fluVaccinationConsentForm.docAPI.store: ""
          - .Global.formData.fluVaccinationConsentForm@: =..apiRequest.fluVaccinationConsentForm.docResp.doc

      - actionType: evalObject
        object:
          .Global._nonce@:
            =.builtIn.math.random: ""
      - actionType: evalObject
        object:
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.roomInfo.edge.name.finishDoc
                value: Flu Vaccination Consent Form
          - goto: =.Global.formData.selectCategory
  style:
    backLeft:
      marginLeft: "0.04"
      display: "inline-block"
      verticalAlign: middle
      height: "0.055"
      boxSizing: border-box
    backLeftImg:
      marginTop: "0.012"
      height: "0.0295"
    scrollBox:
      width: "1"
      height: "0.84729"
      boxSizing: "border-box"
      overflow: "scroll"

    publicBox:
      width: "auto"
      height: "auto"
      overflow: hidden
    facilityInfoBox:
      marginLeft: "0.04"
      marginTop: "0.0246"
      height: "auto"
      width: "0.92"
    avatar:
      verticalAlign: middle
      display: "inline-block"
      height: "0.0578"
      width: "5.78vh"
    infoBox:
      verticalAlign: middle
      marginLeft: "0.08"
      display: "inline-block"
      height: "auto"
      width: "0.71"
      overflow: hidden
    facilityTitle:
      width: "0.71"
      height: "auto"
      fontSize: .Nfont.h20
      fontWeight: "600"

      verticalAlign: middle
      wordWrap: break-word
    facilityLocation:
      marginTop: "0.0110"
      width: "0.71"
      height: "auto"
      fontSize: .Nfont.h14
      color: "0x666666"

      verticalAlign: middle
      wordWrap: break-word
    facilityOtherBox:
      marginLeft: "0.04"
      marginTop: "0.00738"
      width: "0.92"
      height: "auto"
      overflow: hidden
    partitionBox:
      marginTop: "0.0270935"
      backgroundColor: "#e6effc"
      height: "auto"
      width: "1"
      overflow: hidden
    partitionLabel:
      marginLeft: "0.04"
      color: "#2988e6"
      lineHeight: "3.94088vh"
      fontWeight: "700"
    blockBox:
      marginTop: "0.01477"
      width: "auto"
      height: "auto"
      overflow: hidden
    blockBoxTitle:
      display: "inline-block"
      width: "0.42"
      height: "auto"
      verticalAlign: middle
      color: "#333333"
      fontSize: .Nfont.h14
      fontWeight: "600"
    timeLabel:
      display: "inline-block"
      width: "0.4986"
      height: "auto"
      verticalAlign: middle
      color: "#333333"
      fontSize: .Nfont.h14
      boxSizing: border-box
      fontWeight: "600"
      textAlign:
        x: right
    blockBoxInput:
      display: "inline-block"
      width: "0.4986"
      height: "0.0369"
      border:
        style: 3
      borderColor: "#dededf"
      boxSizing: border-box
      borderWidth: "1.5"
      borderRadius: "3"
      color: "#333333"
      fontSize: .Nfont.h14
      textIndent: "12px"
      verticalAlign: middle
    dateBox:
      display: "inline-block"
      width: "0.4986"
      height: "0.0369"
      border:
        style: 3
      borderColor: "#dededf"
      boxSizing: border-box
      borderWidth: "1.5"
      borderRadius: "3"
    dateInput:
      display: "inline-block"
      border:
        style: 1
      boxSizing: border-box
      color: "#333333"
      fontSize: .Nfont.h14
      height: "0.03078"
      verticalAlign: middle
      textIndent: "12px"
      width: "0.4266"
      backgroundColor: "#ffffff"
    dateImg:
      display: "inline-block"
      verticalAlign: middle
      height: "0.02"
    blockInput:
      height: "0.0369"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
      verticalAlign: "middle"
    InputBox:
      width: "0.92"
      height: "0.0369"
      overflow: hidden
    blockInputInline:
      height: "0.0369"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
      verticalAlign: "middle"
      display: "inline-block"
    secondLabel:
      marginTop: "0.02709359"
      fontSize: .Nfont.h14
      color: "#333333"
      fontWeight: "600"
    selectList:
      width: "0.92"
      height: "auto"
      margin: "0"
      marginTop: "0.017241"
    selectListItem:
      display: "inline-block"
      width: "0.25333"
      height: "auto"
    itemImg:
      display: "inline-block"
      height: "0.02093"
      width: "0.0442"
      verticalAlign: middle
    itemValue:
      marginLeft: "0.02133"
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "auto"
      height: "auto"
      verticalAlign: middle
    questionLabel:
      marginTop: "0.0233990"
      width: "auto"
      height: "auto"
      color: "#333333"
      fontWeight: "600"
      lineHeight: "2.58vh"
    img:
      display: "inline-block"
      height: "0.01970"
    setLabel:
      display: "inline-block"
      marginLeft: "0.026666"
      height: "auto"
      width: "0.8506666"
      fontSize: .Nfont.h14
      color: "#333333"
      lineHeight: "2.58vh"
    btnBox:
      width: "1"
      height: "0.0972"
      boxSizing: "border-box"
      overflow: "scroll"
      backgroundColor: "#ffffff"
      boxShadow: "1px 1px 4px 1px #dededf"
      textAlign:
        x: center
    btn:
      marginTop: "0.0123"
      height: "0.0443"
      width: "0.84"
      border:
        style: 1
      borderRadius: "5"
      backgroundColor: "#2988e6"
      color: "#ffffff"
      fontSize: .Nfont.h14
      boxSizing: border-box
      fontWeight: "600"
      textAlign:
        x: center
