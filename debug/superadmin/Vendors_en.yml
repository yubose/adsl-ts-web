Vendors:   
  title:  Vendors
  init:
    - =..apiRequest.vendor.docAPI.get: ""
    - ..formData.vendorList@: =..apiRequest.vendor.docResp.doc
    - =.builtIn.array.splitTableList: 
        dataIn: 
          arrObj: =..formData.vendorList
          numX: "12"
          numY: "1"
        dataOut: Vendors.formData.tableData
    - ..formData.tableList@: =..formData.tableData.0
    - =.builtIn.string.concat:
        dataIn:
          - =..formData.tablePageNum # page num
          - " / "
          - =..formData.tableData.1 # total page
        dataOut: Vendors.formData.tableCurrentPage # current page                           
    - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
        dataIn:
          num: =..formData.tableData.1
          step: "1"
        dataOut: Vendors.formData.totalPageMore # update page num       
    - =.builtIn.array.setPropertyInterlacedChange:
        dataIn:
          arrIn: =..formData.tableList
          arr: ["backgroundColor"]
          valueArr: ["0xf5f5f5"]
          errorArr: ["0xffffff"]    
  formData: 
    searchInfo: ""
    vendorList: []
    currentVendor: {}
    tableData: [] # sdk 返回的数组,包括当前显示第几页的数据list 和 被切分成总共多少页面
    tableList: [] # sdk 返回的数组的第一项，list真正打印的数据
    tablePageNum: "1" # previous和next 中间的文本显示的数据
    tableCurrentPage: "1" # 当前显示的当前页面/总页面
    gotoPageNum: "" # goto 后面的文本显示
    totalPageMore: "" # totalPage(tableData.1) + 1 
  apiRequest:
    vendor: 
      docReq: 
        id: .Global.rootNotebookID
        xfname: eid 
        _nonce: =.Global._nonce
        type: .DocType.Vendor
        obfname: "ctime"
      docResp: ""
      docStoreResp: ""
      docStoreReq:
        eid: .Global.rootNotebookID
        type: .DocType.Vendor
        name: 
          title: "" 
          data: 
            name: ""
            contact: ""
            phone: ""
            extension: ""
      deleteReq: 
        id: ""
      docAPI: 
        store:
          api: cd
          dataIn: Vendors.apiRequest.vendor.docStoreReq
          dataOut: Vendors.apiRequest.vendor.docStoreResp  
        get: 
          api: rd 
          dataIn: Vendors.apiRequest.vendor.docReq
          dataOut: Vendors.apiRequest.vendor.docResp  
        delete: 
          api: dx 
          dataIn: Vendors.apiRequest.vendor.deleteReq
  components:
    - .TotalView: 
      children: 
        - .SideMenuBar: 
          children:
            - .aitLogo:
            - .MenuBar:        
        - .TopBar: 
        - .InnerBodyView:
          children:
            - .TransactionsAndMoneyView: 
              children:
                - .PageTitleLabelHasReceivedMoney:
            - .ContentBar:
              children:
                - type: view
                  style:
                    left: "0.0252"
                    width: "0.766"
                    height: "0.04"
                    boxSizing: border-box
                    marginTop: "0.03"
                    display: flex
                    alignItems: center
                    justifyContent: space-between
                  children:
                    - type: view
                      style:
                        width: "0.68"
                        height: "0.035"
                        display: flex
                        alignItems: center
                        border: 
                          style: "3"
                        borderWidth: "1"
                        borderColor: "0xdedede"
                        borderRadius: "4"
                      children:
                        - type: image
                          path: searchGray.svg
                          style:
                            marginLeft: "0.01"
                            width: "0.01"
                        - type: textField
                          placeholder: Search by vendor name 
                          dataKey: formData.searchInfo
                          debounce: 100
                          onInput: 
                            - actionType: evalObject
                              object:
                                - =.builtIn.array.vagueFilterArrayByPath:
                                    dataIn:
                                      objArr: =..apiRequest.vendor.docResp.doc
                                      path: name.data.name
                                      compareStr: =..formData.searchInfo                
                                    dataOut: Vendors.formData.vendorList
                                - ..formData.tablePageNum@: "1"
                                - =.builtIn.array.splitTableList: 
                                    dataIn: 
                                      arrObj: =..formData.vendorList
                                      numX: "12"
                                      numY: =..formData.tablePageNum
                                    dataOut: Vendors.formData.tableData
                                - ..formData.tableList@: =..formData.tableData.0 
                                - =.builtIn.array.setPropertyInterlacedChange:
                                    dataIn:
                                      arrIn: =..formData.tableList
                                      arr: ["backgroundColor"]
                                      valueArr: ["0xf5f5f5"]
                                      errorArr: ["0xffffff"]  
                                    dataOut: Vendors.formData.tableList                                       
                                - =.builtIn.string.concat: 
                                    dataIn: 
                                      - =..formData.tablePageNum
                                      - " / "
                                      - =..formData.tableData.1
                                    dataOut: Vendors.formData.tableCurrentPage                                    
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableFooter  
                          style:
                            marginLeft: "0.005"
                            height: "0.035"
                            boxSizing: border-box
                            fontSize: .Nfont.nf1
                            width: "0.6"
                            border: none
                            backgroundColor: "0xffffff00"
                    - type: view
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..apiRequest.vendor.docStoreReq.name.data.name@: "" 
                            - ..apiRequest.vendor.docStoreReq.name.data.contact@: "" 
                            - ..apiRequest.vendor.docStoreReq.name.data.phone@: "" 
                            - ..apiRequest.vendor.docStoreReq.name.data.extension@: "" 
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: addVendorTag
                        - actionType: popUp
                          popUpView: addVendorTag
                      style:
                        width: "0.073"
                        height: "0.035"
                        border: 
                          style: "3"
                        borderWidth: "1"
                        borderColor: "0x005795"
                        borderRadius: "4"
                        backgroundColor: "0x005795"
                        display: flex
                        alignItems: center
                        justifyContent: center
                      children:
                        - type: image
                          path: addCircle.svg
                          style:
                            width: "0.008"
                        - type: label
                          text: Add Vendors
                          dataKey: 
                          style:
                            color: "0xffffff"
                            marginLeft: "0.005"
                            fontSize: .Nfont.nf2
                - type: view
                  viewTag: tableView
                  style: 
                    left: "0.0252"
                    width: "0.766"
                    marginTop: "0.02"
                    height: "auto"
                    border-top-left-radius: "5px"
                    border-top-right-radius: "5px"
                    boxSizing: border-box
                    border:
                      style: "3"
                    borderColor: "0xdedede"
                    borderBottom: "0xffffff"
                  children: 
                    # TableHeader
                    - type: view
                      viewTag: tableHeader
                      style: 
                        marginTop: "0.02"
                        width: "0.766"
                        margin: "0"
                        left: "0"
                        height: "0.04"
                      children: 
                        - type: label
                          text: "Vendor Name"
                          style: 
                            width: "0.17"   
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"                     
                            color: "0x333333"
                            borderWidth: "1"
                            boxSizing: border-box
                            lineHeight: "4vh"
                            textIndent: "1.5em"
                            display: inline-block
                            textAlign: 
                              y: center
                        - type: label
                          text: "Contact"
                          style: 
                            width: "0.17"    
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"                     
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign: 
                              y: center
                      
                        - type: label
                          text: "Phone #"
                          style: 
                            width: "0.19"   
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"                     
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign: 
                              y: center 
                        - type: label
                          text: "Extension"
                          style: 
                            width: "0.14"    
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"                     
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign: 
                              y: center
                        - type: label
                          text: "Edit"
                          style: 
                            width: "0.06"    
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"                     
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign: 
                              y: center 
                    # TableBody
                    - type: list
                      viewTag: tableBody
                      contentType: listObject
                      listObject: ..formData.tableList #..formData.vendorList #formData.tableList
                      iteratorVar: itemObject
                      style: 
                        width: "0.7645"
                        margin: "0"
                        left: "0"
                        height: auto
                        borderTop: "solid 1px  #dedede"
                        fontSize: .Nfont.nf2
                        boxSizing: border-box        
                      children: 
                        - type: listItem
                          itemObject: 
                          style:   
                            borderBottom: "solid 1px  #dedede"
                            height: "auto"
                            boxSizing: border-box
                            backgroundColor: itemObject.backgroundColor
                          children: 
                            - type: label
                              dataKey: itemObject.name.data.name
                              style: 
                                width: "0.17"     
                                height: "0.04"
                                borderWidth: "1"
                                display: inline-block
                                color: "0x333333"
                                lineHeight: "4vh"
                                textIndent: 1.5em
                                text-overflow: ellipsis
                                overflow: hidden
                                textAlign: 
                                  y: center" 
                            - type: label
                              dataKey: itemObject.name.data.contact
                              style: 
                                width: "0.17"    
                                height: "0.04"
                                color: "0x333333"
                                borderWidth: "1"
                                display: inline-block
                                lineHeight: "4vh"
                                text-overflow: ellipsis
                                overflow: hidden
                                textAlign: 
                                  y: center  
                            - type: label
                              dataKey: itemObject.name.data.phone
                              style: 
                                width: "0.19"    
                                height: "0.04"
                                color: "0x333333"
                                borderWidth: "1"
                                display: inline-block
                                lineHeight: "4vh"
                                text-overflow: ellipsis
                                overflow: hidden
                                textAlign: 
                                  y: center                                    
                            - type: label
                              dataKey: itemObject.name.data.extension
                              style:
                                width: "0.14"  
                                height: "0.04"
                                color: "0x333333"
                                borderWidth: "1"
                                display: inline-block
                                lineHeight: "4vh"
                                text-overflow: ellipsis
                                overflow: hidden
                                textAlign: 
                                  y: center 
                            - type: view
                              style:
                                width: "0.06"    
                                height: "0.04"
                                borderWidth: "1"
                                display: inline-block
                                lineHeight: "4vh"
                                textAlign: 
                                  y: center  
                                color: "0x005795"
                                fontWeight: "600"   
                                textDecoration: underline
                              children:
                                - type: image
                                  path: editPenMainBlue.svg 
                                  onClick: 
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:

                                          - ..formData.currentVendor@: $var
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: editVendorTag
                                    - actionType: popUp
                                      popUpView: editVendorTag
                                  style:
                                    marginLeft: "0.008"
                                    width: "0.008"
                                    display: "inline-block"
                                    lineHeight: "4vh"
                                    verticalAlign: middle
                                - type: image
                                  path: redTrash.svg
                                  onClick:  
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..formData.currentVendor@: $var
                                    - actionType: popUp
                                      popUpView: deleteVendorTag 
                                  style:
                                    marginLeft: "0.035"
                                    width: "0.008"
                                    display: inline-block
                                    lineHeight: "4vh"
                                    verticalAlign: middle
                # TableFooter
                - type: view
                  viewTag: tableFooter
                  style: 
                    .TableFooterView:
                    left: "0.588"
                    top: "0.78"
                  children: 
                    - type: view
                      style: 
                        top: "0.005"
                        width: "0.08"
                        height: "0.0155"
                      children: 
                        - type: label
                          text: "Current page:"
                          style: 
                            display: inline-block
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            textAlign:
                              x: "center"
                              y: "center"
                        - type: label
                          dataKey: formData.tableCurrentPage
                          style: 
                            marginLeft: "0.005"
                            display: inline-block
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            textAlign:
                              x: "center"
                              y: "center"
                    - type: view
                      style: 
                        top: "0"
                        left: "0.076"
                        width: "0.05168"
                        height: "0.02576"
                      children: 
                        - type: image
                          path: tableLeft.svg
                          onClick:
                            - actionType: evalObject
                              object: 
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum 
                                        num2: 2 
                                  - continue 
                                  - actionType: evalObject 
                                    object: 
                                      - =.builtIn.number.Subtraction: 
                                          dataIn: 
                                            num: =..formData.tablePageNum 
                                            step: "1"
                                          dataOut: Vendors.formData.tablePageNum
                                      - =.builtIn.array.splitTableList: 
                                          dataIn: 
                                            arrObj: =..formData.vendorList
                                            numX: "12"
                                            numY: =..formData.tablePageNum
                                          dataOut: Vendors.formData.tableData
                                      - ..formData.tableList@: =..formData.tableData.0 
                                      - =.builtIn.array.setPropertyInterlacedChange:
                                          dataIn:
                                            arrIn: =..formData.tableList
                                            arr: ["backgroundColor"]
                                            valueArr: ["0xf5f5f5"]
                                            errorArr: ["0xffffff"]  
                                          dataOut: Vendors.formData.tableList                                       
                                      - =.builtIn.string.concat: 
                                          dataIn: 
                                            - =..formData.tablePageNum
                                            - " / "
                                            - =..formData.tableData.1
                                          dataOut: Vendors.formData.tableCurrentPage
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableFooter
                          style: 
                            top: "0"
                            width: "0.01456"
                            height: "0.02576"
                        - type: label
                          dataKey: formData.tablePageNum
                          style: 
                            top: "0"
                            left: "0.01856"
                            width: "0.01446"
                            height: "0.02576"
                            fontSize: .Nfont.nf0
                            fontWeight: "500"
                            color: "0xffffff"
                            backgroundColor: "0x005795"
                            borderRadius: "3"
                            textAlign:
                              x: center
                              y: center
                        - type: image
                          path: tableRight.svg
                          onClick:
                            - actionType: evalObject
                              object: 
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum 
                                        num2: =..formData.tableData.1 
                                  - actionType: evalObject 
                                    object: 
                                      - =.builtIn.number.addition: 
                                          dataIn: 
                                            num: =..formData.tablePageNum 
                                            step: "1"
                                          dataOut: Vendors.formData.tablePageNum
                                      - =.builtIn.array.splitTableList: 
                                          dataIn: 
                                            arrObj: =..formData.vendorList
                                            numX: "12"
                                            numY: =..formData.tablePageNum
                                          dataOut: Vendors.formData.tableData
                                      - ..formData.tableList@: =..formData.tableData.0 
                                      - =.builtIn.array.setPropertyInterlacedChange:
                                          dataIn:
                                            arrIn: =..formData.tableList
                                            arr: ["backgroundColor"]
                                            valueArr: ["0xf5f5f5"]
                                            errorArr: ["0xffffff"]  
                                          dataOut: Vendors.formData.tableList                                       
                                      - =.builtIn.string.concat: 
                                          dataIn: 
                                            - =..formData.tablePageNum
                                            - " / "
                                            - =..formData.tableData.1
                                          dataOut: Vendors.formData.tableCurrentPage
                                  - continue 
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableFooter                           
                          style: 
                            top: "0"
                            left: "0.03712"
                            height: "0.02576"
                            width: "0.01456"
                    # Goto
                    - type: view
                      style: 
                        top: "0"
                        left: "0.14"
                        width: "0.05"
                        height: "0.02496"
                      children: 
                        - type: textField
                          viewTag: gotoView
                          dataKey: formData.gotoPageNum
                          style:
                            width: "0.02496"
                            top: "0"
                            height: "0.02576"
                            borderRadius: "3"
                            borderWidth: "1"
                            border:
                              style: "3"
                            boxSizing: border-box
                            borderColor: "0xd8d8d8"
                            fontSize: .Nfont.nf0
                            fontWeight: "500"
                            color: "0x333333"
                            textAlign: 
                              x: center 
                              y: center 
                        - type: button
                          text: "Go to" 
                          style:
                            textDecoration: underline
                            left: "0.029"
                            top: "0"
                            height: "0.02576"
                            border:
                              style: "1"
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            backgroundColor: "0xffffff00"
                          onClick:
                            - actionType: evalObject
                              object: 
                                .Global._nonce@: 
                                  =.builtIn.math.random: "" 
                            - actionType: evalObject
                              object: 
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.gotoPageNum 
                                        num2: 1
                                  - continue 
                                  - actionType: evalObject 
                                    object: 
                                      - if: 
                                        - =.builtIn.number.less: 
                                            dataIn: 
                                              num1: =..formData.gotoPageNum 
                                              num2: =..formData.totalPageMore 
                                        - actionType: evalObject 
                                          object: 
                                            - =.builtIn.array.splitTableList: 
                                                dataIn: 
                                                  arrObj: =..formData.vendorList
                                                  numX: "12"
                                                  numY: =..formData.gotoPageNum
                                                dataOut: Vendors.formData.tableData
                                            - ..formData.tableList@: =..formData.tableData.0 
                                            - =.builtIn.array.setPropertyInterlacedChange:
                                                dataIn:
                                                  arrIn: =..formData.tableList
                                                  arr: ["backgroundColor"]
                                                  valueArr: ["0xf5f5f5"]
                                                  errorArr: ["0xffffff"]  
                                                dataOut: Vendors.formData.tableList                                             
                                            - =.builtIn.string.concat: 
                                                dataIn: 
                                                  - =..formData.gotoPageNum
                                                  - " / "
                                                  - =..formData.tableData.1
                                                dataOut: Vendors.formData.tableCurrentPage
                                            - ..formData.tablePageNum@: =..formData.gotoPageNum
                                            - ..formData.gotoPageNum@: ""                                                
                                        - continue
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn 
                              funcName: redraw
                              viewTag: tableFooter 
        # add new vendor
        - .BasePopUp:
          viewTag: addVendorTag
          children:
            - type: view
              style:
                left: "0.6"
                width: "0.4"
                height: "1"
                top: "0"
                zIndex: "10"
                backgroundColor: "0xffffff"
              children:
                - .PopUphead:
                  children:
                    - .CreateLabel:
                      text: 'Add New Vendors'
                    - .Closebutton:
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: addVendorTag
                - type: view
                  style:
                    height: "0.82"
                    width: "0.4"
                    top: "0.08"
                    backgroundColor: "0xffffff"
                  children:  
                    - .vendorPopView:  
                      style: 
                        marginTop: "0.03"
                      children:
                        - .vendorPopText: 
                          textBoard:
                            - text: Vendor Name  
                            - text: "*"
                              color: "0xff0000"
                        - .vendorPopTextField:    
                          dataKey: apiRequest.vendor.docStoreReq.name.data.name
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          text: Contact
                        - .vendorPopTextField:   
                          dataKey: apiRequest.vendor.docStoreReq.name.data.contact                                           
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          textBoard:
                            - text: "Phone # " 
                            - text: "*"
                              color: "0xff0000"
                        - .vendorPopTextField:   
                          dataKey: apiRequest.vendor.docStoreReq.name.data.phone  
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          text: Extension
                        - .vendorPopTextField: 
                          dataKey: apiRequest.vendor.docStoreReq.name.data.extension                                                   
                - .ConfirmBtnView: 
                  children: 
                    - .ConfirmButton: 
                      text: Confirm  
                      onClick:
                        - actionType: evalObject
                          object: 
                            - if: 
                              - =.builtIn.string.judgeFillinAll:
                                  dataIn:
                                    - =..apiRequest.vendor.docStoreReq.name.data.name
                                    - =..apiRequest.vendor.docStoreReq.name.data.phone
                              - actionType: popUp
                                popUpView: notFillView
                                wait: true
                              - continue   
                            - =..apiRequest.vendor.docAPI.store: ""
                            - =.builtIn.array.push:
                                dataIn:
                                  newMessage: =..apiRequest.vendor.docStoreResp.doc
                                  messages: =..formData.vendorList
                                dataOut: Vendors.formData.vendorList

                            - =.builtIn.array.splitTableList: 
                                dataIn: 
                                  arrObj: =..formData.vendorList
                                  numX: "12"
                                  numY: "1"
                                dataOut: Vendors.formData.tableData
                            - ..formData.tableList@: =..formData.tableData.0
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.tablePageNum # page num
                                  - " / "
                                  - =..formData.tableData.1 # total page
                                dataOut: Vendors.formData.tableCurrentPage # current page                           
                            - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                                dataIn:
                                  num: =..formData.tableData.1
                                  step: "1"
                                dataOut: Vendors.formData.totalPageMore # update page num       
                            - =.builtIn.array.setPropertyInterlacedChange:
                                dataIn:
                                  arrIn: =..formData.tableList
                                  arr: ["backgroundColor"]
                                  valueArr: ["0xf5f5f5"]
                                  errorArr: ["0xffffff"]    
                                dataOut: Vendors.formData.tableList
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableFooter
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableBody
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: addVendorTag
                        - actionType: popUpDismiss
                          popUpView: addVendorTag
                        - actionType: popUp
                          popUpView: addSuccessTag     
                          wait: 1000       
        # edit vendor
        - .BasePopUp:
          viewTag: editVendorTag
          children:
            - type: view
              style:
                left: "0.6"
                width: "0.4"
                height: "1"
                top: "0"
                zIndex: "10"
                backgroundColor: "0xffffff"
              children:
                - .PopUphead:
                  children:
                    - .CreateLabel:
                      text: 'Edit a Vendor'
                    - .Closebutton:
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: editVendorTag
                - type: view
                  style:
                    height: "0.82"
                    width: "0.4"
                    top: "0.08"
                    backgroundColor: "0xffffff"
                  children:  
                    - .vendorPopView:  
                      style: 
                        marginTop: "0.03"
                      children:
                        - .vendorPopText: 
                          textBoard:
                            - text: Vendor Name  
                            - text: "*"
                              color: "0xff0000"
                        - .vendorPopTextField:   
                          dataKey: formData.currentVendor.name.data.name  
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          text: Contact
                        - .vendorPopTextField:    
                          dataKey: formData.currentVendor.name.data.contact                                           
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          textBoard:
                            - text: "Phone # " 
                            - text: "*"
                              color: "0xff0000"
                        - .vendorPopTextField:    
                          dataKey: formData.currentVendor.name.data.phone  
                    - .vendorPopView:  
                      children:
                        - .vendorPopText: 
                          text: Extension
                        - .vendorPopTextField:     
                          dataKey: formData.currentVendor.name.data.extension                                                
                - .ConfirmBtnView: 
                  children: 
                    - .ConfirmButton: 
                      text: Save  
                      onClick:
                        - actionType: evalObject
                          object: 
                            - if: 
                              - =.builtIn.string.judgeFillinAll:
                                  dataIn:
                                    - =..formData.currentVendor.name.data.name  
                                    - =..formData.currentVendor.name.data.phone  
                              - actionType: popUp
                                popUpView: notFillView
                                wait: true
                              - continue   
                            - ..apiRequest.vendor.docStoreReq@: =..formData.currentVendor
                            - =..apiRequest.vendor.docAPI.store: ""
                            - =.builtIn.object.set:
                                dataIn:
                                  object: =..apiRequest.vendor.docStoreResp.doc
                                  key: "backgroundColor"
                                  value: =..formData.currentVendor.backgroundColor
                            - =.builtIn.array.ChangeAnItemInArray:
                                dataIn:
                                  array: =..formData.tableList
                                  path: "id"
                                  obj: =..apiRequest.vendor.docStoreResp.doc
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableBody
                        - actionType: popUpDismiss
                          popUpView: editVendorTag
                        - actionType: popUp
                          popUpView: addSuccessTag     
                          wait: 1000  
        # delete staff popup   
        - .DeleteWarningPopUp:
          msg: "Are you sure you want to delete the vendor?"
          viewTag: deleteVendorTag
          .BackgroundPopUp: 
          children:
            - .BackgroundWhite:
              style: 
                height: "0.34"
              children: 
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.24"
                  children: 
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:
                      style:   
                        left: "0.03"
                        width: "0.22"
                        fontSize: .Nfont.nf4
                - .CancelButton: 
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: deleteVendorTag
                - .DeleteButton: 
                  onClick:
                    - actionType: evalObject
                      object: 
                        - ..apiRequest.vendor.deleteReq.id@: =..formData.currentVendor.id
                        - =..apiRequest.vendor.docAPI.delete: ""
                        - =.builtIn.array.removeById:
                            dataIn:
                              object: =..formData.vendorList
                              id: =..apiRequest.vendor.deleteReq.id
                        - =.builtIn.array.splitTableList: 
                            dataIn: 
                              arrObj: =..formData.vendorList
                              numX: "12"
                              numY: "1"
                            dataOut: Vendors.formData.tableData
                        - ..formData.tableList@: =..formData.tableData.0
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..formData.tablePageNum # page num
                              - " / "
                              - =..formData.tableData.1 # total page
                            dataOut: Vendors.formData.tableCurrentPage # current page                           
                        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                            dataIn:
                              num: =..formData.tableData.1
                              step: "1"
                            dataOut: Vendors.formData.totalPageMore # update page num       
                        - =.builtIn.array.setPropertyInterlacedChange:
                            dataIn:
                              arrIn: =..formData.tableList
                              arr: ["backgroundColor"]
                              valueArr: ["0xf5f5f5"]
                              errorArr: ["0xffffff"]    
                            dataOut: Vendors.formData.tableList
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: tableBody
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: tableFooter
                    - actionType: popUpDismiss
                      popUpView: deleteVendorTag
                    - actionType: popUp
                      popUpView: deleteSuccess
                      wait: 1000
                         
        # delete vendor success popUp
        - .BaseSuccessfulView: ""
          msg: "Delete Successfully!"
          viewTag: deleteSuccess                          
        # add vendor success popUp
        - .BaseSuccessfulView:
          viewTag: addSuccessTag
        # add vendor not fill red star's item
        - .BaseWarningView:
          viewTag: notFillView
















