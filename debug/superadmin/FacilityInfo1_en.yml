FacilityInfo1: #xd page number: 62
  pageNumber: "360"
  viewPort: top
  title: "FacilityInfo1"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - .Global.jwt.edge.bvid@: =.Global.formData.currentFacility.bsig
    - =.Global.jwt.edgeAPI.store: ""
    - =..getVertex.vertexAPI.get: ""
    - ..facility.document@: =.Global.formData.currentFacility
    - ..facility.document.name.data.basicInfo.facilityLink@: =.Global.formData.facilityLink
    - ..dEA.docIn.id@: =.Global.formData.currentFacility.bsig
    - ..medicalLicense.docIn.id@: =.Global.formData.currentFacility.bsig
    - =..dEA.docAPI.get: ""
    - =..medicalLicense.docAPI.get: ""    
    - =.builtIn.string.concat:
        dataIn:
          - ""
          - =..facility.document.name.data.basicInfo.businessType
          - ""
        dataOut: FacilityInfo1.formData.facNameAndBusType
    - if: 
      - =.builtIn.string.equal:
          dataIn: 
            string1: =..facility.document.name.data.basicInfo.largeType
            string2: "M"
      - actionType: evalObject
        object: 
          - ..formData.controlMedical@: "block"
          - ..formData.controlBusiness@: "none"
          - ..formData.controlDea@: "block"
      - actionType: evalObject
        object: 
          - ..formData.controlMedical@: "none"
          - ..formData.controlBusiness@: "block"
          - ..formData.controlDea@: "none"
    - if: 
      - =.Global.formData.staffAuthorization.name.data.roleControlLevel.accountManagement.facility.add
      - ..formData.isAddDis@: "inline-block"
      - ..formData.isAddDis@: "none"
    - if: 
      - =.Global.formData.staffAuthorization.name.data.roleControlLevel.accountManagement.facility.edit
      - ..formData.isEditDis@: "block"
      - ..formData.isEditDis@: "none"    

    # 样式
    # - ..facility.document.name.data.basicInfo.status@: Pending
    - if: 
      - =.builtIn.string.equal:
          dataIn: 
            string1: =..facility.document.name.data.basicInfo.status
            string2: "Verified"
      - actionType: evalObject
        object: 
          - ..formDataTemp.colorObj.text@: "Verified"
          - =.builtIn.array.ChangeAnItemInArray: 
              dataIn:
                array: =..formDataTemp.assignType
                path: text
                obj: =..formDataTemp.colorObj
      - continue
    - if: 
      - =.builtIn.string.equal:
          dataIn: 
            string1: =..facility.document.name.data.basicInfo.status
            string2: "Pending"
      - actionType: evalObject
        object: 
          - ..formDataTemp.colorObj.text@: "Pending"
          - =.builtIn.array.ChangeAnItemInArray: 
              dataIn:
                array: =..formDataTemp.assignType
                path: text
                obj: =..formDataTemp.colorObj
      - continue
    - if: 
      - =.builtIn.string.equal:
          dataIn: 
            string1: =..facility.document.name.data.basicInfo.status
            string2: "Suspend"
      - actionType: evalObject
        object: 
          - ..formDataTemp.colorObj.text@: "Suspend"
          - =.builtIn.array.ChangeAnItemInArray: 
              dataIn:
                array: =..formDataTemp.assignType
                path: text
                obj: =..formDataTemp.colorObj
      - continue
  formData:  
    isEditDis: "block"         # staff控制权限：edit location 按钮
    isAddDis: "inline-block"   # staff控制权限：添加location 按钮
    facNameAndBusType: ""
    businessHours: []  # 点击view展示的businessHours
    controlMedical: ""
    controlBusiness: ""
    controlDea: ""
    status: ""

  formDataTemp: 
    assignTypeIn: 
      - text: "Verified"
        textColor: "0x2fb355"
        backgroundColor: "0xffffff" 
      - text: "Pending"
        textColor: "0xf8ae29"
        backgroundColor: "0xffffff"
      - text: "Suspend"
        textColor: "0xe24445"
        backgroundColor: "0xffffff"
    assignType: 
      - text: "Verified"
        textColor: "0x2fb355"
        backgroundColor: "0xffffff" 
      - text: "Pending"
        textColor: "0xf8ae29"
        backgroundColor: "0xffffff"
      - text: "Suspend"
        textColor: "0xe24445"
        backgroundColor: "0xffffff"
    colorObj: 
      text: ""
      textColor: "0xffffff"
      backgroundColor: "0x005795" 
  style: 
    suspendFont:
      fontFamily: "Proxima Nova"
      left: "0.028"
      marginTop: "0.02"
      width: "0.3"

  middleList: []
  flag: ""
  flag1: ""
  dEA:
    url: DEA.svg
    resp: ""
    docIn: 
      ObjType: 8
      id: ""
      xfname: E.bvid
      sCondition: E.type=10000 AND D.type=258561
      maxcount: "1"
      obfname: "ctime"
      _nonce: =.Global._nonce
    docAPI: 
      get:
        .DocAPI.get: "" 
        dataIn: dEA.docIn
        dataOut: FacilityInfo1.dEA.resp  
  medicalLicense:
    url: MedicalLicensePicture.svg
    resp: ""
    docIn: 
      ObjType: 8
      id: ""
      xfname: E.bvid
      sCondition: E.type=10000 AND D.type=28901
      maxcount: "1"
      obfname: "ctime"
      _nonce: =.Global._nonce
    docAPI: 
      get:
        .DocAPI.get: "" 
        dataIn: medicalLicense.docIn
        dataOut: FacilityInfo1.medicalLicense.resp    
  facility:
    response: ""
    document: ""
    docAPI:
      store:
        api: cd
        dataIn: FacilityInfo1.facility.document
        dataOut: FacilityInfo1.facility.response
  getVertex:
    vertex:
      xfname: id
      id: =.Global.formData.currentFacility.bsig
      _nonce: =.Global._nonce
    vertexAPI:
      get:
        api: rv
        dataIn: FacilityInfo1.getVertex.vertex
        dataOut: FacilityInfo1.getVertex.response          
  facilityVertex:
    response: ""
    vertex:
      .FacilityInfo1.getVertex.response.vertex.0
    vertexAPI:
      store:
        api: cv
        dataIn: FacilityInfo1.facilityVertex.vertex 
        dataOut: FacilityInfo1.facilityVertex.response                   
  components:
    - .TotalView: 
      children:
        - .BaseCheckView: ""
          message: "You don't have the authority to edit"
          viewTag: mFIAuthEdit
          style: 
            zIndex: "100000"                 
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
          style:
            left: "0.16"
            marginTop: "0"
            height: "0.063"
            width: "0.84"              
        - type: view
          style:
            backgroundColor: "0xf4f8fa"
            width: "0.84"
            height: "0.937"
            left: "0.16"
            top: "0.063"
          children:
            - type: label
              text: "Facility Profile"
              style:
                top: "0.02"
                left: "0.02"
                fontSize: .Nfont.nf5
                fontFamily: "Roboto"
                color: "0x333333"
                fontWeight: "600"          
            - .GotoBackPreview: ""
              onClick:
                - actionType: updateObject
                  dataKey: Global.formData.currentFacility
                  dataObject: {} 
                - actionType: builtIn
                  funcName: goBack
                  reload: true                
              style:
                top: "0.02"          
            - .ContentBar:
              viewTag: facilityProfileView
              style:
                marginTop: "0.06256"
                backgroundColor: "0xffffff"
                width: "0.82"
                height: "0.85594"
                # marginLeft: "0.01"
                borderRadius: "6"
                border: 
                  style: "3"
                borderColor: "0xffffff"
                boxSizing: border-box
                zIndex: "2"
              children:
                - type: view
                  style:
                    marginTop: "0.016"
                    left: "0.056"
                    width: "0.70252"
                    height: "0.81512"
                    border:
                      style: "5"
                    borderColor: "0x333333"
                    # backgroundColor: "0x0000ff33"
                  children:
                    # - .MedBtnWithImg:
                    #   btnText: "Edit"
                    #   onClick:
                    #     - actionType: updateObject
                    #       dataKey: Global.formData.currentLocationDoc
                    #       dataObject: {}
                    #     - actionType: evalObject
                    #       object: 
                    #         - .Global.formData.currentLocationDoc@: =..facility.response.doc.0
                    #     - goto: EditFacilityInfo
                    #   style:
                    #     left: "0.6344"
                    #     top: "0"
                    #     width: "0.06812"
                    #     # display: ..formData.isEditDis
                    - type: view
                      style:
                        top: "0.01"
                        width: "0.7"
                      children:
                        - type: image
                          viewTag: businessTag
                          path: squareDefaultPicture.svg
                          path=func: =.builtIn.utils.prepareDocToPath
                          # 传入签名文档的id
                          dataKey: facility.document.name.data.basicInfo.businessLogo
                          onClick: 
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: businessPhotoView
                            - actionType: popUp
                              popUpView: businessPhotoView
                          contentType: file
                          style:
                            top: "0.02"
                            width: "0.0546"
                            height: "0.0966"
                            border:
                              style: "5"
                            borderRadius: "6"
                        - type: view
                          style:
                            marginLeft: "0.07"
                            display: inline-block
                          children:
                            - type: label
                              dataKey: facility.document.name.data.basicInfo.medicalFacilityName
                              style:
                                fontSize: .Nfont.nf6
                                fontFamily: "Proxima Nova"
                                fontWeight: "600"
                                color: "0x333333"
                                marginTop: "0.02"
                            - type: view
                              style: 
                                marginLeft: "0"  
                                marginTop: "0.01"  
                                width: 'auto' 
                                display: flex
                              children:                                             
                                - type: label
                                  text: "Status:"
                                  style:
                                    fontSize: .Nfont.nf3
                                    fontFamily: "Proxima Nova"
                                    fontWeight: "600"
                                    color: "0x005795" 
                                    marginRight: "0.01"
                                - type: label
                                  viewTag: statusTag
                                  text: "Pending"
                                  dataKey: facility.document.name.data.basicInfo.status
                                  # onClick:
                                  #   - actionType: evalObject
                                  #     object:
                                  #       - ..facility.document.name.data.basicInfo.status@: "Verified"
                                  #       - =..facility.docAPI.store: ""                                         
                                  style:
                                    fontSize: .Nfont.nf3
                                    fontFamily: "Proxima Nova"
                                    fontWeight: "600"
                                    color: ..facility.document.name.data.basicInfo.statusColor                                                           
                            - type: view
                              style:
                                width: 'auto'
                                marginTop: "0"
                                height: "0.05"
                                marginLeft: "0"
                                display: flex
                                # flex
                                # backgroundColor: "0xcdcdcd"
                              children:   
                                - type: label
                                  text: "Link:"
                                  style: 
                                    fontSize: .Nfont.nf3
                                    fontFamily: "Proxima Nova"
                                    fontWeight: "600"
                                    color: "0x005795"
                                    textAlign: 
                                      x: left
                                      y: center                                    
                                - type: label
                                  dataKey: facility.document.name.data.basicInfo.facilityLink
                                  viewTag: linkTag
                                  style: 
                                    fontSize: .Nfont.nf2
                                    color: "0x2988e6"
                                    textIndent: "10px"
                                    marginRight: "10px"
                                    textAlign: 
                                      x: left
                                      y: center
                                - type: image
                                  path: copyImg.svg
                                  onClick: 
                                    - actionType: builtIn
                                      funcName: copy
                                      viewTag: linkTag
                                  style:                                  
                                    width: "0.01"
                                    marginTop: "0"
                                    zIndex: "10"                                

                    - type: view
                      style:
                        width: "0.225"
                        height: "0.035"
                        display: inline-block
                        # marginLeft: "0.45"
                        left: "0.425"
                        borderRadius: "5"
                        top: "0.04"
                        boxSizing: border-box
                        border: 
                          style: "3"
                        borderColor: "0xdedede"
                      children: 
                        - type: label
                          text: "Status: "
                          dataKey: 
                          style:
                            width: "0.055"
                            fontFamily: "Arial"
                            color: "0x005795"
                            fontSize: .Nfont.nf2
                            display: inline-block
                            lineHeight: "3.4vh"
                            verticalAlign: middle
                            textAlign:
                              x: center
                        - type: view
                          style:
                            display: inline-block
                            width: "0.16"
                          children: 
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.assignType
                              iteratorVar: itemObject
                              viewTag: assignTypeTag
                              style:
                                margin: '0'
                                left: "0.01"
                                height: "0.035"
                                axis: horizontal
                                alignItems: center
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    height: '0.025'
                                    marginRight: "0.01"
                                    backgroundColor: itemObject.backgroundColor
                                    border:
                                      style: 3
                                    borderColor: "0xffffff"
                                    borderRadius: "3"
                                    boxSizing: border-box
                                    color: itemObject.textColor
                                    textAlign:  
                                      y: center
                                  onClick:
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:   
                                          - ..formData.status@: $var.text
                                    - actionType: evalObject
                                      object:
                                        - if:   
                                          - =.builtIn.string.equal:
                                              dataIn: 
                                                string1: "Verified"
                                                string2: =..formData.status
                                          - actionType: popUp
                                            popUpView: verifiedTag
                                          - continue
                                        - if:   
                                          - =.builtIn.string.equal:
                                              dataIn: 
                                                string1: "Pending"
                                                string2: =..formData.status
                                          - actionType: popUp
                                            popUpView: pendingTag
                                          - continue
                                        - if:   
                                          - =.builtIn.string.equal:
                                              dataIn: 
                                                string1: "Suspend"
                                                string2: =..formData.status
                                          - actionType: popUp
                                            popUpView: suspendTag
                                          - continue
                                  children:
                                    - type: label
                                      dataKey: itemObject.text
                                      style:
                                        marginLeft: "0.005"
                                        marginRight: "0.005"
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.nf2
                                        display: inline-block
                                        lineHeight: "3.4vh"
                                        verticalAlign: middle
                                        textAlign:
                                          x: center
                    - type: view
                      style:
                        borderRadius: "4"
                        # border: 
                        #   style: "3"
                        # borderColor: "0xeff0f2"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.07314"
                        top: "0.185"
                        overflow: hidden
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: Facility ID
                            - .FacilityInfoTitle:
                              text: "Main Phone #"
                            - .FacilityInfoTitle:
                              text: Email
                            - .FacilityInfoTitle:
                              text:  Website
                        - .FacilityInfoText:
                          dataKey: facility.document.name.data.basicInfo.locationID
                        - .FacilityInfoText:
                          dataKey: facility.document.name.data.basicInfo.phoneNumber
                        - .FacilityInfoText:
                          dataKey: facility.document.name.data.basicInfo.email
                        - .FacilityInfoText:
                          dataKey: facility.document.name.data.basicInfo.website                             
                          style:
                            borderRight: "1px solid #eff0f2"
                    - type: view
                      style:
                        borderRadius: "4"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.07314"
                        top: "0.28"
                        overflow: hidden
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: Address Line
                              style:
                                width: "0.148"
                            - .FacilityInfoTitle:
                              text: "Address Second Line"
                              style:
                                width: "0.148"
                            - .FacilityInfoTitle:
                              text: City
                              style:
                                width: "0.1016"
                            - .FacilityInfoTitle:
                              text: County 
                              style:
                                width: "0.1016"
                            - .FacilityInfoTitle:
                              text: State
                              style:
                                width: "0.1016"
                            - .FacilityInfoTitle:
                              text: Zip Code
                              style:
                                width: "0.1016"
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.addressFirstLine 
                          style:
                            width: "0.148"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.addressSecondLine  
                          style:
                            width: "0.148"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.city   
                          style:
                            width: "0.1016"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.county     
                          style:
                            width: "0.1016"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.state  
                          style:
                            width: "0.1016"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.zipCode  
                          style:
                            width: "0.1016"
                            borderRight: "1px solid #eff0f2"
                    - type: view
                      style:
                        borderRadius: "4"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.07314"
                        top: "0.375"
                        overflow: hidden
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: "Business License #"
                            - .FacilityInfoTitle:
                              text: City
                            - .FacilityInfoTitle:
                              text: "State"
                            - .FacilityInfoTitle:
                              text: "License Expiration Date" 
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.businessLicense
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.businessLicenseCity 
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.businessLicenseState  
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.licenseExpirationDate   
                          style:
                            borderRight: "1px solid #eff0f2"
                    - type: view
                      viewTag: medicalViewTag
                      style:
                        borderRadius: "4"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.07314"
                        top: "0.47"
                        overflow: hidden
                        display: ..formData.controlMedical
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: "NPI #"
                              style: 
                                width: "0.14"
                            - .FacilityInfoTitle:
                              text: "DEA #"
                              style: 
                                width: "0.14"
                            - .FacilityInfoTitle:
                              text: "TIN(EIN)"
                              style: 
                                width: "0.14"
                            - .FacilityInfoTitle:
                              text: "Fax #"
                              style: 
                                width: "0.14"
                            - .FacilityInfoTitle:
                              text: "Business Hours" 
                              style: 
                                width: "0.12"
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.NPI
                          style: 
                            width: "0.14"
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.DEANumber 
                          style: 
                            width: "0.14"
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.tin 
                          style: 
                            width: "0.14"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.fax 
                          style: 
                            width: "0.14"
                        - type: view
                          style:
                            marginLeft: "0"
                            width: "0.142"
                            verticalAlign: middle
                            lineHeight: "4.2vh"
                            display: inline-block  
                            borderLeft: "1px solid #eff0f2"
                            boxSizing: border-box
                            borderRight: "1px solid #eff0f2" 
                          children:
                            - type: label
                              text: "View"
                              style:
                                marginLeft: "0.014"
                                width: "0.016"
                                fontWeight: "400"
                                fontSize: .Nfont.nf2
                                textDecoration: underline
                                color: "0x005795"
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.array.splitArrString:
                                        dataIn: 
                                          arr: =..facility.document.name.data.basicInfo.businessHours
                                        dataOut: FacilityInfo1.formData.businessHours
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: DataTag
                                - actionType: popUp
                                  popUpView: businessHourTag
                    
                    - type: view
                      viewTag: businessViewTag
                      style:
                        borderRadius: "4"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.07314"
                        top: "0.47"
                        overflow: hidden
                        display: ..formData.controlBusiness
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: "TIN(EIN)"
                              style: 
                                width: "0.234"
                            - .FacilityInfoTitle:
                              text: "Fax #"
                              style: 
                                width: "0.234"
                            - .FacilityInfoTitle:
                              text: "Business Hours" 
                              style: 
                                width: "0.12"
                        - .FacilityInfoText:   
                          dataKey: facility.document.name.data.basicInfo.tin 
                          style: 
                            width: "0.234"
                        - .FacilityInfoText:  
                          dataKey: facility.document.name.data.basicInfo.fax 
                          style: 
                            width: "0.234"
                        - type: view
                          style:
                            marginLeft: "0"
                            width: "0.14"
                            verticalAlign: middle
                            lineHeight: "4.2vh"
                            display: inline-block  
                            borderLeft: "1px solid #eff0f2"
                            boxSizing: border-box
                            borderRight: "1px solid #eff0f2" 
                          children:
                            - type: label
                              text: "View"
                              style:
                                marginLeft: "0.014"
                                width: "0.016"
                                fontWeight: "400"
                                fontSize: .Nfont.nf2
                                textDecoration: underline
                                color: "0x005795"
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.array.splitArrString:
                                        dataIn: 
                                          arr: =..facility.document.name.data.basicInfo.businessHours
                                        dataOut: FacilityInfo1.formData.businessHours
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: DataTag
                                - actionType: popUp
                                  popUpView: businessHourTag
                    

                    - type: view
                      style:
                        borderRadius: "4"
                        borderBottom: "1px solid #eff0f2"
                        boxSizing: border-box
                        borderWidth: "1"
                        width: "0.70252"
                        height: "0.0966"
                        top: "0.565"
                        overflow: hidden
                      children:
                        - type: view
                          style: 
                            width: "0.70252"
                            height: "0.02944"
                            marginTop: "0"
                            left: "0"
                            backgroundColor: "0xeff0f2"
                          children: 
                            - .FacilityInfoTitle:
                              text: Introduction
                        - type: textView
                          isEditable: false
                          dataKey: facility.document.name.data.basicInfo.introduction 
                          style: 
                            width: "0.70252"
                            top: "0.02944"
                            height: "0.06762"
                            borderRight: "1px solid #eff0f2"
                            lineHeight: "2vh"
                            fontFamily: "Roboto"
                            marginLeft: "0"
                            textIndent: "2em"
                            verticalAlign: middle
                            fontWeight: "400"
                            fontSize: .Nfont.nf2
                            backgroundColor: "0xffffff"
                            color: "0x333333"
                            display: inline-block  
                            borderLeft: "1px solid #eff0f2"
                            boxSizing: border-box                    
                            textAlign: 
                              y: top
                    - type: view
                      style:
                        width: "0.091"
                        height: "0.123"
                        top: "0.691"
                        display: flex
                        flexDirection: column
                        alignItems: center
                        justifyContent: space-between
                      children:  
                        - type: image
                          path: defaultPicture.svg
                          path=func: =.builtIn.utils.prepareDocToPath
                          dataKey: medicalLicense.resp.doc.0.id
                          style:
                            width: "0.091"
                            height: "0.1012"
                            backgroundColor: "0xf0f2f4" 
                            border:
                              style: "5"
                            borderRadius: "6"
                          onClick:
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: businessLicenseView
                            - actionType: popUp
                              popUpView: businessLicenseView
                        - type: label
                          text: "Business License"
                          style:
                            width: "0.091"
                            fontSize: .Nfont.nf2   
                            color: "0x333333"
                            fontWeight: "600" 
                            marginTop: "0.013"
                            textAlign:
                              x: center
                    - type: view
                      style:
                        display: ..formData.controlDea
                      children: 
                        - type: view
                          style:
                            width: "0.091"
                            height: "0.123"
                            top: "0.691"
                            marginLeft: "0.12"
                            display: flex
                            flexDirection: column
                            alignItems: center
                            justifyContent: space-between
                          children: 
                            - type: image
                              path: defaultPicture.svg
                              path=func: =.builtIn.utils.prepareDocToPath
                              dataKey: dEA.resp.doc.0.id
                              style:
                                width: "0.091"
                                height: "0.1012"
                                backgroundColor: "0xf0f2f4" 
                                border:
                                  style: "5"
                                borderRadius: "6"
                              onClick:
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: deaPhotoView
                                - actionType: popUp
                                  popUpView: deaPhotoView  
                            - type: label
                              text: "DEA"
                              style:
                                width: "0.091"
                                fontSize: .Nfont.nf2   
                                marginTop: "0.013"
                                color: "0x333333"
                                fontWeight: "600"
                                textAlign:
                                  x: center

        # 查看图片的弹框 
        - type: popUp
          viewTag: businessPhotoView
          style:
            left: "0"
            width: "1"
            top: "0"
            height: "1"
            zIndex: "10"
            backgroundColor: "0x00000033"
          children: 
            - type: view
              style: 
                left: "0.37"
                width: "0.334"
                height: "0.445"
                top: "0.248"
                borderRadius: "5px"
                backgroundColor: "0xffffff"   
              children: 
                - type: view
                  style:
                    left: "0.264"
                    height: "0.1"
                    marginTop: "0"
                    width: "0.07"
                    display: flex
                    justifyContent: space-around
                    alignItems: center
                  children: 
                    - type: image
                      path: close.svg
                      onClick: 
                        - actionType: popUpDismiss
                          popUpView: _____.viewTag
                      style:
                        width: "0.012"
                - type: view
                  style:
                    width: "0.334"
                    marginTop: "0"
                    height: "0.365"
                    textAlign:
                      x: center
                  children: 
                    - type: image
                      path: null.png
                      path=func: =.builtIn.utils.prepareDocToPath
                      # 传入签名文档的id
                      dataKey: facility.document.name.data.basicInfo.businessLogo
                      style:
                        width: "0.28"
                        height: "0.3"                

        - type: popUp
          viewTag: deaPhotoView
          style:
            left: "0"
            width: "1"
            top: "0"
            height: "1"
            zIndex: "10"
            backgroundColor: "0x00000033"
          children: 
            - type: view
              style: 
                left: "0.37"
                width: "0.334"
                height: "0.445"
                top: "0.248"
                borderRadius: "5px"
                backgroundColor: "0xffffff"   
              children: 
                - type: view
                  style:
                    left: "0.264"
                    height: "0.1"
                    marginTop: "0"
                    width: "0.07"
                    display: flex
                    justifyContent: space-around
                    alignItems: center
                  children: 
                    - type: image
                      path: close.svg
                      onClick: 
                        - actionType: popUpDismiss
                          popUpView: _____.viewTag
                      style:
                        width: "0.012"
                - type: view
                  style:
                    width: "0.334"
                    marginTop: "0"
                    height: "0.365"
                    textAlign:
                      x: center
                  children: 
                    - type: image
                      path: null.png
                      path=func: =.builtIn.utils.prepareDocToPath
                      # 传入签名文档的id
                      dataKey: dEA.resp.doc.0.id
                      style:
                        width: "0.28"
                        height: "0.3" 

        - type: popUp
          viewTag: businessLicenseView
          style:
            left: "0"
            width: "1"
            top: "0"
            height: "1"
            zIndex: "10"
            backgroundColor: "0x00000033"
          children: 
            - type: view
              style: 
                left: "0.37"
                width: "0.334"
                height: "0.445"
                top: "0.248"
                borderRadius: "5px"
                backgroundColor: "0xffffff"   
              children: 
                - type: view
                  style:
                    left: "0.264"
                    height: "0.1"
                    marginTop: "0"
                    width: "0.07"
                    display: flex
                    justifyContent: space-around
                    alignItems: center
                  children: 
                    - type: image
                      path: close.svg
                      onClick: 
                        - actionType: popUpDismiss
                          popUpView: _____.viewTag
                      style:
                        width: "0.012"
                - type: view
                  style:
                    width: "0.334"
                    marginTop: "0"
                    height: "0.365"
                    textAlign:
                      x: center
                  children: 
                    - type: image
                      path: null.png
                      path=func: =.builtIn.utils.prepareDocToPath
                      # 传入签名文档的id
                      dataKey: medicalLicense.resp.doc.0.id
                      style:
                        width: "0.28"
                        height: "0.3" 
        # BusinessHour View
        - .BasePopUp:
          style:
            top: "0"
            left: "0"
            height: "1"
            width: "1"
            zIndex: "1000"
          viewTag: businessHourTag
          children:
            - .PopUphead:
              style:
                left: '0.6'
              children:
                - .CreateLabel:
                  text: "Business Hours"
                - .Closebutton:
                  onClick:
                    - .BaseDate.calendarDate.minidayLable@: []
                    - actionType: popUpDismiss
                      popUpView: businessHourTag
            - type: view
              style:
                height: '0.92'
                width: '0.4'
                top: '0.08'
                left: '0.6'
                backgroundColor: '0xffffff'
              viewTag: DataTag
              children:
                - type: view
                  style:
                    marginTop: "0.026"
                    width: "0.28"
                    left: "0.075"
                  children:
                    - type: label
                      text: "Day"
                      style:
                        width: "0.14"
                        fontSize: .Nfont.nf2
                        display: inline-block
                        fontWeight: "600"
                        color: "0x333333"
                        textAlign: 
                          y: center         
                    - type: label
                      text: "Hour"
                      style:                        
                        display: inline-block
                        
                        width: "0.14"
                        fontSize: .Nfont.nf2
                        fontWeight: "600"
                        color: "0x333333"
                        textAlign: 
                          y: center 
                - type: scrollView
                  style:
                    marginTop: "0.01"
                    width: "0.28"
                    left: "0.075"
                    height: "0.85"
                    # backgroundColor: "0xff0000"
                  children:                       
                    - type: list
                      viewTag: busHoursTag
                      contentType: listObject
                      listObject: ..formData.businessHours
                      iteratorVar: itemObject
                      style:
                        width: '0.28'
                        margin: '0'
                        height: auto
                      children:
                        - type: listItem
                          itemObject: 
                          style:
                            width: '0.28'
                            left: '0'
                            height: "0.03"
                          children:
                            - type: label
                              dataKey: itemObject.dayConcat
                              style:
                                fontSize: .Nfont.nf1
                                fontWeight: "400"
                                color: "0x333333"
                                display: inline-block
                                width: "0.14"                     
                            - type: label
                              dataKey: itemObject.HourConcat
                              style:
                                fontSize: .Nfont.nf1
                                fontWeight: "400"
                                color: "0x333333"
                                display: inline-block
                                width: "0.14"   


        - .BaseJudgeView: 
          viewTag: verifiedTag
          children: 
            - .BaseJudgeInnerView: 
              children: 
                - .BaseJudgeCancelImg: 
                - .BaseJudgeTxt: 
                  text: "After clicking confirm, the status will take effect and be displayed in enterprise admin."
                - .BaseJudgeButtonView: 
                  children: 
                    - .BaseJudgeButtonNo:   
                    - .BaseJudgeButtonYes:  
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..formDataTemp.assignType@: =..formDataTemp.assignTypeIn
                            - ..formDataTemp.colorObj.text@: =..formData.status
                            - =.builtIn.array.ChangeAnItemInArray: 
                                dataIn:
                                  array: =..formDataTemp.assignType
                                  path: text
                                  obj: =..formDataTemp.colorObj
                        - actionType: evalObject
                          object:
                            - ..facility.document.name.data.basicInfo.status@: "Verified"
                            - ..facility.document.name.data.basicInfo.statusColor@: "0x2fb355"
                            - =..facility.docAPI.store: ""
                        - actionType: evalObject
                          object:                            
                            - ..facilityVertex.vertex.name.basicInfo.status@: "Verified"
                            - =..facilityVertex.vertexAPI.store: ""                            
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: statusTag                                                                                          
                        - actionType: popUpDismiss
                          popUpView: verifiedTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: assignTypeTag                         
        - .DeleteWarningPopUp: 
          viewTag: pendingTag
          .BackgroundPopUp: 
          children:
            - .BackgroundWhite:
              children: 
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.267"
                  children: 
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:  
                      type: label
                      textBoard: 
                        - text: If it is set to pending,
                        - text: " "
                        - text: =..facility.document.name.data.basicInfo.medicalFacilityName
                          color: "0x2988e6"
                        - text: " "
                        - text: and providers under
                        - text: " "
                        - text: =..facility.document.name.data.basicInfo.medicalFacilityName
                          color: "0x2988e6"
                        - text: " "
                        - text: cannot be searched.
                - .CancelButton: 
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: pendingTag
                - .DeleteButton: 
                  text: Confirm
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formDataTemp.assignType@: =..formDataTemp.assignTypeIn
                        - ..formDataTemp.colorObj.text@: =..formData.status
                        - =.builtIn.array.ChangeAnItemInArray: 
                            dataIn:
                              array: =..formDataTemp.assignType
                              path: text
                              obj: =..formDataTemp.colorObj
                    - actionType: evalObject
                      object:
                        - ..facility.document.name.data.basicInfo.status@: "Pending"
                        - ..facility.document.name.data.basicInfo.statusColor@: "0xf8ae29"
                        - =..facility.docAPI.store: ""
                    - actionType: evalObject
                      object:                            
                        - ..facilityVertex.vertex.name.basicInfo.status@: "Pending"
                        - =..facilityVertex.vertexAPI.store: ""                        
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: statusTag                               
                    - actionType: popUpDismiss
                      popUpView: pendingTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: assignTypeTag

        - .BaseJudgeView: 
          viewTag: suspendTag
          children: 
            - .BaseJudgeInnerView: 
              style:
                left: "0.3875"
                width: "0.385"
                height: "0.35"
              children: 
                - .BaseJudgeCancelImg: 
                  style: 
                    left: "0.36"              
                - type: view
                  style:
                    left: "0.031"
                    height: "0.07"
                    top: "0.012"
                    display: flex
                    alignItems: center
                  children: 
                    - type: label
                      text: Warning
                      dataKey: 
                      style:
                        color: "0xe24445"
                        fontSize: .Nfont.nf6
                        fontFamily: "Arial"
                        fontWeight: "600"
                    - type: image
                      path: warningRed.svg
                      style: 
                        marginLeft: "0.01"
                        width: "0.012"

                - type: view
                  style:
                    left: "0.031"
                    top: "0.082"
                    width: "0.329"
                    height: "0.198"
                    # backgroundColor: "0xff0000"
                  children:
                    - type: label
                      text: "Please be aware that setting the facility to be suspended has the following effects:"
                      dataKey: 
                      style:
                        color: "0x333333"
                        width: "0.329"
                        fontFamily: "Arial"
                        fontSize: .Nfont.nf3
                        height: "0.03"
                        textAlign:
                    - type: label
                      text: "1. Admin cannot enter the medical facility."
                      dataKey: 
                      style:
                        color: "0x333333"
                        width: "0.329"
                        fontFamily: "Arial"
                        fontSize: .Nfont.nf3
                        height: "0.03"
                    - type: label
                      text: "2. Medical facility and providers under the medical facility cannot be searched and scheduled ( including telemedicine, office visit and room)."
                      dataKey: 
                      style:
                        color: "0x333333"
                        width: "0.329"
                        fontFamily: "Arial"
                        fontSize: .Nfont.nf3        
                        height: "0.06"
                        lineHeight: "1.6"
                    - type: label
                      text: "3. Auto cancel the appointment ( including telemedicine, office visit and room) has been created in the facility."
                      dataKey: 
                      style:
                        color: "0x333333"
                        width: "0.329"
                        fontFamily: "Arial"
                        fontSize: .Nfont.nf3               
                        height: "0.06"
                        lineHeight: "1.6"
                - .BaseJudgeButtonView: 
                  style: 
                    width: "0.385"
                    marginTop: "0"
                    backgroundColor: "0xffffff"
                    top: "0.28"
                  children: 
                    - .BaseJudgeButtonNo:   
                      text: Cancel
                      style: 
                        left: "0.235"
                        textDecoration: underline
                        backgroundColor: "0xffffff"
                    - .BaseJudgeButtonYes:  
                      text: Confirm
                      style: 
                        left: "0.3"
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..formDataTemp.assignType@: =..formDataTemp.assignTypeIn
                            - ..formDataTemp.colorObj.text@: =..formData.status
                            - =.builtIn.array.ChangeAnItemInArray: 
                                dataIn:
                                  array: =..formDataTemp.assignType
                                  path: text
                                  obj: =..formDataTemp.colorObj
                        - actionType: evalObject
                          object:
                            - ..facility.document.name.data.basicInfo.status@: "Suspend"
                            - ..facility.document.name.data.basicInfo.statusColor@: "0xe24445"
                            - =..facility.docAPI.store: ""
                        - actionType: evalObject
                          object:                            
                            - ..facilityVertex.vertex.name.basicInfo.status@: "Suspend"
                            - =..facilityVertex.vertexAPI.store: ""

                        - actionType: builtIn
                          funcName: redraw
                          viewTag: statusTag
                        - actionType: popUpDismiss
                          popUpView: suspendTag                           
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: assignTypeTag




