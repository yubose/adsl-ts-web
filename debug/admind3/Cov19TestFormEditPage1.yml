Cov19TestFormEditPage1:
  title: "COVID-19 Testing Consent"
  pageNumber: ""

  init:
    # Page initialization
    - .SignInCheck
    # - ..formData.symptomProfile@: =.Global.formData.cov19Test.name.data.symptomProfile
    - if:
        - =.Global.formData.cov19TestFormEdit.name.data.symptomProfile
        - ..formData.symptomProfile@: =.Global.formData.cov19TestFormEdit.name.data.symptomProfile
        - continue
    - if:
        - =.Global.formData.firstToCov19TestForm
        - actionType: evalObject
          object:
            - ..cov19TestForm.docReq.name.data@: =.VaccineFormDM.cov19TestFormDM
            - if:
                - =..cov19TestForm.docReq.name.data.symptomProfile
                - ..formData.symptomProfile@: =..cov19TestForm.docReq.name.data.symptomProfile
                - continue
            - =..cov19TestForm.docAPI.store: ""
            # 将文档保存到本地存储
            - .Global.formData.cov19TestFormEdit@: =..cov19TestForm.docResp.doc
        - continue
  formData:
    # Input data here
    symptomProfile:
      experience: []
      remark: ""
      flag: "none"
  formDataTemp:
    # Input data temp here
    experienceSelect:
      - key: fever
        value: Fever
      - key: muscieAches
        value: Muscie aches
      - key: cough
        value: Cough
      - key: nausea
        value: Nausea and vomiting
      - key: shortBreath
        value: Shortness of breath
      - key: diarrhea
        value: Diarrhea
      - key: soreThroat
        value: Sore throat
      - key: tiredness
        value: Tiredness,Fatigue
      - key: headache
        value: Headache
      - key: other
        value: "Other:"
      - key: none
        value: None
    selectYesOrNo:
      problem1:
        - key: problem1
          value: "Yes"
        - key: problem1
          value: "No"
      problem2:
        - key: problem2
          value: "Yes"
        - key: problem2
          value: "No"
      problem3:
        - key: problem3
          value: "Yes"
        - key: problem3
          value: "No"
      problem4:
        - key: problem4
          value: "Yes"
        - key: problem4
          value: "No"
      problem5:
        - key: problem5
          value: "Yes"
        - key: problem5
          value: "No"
  apiRequest:
    #Input data request here
    cov19TestForm:
      docResp: ""
      docReq:
        id: ""
        eid: .Global.formData.meetingDocEid
        reid: .Global.formData.meetingDocReid
        type: .DocType.Cov19TestForm
        name:
          data: ""
          title: "COVID-19 Testing Consent Form"
          user: .Global.patientInfo.name.data.basicInfo.fullName
          type: "application/json"
      docAPI:
        store:
          api: cd
          dataIn: Cov19TestFormEditPage1.apiRequest.cov19TestForm.docReq
          dataOut: Cov19TestFormEditPage1.apiRequest.cov19TestForm.docResp
  style: #Input style fragment here

  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style:
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .GotoBack:
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - .SwitchFormRight:
                  onClick:
                    goto: Cov19TestFormEditPage2
                - type: view
                  style:
                    width: "0.39"
                    height: "1"
                    margin: "auto"
                  children:
                    - type: image
                      path: newPatientForms3_1.svg
                      style:
                        marginTop: "0.025"
                        width: "0.39"
                    # TYPE TITLE
                    - .FormsTypeTitle:
                        # text: "New Patient Form"
                        ## CONTENT TITLE
                    - .FormsContentTitle:
                      text: SYMPTOM PROFILE
                    - type: scrollView
                      style:
                        width: "0.39"
                        height: "0.578"
                        overflow: scroll
                      children:
                        - .FormsBlockText:
                          text: COVID-19 screening and/or diagnostic testing, authorized by the Food and
                            Drug Administration under an Emergency Use
                            Authorization (EUA), will be used today. This test
                            is meant for use in individuals with signs and/or
                            symptoms compatible with COVID-19.
                          style:
                            fontSize: .Nfont.nf4
                            marginTop: "0.01"
                        - .FormsBlockText:
                          text: "Please mark the symptoms you are currently experiencing (if any):"
                          style:
                            fontSize: .Nfont.nf2
                            marginTop: "0.02"
                        - type: view
                          style:
                            width: '0.39'
                            marginTop: "0.015"
                          children:
                            - type: list
                              viewTag: experienceSelectTag
                              contentType: listObject
                              listObject: ..formDataTemp.experienceSelect
                              iteratorVar: itemObject
                              style:
                                width: '0.39'
                                margin: '0'
                                left: '0'
                                height: auto
                              children:
                                - type: listItem
                                  itemObject:
                                  style:
                                    width: '21vw'
                                    # height: '0.034'
                                    left: '0'
                                    marginTop: "0.02"
                                    display: "inline-block"
                                  children:
                                    - type: image
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.symptomProfile.experience
                                                      value: $var.key
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions:
                                              - if:
                                                  - =.builtIn.array.has:
                                                      dataIn:
                                                        object: =..formData.symptomProfile.experience
                                                        value: $var.key
                                                  - =.builtIn.array.removeByValue:
                                                      dataIn:
                                                        object: =..formData.symptomProfile.experience
                                                        value: $var.key
                                                  - =.builtIn.array.add:
                                                      dataIn:
                                                        object: =..formData.symptomProfile.experience
                                                        value: $var.key
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: experienceSelectTag
                                      style:
                                        width: "0.013"
                                        height: "0.023"
                                        top: "0.0035"
                                    - type: label
                                      dataKey: itemObject.value
                                      style:
                                        fontSize: .Nfont.nf4
                                        left: "0.025"
                                        color: "0x707070"
                                        # top: "0.004"
                            - type: textView
                              placeholder: Enter here
                              dataKey: formData.symptomProfile.remark
                              # isEditable: "false"
                              style:
                                width: "0.39"
                                marginTop: "0.02"
                                height: '0.1'
                                color: "0xdedef"
                                box-sizing: content-box
                                borderColor: "#DEDEDF"
                                border:
                                  style: "3"
                                borderRadius: "3"
                                textIndent: "0.5em"
                                fontFamily: "Poppins"
                                fontSize: .Nfont.nf4
                                textAlign:
                                  y: center
                        - type: view
                          style:
                            width: "0.39"
                            marginTop: '0.02'
                          children:
                            - .FormsBlockText:
                              text: Do you live in a group home, assisted living center or other facility with
                                more than 3 other people older than 60 years
                                old?
                              style:
                                fontSize: .Nfont.nf4
                                width: "0.39"
                                lineHeight: "1.7"
                            - type: view
                              style:
                                width: "0.39"
                                height: "0.025"
                                marginTop: "0.015"
                                left: "0"
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.selectYesOrNo.problem1
                                  iteratorVar: itemObject
                                  viewTag: problem1Tag
                                  style:
                                    margin: "0"
                                    width: "0.39"
                                    height: auto
                                    left: "0"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        marginTop: "0"
                                        left: "0"
                                        width: "0.43"
                                        height: "0.025"
                                        # display: "inline-block"
                                      children:
                                        - type: image
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem1
                                                          string2: $var.value
                                                    - selectBlue.svg
                                                    - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem1
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem1Tag
                                          style:
                                            width: "0.013"
                                            height: "0.023"
                                            top: "0"
                                            left: "0"
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            fontSize: .Nfont.nf2
                                            left: "0.025"
                                            color: "0x707070"
                        - type: view
                          style:
                            width: "0.39"
                            marginTop: '0.02'
                          children:
                            - .FormsBlockText:
                              text: Do you work in a hospital, long-term care facility or assisted living
                                facility?
                              style:
                                fontSize: .Nfont.nf4
                                width: "0.39"
                                lineHeight: "1.7"
                            - type: view
                              style:
                                width: "0.39"
                                height: "0.025"
                                marginTop: "0.015"
                                left: "0"
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.selectYesOrNo.problem2
                                  iteratorVar: itemObject
                                  viewTag: problem2Tag
                                  style:
                                    margin: "0"
                                    width: "0.39"
                                    height: auto
                                    left: "0"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        margin: "0"
                                        left: "0"
                                        width: "0.43"
                                        height: "0.025"
                                        # display: "inline-block"
                                      children:
                                        - type: image
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem2
                                                          string2: $var.value
                                                    - selectBlue.svg
                                                    - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem2
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem2Tag
                                          style:
                                            width: "0.013"
                                            height: "0.023"
                                            top: "0"
                                            left: "0"
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            fontSize: .Nfont.nf2
                                            left: "0.025"
                                            color: "0x707070"
                        - type: view
                          style:
                            width: "0.39"
                            marginTop: '0.02'
                          children:
                            - .FormsBlockText:
                              text: Have you traveled anywhere outside of California in the past 1 month?
                              style:
                                fontSize: .Nfont.nf4
                                width: "0.39"
                                lineHeight: "1.7"
                            - type: view
                              style:
                                width: "0.39"
                                height: "0.025"
                                marginTop: "0.015"
                                left: "0"
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.selectYesOrNo.problem3
                                  iteratorVar: itemObject
                                  viewTag: problem3Tag
                                  style:
                                    margin: "0"
                                    width: "0.39"
                                    height: auto
                                    left: "0"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        margin: "0"
                                        left: "0"
                                        width: "0.43"
                                        height: "0.025"
                                        # display: "inline-block"
                                      children:
                                        - type: image
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem3
                                                          string2: $var.value
                                                    - selectBlue.svg
                                                    - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem3
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem3Tag
                                          style:
                                            width: "0.013"
                                            height: "0.023"
                                            top: "0"
                                            left: "0"
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            fontSize: .Nfont.nf2
                                            left: "0.025"
                                            color: "0x707070"
                        - type: view
                          style:
                            width: "0.39"
                            marginTop: '0.02'
                          children:
                            - .FormsBlockText:
                              text: Have you been in KNOWN close contact (i.e. within 6 feet) with someone
                                confirmed to have COVID-19?
                              style:
                                fontSize: .Nfont.nf4
                                width: "0.39"
                                lineHeight: "1.7"
                            - type: view
                              style:
                                width: "0.39"
                                height: "0.07"
                                marginTop: "0.015"
                                left: "0"
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.selectYesOrNo.problem4
                                  iteratorVar: itemObject
                                  viewTag: problem4Tag
                                  style:
                                    margin: "0"
                                    width: "0.39"
                                    height: "0.025"
                                    left: "0"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        margin: "0"
                                        left: "0"
                                        width: "0.43"
                                        height: "0.025"
                                        # display: "inline-block"
                                      children:
                                        - type: image
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem4
                                                          string2: $var.value
                                                    - selectBlue.svg
                                                    - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem4
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem4Tag
                                          style:
                                            width: "0.013"
                                            height: "0.023"
                                            top: "0"
                                            left: "0"
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            fontSize: .Nfont.nf2
                                            left: "0.025"
                                            color: "0x707070"
                    # - .FormsCloseButton:                                    
            - .FormsBottomView:
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomMiddleButton:
                      onClick:
                        - goto: Cov19TestFormEditPage2
