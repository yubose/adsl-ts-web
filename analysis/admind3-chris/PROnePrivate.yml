PROnePrivate:
  title: PR-1
  init:
    - .SignInCheck
    # macro 复现
    - if:
        - =.Global.formData.providerNotesForm.id
        - ..apiRequest.pROne.docReq@: =.Global.formData.providerNotesForm
        - ..apiRequest.pROne.docReq@: =.Global.formData.medicalRecords
    - ..formData.selectStatus@: =.Global.formData.medicalRecords.name.data.selectStatus
    # - if:
    #   - =.Global.formData.medicalRecords.id
    #   - actionType: evalObject
    #     object:
    #       - ..apiRequest.pROne.docReq@: =.Global.formData.medicalRecords
    #       - ..formData.selectStatus@: =.Global.formData.medicalRecords.name.data.selectStatus
    #   - continue
    - actionType: evalObject
      object: .BaseDate.getDate
    # 获取insurerName
    - if:
        - =.Global.formData.patientInfo.name.data.insuranceId
        - actionType: evalObject
          object:
            - =..apiRequest.insurance.docAPI.get: ""
            - ..apiRequest.pROne.docReq.name.data.prOneInfo.insurerName@: =..apiRequest.insurance.docResp.doc.0.name.data.memberId
        - continue
    # 获取specialty
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.specialty
            dataOut: PROnePrivate.formData.specialtyLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.specialtyLength
                  string2: "0"
            - .PROnePrivate.apiRequest.pROne.docReq.name.data.providerInfo.specialty@: ""
            - .PROnePrivate.apiRequest.pROne.docReq.name.data.providerInfo.specialty@: =.Global.formData.providerInfo.name.data.specialty.0.specialty
        - continue

    # 判断是否签名
    - if:
        - =..apiRequest.pROne.docReq.name.data.whetherSign
        - continue
        - actionType: evalObject
          object:
            - ..formData.temporarySignature@: =..apiRequest.pROne.docReq.name.data.signatureId
            - ..formData.signShow@: "block"
            - ..formData.canvasShow@: "none"
    # 判断medicalLicense是否为空
    - =.builtIn.array.getListLength:
        dataIn:
          object: =.Global.formData.providerInfo.name.data.MedicalLicense
        dataOut: PROnePrivate.formData.licenseLength
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =..formData.licenseLength
              string2: "0"
        - .PROnePrivate.apiRequest.pROne.docReq.name.data.providerInfo.calNumber@: ""
        - .PROnePrivate.apiRequest.pROne.docReq.name.data.providerInfo.calNumber@:
            =.Global.formData.providerInfo.name.data.MedicalLicense.0.medicalLicense
    # 判断Diagnoses
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
            dataOut: PROnePrivate.formData.listDatalength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - continue
            - ..formData.listDataflag@: "block"

    - actionType: evalObject
      object:
        - =.builtIn.date.LoopToGenerate:
            dataIn:
              span: 60
            dataOut: PROnePrivate.formDataTemp.timeSpan

  formDataTemp:
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    treatmentTemp:
      - key: isTreatment
        value: "Yes"
      - key: isTreatment
        value: "No"
    involvedTemp:
      - key: isInvolved
        value: "Yes"
      - key: isInvolved
        value: "No"
    illnessTemp:
      - key: isIllness
        value: "Yes"
      - key: isIllness
        value: "No"
    recoveryTemp:
      - key: isRecovery
        value: "Yes"
      - key: isRecovery
        value: "No"
    workTemp:
      - key: isWork
        value: "Yes"
      - key: isWork
        value: "No"
    timeSpan: []
    privateTag:
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag:
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  formData:
    flag: "none"
    signShow: "none"
    canvasShow: "block"
    searchShow: ""
    listDataflag: "none"
    listDatalength: ""
    specialtyLength: ""
    diagnosesLength: ""
    dataTagFlag: ""
    whetherSign: ""
    temporarySignature: ""
    selectStatus:
      treatment:
        isTreatment: ""
      illness:
        isIllness: ""
        isShow: "none"
      recovery:
        isRecovery: ""
        isShow: "none"
      work:
        isWork: ""
        isShow: "none"
    empty: []
    selectedDiagnosis: ""
    licenseLength: ""
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    privateTag:
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag:
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  apiRequest:
    # 签名文档
    newSign:
      docResp: ""
      docReq:
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.formData.meetingDocEid
        subtype:
          mediaType: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROnePrivate.apiRequest.newSign.docReq
          dataOut: PROnePrivate.apiRequest.newSign.docResp

    # pROne文档
    pROne:
      deleteReq:
        id: ""
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.formData.meetingDocEid
        reid: ""
        type: .DocType.pROne
        name:
          title: "PR-1"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "text/plain"
          subtype: "0" #0是未完成，1是完成
          data:
            signatureId: ""
            whetherSign: "true"
            fontcolor: ""
            authority: ""
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xe9f2fc"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            patientInfo:
              name: .Global.formData.patientInfo.name.data.basicInfo.fullName
              address: .Global.formData.patientInfo.name.data.contactInfo.address.fullAddress
              sex: .Global.formData.patientInfo.name.data.basicInfo.gender
              phone: .Global.formData.patientInfo.name.data.basicInfo.phone
              dob: .Global.formData.patientInfo.name.data.basicInfo.dateOfBirth
              secNumber: .Global.formData.patientInfo.name.data.basicInfo.socialSecurity
            providerInfo:
              specialty: ""
              physicianName: ""
              license: ""
              npi: .Global.formData.providerInfo.name.data.NPI
              dea: .Global.formData.providerInfo.name.data.DEA
              email: .Global.formData.providerInfo.name.data.email
              phoneNumber: .Global.currentFacility.name.basicInfo.phoneNumber
              fax: .Global.currentFacility.name.basicInfo.fax
              address: .Global.currentFacility.name.basicInfo.location
            prOneInfo:
              insurerName: ""
              employerName: .Global.formData.patientInfo.name.data.employment.employerName
              line: .Global.formData.patientInfo.name.data.contactInfo.address.line
              secondLine: .Global.formData.patientInfo.name.data.contactInfo.address.secondLine
              address: .Global.formData.patientInfo.name.data.contactInfo.address.fullAddress
              city: .Global.formData.patientInfo.name.data.employment.address.city
              state: .Global.formData.patientInfo.name.data.employment.address.state
              county: .Global.formData.patientInfo.name.data.employment.address.county
              zipCode: .Global.formData.patientInfo.name.data.employment.address.zipCode
              business: .Global.formData.patientInfo.name.data.employment.NatureBusiness
              occupation: .Global.formData.patientInfo.name.data.employment.Occupation
            addressOcc: ""
            cityInjuryOcc: ""
            countyInjuryOcc: ""
            injuryTime:
              date: ""
              hour: ""
            workDate: ""
            examTme:
              date: ""
              hour: ""
            accidentDesc: ""
            subComplaint: ""
            vitalSigns:
              BP: ""
              HR: ""
              RR: ""
              PO: ""
              temperature: ""
              height: ""
              weight: ""
              BMI: ""
            objFindings: ""
            bloodGlucose: ""
            imagingStudies: ""
            diagnosis:
              descriptiveList: []
              noExplain: ""
              yesExplain: ""
              useReverse: ""
              duration: ""
              location: ""
              dateAdmit: ""
              estStay: ""
              regularWork: ""
              modifiedWork: ""
              restrictions: ""
            selectStatus: {}
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROnePrivate.apiRequest.pROne.docReq
          dataOut: PROnePrivate.apiRequest.pROne.docResp
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: pROne.docResp
          id: .Global.formData.medicalRecords.id
          xfname: eid
          type: .DocType.pROne
          maxcount: "1"
        delete:
          api: dx
          dataIn: PROnePrivate.apiRequest.pROne.docReq
    insurance:
      docResp: ""
      docReq:
        type: .DocType.InsuranceCard
        id: .Global.formData.patientInfo.name.data.insuranceId
        _nonce: =.Global._nonce
        obfname: ctime
      docAPI:
        get:
          api: rd
          dataIn: PROnePrivate.apiRequest.insurance.docReq
          dataOut: PROnePrivate.apiRequest.insurance.docResp
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style:
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .GotoBack:
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.deleteReq.id@: =..apiRequest.pROne.docResp.doc.id
                    - =..apiRequest.pROne.docAPI.delete: ""
                - actionType: builtIn
                  funcName: goBack
                  reload: true
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    width: "0.39"
                    margin: "auto"
                  children:
                    - .FormsTypeTitle:
                    - type: scrollView
                      style:
                        marginTop: "0.01"
                        width: "0.39"
                        height: "0.614"
                        overflow: scroll
                      children:
                        - type: view
                          style:
                            marginTop: "0.01"
                            width: "0.39"
                            height: auto
                            overflow: hidden
                          children:
                            - .ProFormsLabel:
                              text: State of California
                              style:
                                fontSize: .Nfont.nf2
                                width: "0.39"
                                textAlign:
                                  x: center
                            - type: view
                              style:
                                width: "0.39"
                                height: "auto"
                                textAlign:
                                  x: center
                              children:
                                - .ProFormsLabel:
                                  text: "DOCTOR'S FIRST REPORT OF OCCU-PATIONAL INJURY OR ILLNESS"
                                  style:
                                    marginTop: "0.008"
                                    lineHeight: "2vh"
                                    fontSize: .Nfont.nf4
                                    width: "0.18"
                                    display: inline-block
                            - .ProFormsLabel:
                              text: "Within 5 days of your initial examination, for every occupational injury
                                or illness, send two copies of this report to
                                the employer’s workers’ compensation insurance
                                carrier or the insured employer. Failure to file
                                a timely doctor’s report may result in
                                assessment of a civil penalty. In the case of
                                diagnosed or suspected pesticide poisoning, send
                                a copy of the report to Department of Industrial
                                Relations, P.O. Box 420603, San Francisco, CA
                                94142-0603, and notify your local health officer
                                by telephone within 24 hours."
                              style:
                                marginTop: "0.017"
                                width: "0.39"
                                lineHeight: "1.8vh"
                                wordBreak: keep-all
                            - .ProFormsDivider:
                              style:
                                marginTop: "0.025"
                        # Employer
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: auto
                            width: "0.39"
                            overflow: hidden
                          children:
                            - .ProFormsLabel:
                              text: "Employer"
                              style:
                                color: "0x005795"
                                fontSize: .Nfont.nf4
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.015"
                              children:
                                - .ProFormsLabel:
                                  text: Insurer Name / ID
                                - .ProFormsTextField:
                                  dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.insurerName
                                  style:
                                    width: "0.39"
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Employer Name
                                - .ProFormsTextField:
                                  dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.employerName
                                  style:
                                    width: "0.39"
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.025"
                                display: "flex"
                                justify-content: space-between
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: "Address Line"
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.line
                                      style:
                                        width: "0.1898"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: "Address Second Line"
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.secondLine
                                      style:
                                        width: "0.1898"
                            - .ProFormsBaseView:
                              style:
                                display: flex
                                justifyContent: space-between
                                alignItems: enter
                                marginTop: "0.03"
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: City
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.city
                                      style:
                                        width: "0.08957"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: County
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.county
                                      style:
                                        width: "0.08957"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: State
                                    - type: select
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.state
                                      options: .SelectData.state
                                      required: "true"
                                      style:
                                        marginTop: "0.0046"
                                        border:
                                          style: "3"
                                        borderColor: "0xdedede"
                                        borderRadius: "4"
                                        textIndent: "0.8em"
                                        color: "0x333333"
                                        fontSize: .Nfont.nf1
                                        fontFamily: "Arial"
                                        height: "0.0405"
                                        boxSizing: border-box
                                        width: "0.08957"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Zip Code
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.zipCode
                                      style:
                                        width: "0.08957"
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                                display: flex
                                justifyContent: space-between
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Nature of business（ e.g. food manufacturing）
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.business
                                      style:
                                        width: "0.1898"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Occupation (Specific Job Title)
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.occupation
                                      style:
                                        width: "0.1898"
                        # Patient
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - .ProFormsLabel:
                              text: Patient
                              style:
                                color: "0x005795"
                                fontSize: .Nfont.nf4
                            # patient Info
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0"
                              children:
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.01"
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Patient Name
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.name
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.005"
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Phone #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.phone
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.005"
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Date of Birth
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.dob
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.005"
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Gender
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.sex
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.005"
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Address
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.address
                            # Social Security Number
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.01"
                              children:
                                - .ProFormsLabel:
                                  text: Social Security Number (Optional)
                                - .ProFormsTextField:
                                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.secNumber
                                  style:
                                    width: "0.1898"
                            # Address No.& Street Where Inj. Occurred
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Address No.& Street Where Inj. Occurred
                                - .ProFormsTextField:
                                  dataKey: apiRequest.pROne.docReq.name.data.addressOcc
                                  style:
                                    width: "0.39"
                            # City Where Injury Occ.
                            - .ProFormsBaseView:
                              style:
                                display: flex
                                justifyContent: space-between
                                alignItems: center
                                marginTop: "0.03"
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: City Where Injury Occ.
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.cityInjuryOcc
                                      style:
                                        boxSizing: border-box
                                        width: "0.1898"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: County Where Injury Occ.
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.countyInjuryOcc
                                      style:
                                        width: "0.1898"
                            # Date of injury or onset of illness
                            - .ProFormsBaseView:
                              style:
                                display: flex
                                justifyContent: space-between
                                alignItems: center
                                marginTop: "0.03"
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Date of injury or onset of illness
                                    - .ProFormsCalendarView:
                                      viewTag: injuryDateTag
                                      style:
                                        width: "0.1898"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 1
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                      children:
                                        - .ProFormsCalendarField:
                                          dataKey: apiRequest.pROne.docReq.name.data.injuryTime.date
                                          style:
                                            width: "0.17"
                                        - .ProFormsCalendarImg:
                                          style:
                                            marginTop: "0.013"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Hour of injury or onset of illness
                                    - .ProFormsCalendarView:
                                      style:
                                        width: "0.1898"
                                      onClick:
                                      children:
                                        - type: select
                                          options: ..formDataTemp.timeSpan
                                          dataKey: apiRequest.pROne.docReq.name.data.injuryTime.hour
                                          style:
                                            width: "0.17"
                                            border:
                                              style: "1"
                                            boxSizing: border-box
                                            overflow: hidden
                                            fontSize: .Nfont.nf1
                                            appearance: "none"
                                            paddingLeft: "0.005"
                                        - .ProFormsCalendarImg:
                                          path: circleClock.svg
                                          style:
                                            marginTop: "0.013"
                            # Date last worked   
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                                display: flex
                                justifyContent: space-between
                                alignItems: center
                              children:
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Date last worked
                                    - .ProFormsCalendarView:
                                      viewTag: workDateTag
                                      style:
                                        width: "0.12272"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 2
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                      children:
                                        - .ProFormsCalendarField:
                                          dataKey: apiRequest.pROne.docReq.name.data.workDate
                                          style:
                                            width: "0.10292"
                                        - .ProFormsCalendarImg:
                                          style:
                                            marginTop: "0.013"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Date of 1st exam or treatment
                                    - .ProFormsCalendarView:
                                      viewTag: examDateTag
                                      style:
                                        width: "0.12272"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 3
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                      children:
                                        - .ProFormsCalendarField:
                                          dataKey: apiRequest.pROne.docReq.name.data.examTme.date
                                          style:
                                            width: "0.10292"
                                        - .ProFormsCalendarImg:
                                          style:
                                            marginTop: "0.013"
                                - type: view
                                  children:
                                    - .ProFormsLabel:
                                      text: Hour of 1st exam or treatment
                                    - .ProFormsCalendarView:
                                      style:
                                        width: "0.12272"
                                      children:
                                        - type: select
                                          dataKey: apiRequest.pROne.docReq.name.data.examTme.hour
                                          options: ..formDataTemp.timeSpan
                                          style:
                                            fontSize: .Nfont.nf1
                                            appearance: "none"
                                            paddingLeft: "0.005"
                                            width: "0.10292"
                                            border:
                                              style: "1"
                                            boxSizing: border-box
                                            overflow: hidden
                                        - .ProFormsCalendarImg:
                                          path: circleClock.svg
                                          style:
                                            marginTop: "0.013"
                            # Have you or your office previously rendered treatment        
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Have you or your office previously rendered treatment ?
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.treatmentTemp
                                  iteratorVar: itemObject
                                  viewTag: isTreatmentTag
                                  style:
                                    width: '0.39'
                                    height: auto
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        marginTop: '0.01'
                                        width: "0.05"
                                        display: inline-block
                                      children:
                                        - type: image
                                          style:
                                            marginTop: "0"
                                            width: "0.008"
                                            display: inline-block
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.selectStatus.treatment.isTreatment
                                                          string2: $var.value
                                                    - yes.png
                                                    - no.png
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.selectStatus.treatment.isTreatment
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.selectStatus.treatment
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.selectStatus.treatment
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isTreatmentTag
                                        - .ProFormsSelectLabel:
                                          dataKey: itemObject.value
                                          style:
                                            width: "auto"
                            - .ProFormsLabel:
                              textBoard:
                                - text: "Patient please complete this portion, if able to do so.&nbsp;"
                                - text: "Otherwise, doctor please complete immediately, inability or failure of a
                                    patient to complete this portion shall not
                                    affect his/her rights to
                                    workers’compensation under the California
                                    Labor Code."
                                  fontWeight: "500"
                              style:
                                lineHeight: "1.5em"
                                marginTop: "0.025"
                                wordBreak: keep-all
                            - .ProFormsLabel:
                              textBoard:
                                - text: "Describe how the accident or exposure happened. "
                                - text: "(Give specific object, machinery or chemical.)"
                                  fontWeight: "500"
                              style:
                                marginTop: "0.025"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.accidentDesc
                            - .ProFormsLabel:
                              text: SUBJECTIVE COMPLAINTS
                              style:
                                marginTop: "0.03"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.subComplaint
                        # Objective Findings
                        - type: view
                          style:
                            height: auto
                            width: "0.39"
                          children:
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Objective Findings
                                  style:
                                    fontSize: .Nfont.nf2
                            # Vital Signs 
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                                left: "0"
                              children:
                                - .ProFormsLabel:
                                  text: Vital Signs
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    width: "0.39"
                                  children:
                                    - type: view
                                      style:
                                        display: "inline-block"
                                      children:
                                        - .ProFormsLabel:
                                          text: Blood Pressure
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.BP
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "mmHg"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: Heart Rate
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.HR
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "bpm"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: Respiratory Rate
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.RR
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "breaths/min"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: Pulse Oximetry
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.PO
                                              style:
                                                width: "0.02"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "O₂ %"
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    width: "0.39"
                                  children:
                                    - type: view
                                      style:
                                        display: "inline-block"
                                      children:
                                        - .ProFormsLabel:
                                          text: Temperature
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.temperature
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "°F/°C"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: Height
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.height
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "ft/in"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: Weight
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.weight
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "lb"

                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.01"
                                      children:
                                        - .ProFormsLabel:
                                          text: BMI
                                          style:
                                            fontWeight: ""
                                        - .InitEvalReportView:
                                          children:
                                            - type: textField
                                              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.BMI
                                              style:
                                                width: "0.025"
                                                display: "inline-block"
                                                border:
                                                  style: "1"

                                            - .ProFormsUnitLabel:
                                              text: "kg/m²"
                            # Physical Examination          
                            - .ProFormsLabel:
                              text: Physical Examination
                              style:
                                marginTop: "0.02"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.objFindings
                              style:
                                marginTop: "0.01"
                            # Labs 
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Labs
                                  style:
                                    fontSize: .Nfont.nf2
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    width: "0.39"
                                  children:
                                    - .ProFormsLabel:
                                      text: Blood Glucose
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.bloodGlucose
                                      style:
                                        width: "0.39"
                            # Imaging Studies 
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabel:
                                  text: Imaging Studies
                                - .ProFormsTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.imagingStudies
                        # Diagnoses
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabel:
                              text: Diagnoses
                            # 搜索框
                            - type: view
                              viewTag: searchBox
                              style:
                                height: "auto"
                                width: "0.39"
                                overflow: hidden
                              children:
                                - type: view
                                  style:
                                    marginTop: "0.008"
                                    width: "0.39"
                                    height: "auto"
                                    boxSizing: border-box
                                  children:
                                    - type: view
                                      viewTag: selectDateTag
                                      style:
                                        top: "0"
                                        height: "0.0405"
                                        width: "0.19"
                                        boxSizing: border-box
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderColor: "0xdedede"
                                        overflow: hidden
                                        textAlign:
                                          y: center
                                      children:
                                        - type: image
                                          path: searchGray.svg
                                          style:
                                            marginLeft: "0.0067"
                                            width: "0.01"
                                            display: inline-block
                                        - type: textField
                                          viewTag: CodeListTag
                                          placeholder: Search
                                          dataKey: formData.diagnosis.descriptiveList.code
                                          style:
                                            display: inline-block
                                            marginLeft: "0.0067"
                                            height: "0.04"
                                            width: "0.1667"
                                            boxSizing: border-box
                                            fontSize: .Nfont.nf1
                                            color: "0x333333"
                                            border:
                                              style: "5"
                                          onInput:
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.diagnosis.descriptiveList.code
                                                          string2: ""
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.listDataflag@: "block"
                                                        - ..formData.searchShow@: "none"
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.listDataflag@: "none"
                                                        - ..formData.searchShow@: "block"
                                            - actionType: evalObject
                                              object:
                                                - ..formDataTemp.allListInfo@: []
                                                - ..formDataTemp.allListString@: []
                                            - actionType: evalObject
                                              object:
                                                - =.builtIn.search.queryCode:
                                                    dataIn:
                                                      query: =..formData.diagnosis.descriptiveList.code
                                                    dataOut: PROneEdit.formDataTemp.allListInfo
                                                - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CodeTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CodeTags
                                            - actionType: builtIn
                                              funcName: show
                                              viewTag: CodeTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: listData
                                            - actionType: builtIn
                                              funcName: show
                                              viewTag: ShowTag
                                            - actionType: popUp
                                              popUpView: CodeTag
                                              dismissOnTouchOutside: true
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchShowTag
                                    - type: textField
                                      viewTag: descriptionTag
                                      placeholder: Description
                                      dataKey: formData.diagnosis.descriptiveList.description
                                      style:
                                        textIndent: "0.8em"
                                        left: "0.2"
                                        display: "inline-block"
                                        height: "0.0405"
                                        width: "0.19"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        color: "0x333333"
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderWidth: "1"
                                        borderColor: "0xdedede"
                                - .ProFormsTextView:
                                  viewTag: CommentsTag
                                  placeholder: Comments
                                  dataKey: formData.diagnosis.descriptiveList.comment
                                  style:
                                    marginTop: "0.0184"
                            - .MedBtnOutlineWithImgSlim:
                              btnImg: addCircleDeepBlue.svg
                              btnText: Add More
                              style:
                                marginTop: "0.0145"
                              children:
                                - type: image
                                  path: __.btnImg
                                  style:
                                    height: "0.01932"
                                - type: label
                                  text: __.btnText
                                  style:
                                    marginLeft: "0.004"
                                    color: "0x005795"
                                    fontFamily: "Arial"
                                    fontWeight: "400"
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.diagnosis.descriptiveList.code
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: noDescriptionTag
                                          wait: true
                                        - continue
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.diagnosis.descriptiveList.description
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: noDescriptionTag
                                          wait: true
                                        - continue
                                - emit:
                                    actions:
                                      - =.builtIn.array.add:
                                          dataIn:
                                            object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
                                            value: =..formData.diagnosis.descriptiveList # create copy .create by value ,not reference
                                - actionType: evalObject
                                  object:
                                    - ..formData.diagnosis.descriptiveList.code@: ""
                                    - ..formData.diagnosis.descriptiveList.description@: ""
                                    - ..formData.diagnosis.descriptiveList.comment@: ""
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CodeListTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: descriptionTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: ShowTag
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CommentsTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: CodeTag
                            # debug
                            - type: view
                              style:
                                marginTop: "0.0184"
                                width: "0.39"
                              children:
                                - type: view
                                  viewTag: searchShowTag
                                  style:
                                    height: "auto"
                                    display: ..formData.searchShow
                                  children:
                                    - type: view
                                      viewTag: CodeTag
                                      style:
                                        display: "none"
                                        width: "0.39"
                                        height: "auto"
                                        border:
                                          style: 3
                                        borderColor: "0xdedede"
                                        borderWidth: "1"
                                        borderRadius: "4"
                                        boxSizing: border-box
                                        zIndex: 10
                                      children:
                                        - type: scrollView
                                          viewTag: ShowTag
                                          style:
                                            marginTop: "0.00368"
                                            width: "0.38"
                                            height: "0.3"
                                            left: "0.00624" # 12pt
                                            overflow: scroll
                                          children:
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.allListString
                                              iteratorVar: itemObject
                                              viewTag: CodeTags
                                              style:
                                                width: "0.38376"
                                                height: "auto"
                                                margin: "0"
                                                marginTop: "0"
                                              children:
                                                - type: listItem
                                                  itemObject: ""
                                                  style:
                                                    width: "0.38376"
                                                    marginTop: "0.00736"
                                                    height: "auto"
                                                  children:
                                                    - type: label
                                                      dataKey: itemObject.0.2
                                                      style:
                                                        width: "0.36"
                                                        left: "0"
                                                        marginTop: "0"
                                                        textAlign:
                                                          x: left
                                                          y: center
                                                        height: "auto"
                                                        fontSize: .Nfont.nf1
                                                        color: "0x333333"
                                                      onClick:
                                                        - emit:
                                                            dataKey:
                                                              var: itemObject
                                                            actions:
                                                              - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                                              - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: CodeListTag
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: descriptionTag
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: ShowTag
                                                        - actionType: builtIn
                                                          funcName: show
                                                          viewTag: listData
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: CodeTag
                            - type: view
                              viewTag: listData
                              style:
                                width: "0.39"
                                left: "0"
                                height: "auto"
                                marginTop: "0.01"
                                display: ..formData.listDataflag
                                backgroundColor: "0xf4f4f4"
                                borderRadius: "4"
                              children:
                                - type: view
                                  style:
                                    paddingTop: "0.004"
                                    paddingBottom: "0.015"
                                    paddingLeft: "0.00624"
                                  children:
                                    - type: list
                                      viewTag: listData
                                      contentType: listObject
                                      listObject: ..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
                                      iteratorVar: itemObject
                                      style:
                                        width: "0.38"
                                        height: "auto"
                                        border:
                                          style: "5"
                                        boxSizing: border-box
                                      children:
                                        - type: listItem
                                          itemObject: ""
                                          style:
                                            marginTop: "0.006"
                                            width: "0.38"
                                            height: "auto"
                                            left: "0"
                                            overflow: hidden
                                          children:
                                            - type: view
                                              style:
                                                width: "0.37752"
                                                height: "auto"
                                              children:
                                                - type: image
                                                  path: deletePhoto.svg
                                                  style:
                                                    display: "inline-block"
                                                    width: "0.009"
                                                    height: "0.01656"
                                                    zIndex: 10
                                                    verticalAlign: middle
                                                  onClick:
                                                    - actionType: popUp
                                                      popUpView: BaseDelWarningView
                                                    - actionType: updateObject
                                                      dataKey: formData.selectedDiagnosis
                                                      dataObject: itemObject
                                                - type: view
                                                  style:
                                                    marginLeft: "0.003"
                                                    wordBreak: break-all
                                                    display: "inline-block"
                                                    width: "0.355"
                                                  children:
                                                    - .ProFormsLabel:
                                                      dataKey: itemObject.code
                                                      style:
                                                        display: "inline"
                                                        verticalAlign: middle
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                                    - .ProFormsLabel:
                                                      text: "-"
                                                      style:
                                                        marginLeft: "0.002"
                                                        verticalAlign: middle
                                                        display: "inline"
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                                    - .ProFormsLabel:
                                                      dataKey: itemObject.description
                                                      style:
                                                        verticalAlign: middle
                                                        marginLeft: "0.002"
                                                        display: "inline"
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                            - type: label
                                              dataKey: itemObject.comment
                                              style:
                                                marginTop: "0.003"
                                                marginLeft: "0.012"
                                                width: "0.355"
                                                height: "auto"
                                                color: "0x666666"
                                                wordBreak: break-all
                                                fontSize: .Nfont.nf1
                        # Are your findings and diagnosis
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: "auto"
                            width: "0.39"
                          children:
                            - .ProFormsLabel:
                              text: Are your findings and diagnosis consistent with patient's account of
                                injury or onset of illness?
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.illnessTemp
                              iteratorVar: itemObject
                              viewTag: isIllnessTag
                              style:
                                width: '0.39'
                                height: auto
                              children:
                                - type: listItem
                                  itemObject: ""
                                  style:
                                    marginTop: '0.01'
                                    width: "0.05"
                                    display: inline-block
                                  children:
                                    - type: image
                                      style:
                                        marginTop: "0"
                                        width: "0.008"
                                        display: inline-block
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.selectStatus.illness.isIllness
                                                      string2: $var.value
                                                - yes.png
                                                - no.png
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions:
                                              - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.selectStatus.illness.isIllness
                                                        string2: $var.value
                                                  - =.builtIn.object.clear:
                                                      dataIn:
                                                        object: =..formData.selectStatus.illness
                                                        key: $var.key
                                                  - =.builtIn.object.set:
                                                      dataIn:
                                                        object: =..formData.selectStatus.illness
                                                        key: $var.key
                                                        value: $var.value
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.selectStatus.illness.isIllness
                                                      string2: "No"
                                                - ..formData.selectStatus.illness.isShow@: "block"
                                                - ..formData.selectStatus.illness.isShow@: "none"
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isIllnessTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: illnessTag
                                    - .ProFormsSelectLabel:
                                      dataKey: itemObject.value
                                      style:
                                        width: "auto"
                            - .ProFormsBaseView:
                              viewTag: illnessTag
                              style:
                                display: ..formData.selectStatus.illness.isShow
                                marginTop: "0.01"
                              children:
                                - .ProFormsLabel:
                                  text: "If “no,” please explain below:"
                                  style:
                                    fontWeight: "500"
                                - .ProFormsTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.noExplain
                        # Is there any other current     
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: "auto"
                            width: "0.39"
                          children:
                            - .ProFormsLabel:
                              text: Is there any other current condition that will impede or delay patient's
                                recovery?
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.recoveryTemp
                              iteratorVar: itemObject
                              viewTag: isRecoveryTag
                              style:
                                width: '0.39'
                                height: auto
                              children:
                                - type: listItem
                                  itemObject: ""
                                  style:
                                    marginTop: '0.01'
                                    width: "0.05"
                                    display: inline-block
                                  children:
                                    - type: image
                                      style:
                                        marginTop: "0"
                                        width: "0.008"
                                        display: inline-block
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.selectStatus.recovery.isRecovery
                                                      string2: $var.value
                                                - yes.png
                                                - no.png
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions:
                                              - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.selectStatus.recovery.isRecovery
                                                        string2: $var.value
                                                  - =.builtIn.object.clear:
                                                      dataIn:
                                                        object: =..formData.selectStatus.recovery
                                                        key: $var.key
                                                  - =.builtIn.object.set:
                                                      dataIn:
                                                        object: =..formData.selectStatus.recovery
                                                        key: $var.key
                                                        value: $var.value
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.selectStatus.recovery.isRecovery
                                                      string2: "Yes"
                                                - ..formData.selectStatus.recovery.isShow@: "block"
                                                - ..formData.selectStatus.recovery.isShow@: "none"
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isRecoveryTag
                                    - .ProFormsSelectLabel:
                                      dataKey: itemObject.value
                                      style:
                                        width: "auto"
                            - .ProFormsBaseView:
                              viewTag: isRecoveryTag
                              style:
                                display: ..formData.selectStatus.recovery.isShow
                                marginTop: "0.01"
                              children:
                                - .ProFormsLabel:
                                  text: "If “yes,” please explain below:"
                                  style:
                                    fontWeight: "500"
                                - .ProFormsTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.yesExplain
                        # TREATMENT RENDERED  
                        - type: view
                          style:
                            width: "0.39"
                            height: "auto"
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabel:
                              text: "TREATMENT RENDERED"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.useReverse

                            - .ProFormsLabel:
                              text: "If further treatment required, specify treatment plan/estimated duration"
                              style:
                                marginTop: "0.03"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.duration

                            - .ProFormsLabel:
                              text: If hospitalized as inpatient, give hospital name and location
                              style:
                                marginTop: "0.03"
                            - .ProFormsTextView:
                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.location

                            - .ProFormsBaseView:
                              style:
                                display: flex
                                justifyContent: space-between
                                alignItems: center
                                marginTop: "0.03"
                              children:
                                - type: view
                                  style:
                                  children:
                                    - .ProFormsLabel:
                                      text: Date admitted
                                      style:
                                        width: "0.18"
                                        fontWeight: "500"
                                    - .ProFormsCalendarView:
                                      viewTag: admittedTag
                                      style:
                                        width: "0.1898"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 4
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                      children:
                                        - .ProFormsCalendarField:
                                          dataKey: apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit
                                          style:
                                            width: "0.17"
                                        - .ProFormsCalendarImg:
                                          style:
                                            marginTop: "0.013"
                                - type: view
                                  style:
                                  children:
                                    - .ProFormsLabel:
                                      text: Estimated length of stay
                                      style:
                                        fontWeight: "500"
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.diagnosis.estStay
                                      style:
                                        width: "0.1898"
                            - type: view
                              style:
                                marginTop: "0.03"
                                height: "auto"
                                width: "0.39"
                              children:
                                - .ProFormsLabel:
                                  text: WORK STATUS - Is patient able to perform usual work?
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.workTemp
                                  iteratorVar: itemObject
                                  viewTag: isWorkTag
                                  style:
                                    width: '0.39'
                                    height: auto
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        marginTop: '0.01'
                                        width: "0.05"
                                        display: inline-block
                                      children:
                                        - type: image
                                          style:
                                            marginTop: "0"
                                            width: "0.008"
                                            display: inline-block
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.selectStatus.work.isWork
                                                          string2: $var.value
                                                    - yes.png
                                                    - no.png
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.selectStatus.work.isWork
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.selectStatus.work
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.selectStatus.work
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.selectStatus.work.isWork
                                                          string2: "No"
                                                    - ..formData.selectStatus.work.isShow@: "block"
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.selectStatus.work.isShow@: "none"
                                                        - ..apiRequest.pROne.docReq.name.data.diagnosis.regularWork@: ""
                                                        - ..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork@: ""
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isWorkTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: workTag
                                        - .ProFormsSelectLabel:
                                          dataKey: itemObject.value
                                          style:
                                            width: "auto"
                                - type: view
                                  viewTag: workTag
                                  style:
                                    display: ..formData.selectStatus.work.isShow
                                  children:
                                    - .ProFormsLabel:
                                      text: If "no", date when patient can return to
                                      style:
                                        fontWeight: "500"
                                        marginTop: "0.01"
                                    - .ProFormsBaseView:
                                      style:
                                        display: flex
                                        justifyContent: space-between
                                        alignItems: center
                                        marginTop: "0.01"
                                      children:
                                        - type: view
                                          children:
                                            - .ProFormsLabel:
                                              text: Regular work
                                              style:
                                                fontWeight: "500"
                                            - .ProFormsCalendarView:
                                              viewTag: regularWorkTag
                                              style:
                                                width: "0.1898"
                                              onClick:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.dataTagFlag@: 5
                                                    - if:
                                                        - =.builtIn.string.equal:
                                                            dataIn:
                                                              string1: =..formData.dataTagFlag
                                                              string2: ""
                                                        - continue
                                                        - actionType: popUp
                                                          popUpView: dateTag
                                              children:
                                                - .ProFormsCalendarField:
                                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.regularWork
                                                  style:
                                                    width: "0.17"
                                                - .ProFormsCalendarImg:
                                                  style:
                                                    marginTop: "0.013"
                                        - type: view
                                          children:
                                            - .ProFormsLabel:
                                              text: Modified work
                                              style:
                                                fontWeight: "500"
                                            - .ProFormsCalendarView:
                                              viewTag: modifiedWorkTag
                                              style:
                                                width: "0.1898"
                                              onClick:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.dataTagFlag@: 6
                                                    - if:
                                                        - =.builtIn.string.equal:
                                                            dataIn:
                                                              string1: =..formData.dataTagFlag
                                                              string2: ""
                                                        - continue
                                                        - actionType: popUp
                                                          popUpView: dateTag
                                              children:
                                                - .ProFormsCalendarField:
                                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork
                                                  style:
                                                    width: "0.17"
                                                - .ProFormsCalendarImg:
                                                  style:
                                                    marginTop: "0.013"
                                - .ProFormsBaseView:
                                  style:
                                    marginTop: "0.03"
                                  children:
                                    - .ProFormsLabel:
                                      text: Specify Restrictions
                                    - .ProFormsTextField:
                                      dataKey: apiRequest.pROne.docReq.name.data.diagnosis.restrictions
                                      style:
                                        width: "0.39"
                            - .ProFormsDivider:
                              style:
                                marginTop: "0.025"
                        # signature 
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabel:
                              text: "Physician signature(original signature, do not stamp)"
                              style:
                                fontWeight: "500"
                            - .ProFormsLabel:
                              text: "I declare under penalty of perjury that this report is true and correct
                                to the best of my knowledge and that I have not
                                violated Labor Code section 139.3."
                              style:
                                fontWeight: "500"
                                marginTop: "0.015"
                                lineHeight: "1.5em"
                                wordBreak: keep-all
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                                width: "0.275"
                                display: flex
                                justifyContent: space-between
                              children:
                                - .ProFormsLabel:
                                  text: "Physician signature"
                                  style:
                                    display: inline-block
                                - .ProFormsLabel:
                                  text: "Clear"
                                  style:
                                    fontWeight: ""
                                    color: "0xe24445"
                                    display: inline-block
                                  onClick:
                                    - actionType: removeSignature
                                      dataObject: BLOB
                                      dataKey: apiRequest.newSign.docReq.name.data
                                      viewTag: signatureTag
                                    - actionType: evalObject
                                      object:
                                        - ..formData.temporarySignature@: ""
                                        - ..formData.signShow@: "none"
                                        - ..formData.canvasShow@: "block"
                                        - ..apiRequest.pROne.docReq.name.data.signatureId@: ""
                                        - ..apiRequest.pROne.docReq.name.data.signatureTime@: ""
                                        - ..apiRequest.pROne.docReq.name.data.whetherSign@: true
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: signatureTag
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: signatureShowTag
                            - .SignAreaView:
                              style:
                                marginTop: "0.008"
                              children:
                                - type: canvas
                                  viewTag: signatureTag
                                  dataKey: apiRequest.newSign.docReq.name.data
                                  style:
                                    .SignCanvasStyle:
                                    display: ..formData.canvasShow
                                - type: image
                                  path: null.png
                                  viewTag: signatureShowTag
                                  path=func: .builtIn.utils.prepareDocToPath
                                  dataKey: apiRequest.pROne.docReq.name.data.signatureId
                                  style:
                                    display: ..formData.signShow
                                    .SignCanvasStyle:
                                - type: label
                                  text: "X"
                                  style:
                                    .SignLabelStyle:
                            - .ProFormsBaseView:
                              viewTag: signatureShowTag
                              style:
                                display: ..formData.signShow
                              children:
                                - .ProFormsLabelLeft:
                                  text=func: .builtIn.string.formatUnixtime_en
                                  dataKey: apiRequest.pROne.docReq.name.data.signatureCtime
                                  style:
                                    display: inline
                                - .ProFormsLabelLeft:
                                  text: " Digitally Signed"
                                  style:
                                    marginLeft: "0.0046"
                                    display: inline
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.01"
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Date"
                                  style:
                                    display: inline
                                - .ProFormsLabelRight:
                                  text=func: .builtIn.string.formatUnixtimeL_en
                                  dataKey: apiRequest.pROne.docReq.ctime
                                  style:
                                    marginLeft: "0.0046"
                                    display: inline
                        # facility info       
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabel:
                                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.physicianName
                                  style:
                                    fontSize: .Nfont.nf4
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.specialty
                                      style:
                                        lineHeight: "2vh"

                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "LIC #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.license
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "NPI #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.npi
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "DEA #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.dea
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Email"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.email
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Fax #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.fax
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Main #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.phoneNumber
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Address"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.address
                            - .ProFormsLabel:
                              text: "Any person who makes or causes to be made any knowingly fraudulent
                                material statement or mater-ial representation
                                for the purpose of obtaining or denying workers’
                                compensation benefits or pay-ments is guilty of
                                a felony."
                              style:
                                marginTop: "0.03"
                                fontWeight: "500"
                                wordBreak: keep-all

                            - type: view
                              style:
                                marginTop: "0.02"
                                width: "0.39"
                                wordBreak: break-all
                                lineHeight: "1.2em"
                              children:
                                - .ProFormsLabelLeft:
                                  text: "PRIVACY NOTICE: "
                                - .ProFormsLabelLeft:
                                  text: "The Administrative Director is authorized to maintain the records of the
                                    Division of Workers' Compensation
                                    (DWC).(Cal. Lab. Code § 126.) The
                                    Information Practices Act of 1977 and the
                                    Federal Privacy Act require the
                                    Administrative Director to provide this
                                    notice to individuals who submit information
                                    to the DWC pertaining to a
                                    workers'compensation claim.(Cal.Civ. Code §
                                    1798.17; Public Law 93-579.)"
                                  style:
                                    marginTop: "0.005"
                                    wordBreak: keep-all
                                - .ProFormsLabelLeft:
                                  text: "The principal purpose for requesting information from injured workers,
                                    dependents, lien claimants, physician,
                                    employers or their representatives is to
                                    administer the California workers’
                                    compensation system. Each form shows which
                                    fields are required to be completed for DWC
                                    to process the form. If a required field in
                                    a form is incomplete or unreadable, the DWC
                                    may return the form to the individual for
                                    correction or may reject the form. Providing
                                    a social security number is required on this
                                    form pursuant to Labor Code § 6409. If you
                                    do not provide your security number, the DWC
                                    may return the form to you for correction or
                                    reject the form. If you do not have a social
                                    security number, indicate this in the space
                                    provided for the injured worker’s social
                                    security number. As permitted by law, social
                                    security numbers are used to help properly
                                    identify injured workers and to conduct
                                    statistical research as allowed under the
                                    Labor Code."
                                  style:
                                    marginTop: "0.01"
                                    wordBreak: keep-all
                                - .ProFormsLabelLeft:
                                  text: "As authorized by law, information furnished on this form may be given to:
                                    you, upon request; the public, pursuant to
                                    the Public Records Act; a governmental
                                    entity, when required by state or federal
                                    law; to any person, pursuant to a subpoena
                                    or court order pursuant to any other
                                    exception in Civil Code § 1798.24."
                                  style:
                                    marginTop: "0.01"
                                    wordBreak: keep-all
                                - .ProFormsLabelLeft:
                                  text: "An individual has a right of access to records containing his/her
                                    personal information that are maintained by
                                    the Administrative Director. An individual
                                    may also amend, correct, or dispute
                                    information in such personal records. (Cal.
                                    Civ. Code §§ 1798.34-1798.3.) You may
                                    request a copy of the DWC’s policies and
                                    procedures for inspection of records at the
                                    address below. Copies of the procedures and
                                    all records are ten cents ($0.10) per page,
                                    payable in advance. (Cal. Civ. Code §
                                    1798.33.) Requests should be sent to:
                                    Division of Workers’ Compensation- Medical
                                    Unit, P.O. Box 71010, Oakland, CA 94612.
                                    Tel: (510) 286-3700 or (800) 794.6900. Fax:
                                    (510) 622-3467."
                                  style:
                                    marginTop: "0.01"
                                    wordBreak: keep-all
                        - .ProFormsDivider:


            - .FormsBottomView:
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign
                        # 签名处理
                        - actionType: evalObject
                          object:
                            - if:
                                - =..formData.temporarySignature
                                - continue
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.whetherSign
                                              string2: true
                                        - continue
                                        - actionType: evalObject
                                          object:
                                            - ..apiRequest.newSign.docReq.reid@: =.PROneEdit.docResp.doc.id
                                            - =..apiRequest.newSign.docAPI.store: ""
                                            - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                            - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docResp.doc.ctime
                                            - ..apiRequest.pROne.docReq.name.data.whetherSign@: false

                        # 指定reid
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.reid@: =.Global.formData.meetingDocReid
                        # 修改Type
                        - actionType: evalObject
                          object:
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.pROne.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: PROnePrivate.apiRequest.pROne.docReq.type
                        # 保存seclectStatus
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
                            - ..apiRequest.pROne.docReq.name.data.statusTag@: =..formDataTemp.privateTag
                            - =..apiRequest.pROne.docAPI.store: ""
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true
                    # release button
                    - .FormsBottomRightButton:
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.selectStatus.illness.isIllness
                                      string2: "No"
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..apiRequest.pROne.docReq.name.data.diagnosis.noExplain
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: alertTag
                                          wait: true
                                          popUpDismiss: 2000
                                        - continue
                                - continue
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.selectStatus.recovery.isRecovery
                                      string2: "Yes"
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..apiRequest.pROne.docReq.name.data.diagnosis.yesExplain
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: alertTag
                                          wait: true
                                          popUpDismiss: 2000
                                        - continue
                                - continue
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.selectStatus.work.isWork
                                      string2: "No"
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..apiRequest.pROne.docReq.name.data.diagnosis.regularWork
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: alertTag
                                          wait: true
                                          popUpDismiss: 2000
                                        - continue
                                - continue
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.selectStatus.work.isWork
                                      string2: "No"
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: alertTag
                                          wait: true
                                          popUpDismiss: 2000
                                        - continue
                                - continue
                        # 签名处理
                        - actionType: evalObject
                          object:
                            - if:
                                # 是否是上次签名
                                - =..formData.temporarySignature
                                - continue # 旧签名
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =..formData.whetherSign
                                        - actionType: popUp
                                          popUpView: signatureWarningTag
                                          wait: true
                                        - actionType: evalObject
                                          object:
                                            - ..apiRequest.newSign.docReq.reid@: =..apiRequest.pROne.docReq.doc.id
                                            - ..apiRequest.pROne.docReq.name.data.whetherSign@: false
                                            - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                            - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docResp.doc.ctime
                                            - =..apiRequest.newSign.docAPI.store: ""
                        # 指定reid  保存pROne
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
                            - ..apiRequest.pROne.docReq.name.data.statusTag@: =..formDataTemp.publicTag
                            - =..apiRequest.pROne.docAPI.store: ""
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true
            - .FormsRightButtonsView:
              style:
                top: "0.1"
              children:
                - .FormsRightButton:
                  img: keyboard.svg
                  msg: "Macro"
                  style:
                    marginTop: "0.002"
                    backgroundColor: "0x1263a8"
                  onClick:
                    # 提前保存页面数据用于复现
                    - actionType: saveSignature
                      dataObject: BLOB
                      dataKey: apiRequest.newSign.docReq.name.data
                      isEmpty: formData.whetherSign
                    # - actionType: evalObject
                    #   object:
                    #     - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus        
                    - actionType: evalObject
                      object:
                        - if:
                            # 是否是上次签名
                            - =..formData.temporarySignature
                            - continue # 旧签名
                            - actionType: evalObject
                              object:
                                # 新签名
                                - if:
                                    # 是否签名
                                    - =..formData.whetherSign
                                    - continue
                                    - actionType: evalObject
                                      object:
                                        # 签名->复制签名信息再创建文档
                                        - ..apiRequest.newSign.docReq.reid@: =..apiRequest.pROne.docReq.id
                                        - =..apiRequest.newSign.docAPI.store: ""
                                        - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                        - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docResp.doc.ctime
                                        - ..apiRequest.pROne.docReq.name.data.whetherSign@: false
                    # 弹窗
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: macroTag
                    - actionType: popUp
                      popUpView: macroTag
                    - actionType: updateObject
                      dataKey: Global.formData.providerNotesForm
                      dataObject: {}
                    - actionType: evalObject
                      object:
                        - .Global.formData.providerNotesForm@: =..apiRequest.pROne.docReq
                        - if:
                            - =.Global.macro.resp.doc.0.id
                            - actionType: evalObject
                              object:
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: macroDataTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: noMacroDataTag
                            - actionType: evalObject
                              object:
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: macroDataTag
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: noMacroDataTag
        - .MacroPopUp:
        - .CopyMacroSucPromptRight:
        - .BaseWarningView:
          msg2: "You haven't signed the form."
          viewTag: signatureWarningTag
        - type: view
          viewTag: dateTag
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 1000
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.dataTagFlag@: ""
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..newAppointment.edge.name.setting.startDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 1
                            - ..apiRequest.pROne.docReq.name.data.patientInfo.injuryTime.date@: =.BaseDate.calendarDate.selectDate
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 2
                            - ..apiRequest.pROne.docReq.name.data.patientInfo.workDate@: =.BaseDate.calendarDate.selectDate
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 3
                            - ..apiRequest.pROne.docReq.name.data.patientInfo.examTme.date@: =.BaseDate.calendarDate.selectDate
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 4
                            - ..apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit@: =.BaseDate.calendarDate.selectDate
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 5
                            - ..apiRequest.pROne.docReq.name.data.diagnosis.regularWork@: =.BaseDate.calendarDate.selectDate
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.dataTagFlag
                                  string2: 6
                            - ..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork@: =.BaseDate.calendarDate.selectDate
                            - continue
                        # 置空                         
                        - ..formData.dataTagFlag@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: injuryDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: workDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: examDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: admittedTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: regularWorkTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkTag

                    - actionType: popUpDismiss
                      popUpView: dateTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: dateTag
        - .DeleteWarningPopUp:
          msg: Are you sure you want to delete it ?
          viewTag: BaseDelWarningView
          .BackgroundPopUp:
          children:
            - .BackgroundWhite:
              children:
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.267"
                  children:
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:
                - .CancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
                - .DeleteButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.removeByName:
                            dataIn:
                              object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
                              key: code
                              name: =..formData.selectedDiagnosis.code
                        - ..formData.listDataflag@: "block"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: listData
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
        - .BaseWarningView:
          msg1: Warning
          msg2: You haven't added the Diagnoses.
          viewTag: noDiagnosesTag
        - .BaseWarningView:
          msg1: Warning
          msg2: "Please complete required fields: Search & Description"
          viewTag: noDescriptionTag

        - .BaseWarningView:
          msg1: Warning
          msg2: You haven't signed the form.
          viewTag: noSignatureTag
        - .BaseWarningView: ""
          viewTag: alertTag
          msg2: Please complete the items you selected.
