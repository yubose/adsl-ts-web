(self.webpackChunkweb=self.webpackChunkweb||[]).push([[171],{47171:function(e,t,n){var r=n(34155);!function(e){"use strict";const t=Symbol.for("yaml.alias"),s=Symbol.for("yaml.document"),i=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),a=Symbol.for("yaml.scalar"),c=Symbol.for("yaml.seq"),l=Symbol.for("yaml.node.type"),u=e=>!!e&&"object"==typeof e&&e[l]===t,f=e=>!!e&&"object"==typeof e&&e[l]===s,h=e=>!!e&&"object"==typeof e&&e[l]===i,p=e=>!!e&&"object"==typeof e&&e[l]===o,d=e=>!!e&&"object"==typeof e&&e[l]===a,y=e=>!!e&&"object"==typeof e&&e[l]===c;function m(e){if(e&&"object"==typeof e)switch(e[l]){case i:case c:return!0}return!1}function g(e){if(e&&"object"==typeof e)switch(e[l]){case t:case i:case a:case c:return!0}return!1}class v{constructor(e){Object.defineProperty(this,l,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const b=Symbol("break visit"),w=Symbol("skip children"),_=Symbol("remove node");function O(e,t){const n=N(t);f(e)?E(null,e.contents,n,Object.freeze([e]))===_&&(e.contents=null):E(null,e,n,Object.freeze([]))}function E(e,t,n,r){const s=A(e,t,n,r);if(g(s)||p(s))return T(e,r,s),E(e,s,n,r);if("symbol"!=typeof s)if(m(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=E(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===b)return b;s===_&&(t.items.splice(e,1),e-=1)}}}else if(p(t)){r=Object.freeze(r.concat(t));const e=E("key",t.key,n,r);if(e===b)return b;e===_&&(t.key=null);const s=E("value",t.value,n,r);if(s===b)return b;s===_&&(t.value=null)}return s}async function S(e,t){const n=N(t);f(e)?await k(null,e.contents,n,Object.freeze([e]))===_&&(e.contents=null):await k(null,e,n,Object.freeze([]))}async function k(e,t,n,r){const s=await A(e,t,n,r);if(g(s)||p(s))return T(e,r,s),k(e,s,n,r);if("symbol"!=typeof s)if(m(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=await k(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===b)return b;s===_&&(t.items.splice(e,1),e-=1)}}}else if(p(t)){r=Object.freeze(r.concat(t));const e=await k("key",t.key,n,r);if(e===b)return b;e===_&&(t.key=null);const s=await k("value",t.value,n,r);if(s===b)return b;s===_&&(t.value=null)}return s}function N(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function A(e,t,n,r){return"function"==typeof n?n(e,t,r):h(t)?n.Map?.(e,t,r):y(t)?n.Seq?.(e,t,r):p(t)?n.Pair?.(e,t,r):d(t)?n.Scalar?.(e,t,r):u(t)?n.Alias?.(e,t,r):void 0}function T(e,t,n){const r=t[t.length-1];if(m(r))r.items[e]=n;else if(p(r))"key"===e?r.key=n:r.value=n;else{if(!f(r)){const e=u(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}O.BREAK=b,O.SKIP=w,O.REMOVE=_,S.BREAK=b,S.SKIP=w,S.REMOVE=_;const I={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class P{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},P.defaultYaml,e),this.tags=Object.assign({},P.defaultTags,t)}clone(){const e=new P(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new P(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:P.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},P.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:P.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},P.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,r]=n;return this.tags[e]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const s=this.tags[n];return s?s+decodeURIComponent(r):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>I[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(e&&n.length>0&&g(e.contents)){const t={};O(e.contents,((e,n)=>{g(n)&&n.tag&&(t[n.tag]=!0)})),r=Object.keys(t)}else r=[];for(const[s,i]of n)"!!"===s&&"tag:yaml.org,2002:"===i||e&&!r.some((e=>e.startsWith(i)))||t.push(`%TAG ${s} ${i}`);return t.join("\n")}}function x(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function L(e){const t=new Set;return O(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function C(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}P.defaultYaml={explicit:!1,version:"1.2"},P.defaultTags={"!!":"tag:yaml.org,2002:"};class j extends v{constructor(e){super(t),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return O(e,{Node:(e,n)=>{if(n===this)return O.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:s}=t,i=this.resolve(r);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const o=n.get(i);if(!o||void 0===o.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(s>=0&&(o.count+=1,0===o.aliasCount&&(o.aliasCount=$(r,i,n)),o.count*o.aliasCount>s))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return o.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(x(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function $(e,t,n){if(u(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}if(m(t)){let r=0;for(const s of t.items){const t=$(e,s,n);t>r&&(r=t)}return r}if(p(t)){const r=$(e,t.key,n),s=$(e,t.value,n);return Math.max(r,s)}return 1}function M(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>M(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||(!d(r=e)&&!m(r)||!r.anchor))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}var r;return"bigint"!=typeof e||n?.keep?e:Number(e)}const R=e=>!e||"function"!=typeof e&&"object"!=typeof e;class D extends v{constructor(e){super(a),this.value=e}toJSON(e,t){return t?.keep?this.value:M(this.value,e,t)}toString(){return String(this.value)}}D.BLOCK_FOLDED="BLOCK_FOLDED",D.BLOCK_LITERAL="BLOCK_LITERAL",D.PLAIN="PLAIN",D.QUOTE_DOUBLE="QUOTE_DOUBLE",D.QUOTE_SINGLE="QUOTE_SINGLE";function U(e,t,n){if(f(e)&&(e=e.contents),g(e))return e;if(p(e)){const t=n.schema[i].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:o,schema:a,sourceObjects:l}=n;let u;if(r&&e&&"object"==typeof e){if(u=l.get(e),u)return u.anchor||(u.anchor=s(e)),new j(u.anchor);u={anchor:null,node:null},l.set(e,u)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let h=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),r=e.find((e=>!e.format))??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,a.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new D(e);return u&&(u.node=t),t}h=e instanceof Map?a[i]:Symbol.iterator in Object(e)?a[c]:a[i]}o&&(o(h),delete n.onTagObj);const d=h?.createNode?h.createNode(n.schema,e,n):new D(e);return t&&(d.tag=t),u&&(u.node=d),d}function B(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return U(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const V=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class F extends v{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>g(t)||p(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(V(e))this.add(t);else{const[n,...r]=e,s=this.get(n,!0);if(m(s))s.addIn(r,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,B(this.schema,r,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(m(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e,s=this.get(n,!0);return 0===r.length?!t&&d(s)?s.value:s:m(s)?s.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!p(t))return!1;const n=t.value;return null==n||e&&d(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const r=this.get(t,!0);return!!m(r)&&r.hasIn(n)}setIn(e,t){const[n,...r]=e;if(0===r.length)this.set(n,t);else{const e=this.get(n,!0);if(m(e))e.setIn(r,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,B(this.schema,r,t))}}}}F.maxFlowStringSingleLineLength=60;const K=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function G(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const q=(e,t,n)=>e.endsWith("\n")?G(n,t):n.includes("\n")?"\n"+G(n,t):(e.endsWith(" ")?"":" ")+n,W="flow",Y="block",J="quoted";function z(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return e;const c=Math.max(1+i,1+s-t.length);if(e.length<=c)return e;const l=[],u={};let f,h,p=s-t.length;"number"==typeof r&&(r>s-Math.max(2,i)?l.push(0):p=s-r);let d=!1,y=-1,m=-1,g=-1;n===Y&&(y=H(e,y),-1!==y&&(p=y+c));for(let t;t=e[y+=1];){if(n===J&&"\\"===t){switch(m=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}g=y}if("\n"===t)n===Y&&(y=H(e,y)),p=y+c,f=void 0;else{if(" "===t&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[y+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=y)}if(y>=p)if(f)l.push(f),p=f+c,f=void 0;else if(n===J){for(;" "===h||"\t"===h;)h=t,t=e[y+=1],d=!0;const n=y>g+1?y-2:m-1;if(u[n])return e;l.push(n),u[n]=!0,p=n+c,f=void 0}else d=!0}h=t}if(d&&a&&a(),0===l.length)return e;o&&o();let v=e.slice(0,l[0]);for(let r=0;r<l.length;++r){const s=l[r],i=l[r+1]||e.length;0===s?v=`\n${t}${e.slice(0,i)}`:(n===J&&u[s]&&(v+=`${e[s]}\\`),v+=`\n${t}${e.slice(s+1,i)}`)}return v}function H(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const Q=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),X=e=>/^(%|---|\.\.\.)/m.test(e);function Z(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(X(e)?"  ":"");let o="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(o+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{o+=n.slice(a,e);const t=n.substr(e+2,4);switch(t){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:"00"===t.substr(0,2)?o+="\\x"+t.substr(2):o+=n.substr(e,6)}e+=5,a=e+1}break;case"n":if(r||'"'===n[e+2]||n.length<s)e+=1;else{for(o+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)o+="\n",e+=2;o+=i," "===n[e+2]&&(o+="\\"),e+=1,a=e+1}break;default:e+=1}return o=a?o+n.slice(a):n,r?o:z(o,i,J,Q(t))}function ee(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return Z(e,t);const n=t.indent||(X(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:z(r,n,W,Q(t))}function te(e,t){const{singleQuote:n}=t.options;let r;if(!1===n)r=Z;else{const t=e.includes('"'),s=e.includes("'");r=t&&!s?ee:s&&!t?Z:n?ee:Z}return r(e,t)}function ne({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return te(n,r);const l=r.indent||(r.forceBlockIndent||X(n)?"  ":""),u="literal"===o||"folded"!==o&&t!==D.BLOCK_FOLDED&&(t===D.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let t=0,n=0;t<s;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,s-n<=r)return!1}return!0}(n,c,l.length));if(!n)return u?"|\n":">\n";let f,h;for(h=n.length;h>0;--h){const e=n[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(h);const d=p.indexOf("\n");-1===d?f="-":n===p||d!==p.length-1?(f="+",i&&i()):f="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let y,m=!1,g=-1;for(y=0;y<n.length;++y){const e=n[y];if(" "===e)m=!0;else{if("\n"!==e)break;g=y}}let v=n.substring(0,g<y?g+1:y);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(m?l?"2":"1":"")+f;return e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),u?`${b}\n${l}${v}${n=n.replace(/\n+/g,`$&${l}`)}${p}`:`${b}\n${l}${z(`${v}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`)}${p}`,l,Y,Q(r))}`}function re(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==D.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=D.QUOTE_DOUBLE);const c=e=>{switch(e){case D.BLOCK_FOLDED:case D.BLOCK_LITERAL:return s||i?te(o.value,t):ne(o,t,n,r);case D.QUOTE_DOUBLE:return Z(o.value,t);case D.QUOTE_SINGLE:return ee(o.value,t);case D.PLAIN:return function(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:a,indent:c,inFlow:l}=t;if(a&&/[\n[\]{},]/.test(i)||l&&/[[\]{},]/.test(i))return te(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||l||!i.includes("\n")?te(i,t):ne(e,t,n,r);if(!a&&!l&&s!==D.PLAIN&&i.includes("\n"))return ne(e,t,n,r);if(""===c&&X(i))return t.forceBlockIndent=!0,ne(e,t,n,r);const u=i.replace(/\n+/g,`$&\n${c}`);if(o){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:r}=t.doc.schema;if(r.some(e)||n?.some(e))return te(i,t)}return a?u:z(u,c,W,Q(t))}(o,t,n,r);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,r=s&&e||n;if(l=c(r),null===l)throw new Error(`Unsupported default string type ${r}`)}return l}function se(e,t){const n=Object.assign({blockQuote:!0,commentString:K,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function ie(e,t,n,r){if(p(e))return e.toString(t,n,r);if(u(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=g(e)?e:t.doc.createNode(e,{onTagObj:e=>s=e});s||(s=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,r;if(d(t)){r=t.value;const s=e.filter((e=>e.identify?.(r)));n=s.find((e=>e.format===t.format))??s.find((e=>!e.format))}else r=t,n=e.find((e=>e.nodeClass&&r instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${r?.constructor?.name??typeof r} value`);return n}(t.doc.schema.tags,i));const o=function(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(d(e)||m(e))&&e.anchor;i&&x(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a="function"==typeof s.stringify?s.stringify(i,t,n,r):d(i)?re(i,t,n,r):i.toString(t,n,r);return o?d(i)||"{"===a[0]||"["===a[0]?`${o} ${a}`:`${o}\n${t.indent}${a}`:a}function oe(e,t){"debug"!==e&&"warn"!==e||(void 0!==r&&r.emitWarning?r.emitWarning(t):console.warn(t))}function ae(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&ce(n))if(r=u(r)?r.resolve(e.doc):r,y(r))for(const n of r.items)le(e,t,n);else if(Array.isArray(r))for(const n of r)le(e,t,n);else le(e,t,r);else{const s=M(n,"",e);if(t instanceof Map)t.set(s,M(r,s,e));else if(t instanceof Set)t.add(s);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(g(e)&&n&&n.doc){const t=se(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),oe(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}(n,s,e),o=M(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}const ce=e=>"<<"===e||d(e)&&"<<"===e.value&&(!e.type||e.type===D.PLAIN);function le(e,t,n){const r=e&&u(n)?n.resolve(e.doc):n;if(!h(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[e,n]of s)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function ue(e,t,n){const r=U(e,void 0,n),s=U(t,void 0,n);return new fe(r,s)}class fe{constructor(e,t=null){Object.defineProperty(this,l,{value:o}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return g(t)&&(t=t.clone(e)),g(n)&&(n=n.clone(e)),new fe(t,n)}toJSON(e,t){return ae(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=n;let h=g(e)&&e.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(m(e))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!f&&(!e||h&&null==t&&!n.inFlow||m(e)||(d(e)?e.type===D.BLOCK_FOLDED||e.type===D.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(f||!i),indent:a+c});let v=!1,b=!1,w=ie(e,n,(()=>v=!0),(()=>b=!0));if(!p&&!n.inFlow&&w.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return v&&r&&r(),""===w?"?":p?`? ${w}`:w}else if(i&&!f||null==t&&p)return w=`? ${w}`,h&&!v?w+=q(w,n.indent,l(h)):b&&s&&s(),w;v&&(h=null),p?(h&&(w+=q(w,n.indent,l(h))),w=`? ${w}\n${a}:`):(w=`${w}:`,h&&(w+=q(w,n.indent,l(h))));let _="",O=null;g(t)?(t.spaceBefore&&(_="\n"),t.commentBefore&&(_+=`\n${G(l(t.commentBefore),n.indent)}`),O=t.comment):t&&"object"==typeof t&&(t=o.createNode(t)),n.implicitKey=!1,p||h||!d(t)||(n.indentAtStart=w.length+1),b=!1,u||!(c.length>=2)||n.inFlow||p||!y(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let E=!1;const S=ie(t,n,(()=>E=!0),(()=>b=!0));let k=" ";return _||h?k=""!==S||n.inFlow?`${_}\n${n.indent}`:"\n"===_?"\n\n":_:!p&&m(t)?("["===S[0]||"{"===S[0])&&!S.includes("\n")||(k=`\n${n.indent}`):""!==S&&"\n"!==S[0]||(k=""),w+=k+S,n.inFlow?E&&r&&r():O&&!E?w+=q(w,n.indent,l(O)):b&&s&&s(),w}(this,e,t,n):JSON.stringify(this)}}function he(e,t,n){return(t.inFlow??e.flow?de:pe)(e,t,n)}function pe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:c,options:{commentString:l}}=n,u=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let e=0;e<t.length;++e){const s=t[e];let o=null;if(g(s))!f&&s.spaceBefore&&h.push(""),ye(n,h,s.commentBefore,f),s.comment&&(o=s.comment);else if(p(s)){const e=g(s.key)?s.key:null;e&&(!f&&e.spaceBefore&&h.push(""),ye(n,h,e.commentBefore,f))}f=!1;let a=ie(s,u,(()=>o=null),(()=>f=!0));o&&(a+=q(a,i,l(o))),f&&o&&(f=!1),h.push(r+a)}let d;if(0===h.length)d=s.start+s.end;else{d=h[0];for(let e=1;e<h.length;++e){const t=h[e];d+=t?`\n${c}${t}`:"\n"}}return e?(d+="\n"+G(l(e),c),a&&a()):f&&o&&o(),d}function de({comment:e,items:t},n,{flowChars:r,itemIndent:s,onComment:i}){const{indent:o,indentStep:a,options:{commentString:c}}=n;s+=a;const l=Object.assign({},n,{indent:s,inFlow:!0,type:null});let u=!1,f=0;const h=[];for(let e=0;e<t.length;++e){const r=t[e];let i=null;if(g(r))r.spaceBefore&&h.push(""),ye(n,h,r.commentBefore,!1),r.comment&&(i=r.comment);else if(p(r)){const e=g(r.key)?r.key:null;e&&(e.spaceBefore&&h.push(""),ye(n,h,e.commentBefore,!1),e.comment&&(u=!0));const t=g(r.value)?r.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(u=!0)):null==r.value&&e&&e.comment&&(i=e.comment)}i&&(u=!0);let o=ie(r,l,(()=>i=null));e<t.length-1&&(o+=","),i&&(o+=q(o,s,c(i))),!u&&(h.length>f||o.includes("\n"))&&(u=!0),h.push(o),f=h.length}let d;const{start:y,end:m}=r;if(0===h.length)d=y+m;else if(u||(u=h.reduce(((e,t)=>e+t.length+2),2)>F.maxFlowStringSingleLineLength),u){d=y;for(const e of h)d+=e?`\n${a}${o}${e}`:"\n";d+=`\n${o}${m}`}else d=`${y} ${h.join(" ")} ${m}`;return e&&(d+=q(d,c(e),o),i&&i()),d}function ye({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const s=G(t(r),e);n.push(s.trimStart())}}function me(e,t){const n=d(t)?t.value:t;for(const r of e)if(p(r)){if(r.key===t||r.key===n)return r;if(d(r.key)&&r.key.value===n)return r}}class ge extends F{constructor(e){super(i,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=p(e)?e:e&&"object"==typeof e&&"key"in e?new fe(e.key,e.value):new fe(e,e?.value);const r=me(this.items,n.key),s=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);d(r.value)&&R(n.value)?r.value.value=n.value:r.value=n.value}else if(s){const e=this.items.findIndex((e=>s(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=me(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=me(this.items,e)?.value;return(!t&&d(n)?n.value:n)??void 0}has(e){return!!me(this.items,e)}set(e,t){this.add(new fe(e,t),!0)}toJSON(e,t,n){const r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const e of this.items)ae(t,r,e);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!p(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),he(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const ve={collection:"map",createNode:function(e,t,n){const{keepUndefined:r,replacer:s}=n,i=new ge(e),o=(e,o)=>{if("function"==typeof s)o=s.call(t,e,o);else if(Array.isArray(s)&&!s.includes(e))return;(void 0!==o||r)&&i.items.push(ue(e,o,n))};if(t instanceof Map)for(const[e,n]of t)o(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))o(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i},default:!0,nodeClass:ge,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(h(e)||t("Expected a mapping for this tag"),e)};class be extends F{constructor(e){super(c,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=we(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=we(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&d(r)?r.value:r}has(e){const t=we(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=we(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];d(r)&&R(t)?r.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let r=0;for(const e of this.items)n.push(M(e,String(r++),t));return n}toString(e,t,n){return e?he(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function we(e){let t=d(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const _e={collection:"seq",createNode:function(e,t,n){const{replacer:r}=n,s=new be(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof r){const n=t instanceof Set?i:String(e++);i=r.call(t,n,i)}s.items.push(U(i,void 0,n))}}return s},default:!0,nodeClass:be,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(y(e)||t("Expected a sequence for this tag"),e)},Oe={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>re(e,t=Object.assign({actualString:!0},t),n,r)},Ee={identify:e=>null==e,createNode:()=>new D(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new D(null),stringify:({source:e},t)=>"string"==typeof e&&Ee.test.test(e)?e:t.options.nullStr},Se={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new D("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&Se.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};function ke({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);const s="number"==typeof r?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const Ne={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ke},Ae={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ke(e)}},Te={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new D(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:ke},Ie=e=>"bigint"==typeof e||Number.isInteger(e),Pe=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function xe(e,t,n){const{value:r}=e;return Ie(r)&&r>=0?n+r.toString(t):ke(e)}const Le={identify:e=>Ie(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Pe(e,2,8,n),stringify:e=>xe(e,8,"0o")},Ce={identify:Ie,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Pe(e,0,10,n),stringify:ke},je={identify:e=>Ie(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Pe(e,2,16,n),stringify:e=>xe(e,16,"0x")},$e=[ve,_e,Oe,Ee,Se,Le,Ce,je,Ne,Ae,Te];function Me(e){return"bigint"==typeof e||Number.isInteger(e)}const Re=({value:e})=>JSON.stringify(e),De=[ve,_e].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Re},{identify:e=>null==e,createNode:()=>new D(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Re},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:Re},{identify:Me,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Me(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Re}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Ue={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let a;if("function"==typeof Buffer)a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<o.length;++t)e+=String.fromCharCode(o[t]);a=btoa(e)}}if(t||(t=D.BLOCK_LITERAL),t!==D.QUOTE_DOUBLE){const e=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/e),s=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)s[t]=a.substr(r,e);a=s.join(t===D.BLOCK_LITERAL?"\n":" ")}return re({comment:e,type:t,value:a},r,s,i)}};function Be(e,t){if(y(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!p(r)){if(h(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const e=r.items[0]||new fe(new D(null));if(r.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${r.commentBefore}\n${e.key.commentBefore}`:r.commentBefore),r.comment){const t=e.value??e.key;t.comment=t.comment?`${r.comment}\n${t.comment}`:r.comment}r=e}e.items[n]=p(r)?r:new fe(r)}}else t("Expected a sequence for this tag");return e}function Ve(e,t,n){const{replacer:r}=n,s=new be(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let o,a;if("function"==typeof r&&(e=r.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);o=e[0],a=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);o=t[0],a=e[o]}else o=e;s.items.push(ue(o,a,n))}return s}const Fe={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Be,createNode:Ve};class Ke extends be{constructor(){super(),this.add=ge.prototype.add.bind(this),this.delete=ge.prototype.delete.bind(this),this.get=ge.prototype.get.bind(this),this.has=ge.prototype.has.bind(this),this.set=ge.prototype.set.bind(this),this.tag=Ke.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let r,s;if(p(e)?(r=M(e.key,"",t),s=M(e.value,r,t)):r=M(e,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,s)}return n}}Ke.tag="tag:yaml.org,2002:omap";const Ge={collection:"seq",identify:e=>e instanceof Map,nodeClass:Ke,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Be(e,t),r=[];for(const{key:e}of n.items)d(e)&&(r.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):r.push(e.value));return Object.assign(new Ke,n)},createNode(e,t,n){const r=Ve(e,t,n),s=new Ke;return s.items=r.items,s}};function qe({value:e,source:t},n){return t&&(e?We:Ye).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const We={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new D(!0),stringify:qe},Ye={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new D(!1),stringify:qe},Je={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ke},ze={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ke(e)}},He={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new D(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:ke},Qe=e=>"bigint"==typeof e||Number.isInteger(e);function Xe(e,t,n,{intAsBigInt:r}){const s=e[0];if("-"!==s&&"+"!==s||(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===s?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===s?-1*i:i}function Ze(e,t,n){const{value:r}=e;if(Qe(r)){const e=r.toString(t);return r<0?"-"+n+e.substr(1):n+e}return ke(e)}const et={identify:Qe,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Xe(e,2,2,n),stringify:e=>Ze(e,2,"0b")},tt={identify:Qe,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Xe(e,1,8,n),stringify:e=>Ze(e,8,"0")},nt={identify:Qe,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Xe(e,0,10,n),stringify:ke},rt={identify:Qe,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Xe(e,2,16,n),stringify:e=>Ze(e,16,"0x")};class st extends ge{constructor(e){super(e),this.tag=st.tag}add(e){let t;t=p(e)?e:"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new fe(e.key,null):new fe(e,null),me(this.items,t.key)||this.items.push(t)}get(e,t){const n=me(this.items,e);return!t&&p(n)?d(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=me(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new fe(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}st.tag="tag:yaml.org,2002:set";const it={collection:"map",identify:e=>e instanceof Set,nodeClass:st,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(h(e)){if(e.hasAllNullValues(!0))return Object.assign(new st,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,s=new st(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof r&&(e=r.call(t,e,e)),s.items.push(ue(e,null,n));return s}};function ot(e,t){const n=e[0],r="-"===n||"+"===n?e.substring(1):e,s=e=>t?BigInt(e):Number(e),i=r.replace(/_/g,"").split(":").reduce(((e,t)=>e*s(60)+s(t)),s(0));return"-"===n?s(-1)*i:i}function at(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return ke(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const ct={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>ot(e,n),stringify:at},lt={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>ot(e,!1),stringify:at},ut={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(ut.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,r-1,s,i||0,o||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=ot(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},ft=[ve,_e,Oe,Ee,We,Ye,et,tt,nt,rt,Je,ze,He,Ue,Ge,Fe,it,ct,lt,ut],ht=new Map([["core",$e],["failsafe",[ve,_e,Oe]],["json",De],["yaml11",ft],["yaml-1.1",ft]]),pt={binary:Ue,bool:Se,float:Te,floatExp:Ae,floatNaN:Ne,floatTime:lt,int:Ce,intHex:je,intOct:Le,intTime:ct,map:ve,null:Ee,omap:Ge,pairs:Fe,seq:_e,set:it,timestamp:ut},dt={"tag:yaml.org,2002:binary":Ue,"tag:yaml.org,2002:omap":Ge,"tag:yaml.org,2002:pairs":Fe,"tag:yaml.org,2002:set":it,"tag:yaml.org,2002:timestamp":ut};function yt(e,t){let n=ht.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(ht.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=pt[e];if(t)return t;const n=Object.keys(pt).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const mt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class gt{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(e)?yt(e,"compat"):e?yt(null,e):null,this.merge=!!n,this.name="string"==typeof s&&s||"core",this.knownTags=r?dt:{},this.tags=yt(t,this.name),this.toStringOptions=l??null,Object.defineProperty(this,i,{value:ve}),Object.defineProperty(this,a,{value:Oe}),Object.defineProperty(this,c,{value:_e}),this.sortMapEntries="function"==typeof o?o:!0===o?mt:null}clone(){const e=Object.create(gt.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function vt(e,t,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t){const n=r[t],s=vt(e,r,String(t),n);void 0===s?delete r[t]:s!==n&&(r[t]=s)}else if(r instanceof Map)for(const t of Array.from(r.keys())){const n=r.get(t),s=vt(e,r,t,n);void 0===s?r.delete(t):s!==n&&r.set(t,s)}else if(r instanceof Set)for(const t of Array.from(r)){const n=vt(e,r,t,t);void 0===n?r.delete(t):n!==t&&(r.delete(t),r.add(n))}else for(const[t,n]of Object.entries(r)){const s=vt(e,r,t,n);void 0===s?delete r[t]:s!==n&&(r[t]=s)}return e.call(t,n,r)}class bt{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,l,{value:s});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:o}=i;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new P({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){const e=Object.create(bt.prototype,{[l]:{value:s}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=g(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){wt(this.contents)&&this.contents.add(e)}addIn(e,t){wt(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=L(this);e.anchor=!t||n.has(t)?C(t||"a",n):t}return new j(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),r=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:s,anchorPrefix:i,flow:o,keepUndefined:a,onTagObj:c,tag:l}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:h}=function(e,t){const n=[],r=new Map;let s=null;return{onAnchor:r=>{n.push(r),s||(s=L(e));const i=C(t,s);return s.add(i),i},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!d(t.node)&&!m(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}}(this,i||"a"),p=U(e,l,{aliasDuplicateObjects:s??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:h});return o&&m(p)&&(p.flow=!0),f(),p}createPair(e,t,n={}){const r=this.createNode(e,null,n),s=this.createNode(t,null,n);return new fe(r,s)}delete(e){return!!wt(this.contents)&&this.contents.delete(e)}deleteIn(e){return V(e)?null!=this.contents&&(this.contents=null,!0):!!wt(this.contents)&&this.contents.deleteIn(e)}get(e,t){return m(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return V(e)?!t&&d(this.contents)?this.contents.value:this.contents:m(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!m(this.contents)&&this.contents.has(e)}hasIn(e){return V(e)?void 0!==this.contents:!!m(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=B(this.schema,[e],t):wt(this.contents)&&this.contents.set(e,t)}setIn(e,t){V(e)?this.contents=t:null==this.contents?this.contents=B(this.schema,Array.from(e),t):wt(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new P({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new P({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new gt(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100,stringify:ie},a=M(this.contents,t??"",o);if("function"==typeof s)for(const{count:e,res:t}of o.anchors.values())s(t,e);return"function"==typeof i?vt(i,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let r=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=se(e,t),{commentString:i}=s.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(G(t,""))}let o=!1,a=null;if(e.contents){if(g(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(G(t,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>o=!0;let c=ie(e.contents,s,(()=>a=null),t);a&&(c+=q(c,"",i(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(ie(e.contents,s));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(G(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&o&&(t=t.replace(/^\n+/,"")),t&&(o&&!a||""===n[n.length-1]||n.push(""),n.push(G(i(t),"")))}return n.join("\n")+"\n"}(this,e)}}function wt(e){if(m(e))return!0;throw new Error("Expected a YAML collection as document contents")}class _t extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class Ot extends _t{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Et extends _t{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const St=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const e=Math.min(i-39,o.length-79);o="…"+o.substring(e),i-=e-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,i))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),o=n+o}if(/[^ ]/.test(o)){let e=1;const t=n.linePos[1];t&&t.line===r&&t.col>s&&(e=Math.min(t.col-s,80-i));const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${o}\n${a}\n`}};function kt(e,{flow:t,indicator:n,next:r,offset:s,onError:i,startOnNewline:o}){let a=!1,c=o,l=o,u="",f="",h=!1,p=!1,d=!1,y=null,m=null,g=null,v=null,b=null;for(const r of e)switch(d&&("space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),r.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===r.source[0]&&i(r,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||i(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=r.source.substring(1)||" ";u?u+=f+e:u=e,f="",c=!1;break}case"newline":c?u?u+=r.source:a=!0:f+=r.source,c=!0,h=!0,(y||m)&&(p=!0),l=!0;break;case"anchor":y&&i(r,"MULTIPLE_ANCHORS","A node can have at most one anchor"),r.source.endsWith(":")&&i(r.offset+r.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=r,null===b&&(b=r.offset),c=!1,l=!1,d=!0;break;case"tag":m&&i(r,"MULTIPLE_TAGS","A node can have at most one tag"),m=r,null===b&&(b=r.offset),c=!1,l=!1,d=!0;break;case n:(y||m)&&i(r,"BAD_PROP_ORDER",`Anchors and tags must be after the ${r.source} indicator`),v&&i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.source} in ${t??"collection"}`),v=r,c=!1,l=!1;break;case"comma":if(t){g&&i(r,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=r,c=!1,l=!1;break}default:i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.type} token`),c=!1,l=!1}const w=e[e.length-1],_=w?w.offset+w.source.length:s;return d&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:p,anchor:y,tag:m,end:_,start:b??_}}function Nt(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Nt(t.key)||Nt(t.value))return!0}return!1;default:return!0}}function At(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!Nt(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Tt(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const s="function"==typeof r?r:(t,n)=>t===n||d(t)&&d(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>s(e.key,n)))}const It="All mapping items must start at the same column";function Pt(e,t,n,r){let s="";if(e){let i=!1,o="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";s?s+=o+t:s=t,o="";break}case"newline":s&&(o+=e),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:s,offset:t}}const xt="Block collections are not allowed within flow collections",Lt=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Ct(e,t,n,r,s){let i;switch(n.type){case"block-map":i=function({composeNode:e,composeEmptyNode:t},n,r,s){const i=new ge(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset;for(const a of r.items){const{start:c,key:l,sep:u,value:f}=a,h=kt(c,{indicator:"explicit-key-ind",next:l??u?.[0],offset:o,onError:s,startOnNewline:!0}),p=!h.found;if(p){if(l&&("block-seq"===l.type?s(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in l&&l.indent!==r.indent&&s(o,"BAD_INDENT",It)),!h.anchor&&!h.tag&&!u){h.comment&&(i.comment?i.comment+="\n"+h.comment:i.comment=h.comment);continue}(h.hasNewlineAfterProp||Nt(l))&&s(l??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==r.indent&&s(o,"BAD_INDENT",It);const d=h.end,y=l?e(n,l,h,s):t(n,d,c,null,h,s);n.schema.compat&&At(r.indent,l,s),Tt(n,i.items,y)&&s(d,"DUPLICATE_KEY","Map keys must be unique");const m=kt(u??[],{indicator:"map-value-ind",next:f,offset:y.range[2],onError:s,startOnNewline:!l||"block-scalar"===l.type});if(o=m.end,m.found){p&&("block-map"!==f?.type||m.hasNewline||s(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<m.found.offset-1024&&s(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const c=f?e(n,f,m,s):t(n,o,u,null,m,s);n.schema.compat&&At(r.indent,f,s),o=c.range[2];const l=new fe(y,c);n.options.keepSourceTokens&&(l.srcToken=a),i.items.push(l)}else{p&&s(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),m.comment&&(y.comment?y.comment+="\n"+m.comment:y.comment=m.comment);const e=new fe(y);n.options.keepSourceTokens&&(e.srcToken=a),i.items.push(e)}}return i.range=[r.offset,o,o],i}(e,t,n,s);break;case"block-seq":i=function({composeNode:e,composeEmptyNode:t},n,r,s){const i=new be(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset;for(const{start:a,value:c}of r.items){const l=kt(a,{indicator:"seq-item-ind",next:c,offset:o,onError:s,startOnNewline:!0});if(o=l.end,!l.found){if(!(l.anchor||l.tag||c)){l.comment&&(i.comment=l.comment);continue}c&&"block-seq"===c.type?s(o,"BAD_INDENT","All sequence items must start at the same column"):s(o,"MISSING_CHAR","Sequence item without - indicator")}const u=c?e(n,c,l,s):t(n,o,a,null,l,s);n.schema.compat&&At(r.indent,c,s),o=u.range[2],i.items.push(u)}return i.range=[r.offset,o,o],i}(e,t,n,s);break;case"flow-collection":i=function({composeNode:e,composeEmptyNode:t},n,r,s){const i="{"===r.start.source,o=i?"flow map":"flow sequence",a=i?new ge(n.schema):new be(n.schema);a.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let l=r.offset+r.start.source.length;for(let c=0;c<r.items.length;++c){const u=r.items[c],{start:f,key:h,sep:d,value:y}=u,m=kt(f,{flow:o,indicator:"explicit-key-ind",next:h??d?.[0],offset:l,onError:s,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||d||y)){0===c&&m.comma?s(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):c<r.items.length-1&&s(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),m.comment&&(a.comment?a.comment+="\n"+m.comment:a.comment=m.comment),l=m.end;continue}!i&&n.options.strict&&Nt(h)&&s(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)m.comma&&s(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(m.comma||s(m.start,"MISSING_CHAR",`Missing , between ${o} items`),m.comment){let e="";e:for(const t of f)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=a.items[a.items.length-1];p(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||d||m.found){const r=m.end,c=h?e(n,h,m,s):t(n,r,f,null,m,s);Lt(h)&&s(c.range,"BLOCK_IN_FLOW",xt);const p=kt(d??[],{flow:o,indicator:"map-value-ind",next:y,offset:c.range[2],onError:s,startOnNewline:!1});if(p.found){if(!i&&!m.found&&n.options.strict){if(d)for(const e of d){if(e===p.found)break;if("newline"===e.type){s(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<p.found.offset-1024&&s(p.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else y&&("source"in y&&y.source&&":"===y.source[0]?s(y,"MISSING_CHAR",`Missing space after : in ${o}`):s(p.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const g=y?e(n,y,p,s):p.found?t(n,p.end,d,null,p,s):null;g?Lt(y)&&s(g.range,"BLOCK_IN_FLOW",xt):p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment);const v=new fe(c,g);if(n.options.keepSourceTokens&&(v.srcToken=u),i){const e=a;Tt(n,e.items,c)&&s(r,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(v)}else{const e=new ge(n.schema);e.flow=!0,e.items.push(v),a.items.push(e)}l=g?g.range[2]:p.end}else{const r=y?e(n,y,m,s):t(n,m.end,d,null,m,s);a.items.push(r),l=r.range[2],Lt(y)&&s(r.range,"BLOCK_IN_FLOW",xt)}}const u=i?"}":"]",[f,...h]=r.end;let d=l;if(f&&f.source===u)d=f.offset+f.source.length;else{const e=o[0].toUpperCase()+o.substring(1);s(l,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),f&&1!==f.source.length&&h.unshift(f)}if(h.length>0){const e=Pt(h,d,n.options.strict,s);e.comment&&(a.comment?a.comment+="\n"+e.comment:a.comment=e.comment),a.range=[r.offset,d,e.offset]}else a.range=[r.offset,d,d];return a}(e,t,n,s)}if(!r)return i;const o=t.directives.tagName(r.source,(e=>s(r,"TAG_RESOLVE_FAILED",e)));if(!o)return i;const a=i.constructor;if("!"===o||o===a.tagName)return i.tag=a.tagName,i;const c=h(i)?"map":"seq";let l=t.schema.tags.find((e=>e.collection===c&&e.tag===o));if(!l){const e=t.schema.knownTags[o];if(!e||e.collection!==c)return s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),i.tag=o,i;t.schema.tags.push(Object.assign({},e,{default:!1})),l=e}const u=l.resolve(i,(e=>s(r,"TAG_RESOLVE_FAILED",e)),t.options),f=g(u)?u:new D(u);return f.range=i.range,f.tag=o,l?.format&&(f.format=l.format),f}function jt(e,t,n){const r=e.offset,s=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,a="",c=-1;for(let t=1;t<s.length;++t){const n=s[t];if(a||"-"!==n&&"+"!==n){const r=Number(n);!o&&r?o=r:-1===c&&(c=e+t)}else a=n}-1!==c&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let l=!1,u="",f=s.length;for(let e=1;e<t.length;++e){const s=t[e];switch(s.type){case"space":l=!0;case"newline":f+=s.source.length;break;case"comment":n&&!l&&r(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=s.source.length,u=s.source.substring(1);break;case"error":r(s,"UNEXPECTED_TOKEN",s.message),f+=s.source.length;break;default:{r(s,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${s.type}`);const e=s.source;e&&"string"==typeof e&&(f+=e.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}(e,t,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=">"===s.mode?D.BLOCK_FOLDED:D.BLOCK_LITERAL,o=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)s.push([t[e],t[e+1]]);return s}(e.source):[];let a=o.length;for(let e=o.length-1;e>=0;--e){const t=o[e][1];if(""!==t&&"\r"!==t)break;a=e}if(0===a){const t="+"===s.chomp&&o.length>0?"\n".repeat(Math.max(1,o.length-1)):"";let n=r+s.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:s.comment,range:[r,n,n]}}let c=e.indent+s.indent,l=e.offset+s.length,u=0;for(let e=0;e<a;++e){const[t,r]=o[e];if(""!==r&&"\r"!==r){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}0===s.indent&&(c=t.length),u=e;break}0===s.indent&&t.length>c&&(c=t.length),l+=t.length+r.length+1}for(let e=o.length-1;e>=a;--e)o[e][0].length>c&&(a=e+1);let f="",h="",p=!1;for(let e=0;e<u;++e)f+=o[e][0].slice(c)+"\n";for(let e=u;e<a;++e){let[t,r]=o[e];l+=t.length+r.length+1;const a="\r"===r[r.length-1];if(a&&(r=r.slice(0,-1)),r&&t.length<c){const e="Block scalar lines must not be less indented than their "+(s.indent?"explicit indentation indicator":"first line");n(l-r.length-(a?2:1),"BAD_INDENT",e),t=""}i===D.BLOCK_LITERAL?(f+=h+t.slice(c)+r,h="\n"):t.length>c||"\t"===r[0]?(" "===h?h="\n":p||"\n"!==h||(h="\n\n"),f+=h+t.slice(c)+r,h="\n",p=!0):""===r?"\n"===h?f+="\n":h="\n":(f+=h+r,h=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let e=a;e<o.length;++e)f+="\n"+o[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const d=r+s.length+e.source.length;return{value:f,type:i,comment:s.comment,range:[r,d,d]}}function $t(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let a,c;const l=(e,t,s)=>n(r+e,t,s);switch(s){case"scalar":a=D.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Mt(e)}(i,l);break;case"single-quoted-scalar":a=D.QUOTE_SINGLE,c=function(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),Mt(e.slice(1,-1)).replace(/''/g,"'")}(i,l);break;case"double-quoted-scalar":a=D.QUOTE_DOUBLE,c=function(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if("\r"!==s||"\n"!==e[r+1])if("\n"===s){const{fold:t,offset:s}=Rt(e,r);n+=t,r=s}else if("\\"===s){let s=e[++r];const i=Dt[s];if(i)n+=i;else if("\n"===s)for(s=e[r+1];" "===s||"\t"===s;)s=e[1+ ++r];else if("\r"===s&&"\n"===e[r+1])for(s=e[1+ ++r];" "===s||"\t"===s;)s=e[1+ ++r];else if("x"===s||"u"===s||"U"===s){const i={x:2,u:4,U:8}[s];n+=Ut(e,r+1,i,t),r+=i}else{const s=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),n+=s}}else if(" "===s||"\t"===s){const t=r;let i=e[r+1];for(;" "===i||"\t"===i;)i=e[1+ ++r];"\n"===i||"\r"===i&&"\n"===e[r+2]||(n+=r>t?e.slice(t,r+1):s)}else n+=s}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(i,l);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const u=r+i.length,f=Pt(o,u,t,n);return{value:c,type:a,comment:f.comment,range:[r,u,f.offset]}}function Mt(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)""===r[1]?"\n"===i?s+=i:i="\n":(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),s+i+(r?.[1]??"")}function Rt(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Dt={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Ut(e,t,n,r){const s=e.substr(t,n),i=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(i)){const s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(i)}function Bt(e,t,n,r){const{value:s,type:i,comment:o,range:c}="block-scalar"===t.type?jt(t,e.options.strict,r):$t(t,e.options.strict,r),l=n?e.directives.tagName(n.source,(e=>r(n,"TAG_RESOLVE_FAILED",e))):null,u=n&&l?function(e,t,n,r,s){if("!"===n)return e[a];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[a])}(e.schema,s,l,n,r):"scalar"===t.type?function({directives:e,schema:t},n,r,s){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[a];if(t.compat){const o=t.compat.find((e=>e.default&&e.test?.test(n)))??t[a];i.tag!==o.tag&&s(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(o.tag)}`,!0)}return i}(e,s,t,r):e.schema[a];let f;try{const i=u.resolve(s,(e=>r(n??t,"TAG_RESOLVE_FAILED",e)),e.options);f=d(i)?i:new D(i)}catch(e){const i=e instanceof Error?e.message:String(e);r(n??t,"TAG_RESOLVE_FAILED",i),f=new D(s)}return f.range=c,f.source=s,i&&(f.type=i),l&&(f.tag=l),u.format&&(f.format=u.format),o&&(f.comment=o),f}function Vt(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===n?.type;)e+=n.source.length,n=t[++r];break}}return e}const Ft={composeNode:Kt,composeEmptyNode:Gt};function Kt(e,t,n,r){const{spaceBefore:s,comment:i,anchor:o,tag:a}=n;let c,l=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:r},s){const i=new j(n.substring(1));""===i.source&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=Pt(r,o,e.strict,s);return i.range=[t,o,a.offset],a.comment&&(i.comment=a.comment),i}(e,t,r),(o||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Bt(e,t,a,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Ct(Ft,e,t,a,r),o&&(c.anchor=o.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=Gt(e,t.offset,void 0,null,n,r),l=!1}return o&&""===c.anchor&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&l&&(c.srcToken=t),c}function Gt(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a},c){const l=Bt(e,{type:"scalar",offset:Vt(t,n,r),indent:-1,source:""},a,c);return o&&(l.anchor=o.source.substring(1),""===l.anchor&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(l.spaceBefore=!0),i&&(l.comment=i),l}function qt(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function Wt(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const i=e[s];switch(i[0]){case"#":t+=(""===t?"":r?"\n\n":"\n")+(i.substring(1)||" "),n=!0,r=!1;break;case"%":"#"!==e[s+1]?.[0]&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Yt{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{const s=qt(e);r?this.warnings.push(new Et(s,t,n)):this.errors.push(new Ot(s,t,n))},this.directives=new P({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=Wt(this.prelude);if(n){const s=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!s)e.commentBefore=n;else if(m(s)&&!s.flow&&s.items.length>0){let e=s.items[0];p(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=s.commentBefore;s.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Wt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,r)=>{const s=qt(e);s[0]+=t,this.onError(s,"BAD_DIRECTIVE",n,r)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:t},e),c=new bt(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=kt(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!s||"block-map"!==s.type&&"block-seq"!==s.type||u.hasNewline||o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=s?Kt(l,s,u,o):Gt(l,u.end,r,null,u,o);const f=c.contents.range[2],h=Pt(i,f,!1,o);return h.comment&&(c.comment=h.comment),c.range=[n,f,h.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Ot(qt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Ot(qt(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Pt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Ot(qt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new bt(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function Jt(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function zt(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;"block-scalar-header"===e.props[0].type&&(s-=e.props[0].source.length);for(const e of r)e.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}function Ht(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Ht(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Qt(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Qt(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Qt(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Qt({start:e,key:t,sep:n,value:r}){let s="";for(const t of e)s+=t.source;if(t&&(s+=Ht(t)),n)for(const e of n)s+=e.source;return r&&(s+=Ht(r)),s}const Xt=Symbol("break visit"),Zt=Symbol("skip children"),en=Symbol("remove item");function tn(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),nn(Object.freeze([]),e,t)}function nn(e,t,n){let r=n(t,e);if("symbol"==typeof r)return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const r=nn(Object.freeze(e.concat([[s,t]])),i.items[t],n);if("number"==typeof r)t=r-1;else{if(r===Xt)return Xt;r===en&&(i.items.splice(t,1),t-=1)}}"function"==typeof r&&"key"===s&&(r=r(t,e))}}return"function"==typeof r?r(t,e):r}tn.BREAK=Xt,tn.SKIP=Zt,tn.REMOVE=en,tn.itemAtPath=(e,t)=>{let n=e;for(const[e,r]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[r]}return n},tn.parentCollection=(e,t)=>{const n=tn.itemAtPath(e,t.slice(0,-1))?.[t[t.length-1][0]];if(n&&"items"in n)return n;throw new Error("Parent collection not found")};const rn="\ufeff",sn="",on="",an="";function cn(e){switch(e){case rn:return"byte-order-mark";case sn:return"doc-mode";case on:return"flow-error-end";case an:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var ln=Object.freeze({__proto__:null,BOM:rn,DOCUMENT:sn,FLOW_END:on,SCALAR:an,isCollection:e=>!!e&&"items"in e,isScalar:e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),prettyToken:function(e){switch(e){case rn:return"<BOM>";case sn:return"<DOC>";case on:return"<FLOW_END>";case an:return"<SCALAR>";default:return JSON.stringify(e)}},tokenType:cn,createScalarToken:function(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,a=re({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),c=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",s=[{type:"block-scalar-header",offset:i,indent:r,source:t}];return Jt(s,c)||s.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:i,indent:r,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:a,end:c};default:return{type:"scalar",offset:i,indent:r,source:a,end:c}}},resolveAsScalar:function(e,t=!0,n){if(e){const r=(e,t,r)=>{const s="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new Ot([s,s+1],t,r);n(s,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return $t(e,t,r);case"block-scalar":return jt(e,t,r)}}return null},setScalarValue:function(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,a="indent"in e?e.indent:null;if(r&&"number"==typeof a&&(a+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");o=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const c=re({type:o,value:t},{implicitKey:s||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),r=t.substring(0,n),s=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=s}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:r}];Jt(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:s})}}(e,c);break;case'"':zt(e,c,"double-quoted-scalar");break;case"'":zt(e,c,"single-quoted-scalar");break;default:zt(e,c,"scalar")}},stringify:e=>"type"in e?Ht(e):Qt(e),visit:tn});function un(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const fn="0123456789ABCDEFabcdef".split(""),hn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),pn=",[]{}".split(""),dn=" ,[]{}\n\r\t".split(""),yn=e=>!e||dn.includes(e);class mn{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&un(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===rn&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const r=e[n-1];" "!==r&&"\t"!==r||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield sn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&un(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&un(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!un(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&un(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(yn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&un(r[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield on,yield*this.parseLineStart();let s=0;for(;","===r[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(yn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||un(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>un(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let r=this.pos;e=this.buffer[r];++r)switch(e){case" ":n+=1;break;case"\n":t=r,n=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,r=this.buffer[e];"\r"===r&&(r=this.buffer[--e]);const s=e;for(;" "===r||"\t"===r;)r=this.buffer[--e];if(!("\n"===r&&e>=this.pos&&e+1+n>s))break;t=e}return yield an,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,r=this.pos-1;for(;t=this.buffer[++r];)if(":"===t){const t=this.buffer[r+1];if(un(t)||e&&","===t)break;n=r}else if(un(t)){let s=this.buffer[r+1];if("\r"===t&&("\n"===s?(r+=1,t="\n",s=this.buffer[r+1]):n=r),"#"===s||e&&pn.includes(s))break;if("\n"===t){const e=this.continueScalar(r+1);if(-1===e)break;r=Math.max(r,e-2)}}else{if(e&&pn.includes(t))break;n=r}return t||this.atEnd?(yield an,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(yn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(un(t)||e&&pn.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!un(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(hn.includes(t))t=this.buffer[++e];else{if("%"!==t||!fn.includes(this.buffer[e+1])||!fn.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class gn{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}function vn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function bn(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function wn(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _n(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function On(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function En(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||vn(t.start,"explicit-key-ind")||vn(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,wn(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Sn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new mn,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=cn(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&En(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!vn(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===bn(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==bn(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=On(_n(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(n&&t.sep&&!t.value){const n=[];for(let r=0;r<t.sep.length;++r){const s=t.sep[r];switch(s.type){case"newline":n.push(r);break;case"space":break;case"comment":s.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(r=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||vn(t.start,"explicit-key-ind")?n||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(vn(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(vn(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(wn(t.key)&&!vn(t.sep,"newline")){const e=On(t.start),n=t.key,r=t.sep;r.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:r}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(vn(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=On(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:r,key:null,sep:[this.sourceToken]}):vn(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:r,key:s,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(s):(Object.assign(t,{key:s,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s)return n&&"block-seq"!==s.type&&vn(t.start,"explicit-key-ind")&&e.items.push({start:r}),void this.stack.push(s)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||vn(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=On(_n(t));En(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=On(_n(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=On(_n(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function kn(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new gn||null,prettyErrors:t}}function Nn(e,t={}){const{lineCounter:n,prettyErrors:r}=kn(t),s=new Sn(n?.addNewLine),i=new Yt(t);let o=null;for(const t of i.compose(s.parse(e),!0,e.length))if(o){if("silent"!==o.options.logLevel){o.errors.push(new Ot(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else o=t;return r&&n&&(o.errors.forEach(St(e,n)),o.warnings.forEach(St(e,n))),o}var An=Object.freeze({__proto__:null,CST:ln,Composer:Yt,Document:bt,Schema:gt,YAMLError:_t,YAMLParseError:Ot,YAMLWarning:Et,Alias:j,isAlias:u,isCollection:m,isDocument:f,isMap:h,isNode:g,isPair:p,isScalar:d,isSeq:y,Pair:fe,Scalar:D,YAMLMap:ge,YAMLSeq:be,Lexer:mn,LineCounter:gn,Parser:Sn,parse:function(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const s=Nn(e,n);if(!s)return null;if(s.warnings.forEach((e=>oe(s.options.logLevel,e))),s.errors.length>0){if("silent"!==s.options.logLevel)throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))},parseAllDocuments:function(e,t={}){const{lineCounter:n,prettyErrors:r}=kn(t),s=new Sn(n?.addNewLine),i=new Yt(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const t of o)t.errors.forEach(St(e,n)),t.warnings.forEach(St(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())},parseDocument:Nn,stringify:function(e,t,n){let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new bt(e,r,n).toString(n)},visit:O,visitAsync:S});const Tn={fs:Symbol("fileSystem"),root:Symbol("DocRoot")};var In=(e=>(e[e.Unknown=0]="Unknown",e[e.Scalar=1]="Scalar",e[e.Pair=2]="Pair",e[e.Map=3]="Map",e[e.Seq=4]="Seq",e[e.Document=5]="Document",e))(In||{}),Pn=(e=>(e[e.Unknown=100]="Unknown",e[e.Action=101]="Action",e[e.Component=102]="Component",e[e.Emit=103]="Emit",e[e.Goto=104]="Goto",e[e.If=105]="If",e[e.Style=106]="Style",e[e.BuiltInFn=107]="BuiltInFn",e))(Pn||{}),xn=(e=>(e[e.Visited=0]="Visited",e[e.Pending=1]="Pending",e[e.Error=2]="Error",e))(xn||{}),Ln=Object.defineProperty,Cn=Object.defineProperties,jn=Object.getOwnPropertyDescriptors,$n=Object.getOwnPropertySymbols,Mn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Dn=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Un="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const Vn={diagnostic:Symbol("DIAGNOSTIC"),root:Symbol("ROOT")},Fn=["width","left"],Kn=["height","top","marginTop"],Gn=[...Fn,...Kn],qn=[...Kn,"borderRadius","fontSize","paddingTop","paddingBottom","marginBottom"],Wn=[...Fn,"marginLeft","marginRight","paddingLeft","paddingRight"];var Yn=(e=>(e[e.AWAIT=0]="AWAIT",e[e.ROOT_MERGE=1]="ROOT_MERGE",e[e.LOCAL_MERGE=2]="LOCAL_MERGE",e[e.EVAL_ROOT_MERGE=3]="EVAL_ROOT_MERGE",e[e.EVAL_LOCAL_MERGE=4]="EVAL_LOCAL_MERGE",e[e.EVAL_BUILT_IN=5]="EVAL_BUILT_IN",e[e.TILDE=6]="TILDE",e[e.TRAVERSE=7]="TRAVERSE",e))(Yn||{}),Jn=(e=>(e[e.ERROR=9e3]="ERROR",e[e.WARN=9001]="WARN",e[e.INFO=9002]="INFO",e))(Jn||{}),zn=(e=>(e[e.Ampersand=38]="Ampersand",e[e.Asterisk=42]="Asterisk",e[e.At=64]="At",e[e.Backspace=8]="Backspace",e[e.Backtick=96]="Backtick",e[e.Backslash=92]="Backslash",e[e.Bar=124]="Bar",e[e.Caret=94]="Caret",e[e.CloseBrace=125]="CloseBrace",e[e.CloseBracket=93]="CloseBracket",e[e.CloseParen=41]="CloseParen",e[e.Colon=58]="Colon",e[e.Comma=44]="Comma",e[e.Dot=46]="Dot",e[e.Dollar=36]="Dollar",e[e.DoubleQuote=34]="DoubleQuote",e[e.Equals=61]="Equals",e[e.Exclamation=33]="Exclamation",e[e.GreaterThan=62]="GreaterThan",e[e.Hash=35]="Hash",e[e.LessThan=60]="LessThan",e[e.Minus=45]="Minus",e[e.Null=0]="Null",e[e.OpenBrace=123]="OpenBrace",e[e.OpenBracket=91]="OpenBracket",e[e.OpenParen=40]="OpenParen",e[e.Percent=37]="Percent",e[e.Plus=43]="Plus",e[e.Question=63]="Question",e[e.Semicolon=59]="Semicolon",e[e.SingleQuote=39]="SingleQuote",e[e.Slash=47]="Slash",e[e.Tilde=126]="Tilde",e[e.FormFeed=12]="FormFeed",e[e.ByteOrderMark=65279]="ByteOrderMark",e[e.Tab=9]="Tab",e[e.VerticalTab=11]="VerticalTab",e[e.Underline=95]="Underline",e[e.CarriageReturn=13]="CarriageReturn",e[e.LineFeed=10]="LineFeed",e[e.LineSeparator=8232]="LineSeparator",e[e.NextLine=133]="NextLine",e[e.ParagraphSeparator=8233]="ParagraphSeparator",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e))(zn||{}),Hn=(e=>(e[e.LessThan=-1]="LessThan",e[e.EqualTo=0]="EqualTo",e[e.GreaterThan=1]="GreaterThan",e))(Hn||{}),Qn=(e=>(e[e.LOCAL_REF_MISSING_ROOT_KEY=2e4]="LOCAL_REF_MISSING_ROOT_KEY",e[e.ROOT_REF_MISSING_ROOT_KEY=20001]="ROOT_REF_MISSING_ROOT_KEY",e[e.ROOT_MISSING_ROOT_KEY=20002]="ROOT_MISSING_ROOT_KEY",e[e.ROOT_VALUE_EMPTY=20003]="ROOT_VALUE_EMPTY",e[e.REFERENCE_UNRESOLVABLE=20004]="REFERENCE_UNRESOLVABLE",e[e.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE=20100]="ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE",e[e.TRAVERSAL_REF_INCOMPLETE_MISSING_KEY=20199]="TRAVERSAL_REF_INCOMPLETE_MISSING_KEY",e[e.GOTO_PAGE_MISSING_FROM_APP_CONFIG=3e4]="GOTO_PAGE_MISSING_FROM_APP_CONFIG",e[e.GOTO_PAGE_INVALID=30001]="GOTO_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID=30002]="GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID=30003]="GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID=30004]="GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID",e[e.GOTO_PAGE_EMPTY=30005]="GOTO_PAGE_EMPTY",e[e.GOTO_PAGE_MISSING_FROM_ROOT=30006]="GOTO_PAGE_MISSING_FROM_ROOT",e[e.VIEW_TAG_INVALID=30500]="VIEW_TAG_INVALID",e[e.VIEW_TAG_MISSING_COMPONENT_POINTER=30501]="VIEW_TAG_MISSING_COMPONENT_POINTER",e[e.POPUP_VIEW_INVALID=30600]="POPUP_VIEW_INVALID",e[e.POPUP_VIEW_MISSING_COMPONENT_POINTER=30601]="POPUP_VIEW_MISSING_COMPONENT_POINTER",e[e.BUILTIN_FUNCTION_MISSING=4e4]="BUILTIN_FUNCTION_MISSING",e[e.BUILTIN_FUNCTION_NOT_A_FUNCTION=40001]="BUILTIN_FUNCTION_NOT_A_FUNCTION",e))(Qn||{}),Xn=Object.freeze({__proto__:null,_symbol:Vn,xKeys:Fn,yKeys:Kn,posKeys:Gn,vpHeightKeys:qn,vpWidthKeys:Wn,textAlignStrings:["left","center","right","centerX","centerY"],ReferenceType:Yn,ValidatorType:Jn,CharCode:zn,Comparison:Hn,DiagnosticCode:Qn});class Zn{constructor(){this.assetsUrl="",this.baseUrl="",this.fileSuffix=".yml",this.languageSuffix={unknown:"_en"},this.page=[],this.preload=[],this.startPage=""}}const er=/[a-zA-Z]/i,tr=/^[+-]?\d*\.?\d+(?:[Ee][+-]?\d+)?$/;var nr=Object.freeze({__proto__:null,letters:er,numbers:tr,backslash:/\\/g,relativePathSegment:/(^|\/)\.{0,2}($|\/)/,filenameLowerCase:/[^\u0130\u0131\u00DFa-z0-9\\/:\-_. ]+/g});class rr{}class sr{}class ir{constructor(){Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:Vn.root})}}class or{}var ar,cr,lr,ur,fr=Object.defineProperty,hr=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,yr=(e,t,n)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mr=(e,t)=>{for(var n in t||(t={}))pr.call(t,n)&&yr(e,n,t[n]);if(hr)for(var n of hr(t))dr.call(t,n)&&yr(e,n,t[n]);return e},gr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},vr=(e,t,n)=>(gr(e,t,"read from private field"),n?n.call(e):t.get(e)),br=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},wr=(e,t,n,r)=>(gr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class _r{constructor(){br(this,ar,void 0),br(this,cr,null),br(this,lr,null),br(this,ur,null)}set data(e){var t;wr(this,ar,e||(null==(t=vr(this,lr))?void 0:t.value))}get data(){return vr(this,ar)}get iterator(){return vr(this,cr)}get visitor(){return vr(this,ur)}get root(){return vr(this,lr)}createHelpers(e){return mr({isValidPageValue:e=>!(!e||!er.test(e)||/null|undefined/i.test(e)||[".","_","-"].some((t=>t===e))),isValidViewTag:e=>"string"==typeof e&&!(!e||!er.test(e))},e)}createData(e){return e}createProps(e){return mr({},e)}use(e){return e instanceof rr?wr(this,cr,e):e instanceof ir?wr(this,lr,e):e instanceof or&&wr(this,ur,e),this}}function Or(e){return Array.isArray(e)}function Er(e){return!0===e||"true"===e}function Sr(e){return!1===e||"false"===e}ar=new WeakMap,cr=new WeakMap,lr=new WeakMap,ur=new WeakMap;const kr={any:e=>Mr(e)&&("type"in e||"children"in e),header:e=>Mr(e)&&"header"===e.type,image:e=>Mr(e)&&"image"===e.type,list:e=>Mr(e)&&"list"===e.type,listItem:e=>Mr(e)&&"listItem"===e.type,listLike:e=>Mr(e)&&("list"===e.type||"chatList"===e.type),popUp:e=>Mr(e)&&"popUp"===e.type,scrollView:e=>Mr(e)&&"scrollView"===e.type,select:e=>Mr(e)&&"select"===e.type,textView:e=>Mr(e)&&"textView"===e.type,video:e=>Mr(e)&&"video"===e.type},Nr=kr.header,Ar=kr.image,Tr=kr.list,Ir=kr.listItem,Pr=kr.listLike,xr=kr.popUp,Lr=kr.scrollView,Cr=kr.select,jr=kr.textView,$r=kr.video;function Mr(e){return null!==e&&!Or(e)&&"object"==typeof e}function Rr(e){return"string"==typeof e}function Dr(e){var t;return!(!e||(null==(t=e[0])?void 0:t.toLowerCase())!==e[0]||tr.test(e))}function Ur(e){return!!e.startsWith("..")||!!e.startsWith("=..")}function Br(e){return!(!Rr(e)||".yml"===e||!(e.startsWith(".")||e.startsWith("=")||e.startsWith("@")||e.startsWith("~/")||/^[_]+\./.test(e)))}function Vr(e){var t,n;return!(e.startsWith("..")||e.startsWith("=..")||(!e.startsWith(".")||(null==(t=e[1])?void 0:t.toUpperCase())!==e[1])&&(!e.startsWith("=.")||(null==(n=e[2])?void 0:n.toUpperCase())!==e[2]))}function Fr(e){return/^[_]+\./.test(e)}function Kr(e){return"function"==typeof e}function Gr(e){return null===e||Wr(e)}function qr(e){return"number"==typeof e}function Wr(e){return void 0===e}function Yr(e){return Rr(e)&&e.endsWith("vw")}function Jr(e){return Rr(e)&&e.endsWith("vh")}function zr(e){return[...qn,"center","centerY"].includes(e)}function Hr(e){return[...Wn,"centerX","right"].includes(e)}function Qr(e){return Mr(e)&&("width"in e||"height"in e)&&qr(e.width||qr(e.height))}var Xr=Object.freeze({__proto__:null,arr:Or,bool:function(e){return Er(e)||Sr(e)},boolTrue:Er,boolFalse:Sr,component:kr,header:Nr,image:Ar,list:Tr,listItem:Ir,listLike:Pr,popUp:xr,scrollView:Lr,select:Cr,textView:jr,video:$r,diagnostic:function(e){return Mr(e)&&e._id_===Vn.diagnostic},iteratorVarKey:function(e,t){return""!==e&&t.startsWith(e)},obj:Mr,str:Rr,awaitReference:function(e){return!!e.endsWith("@")},evalReference:function(e){return!!e.startsWith("=")},evalLocalReference:function(e){return!!e.startsWith("=..")},localKey:Dr,evalRootReference:function(e){return!!e.startsWith("=.")},localReference:Ur,reference:Br,rootReference:Vr,tildeReference:function(e){return e.startsWith("~/")},traverseReference:Fr,rootKey:function(e){var t;return!(!e||(null==(t=e[0])?void 0:t.toUpperCase())!==e[0]||tr.test(e))},fnc:Kr,nil:Gr,nullishStyleValue:function(e){return Gr(e)||"0px"===e||"0"==e||"auto"==e||"none"==e},num:qr,noodlUnit:function(e){return Rr(e)&&!/[a-zA-Z]/i.test(e)&&e%1!=0},pageComponentUrl:function(e){if(!Rr(e))return!1;const t=e.match(/@|#/g);return!!t&&["@","#"].every((e=>t.includes(e)))},promise:function(e){return Mr(e)&&"then"in e},root:function(e){return null!==e&&"object"==typeof e&&e._id_===Vn.root},und:Wr,vwVh:function(e){return Rr(e)&&(e.endsWith("vw")||e.endsWith("vh"))},vw:Yr,vh:Jr,keyRelatedToWidthOrHeight:function(e){return!!Rr(e)&&[zr,Hr].some((t=>t(e)))},keyRelatedToHeight:zr,keyRelatedToWidth:Hr,validViewport:Qr}),Zr=Object.defineProperty,es=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,rs=(e,t,n)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ss(e){return Object.entries(null!==e&&"object"==typeof e?e:{})}function is(e,t){return e===t}function os(e,t){if(!Rr(e))return e;if(e===t)return"";if(t&&Rr(t)&&e.includes(t)){const n=`${t}.`;return e.split(n).join("").replace(t,"")}return e}function as(e,t){var n;let r=0,s=fs(t),i=s.length;for(;null!=e&&r<i;){let t=fs(s[r++])||[];e=e[(null==(n=null==t?void 0:t.join)?void 0:n.call(t,"."))||""]}return r&&r==i?e:void 0}function cs(e){return Number(e)%1!=0}function ls(e){return Array.isArray(e)?e:[e]}function us(e,t){return qr(t)?e.toFixed(t):e}function fs(e=""){return Or(e)?e:Rr(e)?e.split("."):ls(e).filter((e=>!Wr(e)))}var hs=Object.freeze({__proto__:null,assign:function(e,...t){return Object.assign(e,...t)},binary:function(e){return(...t)=>e(t[0],t[1])},entries:ss,eq:is,equateStringsCaseSensitive:function(e,t){return is(e,t)},equateStringsCaseInsensitive:function(e,t){return e===t||!Wr(e)&&!Wr(t)&&e.toUpperCase()===t.toUpperCase()},excludeStr:os,each:function(e,t){Or(e)&&e.forEach(((e,n,r)=>t(e,n,r)))},get:as,has:function e(t,n){if(Mr(t)&&n){const r=Or(n)?n:String(n).split(".");if(1===r.length)return!!r[0]&&r[0]in t;const s=r.shift();if(s)return e(t[s],r)}return!1},hasDecimal:cs,identity:function(e){return e},merge:function e(t,...n){return Mr(t)&&n.forEach((t=>{Mr(t)&&Object.entries(t).forEach((([n,r])=>{t[n]=Mr(r)?e(t[n],r):r}))})),t},omit:function(e,t){if(Gr(e))return e;if(e=((e,t)=>{for(var n in t||(t={}))ts.call(t,n)&&rs(e,n,t[n]);if(es)for(var n of es(t))ns.call(t,n)&&rs(e,n,t[n]);return e})({},e),t=ls(t),Mr(e))for(const n of t)delete e[n];return e},or:function(e,t,n){return(Kr(e)?e():e)?t:n},partial:function(e,...t){return(...n)=>e(...t,...n)},partialR:function(e,...t){return(...n)=>e(...n,...t)},path:function(...e){return fs(...e)},pick:function(e,t){const n={};if(null!==e&&"object"==typeof e){t=ls(t);for(const[r,s]of ss(e))t.includes(r)&&(n[r]=s)}return n},set:function e(t,n,r){if(Or(t)||Mr(t)){const s=fs(n);if(1===s.length)t[s[0]]=r;else{const n=s.shift();n&&e(t[n],s,r)}}},some:function(e,t){if(e){if(!t)return e.length>0;for(const n of e)if(t(n))return!0}return!1},spread:function(e){return function([t,n]){return e(t,n)}},toArr:ls,toPath:fs,toNum:function(e,t){return qr(e)?Number(us(Number(e),t)):Rr(e)?Number(us(Number(e.replace(/[a-zA-Z]/gi,"")),t)):Number(e)},toStr:function(e){return Rr(e)?e:String(e)},toPx:function(e){return Rr(e)&&gs(e)?e:`${e}px`},startsWith:function(e,t){return e.startsWith(t)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()}});function ps(e){return Rr(e)?ws(e).split(".").length:0}function ds(e){const t=ws(e),n=t.split(".");return{isLocalRef:Ur(e),isLocalKey:Dr(t),paths:n,path:t,ref:e}}function ys(e,t){return Rr(t)||qr(t)?e*Number(t):e}function ms(e){return Yr(e)||Hr(e)?"width":(Jr(e)||zr(e),"height")}function gs(e){return/[a-zA-Z]/i.test(String(e))}function vs(e){const[t="",n,r="",s,i=""]=e.split(/(@|#)/);return{targetPage:t,currentPage:r,viewTag:i}}function bs(e,t,n){return`${e}@${t}#${n}`}function ws(e,t){return"prefix"===t?ws.regex.prefix.test(e)?e.replace(ws.regex.prefix,""):e:"suffix"===t?(ws.regex.suffix.test(e),e):e.replace(ws.regex.prefix,"").replace(ws.regex.suffix,"")||""}function _s(e,t){Mr(t)||(t={});const n=function(e,t){switch(e){case Qn.LOCAL_REF_MISSING_ROOT_KEY:return`Encountered a local reference "${t.ref}" but a page name (rootKey) was not found`;case Qn.ROOT_REF_MISSING_ROOT_KEY:return`Attemped to resolved a reference "${t.ref}" but both rootKey and pageName was empty. No root level object could be retrieved`;case Qn.ROOT_MISSING_ROOT_KEY:return`Attemped to resolved a reference "${t.ref}" but the root object did not have "${t.rootKey}" as a key`;case Qn.ROOT_VALUE_EMPTY:return`The value retrieved using the root key "${t.rootKey}" was empty`;case Qn.TRAVERSAL_REF_INCOMPLETE_MISSING_KEY:return`The reference "${t.ref}" couldn't be resolved fully. Traversal stopped at "${t.path.join(".")}" because the object at this iteration did not contain this key`;case Qn.REFERENCE_UNRESOLVABLE:return`The reference ${t.ref} is unresolvable`;case Qn.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE:return`Root reference ${t.ref} should not have its second level key "${t.key}" begin with an uppercase`;case Qn.GOTO_PAGE_MISSING_FROM_APP_CONFIG:return`The page/destination "${t.destination}" was not included in the app config (cadlEndpoint)`;case Qn.GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID:{const{targetPage:e,viewTag:n}=vs(t.destination);return`The page component url "${t.destination}" does not contain the current page "${t.page}". Expected "${bs(t.page,e,n)}"`}case Qn.GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID:{const{currentPage:e,viewTag:n}=vs(t.destination);return`The page component url "${t.destination}" does not correctly contain a target page. Expected "${bs(e,"TARGET_PAGE",n)}"`}case Qn.GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID:{const{currentPage:e,targetPage:n}=vs(t.destination);return`The page component url "${t.destination}" does not correctly contain a viewTag. Expected "${bs(e,n,"VIEW_TAG")}"`}case Qn.GOTO_PAGE_EMPTY:return"Goto destination is empty";case Qn.GOTO_PAGE_MISSING_FROM_ROOT:return`Page "${t.page}" is missing from root`;case Qn.VIEW_TAG_INVALID:return`Invalid viewTag "${t.viewTag}"`;case Qn.VIEW_TAG_MISSING_COMPONENT_POINTER:return`The viewTag "${t.viewTag}" does not have a pointer to any components`;case Qn.POPUP_VIEW_INVALID:return`Invalid popUpView "${t.popUpView}"`;case Qn.POPUP_VIEW_MISSING_COMPONENT_POINTER:return`The popUpView "${t.popUpView}" does not have a pointer to any components`;case Qn.BUILTIN_FUNCTION_MISSING:return`The builtIn ${t.key} was not found`;case Qn.BUILTIN_FUNCTION_NOT_A_FUNCTION:return`Expected builtIn ${t.key} to be a function but received "${t.type}"`;default:throw new Error(`Invalid diagnostic code "${e}"`)}}(e,t);return n?{code:e,message:n}:{code:e}}ws.regex={prefix:/^[.=@]+/i,suffix:/[.=@]+$/i};var Os,Es=Object.defineProperty,Ss=Object.getOwnPropertySymbols,ks=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable,As=(e,t,n)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ts=(e,t)=>{for(var n in t||(t={}))ks.call(t,n)&&As(e,n,t[n]);if(Ss)for(var n of Ss(t))Ns.call(t,n)&&As(e,n,t[n]);return e},Is=(e,t,n)=>(((e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e));const Ps=class{constructor(){((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,Os,{messages:[]}),Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:Vn.diagnostic})}static create(e,t,n){return"number"==typeof t&&"object"==typeof n?Ts({type:e},_s(t,n)):"string"==typeof t?{type:e,message:t}:Ts(Ts({type:e},"number"==typeof t?{code:t}:void 0),"string"==typeof n?{message:n}:void 0)}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}get(e){return Is(this,Os)[e]}set(e,t){return Is(this,Os)[e]=t,this}get messages(){return Is(this,Os).messages}set messages(e){Is(this,Os).messages=e}error(e,t){return this.messages.push(Ps.create("error",e,t)),this}info(e,t){return this.messages.push(Ps.create("info",e,t)),this}warn(e,t){return this.messages.push(Ps.create("warn",e,t)),this}toJSON(){return Is(this,Os)}toString(){return JSON.stringify(this.toJSON(),null,2)}};let xs=Ps;Os=new WeakMap;class Ls{constructor(){this.android={cadlVersion:{stable:0,test:0}},this.apiHost="apiHost",this.apiPort="",this.appApiHost="",this.cadlBaseUrl="",this.cadlMain="cadlEndpoint.yml",this.connectiontimeout="5",this.debug="",this.ios={cadlVersion:{stable:0,test:0}},this.keywords=[],this.loadingLevel=1,this.myBaseUrl="",this.timestamp="",this.web={cadlVersion:{stable:0,test:0}},this.webApiHost="apiHost"}}var Cs,js,$s,Ms,Rs,Ds,Us=Object.defineProperty,Bs=Object.defineProperties,Vs=Object.getOwnPropertyDescriptors,Fs=Object.getOwnPropertySymbols,Ks=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable,qs=(e,t,n)=>t in e?Us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ws=(e,t)=>{for(var n in t||(t={}))Ks.call(t,n)&&qs(e,n,t[n]);if(Fs)for(var n of Fs(t))Gs.call(t,n)&&qs(e,n,t[n]);return e},Ys=(e,t)=>Bs(e,Vs(t)),Js=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},zs=(e,t,n)=>(Js(e,t,"read from private field"),n?n.call(e):t.get(e)),Hs=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Qs=(e,t,n,r)=>(Js(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Xs extends _r{constructor(){super(),Hs(this,Cs,void 0),Hs(this,js,void 0),Hs(this,$s,{rootConfig:"",appConfig:""}),Hs(this,Ms,{addDiagnostic:[]}),Hs(this,Rs,(e=>{var t,n,r;const s=null==(t=this.visitor)?void 0:t.callback;e.enter?null==(n=this.visitor)||n.use(e.enter):null==(r=this.visitor)||r.use((e=>null==s?void 0:s(e)));const i=[];return{diagnostics:i,options:{init:e.init,data:this.createData({diagnostics:i}),root:this.root},originalVisitor:s}})),Hs(this,Ds,(({diagnostics:e,name:t,node:n})=>{const r={add:(r,s,i,o,a)=>{let c,l="";const u=new xs;if(Kr(r))Rr(s)&&(l=s),i&&(c=i),r(u,e);else if(!Rr(f=r)||"error"!==f&&"info"!==f&&"warn"!==f){if(qr(r))(Mr(s)||Rr(s))&&(u.info(r,s),Rr(i)&&(l=i,o&&(c=o)));else if(Mr(r)){for(const[e,t]of ss(r))u.set(e,t);Rr(s)&&(l=s,i&&(c=i))}}else if(qr(s)){Mr(i)&&Rr(o)&&(l=o,a&&(c=a));const e=_s(s,i);u[r](e.code,e.message)}else Rr(s)?u[r](s):u.set("type",r);var f;l||(l=t),c||(c=n),u.get("page")||u.set("page",l),this.hooks.addDiagnostic.forEach((e=>e(u,l,c))),e.push(u)},markers:zs(this,$s)};return this.createProps({helpers:this.createHelpers(r),name:t,node:n})})),Qs(this,js,new Ls),Qs(this,Cs,new Zn)}[Symbol.iterator](){return this.root[Symbol.iterator]()}get hooks(){return zs(this,Ms)}get rootConfig(){return zs(this,js)}get appConfig(){return zs(this,Cs)}get markers(){return zs(this,$s).assetsUrl=zs(this,Cs).assetsUrl,zs(this,$s).baseUrl=zs(this,js).cadlBaseUrl,zs(this,$s).preload=zs(this,Cs).preload,zs(this,$s).pages=zs(this,Cs).page,zs(this,$s)}mark(e,t){return/preload|page/.test(e)?zs(this,Cs)["pages"===e?"page":e].push(t):"baseUrl"===e?zs(this,js).cadlBaseUrl=t:"assetsUrl"===e?zs(this,Cs).assetsUrl=t:this.markers[e]=t,this}run(e={}){var t,n,r;const s=ls(null!=(t=null==e?void 0:e.asserters)?t:[]).filter(Boolean),i=null==e?void 0:e.builtIn,{diagnostics:o,options:a,originalVisitor:c}=zs(this,Rs).call(this,e);try{for(const[e,t]of this){const{helpers:r,node:c}=zs(this,Ds).call(this,{diagnostics:o,name:e,node:t});null==(n=this.visitor)||n.visit(c,Ys(Ws({},a),{asserters:s,builtIn:i,helpers:r,page:e}))}}catch(e){throw e instanceof Error?e:new Error(String(e))}finally{c&&(null==(r=this.visitor)||r.use(c))}return o}print(e){console.dir(e.map((e=>e.toJSON())),{depth:1/0})}runAsync(){return e=this,t=arguments,n=function*(e={}){var t,n;const r=ls(null!=(t=null==e?void 0:e.asserters)?t:[]).filter(Boolean),s=null==e?void 0:e.builtIn,{diagnostics:i,options:o,originalVisitor:a}=zs(this,Rs).call(this,e);try{return yield Promise.all([...this].map((([e,t])=>{var n;const{helpers:a,node:c}=zs(this,Ds).call(this,{diagnostics:i,name:e,node:t});return null==(n=this.visitor)?void 0:n.visitAsync(c,Ys(Ws({},o),{asserters:r,builtIn:s,page:e,helpers:a}))}))),i}catch(e){throw e instanceof Error?e:new Error(String(e))}finally{a&&(null==(n=this.visitor)||n.use(a))}},new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));var e,t,n}on(e,t){return"addDiagnostic"===e&&this.hooks.addDiagnostic.push(t),this}}Cs=new WeakMap,js=new WeakMap,$s=new WeakMap,Ms=new WeakMap,Rs=new WeakMap,Ds=new WeakMap;var Zs=Object.defineProperty,ei=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,ni=Object.getOwnPropertySymbols,ri=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,ii=(e,t,n)=>t in e?Zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oi=(e,t)=>{for(var n in t||(t={}))ri.call(t,n)&&ii(e,n,t[n]);if(ni)for(var n of ni(t))si.call(t,n)&&ii(e,n,t[n]);return e},ai=(e,t)=>ei(e,ti(t));const ci={arr:Or,obj:Mr,num:qr,ref:Br,str:Rr,localKey:Dr,localRef:Ur,rootRef:Vr,traverseRef:Fr};(new Map).set("identifiers",[{identifiers:ci}]);var li,ui=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},fi=(e,t,n,r)=>(ui(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hi=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));li=new WeakMap,Bn.AAccumulator=class{},Bn.AExtractor=class{},Bn.AFileSystem=sr,Bn.AIterator=rr;var pi=Bn.ARoot=ir;Bn.AStructure=class{};var di=Bn.AVisitor=or;Bn.AppConfig=Zn,Bn.Builder=_r,Bn.Diagnostic=xs;var yi=Bn.Diagnostics=Xs;Bn.FileSystem=class extends sr{constructor(e){super(),((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,li,void 0),fi(this,li,e)}get fs(){return((e,t,n)=>(ui(e,t,"read from private field"),n?n.call(e):t.get(e)))(this,li)}set fs(e){fi(this,li,e)}readFile(e){return hi(this,arguments,(function*(e){return this.fs.readFile(e,...Array.from(arguments).slice(1))}))}readFileSync(...e){return this.fs.readFileSync(...e)}writeFile(e,t){return hi(this,arguments,(function*(e,t){const n=[...arguments].slice(2);return this.fs.writeFile(e,t,...n)}))}writeFileSync(...e){this.fs.writeFileSync(...e)}},Bn.RootConfig=Ls;var mi=Bn.consts=Xn;Bn.deref=function e({dataObject:t,iteratorVar:n="",path:r=[],ref:s,root:i,rootKey:o="",identifiers:a}){var c,l,u,f;a||(a=ci);let{isLocalRef:h,path:p,ref:d}=ds(s);if(!n){if(!h)return as(i,p);if(!o)return d;if(i)return as(i,`${o}.${p}`)}if(null==(c=a.str)?void 0:c.call(a,s)){if(Br(s),(null==(l=a.str)?void 0:l.call(a,s))&&n&&s.startsWith(n)&&t)return s===n?t:e(ai(oi({},arguments[0]),{ref:as(t,os(s,n)||"")}))}else{if(null==(u=a.arr)?void 0:u.call(a,s))return s.map(((t,n)=>e(ai(oi({},arguments[0]),{path:p.concat(n),ref:t}))));(null==(f=a.obj)?void 0:f.call(a,s))&&Object.entries(s).forEach((([t,n])=>{var r,i,o;if((null==(r=null==a?void 0:a.str)?void 0:r.call(a,n))&&(null==(i=null==a?void 0:a.ref)?void 0:i.call(a,n))||(null==(o=null==a?void 0:a.obj)?void 0:o.call(a,n)))return s[t]=e(ai(oi({},arguments[0]),{path:p.concat(t),ref:n}))}))}return s},Bn.ensureCssUnit=function(e,t="px"){return Rr(e)&&gs(e)?e:`${e}${t}`},Bn.excludeIteratorVar=function(e,t){if(Rr(t)){if(t===e)return"";if(t.startsWith(e))return ps(t)>1?fs(t).slice(1).join("."):""}return t},Bn.formatColor=function(e){return"string"==typeof e&&e.startsWith("0x")?e.replace("0x","#"):e||""};var gi=Bn.fp=hs;Bn.generateDiagnostic=_s,Bn.getNextRootKeyProps=function(e,t){let n=fs(ws(ls(e).join("."))),r=t||"";return n.length&&r&&n[0]===r&&n.shift(),{paths:n,path:n.join("."),rootKey:r}},Bn.getPositionProps=function(e,t,n){if(!e)return;const r=null==e?void 0:e[t];if(Rr(r)){if("0"==r)return{[t]:"0px"};if("1"==r)return{[t]:`${n}px`};if(!gs(r))return{[t]:ys(n,r)+"px"}}else if(cs(null==e?void 0:e[t]))return{[t]:ys(n,r)+"px"}},Bn.getRefLength=ps;var vi=Bn.getRefProps=ds;Bn.getSize=function(e,t,{toFixed:n=2,unit:r="px"}={}){let s;if("0"==e?s=0:"1"==e?s=Number(t):Rr(e)?s=gs(e)?e.replace(/[a-zA-Z]+/gi,""):Number(e)*t:qr(e)&&(s=cs(e)?e*t:e),Gr(s))return s;switch(r){case"noodl":return(Number(s)/t).toFixed(n);case"px":return`${Number(s).toFixed(n)}px`;default:return Number(s).toFixed(n)}},Bn.getViewportBound=function(e,t){const n=ms(t);return null!==n&&Qr(e)?e[n]:null},Bn.getViewportRatio=ys,Bn.getVpKey=ms,Bn.hasLetter=gs;var bi=Bn.is=Xr;Bn.isValidViewTag=function(e){return!!Rr(e)&&!(!e||!er.test(e))},Bn.normalize=function(e){if(Or(e)){const[t,n]=e;if("axis"===t){if("horizontal"===n)return{display:"flex",flexWrap:"nowrap"};if("vertical"===n)return{display:"flex",flexDirection:"column"}}if("align"===t){if("centerX"===n)return{display:"flex",justifyContent:"center"};if("centerY"===n)return{display:"flex",alignItems:"center"}}if("textAlign"===t){if("centerX"===n)return{textAlign:"center"};if("centerY"===n)return{display:"flex",alignItems:"center"}}return{[t]:n}}if(Rr(e)){if(e.startsWith("0x"))return`#${e.substring(2)}`;if("shadow"===e)return"5px 5px 10px 3px rgba(0, 0, 0, 0.015)";if("true"===e)return!0;if("false"===e)return!1}return e},Bn.parsePageComponentUrl=vs,Bn.presets={border:{1:{borderStyle:"none",borderRadius:"0px"},2:{borderRadius:"0px",borderStyle:"none",borderBottomStyle:"solid"},3:{borderStyle:"solid"},4:{borderStyle:"dashed",borderRadius:"0px"},5:{borderStyle:"none"},6:{borderStyle:"solid",borderRadius:"0px"},7:{borderBottomStyle:"solid",borderRadius:"0px"}}},Bn.regex=nr,Bn.toPageComponentUrl=bs;var wi=Bn.toPath=fs,_i=Bn.trimReference=ws;function Oi(e){return An.isScalar(e)?"Scalar":An.isPair(e)?"Pair":An.isMap(e)?"Map":An.isSeq(e)?"Seq":An.isDocument(e)?"Document":"unknown"}function Ei(e){switch(Oi(e)){case"Scalar":return In.Scalar;case"Pair":return In.Pair;case"Map":return In.Map;case"Seq":return In.Seq;case"Document":return In.Document;default:return In.Unknown}}class Si{[Symbol.iterator](){const e=[...this.diagnostics];return{next:()=>({get value(){return e.pop()},get done(){return!e.length}})}}constructor(e){this.diagnostics=e}createMessageFinder(e){const t=new RegExp(e,"i");return e=>e.messages.find((e=>!!bi.str(e.message)&&t.test(e.message)))}createCodeFinder(e){return t=>t.messages.find((t=>t.code===e))}find(e){const t=bi.str(e)?this.createMessageFinder(e):this.createCodeFinder(e);for(const e of this)if(e&&t(e))return!0;return!1}}var ki,Ni=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ai=(e,t,n)=>(Ni(e,t,"read from private field"),n?n.call(e):t.get(e));class Ti{constructor(e){((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,ki,void 0),((e,t,n,r)=>{Ni(e,t,"write to private field"),r?r.call(e,n):t.set(e,n)})(this,ki,e)}getIterator(){var e;const t=[...(null==(e=Ai(this,ki).root)?void 0:e.value).entries()],n=Ai(this,ki).markers.rootConfig,r=Ai(this,ki).markers.appConfig,s=Ai(this,ki).markers.preload||[],i=Ai(this,ki).markers.pages||[],o=e=>{const n=t.findIndex((([t])=>t===e));if(n>0){const e=t[n];t.splice(n,1),t.unshift(e)}};return n&&o(n),r&&o(r),s.length&&s.forEach((e=>o(e))),i.length&&i.forEach((e=>o(e))),{next:()=>({get value(){return t.pop()},get done(){return!t.length}})}}}function Ii(e){if(null!==e&&"object"==typeof e){if(An.isScalar(e))return e.value;if(An.isDocument(e))return e.contents;if(e._id_===Tn.root)return e.value}return e}ki=new WeakMap;var Pi=function(e){return e};var xi=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Li=xi,Ci=Math.max;var ji=function(e,t,n){return t=Ci(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Ci(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(o),Li(e,this,a)}};var $i=function(e){return function(){return e}},Mi="object"==typeof Un&&Un&&Un.Object===Object&&Un,Ri="object"==typeof self&&self&&self.Object===Object&&self,Di=Mi||Ri||Function("return this")(),Ui=Di.Symbol,Bi=Ui,Vi=Object.prototype,Fi=Vi.hasOwnProperty,Ki=Vi.toString,Gi=Bi?Bi.toStringTag:void 0;var qi=function(e){var t=Fi.call(e,Gi),n=e[Gi];try{e[Gi]=void 0;var r=!0}catch(e){}var s=Ki.call(e);return r&&(t?e[Gi]=n:delete e[Gi]),s},Wi=Object.prototype.toString;var Yi=qi,Ji=function(e){return Wi.call(e)},zi=Ui?Ui.toStringTag:void 0;var Hi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":zi&&zi in Object(e)?Yi(e):Ji(e)};var Qi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Xi=Hi,Zi=Qi;var eo,to=function(e){if(!Zi(e))return!1;var t=Xi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},no=Di["__core-js_shared__"],ro=(eo=/[^.]+$/.exec(no&&no.keys&&no.keys.IE_PROTO||""))?"Symbol(src)_1."+eo:"";var so=function(e){return!!ro&&ro in e},io=Function.prototype.toString;var oo=to,ao=so,co=Qi,lo=function(e){if(null!=e){try{return io.call(e)}catch(e){}try{return e+""}catch(e){}}return""},uo=/^\[object .+?Constructor\]$/,fo=Function.prototype,ho=Object.prototype,po=fo.toString,yo=ho.hasOwnProperty,mo=RegExp("^"+po.call(yo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var go=function(e){return!(!co(e)||ao(e))&&(oo(e)?mo:uo).test(lo(e))},vo=function(e,t){return null==e?void 0:e[t]};var bo=function(e,t){var n=vo(e,t);return go(n)?n:void 0},wo=bo,_o=function(){try{var e=wo(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Oo=$i,Eo=_o,So=Eo?function(e,t){return Eo(e,"toString",{configurable:!0,enumerable:!1,value:Oo(t),writable:!0})}:Pi,ko=Date.now;var No=function(e){var t=0,n=0;return function(){var r=ko(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ao=No(So),To=Pi,Io=ji,Po=Ao;var xo=function(e,t){return Po(Io(e,t,To),e+"")},Lo=bo(Di,"WeakMap"),Co=Lo&&new Lo,jo=Co,$o=jo?function(e,t){return jo.set(e,t),e}:Pi,Mo=Qi,Ro=Object.create,Do=function(){function e(){}return function(t){if(!Mo(t))return{};if(Ro)return Ro(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Uo=Do,Bo=Qi;var Vo=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Uo(e.prototype),r=e.apply(n,t);return Bo(r)?r:n}},Fo=Vo,Ko=Di;var Go=function(e,t,n){var r=1&t,s=Fo(e);return function t(){return(this&&this!==Ko&&this instanceof t?s:e).apply(r?n:this,arguments)}},qo=Math.max;var Wo=function(e,t,n,r){for(var s=-1,i=e.length,o=n.length,a=-1,c=t.length,l=qo(i-o,0),u=Array(c+l),f=!r;++a<c;)u[a]=t[a];for(;++s<o;)(f||s<i)&&(u[n[s]]=e[s]);for(;l--;)u[a++]=e[s++];return u},Yo=Math.max;var Jo=function(e,t,n,r){for(var s=-1,i=e.length,o=-1,a=n.length,c=-1,l=t.length,u=Yo(i-a,0),f=Array(u+l),h=!r;++s<u;)f[s]=e[s];for(var p=s;++c<l;)f[p+c]=t[c];for(;++o<a;)(h||s<i)&&(f[p+n[o]]=e[s++]);return f};var zo=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Ho=function(){},Qo=Do,Xo=Ho;function Zo(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Zo.prototype=Qo(Xo.prototype),Zo.prototype.constructor=Zo;var ea=Zo;var ta=Co,na=ta?function(e){return ta.get(e)}:function(){},ra={},sa=Object.prototype.hasOwnProperty;var ia=function(e){for(var t=e.name+"",n=ra[t],r=sa.call(ra,t)?n.length:0;r--;){var s=n[r],i=s.func;if(null==i||i==e)return s.name}return t},oa=Do,aa=Ho;function ca(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ca.prototype=oa(aa.prototype),ca.prototype.constructor=ca;var la=ca,ua=Array.isArray;var fa=function(e){return null!=e&&"object"==typeof e};var ha=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},pa=ea,da=la,ya=ha;var ma=ea,ga=la,va=Ho,ba=ua,wa=fa,_a=function(e){if(e instanceof pa)return e.clone();var t=new da(e.__wrapped__,e.__chain__);return t.__actions__=ya(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Oa=Object.prototype.hasOwnProperty;function Ea(e){if(wa(e)&&!ba(e)&&!(e instanceof ma)){if(e instanceof ga)return e;if(Oa.call(e,"__wrapped__"))return _a(e)}return new ga(e)}Ea.prototype=va.prototype,Ea.prototype.constructor=Ea;var Sa=ea,ka=na,Na=ia,Aa=Ea;var Ta=function(e){var t=Na(e),n=Aa[t];if("function"!=typeof n||!(t in Sa.prototype))return!1;if(e===n)return!0;var r=ka(n);return!!r&&e===r[0]},Ia=No($o),Pa=/\{\n\/\* \[wrapped with (.+)\] \*/,xa=/,? & /;var La=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Ca=function(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1},ja=function(e){return e!=e},$a=function(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1};var Ma=function(e,t,n){return t==t?$a(e,t,n):Ca(e,ja,n)};var Ra=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Da=function(e,t){return!(null==e||!e.length)&&Ma(e,t,0)>-1},Ua=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Ba=function(e){var t=e.match(Pa);return t?t[1].split(xa):[]},Va=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(La,"{\n/* [wrapped with "+t+"] */\n")},Fa=Ao,Ka=function(e,t){return Ra(Ua,(function(n){var r="_."+n[0];t&n[1]&&!Da(e,r)&&e.push(r)})),e.sort()};var Ga=function(e,t,n){var r=t+"";return Fa(e,Va(r,Ka(Ba(r),n)))},qa=Ta,Wa=Ia,Ya=Ga;var Ja=function(e,t,n,r,s,i,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var f=[e,t,s,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,a,c,l],h=n.apply(void 0,f);return qa(e)&&Wa(h,f),h.placeholder=r,Ya(h,e,t)};var za=function(e){return e.placeholder},Ha=/^(?:0|[1-9]\d*)$/;var Qa=ha,Xa=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ha.test(e))&&e>-1&&e%1==0&&e<t},Za=Math.min;var ec="__lodash_placeholder__";var tc=function(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var o=e[n];o!==t&&o!==ec||(e[n]=ec,i[s++]=n)}return i},nc=Wo,rc=Jo,sc=zo,ic=Vo,oc=Ja,ac=za,cc=function(e,t){for(var n=e.length,r=Za(t.length,n),s=Qa(e);r--;){var i=t[r];e[r]=Xa(i,n)?s[i]:void 0}return e},lc=tc,uc=Di;var fc=function e(t,n,r,s,i,o,a,c,l,u){var f=128&n,h=1&n,p=2&n,d=24&n,y=512&n,m=p?void 0:ic(t);return function g(){for(var v=arguments.length,b=Array(v),w=v;w--;)b[w]=arguments[w];if(d)var _=ac(g),O=sc(b,_);if(s&&(b=nc(b,s,i,d)),o&&(b=rc(b,o,a,d)),v-=O,d&&v<u){var E=lc(b,_);return oc(t,n,e,g.placeholder,r,b,E,c,l,u-v)}var S=h?r:this,k=p?S[t]:t;return v=b.length,c?b=cc(b,c):y&&v>1&&b.reverse(),f&&l<v&&(b.length=l),this&&this!==uc&&this instanceof g&&(k=m||ic(k)),k.apply(S,b)}},hc=xi,pc=Vo,dc=fc,yc=Ja,mc=za,gc=tc,vc=Di;var bc=function(e,t,n){var r=pc(e);return function s(){for(var i=arguments.length,o=Array(i),a=i,c=mc(s);a--;)o[a]=arguments[a];var l=i<3&&o[0]!==c&&o[i-1]!==c?[]:gc(o,c);return(i-=l.length)<n?yc(e,t,dc,s.placeholder,void 0,o,l,void 0,void 0,n-i):hc(this&&this!==vc&&this instanceof s?r:e,this,o)}},wc=xi,_c=Vo,Oc=Di;var Ec=function(e,t,n,r){var s=1&t,i=_c(e);return function t(){for(var o=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),f=this&&this!==Oc&&this instanceof t?i:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++o];return wc(f,s?n:this,u)}},Sc=Wo,kc=Jo,Nc=tc,Ac="__lodash_placeholder__",Tc=128,Ic=Math.min;var Pc=/\s/;var xc=function(e){for(var t=e.length;t--&&Pc.test(e.charAt(t)););return t},Lc=/^\s+/;var Cc=Hi,jc=fa;var $c=function(e){return e?e.slice(0,xc(e)+1).replace(Lc,""):e},Mc=Qi,Rc=function(e){return"symbol"==typeof e||jc(e)&&"[object Symbol]"==Cc(e)},Dc=/^[-+]0x[0-9a-f]+$/i,Uc=/^0b[01]+$/i,Bc=/^0o[0-7]+$/i,Vc=parseInt;var Fc=function(e){if("number"==typeof e)return e;if(Rc(e))return NaN;if(Mc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Mc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$c(e);var n=Uc.test(e);return n||Bc.test(e)?Vc(e.slice(2),n?2:8):Dc.test(e)?NaN:+e},Kc=1/0;var Gc=function(e){return e?(e=Fc(e))===Kc||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var qc=$o,Wc=Go,Yc=bc,Jc=fc,zc=Ec,Hc=na,Qc=function(e,t){var n=e[1],r=t[1],s=n|r,i=s<131,o=r==Tc&&8==n||r==Tc&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!o)return e;1&r&&(e[2]=t[2],s|=1&n?0:4);var a=t[3];if(a){var c=e[3];e[3]=c?Sc(c,a,t[4]):a,e[4]=c?Nc(e[3],Ac):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?kc(c,a,t[6]):a,e[6]=c?Nc(e[5],Ac):t[6]),(a=t[7])&&(e[7]=a),r&Tc&&(e[8]=null==e[8]?t[8]:Ic(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e},Xc=Ia,Zc=Ga,el=function(e){var t=Gc(e),n=t%1;return t==t?n?t-n:t:0},tl=Math.max;var nl=function(e,t,n,r,s,i,o,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(t&=-97,r=s=void 0),o=void 0===o?o:tl(el(o),0),a=void 0===a?a:el(a),l-=s?s.length:0,64&t){var u=r,f=s;r=s=void 0}var h=c?void 0:Hc(e),p=[e,t,n,r,s,u,f,i,o,a];if(h&&Qc(p,h),e=p[0],t=p[1],n=p[2],r=p[3],s=p[4],!(a=p[9]=void 0===p[9]?c?0:e.length:tl(p[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?Yc(e,t,a):32!=t&&33!=t||s.length?Jc.apply(void 0,p):zc(e,t,n,r);else var d=Wc(e,t,n);return Zc((h?qc:Xc)(d,p),e,t)},rl=nl,sl=za,il=tc,ol=xo((function(e,t){var n=il(t,sl(ol));return rl(e,32,void 0,t,n)}));ol.placeholder={};var al=ol;function cl(...e){const t=e[e.length-1];return bi.num(t)||bi.str(t)?al(cl,...e):fl.mapNode(t)||fl.documentNode(t)||fl.seqNode(t)?e.some((e=>t.has(e))):!!fl.pairNode(t)&&e.some((e=>Ii(t.key)===e))}function ll(...e){return function(t){var n;const[r,s]=e;return!(!(null==(n=t.has)?void 0:n.call(t,r))||2===e.length&&!(bi.arr(r)?r.some((e=>t.get(e)===s)):t.get(r)===s))}}function ul(e,t){if(An.isNode(e)&&An.isNode(t)){if(An.isScalar(e))return An.isScalar(t);if(An.isMap(e))return An.isMap(t);if(An.isSeq(e))return An.isSeq(t);if(An.isDocument(e))return An.isDocument(t)}return!!An.isPair(e)&&An.isPair(t)}const fl={nil:e=>bi.nil(Ii(e)),equalTo:function e(t,n){if(An.isScalar(t))return An.isScalar(n)?Ii(t)===Ii(n):Ii(t)===n;if(An.isScalar(n))return An.isScalar(t)?Ii(n)===Ii(t):Ii(n)===t;if(An.isPair(t)&&An.isPair(n))return!(Ii(t.key)!==Ii(n.key)||!ul(t.value,n.value))&&e(t.value,n.value);if(An.isMap(t)&&An.isMap(n)){if(t.items.length===n.items.length)return!t.items.length||t.items.every((t=>{var r;return e(t.value,null==(r=me(n.items,t.key))?void 0:r.value)}))}else if(An.isSeq(t)&&An.isSeq(n))return t.items.length===n.items.length&&t.items.every(((t,r)=>e(t,n.items[r])));return!1},fileSystem:e=>null!==e&&"object"==typeof e&&e._id_===Tn.fs,reference:e=>bi.reference(Ii(e)),root:e=>null!==e&&"object"==typeof e&&e._id_===Tn.root,scalarNode:e=>Ei(e)===In.Scalar,stringNode:e=>fl.scalarNode(e)&&bi.str(e.value),pairNode:e=>Ei(e)===In.Pair,mapNode:e=>Ei(e)===In.Map,seqNode:e=>Ei(e)===In.Seq,documentNode:e=>Ei(e)===In.Document,sameNodeType:ul,action:ll("actionType"),builtInFn:e=>fl.mapNode(e)&&function(e,t){return e.items.some((e=>{const n=Ii(e.key);return bi.str(n)&&n.startsWith(t)}))}(e,"=.builtIn"),component:e=>fl.componentLike(e)&&["children","style"].some((t=>e.has(t))),componentLike:ll("type"),button:ll("type","button"),canvas:ll("type","canvas"),chart:ll("type","chart"),chatList:ll("type","chatList"),ecosDoc:ll("type","ecosDoc"),divider:ll("type","divider"),footer:ll("type","footer"),header:ll("type","header"),image:ll("type","image"),label:ll("type","label"),list:ll("type","list"),listItem:ll("type","listItem"),map:ll("type","map"),page:ll("type","page"),plugin:ll("type","plugin"),pluginHead:ll("type","pluginHead"),pluginBodyTail:ll("type","pluginBodyTail"),popUp:ll("type","popUp"),register:ll("type","register"),select:ll("type","select"),scrollView:ll("type","scrollView"),textField:ll("type","textField"),textView:ll("type","textView"),video:ll("type","video"),view:ll("type","view"),emit:ll("emit"),goto:ll("goto"),if:ll("if"),style:ll(["align","axis","background","backgroundColor","border","borderColor","borderRadius","borderWidth","boxShadow","boxSizing","color","contentSize","display","float","flex","flexFlow","fontColor","fontSize","fontFamily","fontStyle","fontWeight","height","width","isHidden","justifyContent","left","letterSpacing","lineHeight","marginLeft","marginTop","marginRight","marginBottom","minWidth","maxWidth","minHeight","maxHeight","outline","padding","paddingTop","paddingLeft","paddingRight","paddingBottom","position","required","shadow","textAlign","textColor","textDecoration","textIndent","top","zIndex"]),ymlNode:e=>null!==e&&"object"==typeof e&&(An.isNode(e)||An.isPair(e)||An.isDocument(e))};function hl(e,t,{rootKey:n=""}={}){let r=t;if(An.isScalar(t)&&"string"==typeof t.value&&(t=t.value),"string"==typeof t&&bi.reference(t)){const{paths:e,isLocalRef:r}=vi(t);r||e[0]===n||(t=`${n=e[0]}.${t}`),t=_i(t)}if(t=wi(t),e instanceof Map){const n=t.shift(),r=e.get(n);return t.length?hl(r,t):r}if(fl.ymlNode(e))switch(Ei(e)){case In.Map:{const n=t.shift(),r=e.get(n,!0);return t.length?hl(r,t):r}case In.Seq:{const n=t.shift(),r=e.get(n);return t.length?hl(r,t):r}case In.Document:return t.length?hl(e.contents,t):void 0}return fl.root(e)?hl(e.value,t):t.length?gi.get(e,t):t===r?void 0:e}function pl(e,t){switch(Ei(e)){case In.Scalar:case In.Pair:case In.Map:case In.Seq:case In.Document:return e;default:if(bi.arr(e)){const t=new An.YAMLSeq;return e.forEach((e=>t.add(pl(e)))),t}if(arguments.length>1||!bi.und(t))return new An.Pair(e,t);if(bi.obj(e)){const t=new An.YAMLMap;return gi.entries(e).forEach((([e,n])=>t.set(e,pl(n)))),t}return new An.Scalar(e)}}function dl(e,t,n,r){if(An.isScalar(t)&&"string"==typeof t.value&&(t=t.value),e instanceof Map)e.set(t,pl(n));else if(fl.ymlNode(e))switch(Ei(e)){case In.Seq:case In.Map:case In.Document:{const s=r?"setIn":"set",i=r?gi.path(Ii(t)):t;return void e[s](i,pl(n))}case In.Pair:return void(e.value=pl(n));case In.Scalar:return void(e.value=n)}}var yl,ml,gl=Object.defineProperty,vl=Object.getOwnPropertySymbols,bl=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable,_l=(e,t,n)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ol=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},El=(e,t,n)=>(Ol(e,t,"read from private field"),n?n.call(e):t.get(e)),Sl=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},kl=(e,t,n,r)=>(Ol(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Nl extends pi{constructor(){super(),Sl(this,yl,void 0),Sl(this,ml,void 0),this.value=new Map,Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:Tn.root})}[Symbol.iterator](){if(El(this,ml))return El(this,ml).getIterator();const e=Object.entries(this.value);return{next:()=>({get value(){return e.pop()},get done(){return!e.length}})}}init(){return this.value.clear(),this}clear(){return this.value.clear(),this}get(e){return hl(this.value,e)}has(e){var t;const n=(fl.scalarNode(e)&&bi.str(e.value)&&e.value||bi.arr(e)&&e.join(".")||bi.str(e)&&e||"").split(".");let r=this.value;for(;n.length;){if(!(e=n.shift()))return""===e;if(!(null==(t=null==r?void 0:r.has)?void 0:t.call(r,e)))return!1;r=r.get(e)}return!0}set(e,t){if(!(null==t||An.isNode(t)||An.isDocument(t)||An.isPair(t)||An.isMap(t))){const n=this.toDocument(t);An.isMap(n.contents)&&1===n.contents.items.length&&n.has(e)&&(n.contents=n.get(e)),t=n}return dl(this.value,Ii(e),t),this}remove(e){return this.value.delete(Ii(e)),this}toDocument(e,t){return t=((e,t)=>{for(var n in t||(t={}))bl.call(t,n)&&_l(e,n,t[n]);if(vl)for(var n of vl(t))wl.call(t,n)&&_l(e,n,t[n]);return e})({logLevel:"debug",lineCounter:new An.LineCounter,keepSourceTokens:!0,prettyErrors:!0},t),bi.str(e)?An.parseDocument(e,t):new An.Document(e,t)}toJSON(){return[...this].reduce(((e,[t,n])=>(e[t]=bi.obj(n)&&"toJSON"in n?n.toJSON():n,e)),{})}toString(){return JSON.stringify(this.toJSON())}loadFileSync(e,t){var n,r,s;if(!El(this,yl))throw new Error("Cannot load a file without a fileSystem registered");if(!El(this,yl).readFile)throw new Error("Cannot load a file to DocRoot. Missing readFile implementation");if(El(this,yl).existsSync&&!El(this,yl).existsSync(e))throw new Error(`The file at path ${e} does not exist`);const i=El(this,yl).readFile(e,"utf8");if(!i)throw new Error(`The file at ${e} yielded empty data`);let o=this.toDocument(i,null==t?void 0:t.parseOptions),a=null!=(s=null==(r=(n=El(this,yl)).getBaseName)?void 0:r.call(n,e))?s:"",c="";if(bi.fnc(null==t?void 0:t.renameFile)){const e=null==t?void 0:t.renameFile(a);bi.str(bi.str(e))&&(a=e)}if(bi.fnc(null==t?void 0:t.renameKey)){const e=null==t?void 0:t.renameKey(a);bi.str(e)&&(c=e)}return this.set(c,o),o}use(e){return fl.fileSystem(e)?kl(this,yl,e):e instanceof Ti&&kl(this,ml,e),this}}yl=new WeakMap,ml=new WeakMap;var Al=Object.defineProperty,Tl=Object.getOwnPropertySymbols,Il=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable,xl=(e,t,n)=>t in e?Al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ll=Object.defineProperty,Cl=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,$l=Object.prototype.propertyIsEnumerable,Ml=(e,t,n)=>t in e?Ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rl=(e,t)=>{for(var n in t||(t={}))jl.call(t,n)&&Ml(e,n,t[n]);if(Cl)for(var n of Cl(t))$l.call(t,n)&&Ml(e,n,t[n]);return e};const Dl={logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0},Ul=An.isScalar,Bl=An.isPair,Vl=An.isMap,Fl=An.isSeq;const Kl=An.visit;function Gl(e){switch(Oi(e)){case"Map":case"Document":return"object";case"Scalar":{const t=typeof e.value;switch(t){case"boolean":case"function":case"undefined":case"number":case"string":return t}break}case"Seq":return"array";default:return null}}function ql(e){return fl.action(e)?Pn.Action:fl.builtInFn(e)?Pn.BuiltInFn:fl.component(e)?Pn.Component:fl.emit(e)?Pn.Emit:fl.goto(e)?Pn.Goto:fl.if(e)?Pn.If:fl.style(e)?Pn.Style:Pn.Unknown}An.visitAsync;var Wl,Yl=Object.defineProperty,Jl=Object.defineProperties,zl=Object.getOwnPropertyDescriptor,Hl=Object.getOwnPropertyDescriptors,Ql=Object.getOwnPropertySymbols,Xl=Object.prototype.hasOwnProperty,Zl=Object.prototype.propertyIsEnumerable,eu=(e,t,n)=>t in e?Yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tu=(e,t)=>{for(var n in t||(t={}))Xl.call(t,n)&&eu(e,n,t[n]);if(Ql)for(var n of Ql(t))Zl.call(t,n)&&eu(e,n,t[n]);return e},nu=(e,t)=>Jl(e,Hl(t)),ru=(e,t,n,r)=>{for(var s,i=r>1?void 0:r?zl(t,n):t,o=e.length-1;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Yl(t,n,i),i},su=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};let iu={sync:{history:[],queue:[]},async:{history:[],queue:[]}};function ou(e){switch(e){case"async":case"sync":return iu[e];default:return iu}}function au(){iu={sync:{history:[],queue:[]},async:{history:[],queue:[]}}}function cu(){return function(e,t,n){const r="visitAsync"===t;n.configurable=!1,n.enumerable=!1,n.value=function(e,t){return function n(r,s,i){const{data:o,helpers:a,init:c,root:l}=s||{},u=nu(tu({data:o},a),{root:l});if(t){if(!(null==i?void 0:i.calledInit)&&c){const e=nu(tu({},i),{calledInit:!0});return c(u).then((()=>n.call(this,r,s,e))).catch((e=>{throw e instanceof Error?e:new Error(String(e))}))}}else null==c||c(u);if(An.isNode(r)||An.isDocument(r)){const n=e.call(null,r,s);return bi.promise(n)?n.then((e=>e(r,lu(this.callback,t,s)))):("has"in r&&r.has("init")&&n(r.get("init"),lu(this.callback,t,s)),n(r,lu(this.callback,t,s)))}}}(e[t],r)}}function lu(e,t,{asserters:n,builtIn:r,data:s,page:i,root:o,helpers:a}){function c(e){if(null!=e){if(e===An.visitAsync.BREAK)return An.visitAsync.BREAK;if(e===An.visitAsync.REMOVE)return An.visitAsync.REMOVE;if(e===An.visitAsync.SKIP)return An.visitAsync.SKIP;if(An.isNode(e))return e;if(bi.num(e))return e}}return function(t,...[l,u,f]){const h=function({asserters:t,builtIn:n,clearState:r,getState:s,isAsync:i,data:o,node:a,root:c,key:l,path:u,page:f}){const h=()=>s(i?"async":"sync"),p=Ei(a);for(const e of gi.toArr(t))if(null==e?void 0:e.cond(p,a)){const t=e.fn(arguments[0]);if(!bi.und(t))return t}if(Ul(a));else if(Bl(a));else if(Vl(a)){const e=ql(a);switch(e){case Pn.Action:case Pn.BuiltInFn:case Pn.Component:case Pn.Emit:case Pn.Goto:case Pn.If:{const t={};t.kind=e,t.node=a,t.status=xn.Pending,h().queue.push(t);break}case Pn.Style:}}else Fl(a);return null==e?void 0:e(arguments[0])}(nu(tu(tu({},t),a),{asserters:n,builtIn:r,data:s,key:l,node:u,path:f,page:i,root:o}));return bi.promise(h)?h.then(c).catch((e=>{throw e instanceof Error?e:new Error(String(e))})):c(h)}.bind(null,{clearState:au,getState:ou,isAsync:t})}class uu extends di{constructor(){super(...arguments),((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,Wl,void 0)}get callback(){return((e,t,n)=>(su(e,t,"read from private field"),n?n.call(e):t.get(e)))(this,Wl)}visit(){return An.visit}visitAsync(){return e=this,t=null,n=function*(){return An.visitAsync},new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));var e,t,n}use(e){return((e,t,n,r)=>{su(e,t,"write to private field"),r?r.call(e,n):t.set(e,n)})(this,Wl,e),this}}Wl=new WeakMap,ru([cu()],uu.prototype,"visit",1),ru([cu()],uu.prototype,"visitAsync",1);var fu=Object.defineProperty,hu=Object.defineProperties,pu=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,yu=Object.prototype.hasOwnProperty,mu=Object.prototype.propertyIsEnumerable,gu=(e,t,n)=>t in e?fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vu=(e,t)=>{for(var n in t||(t={}))yu.call(t,n)&&gu(e,n,t[n]);if(du)for(var n of du(t))mu.call(t,n)&&gu(e,n,t[n]);return e},bu=(e,t)=>hu(e,pu(t));function wu(e,t={}){var n=t,{rootKey:r}=n,s=((e,t)=>{var n={};for(var r in e)yu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&du)for(var r of du(e))t.indexOf(r)<0&&mu.call(e,r)&&(n[r]=e[r]);return n})(n,["rootKey"]);let i,o={depth:0,initialValue:void 0,paths:[],results:[]};return{getState:()=>bu(vu({},o),{value:i}),dispatch:function(t){var n;const a=o;o=function(t,n){var s,o,a;switch(n.type){case 1:{const o=vi(n.reference),{isLocalRef:a,paths:c,ref:l}=o;a&&r&&c.unshift(r),i=hl(null==e?void 0:e.value,c[0],{rootKey:r});const u=t.results.concat({depth:n.depth,initiator:l,key:c[0],value:fl.ymlNode(i)?null==(s=null==i?void 0:i.toJSON)?void 0:s.call(i):i});return bu(vu({},t),{depth:n.depth,initialValue:n.reference,paths:c.slice(1),results:u})}case 2:{const n=[...t.results];i=hl(i,t.paths[0],{rootKey:r}),n.push({initiator:t.initialValue,depth:t.depth,key:t.paths[0],value:fl.ymlNode(i)?null==(o=null==i?void 0:i.toJSON)?void 0:o.call(i):i});let s,c=t.paths.slice(1);if(bi.str(i)&&bi.reference(i)||fl.scalarNode(i)&&fl.reference(i)){let o=vi(Ii(i)),l=!o.isLocalRef,u=!0,f=r;l&&o.paths[0]===r||(u=!1),l&&(u?(o.paths=o.paths.slice(1),o.path=o.paths.join("."),c.unshift(...o.paths)):f=o.paths[0]),s=_u({depth:t.depth,node:o.ref,root:e,rootKey:f});const h=null==(a=s.results)?void 0:a.slice(l?0:1).map(((e,n,r)=>{var i;const o=bi.num(e.depth)?e.depth:t.depth,a=null==(i=r[n-1])?void 0:i.key,c=s.initialValue,l=bu(vu({},e),{depth:o,initiator:c});return a&&(l.prevKey=a),l.path=r.map((e=>e.key)),l}));n.push(...h),i=Ii(s.value)}return bu(vu({},t),{paths:c,results:n})}}}(o,t),null==(n=null==s?void 0:s.onUpdate)||n.call(s,a,o)}}}function _u({depth:e=-1,node:t,root:n,rootKey:r,subscribe:s}){const i=Ii(t),o=function(e,t=""){const{isLocalRef:n,paths:r}=vi(e);return n?t:r[0]}(i,r),a=wu(n,vu({rootKey:o},s)),{dispatch:c,getState:l}=a;return c({type:1,reference:i,depth:++e}),l().paths.forEach((()=>c({type:2}))),vu({reference:i},gi.omit(l(),["paths"]))}var Ou=nl,Eu=za,Su=tc,ku=xo((function(e,t){var n=Su(t,Eu(ku));return Ou(e,64,void 0,t,n)}));ku.placeholder={};var Nu=ku;const{BREAK:Au}=Kl,Tu=Gl;var Iu=Object.freeze({__proto__:null,getJsType:Tu,hasBinding:function(e,t,n,r){switch(e){case"popUpView":case"viewTag":{let s=!1,i=r.get(n),o=t.get(e,!1);if(bi.reference(o)&&(o=Ii(_u({node:o,root:r,rootKey:n}).value)),i){const t=i.get("components");t&&Kl(t,{Map:(t,i)=>{if(s)return Au;if(cl("type",e,i)){const t=i.get(e,!0);if(fl.reference(t)){const e=_u({node:t,root:r,rootKey:n});if(!bi.und(e.value)&&(s=e.value===o,s))return Au}else if(Ii(t)===o)return s=!0,Au}}})}return s}default:return!1}},hasPageInAppConfig:function(e,t){var n,r;return null==(r=null==(n=null==t?void 0:t.pages)?void 0:n.includes)?void 0:r.call(n,e)},refResolvesToAnyValue:function(e,t,n=""){return!bi.und(_u({node:Ii(e),root:t,rootKey:n}).value)},set:function(e,t,n,r){let s=null!=r?r:"",i=[];if(bi.str(e))if(bi.reference(e)){const t=_i(e);if(bi.localReference(e))i.push(...t.split("."));else{const e=t.split(".");s=e.shift(),i.push(...e)}}else if(bi.rootKey(e)){const t=e.split(".");s=t[0],i.push(...t.slice(1))}else i.push(...e.split("."));dl(n.get(s),i,t,!0)}}),Pu=Object.defineProperty,xu=Object.defineProperties,Lu=Object.getOwnPropertyDescriptors,Cu=Object.getOwnPropertySymbols,ju=Object.prototype.hasOwnProperty,$u=Object.prototype.propertyIsEnumerable,Mu=(e,t,n)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ru=xu(((e,t)=>{for(var n in t||(t={}))ju.call(t,n)&&Mu(e,n,t[n]);if(Cu)for(var n of Cu(t))$u.call(t,n)&&Mu(e,n,t[n]);return e})({},Iu),Lu({is:fl}));function Du(e,t){switch(e){case In.Scalar:return t.scalar;case In.Pair:return t.pair;case In.Map:return t.map;case In.Seq:return t.seq;case In.Document:return t.doc;default:return t.node}}function Uu({cond:e,fn:t}){return{cond:Nu((function e(t,n,r){return bi.fnc(r)?r(n):bi.arr(r)?r.every((r=>e(t,n,r))):!(!bi.obj(r)||!function(e,...t){return gi.toArr(e).some((e=>null==e?void 0:e(...t)))}(Du(t,r),n))}),e),fn:Nu(t,Ru)}}var Bu=Uu({cond:fl.builtInFn,fn({add:e,data:t,builtIn:n,node:r,page:s="",root:i},{getJsType:o,set:a}){var c;if(fl.builtInFn(r)){const l=Ii(null==(c=r.items[0])?void 0:c.key),u=r.get(l),f=null==l?void 0:l.replace("=.builtIn.","");if(fl.mapNode(u)){const c=u.get("dataIn",!1),h=u.get("dataOut",!1),p=gi.get(n,f);e((e=>{if(gi.has(n,f)||e.error(mi.DiagnosticCode.BUILTIN_FUNCTION_MISSING,{key:l}),bi.fnc(p)){const e={builtIns:n,builtInKey:l,builtInObject:u,builtInPath:f,data:t,dataOut:h,node:r,page:s,root:i};let o=p(bi.fnc(null==n?void 0:n.normalize)?null==n?void 0:n.normalize(c,e):c,e);bi.str(o)&&bi.reference(o)&&(o=_u({node:o,root:i,rootKey:s}).value),bi.str(h)&&a(h,o,i,s)}else e.error(mi.DiagnosticCode.BUILTIN_FUNCTION_NOT_A_FUNCTION,{key:l,type:o(p)})}))}}}}),Vu={exports:{}};!function(e,t){!function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Un?Un:"undefined"!=typeof self?self:{};function n(e){return e}var r=n,s="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")(),a=o.Symbol,c=a,l=Object.prototype,u=l.hasOwnProperty,f=l.toString,h=c?c.toStringTag:void 0;function p(e){var t=u.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch(e){}var s=f.call(e);return r&&(t?e[h]=n:delete e[h]),s}var d=p,y=Object.prototype.toString;function m(e){return y.call(e)}var g=d,v=m,b="[object Null]",w="[object Undefined]",_=a?a.toStringTag:void 0;function O(e){return null==e?void 0===e?w:b:_&&_ in Object(e)?g(e):v(e)}var E=O;function S(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var k=S,N=E,A=k,T="[object AsyncFunction]",I="[object Function]",P="[object GeneratorFunction]",x="[object Proxy]";function L(e){if(!A(e))return!1;var t=N(e);return t==I||t==P||t==T||t==x}var C=L,j=o["__core-js_shared__"],$=function(){var e=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function M(e){return!!$&&$ in e}var R=M,D=Function.prototype.toString;function U(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var B=C,V=R,F=k,K=U,G=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,W=Function.prototype,Y=Object.prototype,J=W.toString,z=Y.hasOwnProperty,H=RegExp("^"+J.call(z).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q(e){return!(!F(e)||V(e))&&(B(e)?H:q).test(K(e))}function X(e,t){return null==e?void 0:e[t]}var Z=Q,ee=X;function te(e,t){var n=ee(e,t);return Z(n)?n:void 0}var ne=te,re=ne(o,"WeakMap"),se=re&&new re,ie=se,oe=ie?function(e,t){return ie.set(e,t),e}:r,ae=k,ce=Object.create,le=function(){function e(){}return function(t){if(!ae(t))return{};if(ce)return ce(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ue=le,fe=k;function he(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ue(e.prototype),r=e.apply(n,t);return fe(r)?r:n}}var pe=he,de=pe,ye=o,me=1;function ge(e,t,n){var r=t&me,s=de(e);function i(){return(this&&this!==ye&&this instanceof i?s:e).apply(r?n:this,arguments)}return i}var ve=ge;function be(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var we=be,_e=Math.max;function Oe(e,t,n,r){for(var s=-1,i=e.length,o=n.length,a=-1,c=t.length,l=_e(i-o,0),u=Array(c+l),f=!r;++a<c;)u[a]=t[a];for(;++s<o;)(f||s<i)&&(u[n[s]]=e[s]);for(;l--;)u[a++]=e[s++];return u}var Ee=Oe,Se=Math.max;function ke(e,t,n,r){for(var s=-1,i=e.length,o=-1,a=n.length,c=-1,l=t.length,u=Se(i-a,0),f=Array(u+l),h=!r;++s<u;)f[s]=e[s];for(var p=s;++c<l;)f[p+c]=t[c];for(;++o<a;)(h||s<i)&&(f[p+n[o]]=e[s++]);return f}var Ne=ke;function Ae(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Te=Ae;function Ie(){}var Pe=Ie,xe=le,Le=Pe,Ce=4294967295;function je(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}je.prototype=xe(Le.prototype),je.prototype.constructor=je;var $e=je;function Me(){}var Re=se,De=Re?function(e){return Re.get(e)}:Me,Ue={},Be=Object.prototype.hasOwnProperty;function Ve(e){for(var t=e.name+"",n=Ue[t],r=Be.call(Ue,t)?n.length:0;r--;){var s=n[r],i=s.func;if(null==i||i==e)return s.name}return t}var Fe=Ve,Ke=le,Ge=Pe;function qe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}qe.prototype=Ke(Ge.prototype),qe.prototype.constructor=qe;var We=qe,Ye=Array.isArray;function Je(e){return null!=e&&"object"==typeof e}var ze=Je;function He(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Qe=He,Xe=$e,Ze=We,et=Qe;function tt(e){if(e instanceof Xe)return e.clone();var t=new Ze(e.__wrapped__,e.__chain__);return t.__actions__=et(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var nt=$e,rt=We,st=Pe,it=Ye,ot=ze,at=tt,ct=Object.prototype.hasOwnProperty;function lt(e){if(ot(e)&&!it(e)&&!(e instanceof nt)){if(e instanceof rt)return e;if(ct.call(e,"__wrapped__"))return at(e)}return new rt(e)}lt.prototype=st.prototype,lt.prototype.constructor=lt;var ut=$e,ft=De,ht=Fe,pt=lt;function dt(e){var t=ht(e),n=pt[t];if("function"!=typeof n||!(t in ut.prototype))return!1;if(e===n)return!0;var r=ft(n);return!!r&&e===r[0]}var yt=dt,mt=800,gt=16,vt=Date.now;function bt(e){var t=0,n=0;return function(){var r=vt(),s=gt-(r-n);if(n=r,s>0){if(++t>=mt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wt=bt,_t=wt(oe),Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,Et=/,? & /;function St(e){var t=e.match(Ot);return t?t[1].split(Et):[]}var kt=St,Nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function At(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Nt,"{\n/* [wrapped with "+t+"] */\n")}var Tt=At;function It(e){return function(){return e}}var Pt=It,xt=ne,Lt=function(){try{var e=xt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ct=Pt,jt=Lt,$t=jt?function(e,t){return jt(e,"toString",{configurable:!0,enumerable:!1,value:Ct(t),writable:!0})}:r,Mt=wt($t);function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Dt(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function Ut(e){return e!=e}function Bt(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var Vt=Dt,Ft=Ut,Kt=Bt;function Gt(e,t,n){return t==t?Kt(e,t,n):Vt(e,Ft,n)}var qt=Gt;function Wt(e,t){return!(null==e||!e.length)&&qt(e,t,0)>-1}var Yt=Rt,Jt=Wt,zt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Ht(e,t){return Yt(zt,(function(n){var r="_."+n[0];t&n[1]&&!Jt(e,r)&&e.push(r)})),e.sort()}var Qt=kt,Xt=Tt,Zt=Mt,en=Ht;function tn(e,t,n){var r=t+"";return Zt(e,Xt(r,en(Qt(r),n)))}var nn=tn,rn=yt,sn=_t,on=nn,an=1,cn=2,ln=4,un=8,fn=32,hn=64;function pn(e,t,n,r,s,i,o,a,c,l){var u=t&un;t|=u?fn:hn,(t&=~(u?hn:fn))&ln||(t&=~(an|cn));var f=[e,t,s,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,a,c,l],h=n.apply(void 0,f);return rn(e)&&sn(h,f),h.placeholder=r,on(h,e,t)}var dn=pn;function yn(e){return e.placeholder}var mn=yn,gn=9007199254740991,vn=/^(?:0|[1-9]\d*)$/;function bn(e,t){var n=typeof e;return!!(t=null==t?gn:t)&&("number"==n||"symbol"!=n&&vn.test(e))&&e>-1&&e%1==0&&e<t}var wn=bn,_n=Qe,On=wn,En=Math.min;function Sn(e,t){for(var n=e.length,r=En(t.length,n),s=_n(e);r--;){var i=t[r];e[r]=On(i,n)?s[i]:void 0}return e}var kn="__lodash_placeholder__";function Nn(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var o=e[n];o!==t&&o!==kn||(e[n]=kn,i[s++]=n)}return i}var An=Ee,Tn=Ne,In=Te,Pn=pe,xn=dn,Ln=mn,Cn=Sn,jn=Nn,$n=o,Mn=1,Rn=2,Dn=8,Bn=16,Vn=128,Fn=512;function Kn(e,t,n,r,s,i,o,a,c,l){var u=t&Vn,f=t&Mn,h=t&Rn,p=t&(Dn|Bn),d=t&Fn,y=h?void 0:Pn(e);function m(){for(var g=arguments.length,v=Array(g),b=g;b--;)v[b]=arguments[b];if(p)var w=Ln(m),_=In(v,w);if(r&&(v=An(v,r,s,p)),i&&(v=Tn(v,i,o,p)),g-=_,p&&g<l){var O=jn(v,w);return xn(e,t,Kn,m.placeholder,n,v,O,a,c,l-g)}var E=f?n:this,S=h?E[e]:e;return g=v.length,a?v=Cn(v,a):d&&g>1&&v.reverse(),u&&c<g&&(v.length=c),this&&this!==$n&&this instanceof m&&(S=y||Pn(S)),S.apply(E,v)}return m}var Gn=Kn,qn=we,Wn=pe,Yn=Gn,Jn=dn,zn=mn,Hn=Nn,Qn=o;function Xn(e,t,n){var r=Wn(e);function s(){for(var i=arguments.length,o=Array(i),a=i,c=zn(s);a--;)o[a]=arguments[a];var l=i<3&&o[0]!==c&&o[i-1]!==c?[]:Hn(o,c);return(i-=l.length)<n?Jn(e,t,Yn,s.placeholder,void 0,o,l,void 0,void 0,n-i):qn(this&&this!==Qn&&this instanceof s?r:e,this,o)}return s}var Zn=Xn,er=we,tr=pe,nr=o,rr=1;function sr(e,t,n,r){var s=t&rr,i=tr(e);function o(){for(var t=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),f=this&&this!==nr&&this instanceof o?i:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++t];return er(f,s?n:this,u)}return o}var ir=sr,or=Ee,ar=Ne,cr=Nn,lr="__lodash_placeholder__",ur=1,fr=2,hr=4,pr=8,dr=128,yr=256,mr=Math.min;function gr(e,t){var n=e[1],r=t[1],s=n|r,i=s<(ur|fr|dr),o=r==dr&&n==pr||r==dr&&n==yr&&e[7].length<=t[8]||r==(dr|yr)&&t[7].length<=t[8]&&n==pr;if(!i&&!o)return e;r&ur&&(e[2]=t[2],s|=n&ur?0:hr);var a=t[3];if(a){var c=e[3];e[3]=c?or(c,a,t[4]):a,e[4]=c?cr(e[3],lr):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?ar(c,a,t[6]):a,e[6]=c?cr(e[5],lr):t[6]),(a=t[7])&&(e[7]=a),r&dr&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}var vr=/\s/;function br(e){for(var t=e.length;t--&&vr.test(e.charAt(t)););return t}var wr=br,_r=/^\s+/;function Or(e){return e?e.slice(0,wr(e)+1).replace(_r,""):e}var Er=E,Sr=ze,kr="[object Symbol]";function Nr(e){return"symbol"==typeof e||Sr(e)&&Er(e)==kr}var Ar=Nr,Tr=Or,Ir=k,Pr=Ar,xr=NaN,Lr=/^[-+]0x[0-9a-f]+$/i,Cr=/^0b[01]+$/i,jr=/^0o[0-7]+$/i,$r=parseInt;function Mr(e){if("number"==typeof e)return e;if(Pr(e))return xr;if(Ir(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ir(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Tr(e);var n=Cr.test(e);return n||jr.test(e)?$r(e.slice(2),n?2:8):Lr.test(e)?xr:+e}var Rr=Mr,Dr=1/0,Ur=17976931348623157e292;function Br(e){return e?(e=Rr(e))===Dr||e===-Dr?(e<0?-1:1)*Ur:e==e?e:0:0===e?e:0}var Vr=Br;function Fr(e){var t=Vr(e),n=t%1;return t==t?n?t-n:t:0}var Kr=oe,Gr=ve,qr=Zn,Wr=Gn,Yr=ir,Jr=De,zr=gr,Hr=_t,Qr=nn,Xr=Fr,Zr="Expected a function",es=1,ts=2,ns=8,rs=16,ss=32,is=64,os=Math.max;function as(e,t,n,r,s,i,o,a){var c=t&ts;if(!c&&"function"!=typeof e)throw new TypeError(Zr);var l=r?r.length:0;if(l||(t&=~(ss|is),r=s=void 0),o=void 0===o?o:os(Xr(o),0),a=void 0===a?a:Xr(a),l-=s?s.length:0,t&is){var u=r,f=s;r=s=void 0}var h=c?void 0:Jr(e),p=[e,t,n,r,s,u,f,i,o,a];if(h&&zr(p,h),e=p[0],t=p[1],n=p[2],r=p[3],s=p[4],!(a=p[9]=void 0===p[9]?c?0:e.length:os(p[9]-l,0))&&t&(ns|rs)&&(t&=~(ns|rs)),t&&t!=es)d=t==ns||t==rs?qr(e,t,a):t!=ss&&t!=(es|ss)||s.length?Wr.apply(void 0,p):Yr(e,t,n,r);else var d=Gr(e,t,n);return Qr((h?Kr:Hr)(d,p),e,t)}var cs=as,ls=8;function us(e,t,n){var r=cs(e,ls,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=us.placeholder,r}us.placeholder={};var fs=us;function hs(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var ps=hs,ds=E,ys=ze,ms="[object Arguments]";function gs(e){return ys(e)&&ds(e)==ms}var vs=gs,bs=ze,ws=Object.prototype,_s=ws.hasOwnProperty,Os=ws.propertyIsEnumerable,Es=vs(function(){return arguments}())?vs:function(e){return bs(e)&&_s.call(e,"callee")&&!Os.call(e,"callee")},Ss=Es,ks=Ss,Ns=Ye,As=a?a.isConcatSpreadable:void 0;function Ts(e){return Ns(e)||ks(e)||!!(As&&e&&e[As])}var Is=ps,Ps=Ts;function xs(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=Ps),s||(s=[]);++i<o;){var a=e[i];t>0&&n(a)?t>1?xs(a,t-1,n,r,s):Is(s,a):r||(s[s.length]=a)}return s}var Ls=xs;function Cs(e){return null!=e&&e.length?Ls(e,1):[]}var js=Cs,$s=we,Ms=Math.max;function Rs(e,t,n){return t=Ms(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Ms(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(o),$s(e,this,a)}}var Ds=js,Us=Rs,Bs=Mt;function Vs(e){return Bs(Us(e,void 0,Ds),e+"")}var Fs=We,Ks=Vs,Gs=De,qs=Fe,Ws=Ye,Ys=yt,Js="Expected a function",zs=8,Hs=32,Qs=128,Xs=256;function Zs(e){return Ks((function(t){var n=t.length,r=n,s=Fs.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError(Js);if(s&&!o&&"wrapper"==qs(i))var o=new Fs([],!0)}for(r=o?r:n;++r<n;){i=t[r];var a=qs(i),c="wrapper"==a?Gs(i):void 0;o=c&&Ys(c[0])&&c[1]==(Qs|zs|Hs|Xs)&&!c[4].length&&1==c[9]?o[qs(c[0])].apply(o,c[3]):1==i.length&&Ys(i)?o[a]():o.thru(i)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&Ws(r))return o.plant(r).value();for(var s=0,i=n?t[s].apply(this,e):r;++s<n;)i=t[s].call(this,i);return i}}))}var ei=Zs(!0),ti=Ye,ni=Ar,ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/;function ii(e,t){if(ti(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ni(e))||si.test(e)||!ri.test(e)||null!=t&&e in Object(t)}var oi=ii,ai=ne(Object,"create"),ci=ai;function li(){this.__data__=ci?ci(null):{},this.size=0}var ui=li;function fi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hi=fi,pi=ai,di="__lodash_hash_undefined__",yi=Object.prototype.hasOwnProperty;function mi(e){var t=this.__data__;if(pi){var n=t[e];return n===di?void 0:n}return yi.call(t,e)?t[e]:void 0}var gi=mi,vi=ai,bi=Object.prototype.hasOwnProperty;function wi(e){var t=this.__data__;return vi?void 0!==t[e]:bi.call(t,e)}var _i=ai,Oi="__lodash_hash_undefined__";function Ei(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_i&&void 0===t?Oi:t,this}var Si=ui,ki=hi,Ni=gi,Ai=wi,Ti=Ei;function Ii(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ii.prototype.clear=Si,Ii.prototype.delete=ki,Ii.prototype.get=Ni,Ii.prototype.has=Ai,Ii.prototype.set=Ti;var Pi=Ii;function xi(){this.__data__=[],this.size=0}var Li=xi;function Ci(e,t){return e===t||e!=e&&t!=t}var ji=Ci;function $i(e,t){for(var n=e.length;n--;)if(ji(e[n][0],t))return n;return-1}var Mi=$i,Ri=Mi,Di=Array.prototype.splice;function Ui(e){var t=this.__data__,n=Ri(t,e);return!(n<0||(n==t.length-1?t.pop():Di.call(t,n,1),--this.size,0))}var Bi=Mi;function Vi(e){var t=this.__data__,n=Bi(t,e);return n<0?void 0:t[n][1]}var Fi=Mi;function Ki(e){return Fi(this.__data__,e)>-1}var Gi=Mi;function qi(e,t){var n=this.__data__,r=Gi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Wi=Li,Yi=Ui,Ji=Vi,zi=Ki,Hi=qi;function Qi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qi.prototype.clear=Wi,Qi.prototype.delete=Yi,Qi.prototype.get=Ji,Qi.prototype.has=zi,Qi.prototype.set=Hi;var Xi=Qi,Zi=ne(o,"Map"),eo=Pi,to=Xi,no=Zi;function ro(){this.size=0,this.__data__={hash:new eo,map:new(no||to),string:new eo}}function so(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var io=so;function oo(e,t){var n=e.__data__;return io(t)?n["string"==typeof t?"string":"hash"]:n.map}var ao=oo;function co(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t}var lo=oo;function uo(e){return lo(this,e).get(e)}var fo=oo;function ho(e){return fo(this,e).has(e)}var po=oo;function yo(e,t){var n=po(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var mo=ro,go=co,vo=uo,bo=ho,wo=yo;function _o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_o.prototype.clear=mo,_o.prototype.delete=go,_o.prototype.get=vo,_o.prototype.has=bo,_o.prototype.set=wo;var Oo=_o,Eo="Expected a function";function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Eo);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(So.Cache||Oo),n}So.Cache=Oo;var ko=So,No=500;function Ao(e){var t=ko(e,(function(e){return n.size===No&&n.clear(),e})),n=t.cache;return t}var To=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Io=/\\(\\)?/g,Po=Ao((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(To,(function(e,n,r,s){t.push(r?s.replace(Io,"$1"):n||e)})),t})),xo=Po;function Lo(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Co=Lo,jo=Ye,$o=Ar,Mo=1/0,Ro=a?a.prototype:void 0,Do=Ro?Ro.toString:void 0;function Uo(e){if("string"==typeof e)return e;if(jo(e))return Co(e,Uo)+"";if($o(e))return Do?Do.call(e):"";var t=e+"";return"0"==t&&1/e==-Mo?"-0":t}var Bo=Uo;function Vo(e){return null==e?"":Bo(e)}var Fo=Ye,Ko=oi,Go=xo,qo=Vo;function Wo(e,t){return Fo(e)?e:Ko(e,t)?[e]:Go(qo(e))}var Yo=Wo,Jo=Ar,zo=1/0;function Ho(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-zo?"-0":t}var Qo=Ho,Xo=Yo,Zo=Qo;function ea(e,t){for(var n=0,r=(t=Xo(t,e)).length;null!=e&&n<r;)e=e[Zo(t[n++])];return n&&n==r?e:void 0}var ta=ea;function na(e,t,n){var r=null==e?void 0:ta(e,t);return void 0===r?n:r}var ra=na,sa=Object.prototype.hasOwnProperty;function ia(e,t){return null!=e&&sa.call(e,t)}var oa=9007199254740991;function aa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=oa}var ca=Yo,la=Ss,ua=Ye,fa=wn,ha=aa,pa=Qo;function da(e,t,n){for(var r=-1,s=(t=ca(t,e)).length,i=!1;++r<s;){var o=pa(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=s?i:!!(s=null==e?0:e.length)&&ha(s)&&fa(o,s)&&(ua(e)||la(e))}var ya=ia,ma=da;function ga(e,t){return null!=e&&ma(e,t,ya)}var va=ga;const ba=e=>wa(e)?e:[e],wa=e=>Array.isArray(e),_a=e=>!!e&&!wa(e)&&"object"==typeof e,Oa=e=>"number"==typeof e,Ea=e=>"string"==typeof e,Sa=e=>void 0===e,ka=e=>"function"==typeof e,Na=e=>ka(e)?e():e;function Aa(e,t){const n=new RegExp((wa(e)?e:[e]).reduce(((e,t)=>e+(e?`|${t}`:t)),""),t);function r(e,t){if(Ea(e))return e.replace(n,String(t));if(_a(e)){const r=JSON.stringify(e).replace(n,String(t));return JSON.parse(r)}return""}return r}const Ta=function(){const e=fs(Aa("\\${cadlBaseUrl}","gi")),t=(e="",t)=>{if((Ea(t)||Oa(t))&&(t=String(t)),_a(t)){const{greaterEqual:e,less:n,widthHeightRatioThreshold:r}=t;t=1>=r?e:n}return Aa("\\${designSuffix}","gi")(e,t)},n={cadlVersion:fs(Aa("\\${cadlVersion}","gi")),designSuffix:t,cadlBaseUrl:e},r=t=>{let r=[],s=Object.entries(t);t.cadlBaseUrl&&"cadlVersion"in t&&(t.cadlBaseUrl=e(t.cadlBaseUrl,t.cadlVersion));for(let e=0;e<s.length;e++){const[t,i]=s[e]||[];if(t&&t in n){const e=new RegExp("\\${"+t+"}","gi");r.push((t=>t.replace(e,i)))}}return ei(...r)};return r}();function Ia(e,t,n){const r=(null==n?void 0:n.iteratorVar)||"",s=(null==n?void 0:n.listAttribute)?null==n?void 0:n.listAttribute:{};return Ea(e)?La(t,Pa(e,r)):_a(e)?Object.keys(e).reduce(((n,i)=>(e[i].startsWith("listAttr")?n[i]=La(s,Pa(e[i],"listAttr")):n[i]=La(t,Pa(e[i],r)),n)),{}):e}function Pa(e,t=""){return Ea(e)&&t&&e.includes(t)?e===t?"":e.split(`${t}.`).join("").replace(t,""):e}function xa(e,t){if(Array.isArray(t.if)){const[n,r,s]=t.if;return e(n,r,s)?r:s}return!1}const La=(e,t)=>{var n;return t?ra(Na(null==(n=wa(e)?e:[e])?void 0:n.find((e=>va(Na(e),t)))),t):Na(wa(e)?e[0]:e)};function Ca(e){let t=[];return(Array.isArray(e)?e:[e]).forEach((e=>{if(Ea(e))e.startsWith(".")&&t.push(e);else if(wa(e))t=t.concat(Ca(e));else if(_a(e))for(let n in e){const r=e[n];t=t.concat(Ca(n)),t=t.concat(Ca(r))}})),t}function ja(e,t,n){if(e&&"string"==typeof t&&"object"==typeof e){let r="";return r=(null==n?void 0:n.iteratorVar)&&t.startsWith(n.iteratorVar)?t.split(".").slice(1).join("."):t,ra(e,r)}}const $a=function(){const e=new RegExp(`(${Object.values({cadlBaseUrl:"\\${cadlBaseUrl}",cadlVersion:"\\${cadlVersion}",designSuffix:"\\${designSuffix}"}).join("|")})`,"i");function t(t){return!!Ea(t)&&e.test(t)}return t}();function Ma({config:e,deviceType:t="web",env:n="stable",version:r}){try{const s=Number(ra(e,`${t}.cadlVersion.${n}`));return r=Number(r),!!Number.isNaN(r)||!!Number.isNaN(s)||s>r}catch(e){return!0}}function Ra(e=""){return"string"==typeof e&&(e.startsWith("www.")||/https?:\/\//.test(e))}function Da(e){var t;if("string"==typeof e){if(e.startsWith(".")&&(e=e.substring(e.search(/[a-zA-Z]/)).trim()),!/^[a-zA-Z]/i.test(e))return!1;if(e)return(null==(t=e[0])?void 0:t.toUpperCase())===e[0]}return!1}function Ua(e){return Ea(e)&&/^[a-zA-Z]+[0-9]+/.test(e)}function Ba(){return!0}function Va(){return!1}function Fa(e){return!(null==e?void 0:e.endsWith("..tar"))&&Ea(e)&&/(.[a-zA-Z]+)$/i.test(e)}function Ka(e=""){return wa(e)?e:Ea(e)?e.split("."):ba(e).filter((e=>!Sa(e)))}const Ga={prefix:/^[.=@]+/i,suffix:/[.=@]+$/i};function qa(e,t){return"prefix"===t?Ga.prefix.test(e)?e.replace(Ga.prefix,""):e:"suffix"===t?Ga.suffix.test(e)?e.replace(Ga.suffix,""):e:e.replace(Ga.prefix,"").replace(Ga.suffix,"")||""}function Wa(e=""){return!e.endsWith(".yml")&&(e+=".yml"),e}const Ya=["web","ios","android"];class Ja{configVersion(e,t,n){return ra(e,[t,"cadlVersion",n])}appConfigUrl(e,t,n){if(Ea(e)){if(arguments.length<2)throw new Error("cadlMain is required when passing in the baseUrl");return Aa("\\${cadlVersion}","gi")(e||"",n||"")+t}if(_a(e)){if(arguments.length<3)throw new Error("Both the deviceType and env is required when passing in the root config object");const r=Ya.includes(t)?t:"web",s=this.configVersion(e,r,n),i=e.cadlMain||"";return Aa("\\${cadlVersion}","gi")(e.cadlBaseUrl||"",s)+i}return Ea(e)?e:""}destination(e,{denoter:t="^",duration:n=350}={}){var r;const s={destination:"",duration:n,id:""};function i(e=""){const t=e.split(/(@|#)/);if(5!==t.length)return!1;const[n,r,s,i,o]=t;return"@"===r&&"#"===i}if(Ea(e)){if(i(e)){const[t="",n,r="",s,i=""]=e.split(/(@|#)/);return{targetPage:t,currentPage:r,viewTag:i}}if(e.includes(t)){const n=e.indexOf(t);if(s.isSamePage=0===n,s.isSamePage)s.destination="",s.id=e.replace(t,"");else{const i=null==(r=e.split(t)[1])?void 0:r.split(";");let o="",a=(null==i?void 0:i[1])||"";a.startsWith(";")&&(a=a.replace(";","")),s.id=(null==i?void 0:i[0])||"",s.destination=e.substring(0,n),a.split(":").forEach(((e,t)=>t%2==1?s[o]=e:t%2==0?o=e:void 0))}}else s.destination=e,s.isSamePage=!1}else s.destination="";return s}queryString({destination:e="",pageUrl:t="",startPage:n=""}){const r="index.html?";let s=(t=-1!==t.indexOf(r)?t:t+r).endsWith("?")?"":"-";if(e!==n){const n=t.indexOf(`?${e}`),r=t.indexOf(`-${e}`);-1!==n?s=(t=t.substring(0,n+1)).endsWith("?")?"":"-":-1!==r&&(s=(t=t.substring(0,r)).endsWith("?")?"":"-"),t+=`${s}${e}`}else t=r;return t}}e.Parser=Ja,e.createEmitDataKey=Ia,e.createNoodlPlaceholderReplacer=Ta,e.createPlaceholderReplacer=Aa,e.deviceTypes=Ya,e.evalIf=xa,e.excludeIteratorVar=Pa,e.findDataValue=La,e.findReferences=Ca,e.getDataValue=ja,e.hasNoodlPlaceholder=$a,e.isOldConfig=Ma,e.isOutboundLink=Ra,e.isRootDataKey=Da,e.isSerializableStr=Ua,e.isStable=Ba,e.isTest=Va,e.isValidAsset=Fa,e.toDataPath=Ka,e.trimReference=qa,e.withYmlExt=Wa,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,Vu.exports);var Fu=Uu({cond:[fl.mapNode,fl.goto],fn({add:e,isValidPageValue:t,isValidViewTag:n,node:r,markers:s,page:i,root:o},{hasPageInAppConfig:a,refResolvesToAnyValue:c}){const l=r.get("goto",!0),u=Ii(l);if(!u)return e("error",mi.DiagnosticCode.GOTO_PAGE_EMPTY);if(bi.str(u))if(bi.pageComponentUrl(u)){const r=(new Vu.exports.Parser).destination(u),a=[];e((c=>{for(const[e,a]of[[r.currentPage,"currentPage"],[r.targetPage,"targetPage"],[r.viewTag,"viewTag"]])if("viewTag"===a&&(n(e)||c.error(mi.DiagnosticCode.VIEW_TAG_INVALID,{viewTag:e})),t(e))o.has(e)||c.error(mi.DiagnosticCode.GOTO_PAGE_MISSING_FROM_ROOT,{page:e}),s.pages.includes(e)||c.error(mi.DiagnosticCode.GOTO_PAGE_MISSING_FROM_APP_CONFIG,{destination:e});else{const e="currentPage"===a?"CURRENT_PAGE":"targetPage"===a?"TARGET_PAGE":"VIEW_TAG",t=mi.DiagnosticCode[`GOTO_PAGE_COMPONENT_URL_${e}_INVALID`];t&&c.error(t,{destination:u,page:i})}a.length&&e((e=>e.messages.push(...a)))}))}else bi.reference(u)?c(l,o,i)||e("error",mi.DiagnosticCode.REFERENCE_UNRESOLVABLE):a(u,s)||e("error",mi.DiagnosticCode.GOTO_PAGE_MISSING_FROM_APP_CONFIG,{destination:u});else fl.mapNode(l)&&l.has("destination")}}),Ku=Uu({cond:{scalar:fl.reference},fn({add:e,node:t,markers:n,page:r,root:s}){const i=Ii(t);if(i.startsWith("=.builtIn."))return;const o=vi(i);if(bi.tildeReference(i)){const e=n.baseUrl+i.slice(2);return fl.scalarNode(t)?t.value=e:t=pl(e),t}const a=_u({node:t,root:s,rootKey:r});if(!o.isLocalRef){const t=o.paths[1];if(bi.str(t)){const n=t.charAt(0);n.toUpperCase()===n&&e("warn",mi.DiagnosticCode.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE,{ref:o.ref,key:t})}}if(bi.und(a.value)){const n=bi.localReference(a.reference),s=n?"Local":"Root",i=n?` using root key '${r}'`:"";return e((e=>{e.set("type","error"),e.set("message",`${s} reference '${a.reference}' was not resolvable${i}`),e.set("results",a.results)}),r,t),An.visit.SKIP}if(!fl.scalarNode(t))return pl(a.value);t.value=Ii(a.value)}}),Gu=Uu({cond:[fl.mapNode,cl("popUpView")],fn({add:e,isValidViewTag:t,node:n,page:r,root:s},{hasBinding:i}){let o=Ii(n.get("popUpView"));const a=cl("actionType","goto",n)||!cl("type",n);if(!a||cl("children","style",n),!t(o))return e("error",mi.DiagnosticCode.POPUP_VIEW_INVALID,{popUpView:o});a&&(i("popUpView",n,r,s)||e("error",mi.DiagnosticCode.POPUP_VIEW_MISSING_COMPONENT_POINTER,{popUpView:o}))}}),qu=Uu({cond:[fl.mapNode,cl("viewTag")],fn({add:e,isValidViewTag:t,node:n,page:r,root:s},{hasBinding:i}){let o=Ii(n.get("viewTag"));const a=cl("actionType","goto",n)||!cl("type",n);if(!a||cl("children","style",n),!t(o))return e("error",mi.DiagnosticCode.VIEW_TAG_INVALID,{viewTag:o});a&&(i("viewTag",n,r,s)||e("warn",mi.DiagnosticCode.VIEW_TAG_MISSING_COMPONENT_POINTER,{viewTag:o}))}}),Wu=Object.defineProperty,Yu=Object.defineProperties,Ju=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,Hu=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,Xu=(e,t,n)=>t in e?Wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zu=(e,t)=>{for(var n in t||(t={}))Hu.call(t,n)&&Xu(e,n,t[n]);if(zu)for(var n of zu(t))Qu.call(t,n)&&Xu(e,n,t[n]);return e};function ef(e,t){return bi.str(e)?(new An.Lexer).lex(e):e.lex(t)}function tf(e,t){return bi.str(e)?(new An.Parser).parse(e):e.parse(t)}function nf(e,t){return e instanceof An.Composer?e.compose(t,!0):(new An.Composer).compose(t,!0)}function rf(e){return function(t){return Zu({type:e},t)}}const sf=rf("anchor"),of=rf("block-scalar-header"),af=rf("byte-order-mark"),cf=rf("comma"),lf=rf("comment"),uf=rf("directive-line"),ff=rf("doc-mode"),hf=rf("doc-start"),pf=rf("explicit-key-ind"),df=rf("flow-error-end"),yf=rf("flow-map-start"),mf=rf("flow-map-end"),gf=rf("flow-seq-start"),vf=rf("flow-seq-end"),bf=rf("seq-item-ind");function wf(e,t){return Zu({type:"block-scalar",source:e},t)}function _f(e){return Zu({type:"block-map"},e)}function Of(e){return Zu({type:"block-seq"},e)}function Ef(e){return Zu({type:"document",start:[]},e)}function Sf(e){return Zu({type:"doc-end"},e)}function kf(e){return Zu({type:"directive"},e)}function Nf(e){let t,n="";return bi.str(e)?n=e:bi.obj(e)&&(t=e,n=e.message||""),((e,t)=>Yu(e,Ju(t)))(Zu({type:"error"},t),{message:n})}function Af(e){return t=>Zu({type:e},t)}const Tf=Af("alias"),If=Af("scalar"),Pf=Af("single-quoted-scalar"),xf=Af("double-quoted-scalar");function Lf(e){return Zu({type:"map-value-ind",source:":"},e)}function Cf(){return[Lf(),$f(" "),jf()]}function jf(e){let t,n="\n";return bi.num(e)?n="\n".repeat(e):bi.obj(e)&&(t=e),Zu({type:"newline",source:n},t)}function $f(e,t){return bi.obj(e)&&("indent"in e||"offset"in e||"source"in e)&&(e=null==(t=e)?void 0:t.source),Zu({type:"scalar",source:e},t)}function Mf(e){let t,n=" ";return bi.num(e)?n=" ".repeat(e):bi.obj(e)&&(t=e),Zu({type:"space",source:n},t)}function Rf(e){let t,n;return bi.str(e)||bi.arr(e)?n=e:bi.obj(e)&&(t=e,n=e.source),Zu({type:"tag",source:n},t)}var Df,Uf=Object.freeze({__proto__:null,getLexTokens:ef,getCstTokens:tf,getCstDoc:nf,anchor:sf,blockScalarHeader:of,byteOrderMark:af,comma:cf,comment:lf,directiveLine:uf,docMode:ff,docStart:hf,explicitKeyInd:pf,flowErrorEnd:df,flowMapStart:yf,flowMapEnd:mf,flowSeqStart:gf,flowSeqEnd:vf,seqColon:bf,blockScalar:wf,blockMap:_f,blockSeq:Of,document:Ef,documentEnd:Sf,directive:kf,error:Nf,flowAliasScalar:Tf,flowScalarScalar:If,flowSingleQuotedScalar:Pf,flowDoubleQuotedScalar:xf,mapColon:Lf,mapSeparator:Cf,newline:jf,scalar:$f,space:Mf,tag:Rf}),Bf=(e,t,n)=>(((e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e));class Vf{constructor(){((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,Df,[])}add(e){return Bf(this,Df).push(e),this}toJSON(){return Bf(this,Df)}toString(){return JSON.stringify(this.toJSON())}}Df=new WeakMap;var Ff=Object.freeze({__proto__:null,factory:Uf,BuiltInFn:class extends Vf{create(e,t,n){const r=_f({items:[{start:[],key:$f(`=.builtIn.${e}`),sep:[Lf(),jf()]}]});return this.add(r),r}},getLexTokens:ef,getCstTokens:tf,getCstDoc:nf,anchor:sf,blockScalarHeader:of,byteOrderMark:af,comma:cf,comment:lf,directiveLine:uf,docMode:ff,docStart:hf,explicitKeyInd:pf,flowErrorEnd:df,flowMapStart:yf,flowMapEnd:mf,flowSeqStart:gf,flowSeqEnd:vf,seqColon:bf,blockScalar:wf,blockMap:_f,blockSeq:Of,document:Ef,documentEnd:Sf,directive:kf,error:Nf,flowAliasScalar:Tf,flowScalarScalar:If,flowSingleQuotedScalar:Pf,flowDoubleQuotedScalar:xf,mapColon:Lf,mapSeparator:Cf,newline:jf,scalar:$f,space:Mf,tag:Rf});e.DocDiagnostics=class extends yi{constructor(){super(),super.on("addDiagnostic",((e,t,n)=>{if(n)switch(Ei(n)){case In.Scalar:case In.Pair:case In.Map:case In.Seq:case In.Document:if(n.srcToken){const{indent:t,items:r,offset:s,props:i,start:o,end:a,type:c}=n.srcToken||{},l=n.range;o&&e.set("start",o),a&&e.set("end",a),t&&e.set("indent",t),r&&e.set("items",r),s&&e.set("offset",s),i&&e.set("props",i),l&&e.set("range",l),c&&e.set("type",c)}case In.Unknown:}}))}createHelpers(e){return((e,t)=>{for(var n in t||(t={}))Il.call(t,n)&&xl(e,n,t[n]);if(Tl)for(var n of Tl(t))Pl.call(t,n)&&xl(e,n,t[n]);return e})({},super.createHelpers(e))}use(e){return super.use(e),(bi.root(e)||e instanceof Nl)&&e.use(new Ti(this)),this}codeExists(e,t){return new Si(gi.toArr(t)).find(e)}messageExists(e,t){return new Si(gi.toArr(t)).find(e)}},e.DocRoot=Nl,e.DocVisitor=uu,e.assertBuiltIn=Bu,e.assertGoto=Fu,e.assertPopUpView=Gu,e.assertRef=Ku,e.assertUtils=Ru,e.assertViewTag=qu,e.createAssert=Uu,e.createAsyncAssert=function({cond:e,fn:t}){return{cond:Nu((function e(t,n,r){return bi.fnc(r)?r(n):bi.arr(r)?r.some((r=>e(t,n,r))):!(!bi.obj(r)||!function(e,...t){return gi.toArr(null!=e?e:[]).every((e=>null==e?void 0:e(...t)))}(Du(t,r),n))}),e),fn:Nu(t,Ru)}},e.createFileSystem=function e(t){if("function"==typeof t){const n=t();return e.call(this,((e,t)=>Cn(e,jn(t)))(((e,t)=>{for(var n in t||(t={}))Mn.call(t,n)&&Dn(e,n,t[n]);if($n)for(var n of $n(t))Rn.call(t,n)&&Dn(e,n,t[n]);return e})({},n),{readFile:n.readFileSync,readdir:n.readdirSync,writeFile:n.writeFileSync}))}let n=null==t?void 0:t.existsSync,r=null==t?void 0:t.isAbsolute,s=null==t?void 0:t.readFile,i=null==t?void 0:t.writeFile,o=null==t?void 0:t.readJson,a=null==t?void 0:t.writeJson,c=null==t?void 0:t.readdir,l=null==t?void 0:t.parseFilePath;function u(e){return e.startsWith("file:")||e.startsWith("/")||/^[a-zA-Z]{1,3}:\//i.test(e)&&!e.startsWith("http")&&!e.startsWith("ws:")||r(e)}const f={existsSync:n,getFileName:function(e){return l?l(e).base:e.includes("/")?e.substring(e.lastIndexOf("/")+1):e},isFilepath:u,readFile:function(e,t){return null==s?void 0:s(e,t||"utf8")},writeFile:i,readJson:o,writeJson:a,readdir:c,readAst:function(e){if(u(e)){if(!s)throw new Error("Cannot load yml AST without a readFile implementation");return An.parseDocument(null==s?void 0:s(e,"utf8"),{logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0})}return An.parseDocument(e,{logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0})},readCst:function(e){const t=new An.Parser;if(u(e)){if(!s)throw new Error("Cannot load yml AST without a readFile implementation");return t.parse(null==s?void 0:s(e,"utf8"))}return t.parse(e)}};return Object.defineProperty(f,"_id_",{configurable:!1,enumerable:!1,writable:!1,value:Tn.fs}),f},e.deref=_u,e.factory=Ff,e.get=hl,e.getJsType=Gl,e.getNodeType=Oi,e.getYamlNodeKind=Ei,e.has=cl,e.if=function(e){const[t,n,r]=function(e){const t=e.get("if");let n;return n=fl.seqNode(t)?[t.get(0,!1),t.get(1,!1),t.get(2,!1)]:t.slice(0,3),n}(e);return"function"==typeof t?t()?n:r:fl.scalarNode(t)?t.value?n:r:fl.pairNode(t)?Ii(t.value)?n:r:t?n:r},e.is=fl,e.merge=function(e,t,{root:n,rootKey:r}={}){let s,i;if((bi.str(t)||An.isScalar(t))&&function(e){return fl.scalarNode(e)&&bi.str(e.value)&&fl.reference(e)||bi.str(e)&&e.startsWith(".")}(t)&&(i=bi.str(t)?t:t.value),fl.nil(e))return i?_u({node:i,root:n,rootKey:r}).value:t;switch(Ei(e)){case In.Map:case In.Seq:case In.Pair:case In.Scalar:case In.Document:switch(s=pl(i?_u({node:i,root:n,rootKey:r}).value:t),Ei(s)){case In.Unknown:case In.Seq:case In.Pair:case In.Scalar:fl.seqNode(e)&&(fl.seqNode(s)?s.items.forEach((t=>e.add(pl(t)))):fl.pairNode(s)?e.add(pl(s.value)):e.add(pl(s)));break;case In.Map:case In.Document:{let t;if(fl.mapNode(s))t=s;else{const e=s;fl.mapNode(e.contents)&&(t=e.contents)}t?fl.mapNode(t)&&t.items.forEach((t=>{fl.mapNode(e)&&e.set(t.key,t.value)})):null!=s&&(Array.isArray(s)||"object"==typeof s&&Object.entries(s).forEach((([t,n])=>e.set(Ii(t),pl(n)))));break}}return e;default:return e}},e.replace=function(e,t,n){return fl.scalarNode(e)||fl.pairNode(e)?e.value=t:(fl.mapNode(e)||fl.seqNode(e)||fl.root(e))&&e.set(t,n),e},e.set=dl,e.toDoc=function(e,t){const n=Rl(Rl({},Dl),t);return"string"==typeof e?An.parseDocument(e,n):null!==e&&"object"==typeof e?new An.Document(e,n):void 0},e.toJson=function(e,t){return An.isDocument(e)?e.toJSON():"string"==typeof e?An.parse(e,Rl(Rl({},Dl),t)):e},e.toYml=function(e,t){return"string"==typeof e?e:null!==e?An.stringify(e,Rl(Rl({},Dl),t)):""},e.unwrap=Ii,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);