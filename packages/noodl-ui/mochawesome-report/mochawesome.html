<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:8,&quot;tests&quot;:18,&quot;passes&quot;:11,&quot;pending&quot;:6,&quot;failures&quot;:1,&quot;start&quot;:&quot;2020-11-14T20:14:29.427Z&quot;,&quot;end&quot;:&quot;2020-11-14T20:14:29.445Z&quot;,&quot;duration&quot;:18,&quot;testsRegistered&quot;:18,&quot;passPercent&quot;:91.66666666666666,&quot;pendingPercent&quot;:33.33333333333333,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;2f07b9c4-8430-4831-9918-9e34d31e183e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;test_utils_1.noodlui.init();\nconsole.clear();\nlogsnap_1.default.disable();\nlogsnap_1.default.create = () =&gt; Object.assign({\n    func() {\n        return this;\n    },\n    log() {\n        return this;\n    },\n}, lodash_1.default.reduce(lodash_1.default.keys(logsnap_1._color), (acc, key) =&gt; lodash_1.default.assign(acc, { [key]: lodash_1.default.noop }), {}));\ntry {\n    logSpy = sinon_1.default.stub(global.console, &#x27;log&#x27;).callsFake(() =&gt; lodash_1.default.noop);\n}\ncatch (error) { }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b31a48a2-07bd-42bb-a597-fb654890b4e7&quot;,&quot;parentUUID&quot;:&quot;2f07b9c4-8430-4831-9918-9e34d31e183e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;actions = [popUpDismissAction, updateObjectAction, pageJumpAction];\nactionChain = new ActionChain_1.default(actions, {});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7db6b14d-071c-4240-8b42-e157f52ead85&quot;,&quot;parentUUID&quot;:&quot;2f07b9c4-8430-4831-9918-9e34d31e183e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a;\n(_a = logSpy === null || logSpy === void 0 ? void 0 : logSpy.restore) === null || _a === void 0 ? void 0 : _a.call(logSpy);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f14e6c6a-8c9b-4d35-9390-59e5f62163d8&quot;,&quot;parentUUID&quot;:&quot;2f07b9c4-8430-4831-9918-9e34d31e183e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;document.body.textContent = &#x27;&#x27;;\ntest_utils_1.noodlui.cleanup();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47f1700e-ca20-45fd-a71d-3ee24bd4119c&quot;,&quot;parentUUID&quot;:&quot;2f07b9c4-8430-4831-9918-9e34d31e183e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1aca0c30-a0d3-40c6-8dad-caf38b9f1250&quot;,&quot;title&quot;:&quot;ActionChain&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the \&quot;status\&quot; property when starting the action chain&quot;,&quot;fullTitle&quot;:&quot;ActionChain should update the \&quot;status\&quot; property when starting the action chain&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const actionChain = new ActionChain_1.default([pageJumpAction], {});\nconst btn = document.createElement(&#x27;button&#x27;);\nbtn.addEventListener(&#x27;click&#x27;, async (args) =&gt; {\n    const fn = actionChain.build({ parser });\n    await fn(args);\n    return chai_1.expect(actionChain.status).to.eq(&#x27;done&#x27;);\n});\nchai_1.expect(actionChain.status).to.equal(null);\nbtn.click();\nchai_1.expect(actionChain.status).to.equal(&#x27;in.progress&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21a712f5-69d7-44ac-adec-355a85fcd339&quot;,&quot;parentUUID&quot;:&quot;1aca0c30-a0d3-40c6-8dad-caf38b9f1250&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the status should be an object with an \&quot;aborted\&quot; property after explicitly calling \&quot;abort\&quot;&quot;,&quot;fullTitle&quot;:&quot;ActionChain the status should be an object with an \&quot;aborted\&quot; property after explicitly calling \&quot;abort\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;450916da-a387-41c5-9955-29c374b76dab&quot;,&quot;parentUUID&quot;:&quot;1aca0c30-a0d3-40c6-8dad-caf38b9f1250&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;calling abort should reset the queue&quot;,&quot;fullTitle&quot;:&quot;ActionChain calling abort should reset the queue&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bd2bf61-edf2-4e84-bd70-41a89ebc837b&quot;,&quot;parentUUID&quot;:&quot;1aca0c30-a0d3-40c6-8dad-caf38b9f1250&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;skipped actions should have the status \&quot;aborted\&quot; with some \&quot;unregistered callback\&quot; reason&quot;,&quot;fullTitle&quot;:&quot;ActionChain skipped actions should have the status \&quot;aborted\&quot; with some \&quot;unregistered callback\&quot; reason&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b82f64d2-a92d-4bf4-82d9-6b0644562f86&quot;,&quot;parentUUID&quot;:&quot;1aca0c30-a0d3-40c6-8dad-caf38b9f1250&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;75132384-9cf6-440a-9224-1bd26813a48c&quot;,&quot;title&quot;:&quot;when adding actions&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should set the builtIns either by using a single object or an array&quot;,&quot;fullTitle&quot;:&quot;ActionChain when adding actions should set the builtIns either by using a single object or an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockBuiltInFn = sinon_1.default.spy();\nactionChain = new ActionChain_1.default(actions, {});\nchai_1.expect(actionChain.fns.builtIn).not.to.have.property(&#x27;hello&#x27;);\nchai_1.expect(actionChain.fns.builtIn).not.to.have.property(&#x27;hi&#x27;);\nchai_1.expect(actionChain.fns.builtIn).not.to.have.property(&#x27;monster&#x27;);\nchai_1.expect(actionChain.fns.builtIn).not.to.have.property(&#x27;dopple&#x27;);\nactionChain.useBuiltIn({ funcName: &#x27;hello&#x27;, fn: mockBuiltInFn });\nchai_1.expect(actionChain.fns.builtIn)\n    .to.have.property(&#x27;hello&#x27;)\n    .that.includes(mockBuiltInFn);\nactionChain.useBuiltIn({ funcName: &#x27;lion&#x27;, fn: [mockBuiltInFn] });\nchai_1.expect(actionChain.fns.builtIn)\n    .to.have.property(&#x27;lion&#x27;)\n    .that.includes(mockBuiltInFn);\nactionChain.useBuiltIn([{ funcName: &#x27;hi&#x27;, fn: mockBuiltInFn }]);\nchai_1.expect(actionChain.fns.builtIn)\n    .to.have.property(&#x27;hi&#x27;)\n    .that.includes(mockBuiltInFn);\nactionChain.useBuiltIn([\n    {\n        funcName: &#x27;monster&#x27;,\n        fn: [mockBuiltInFn, mockBuiltInFn, mockBuiltInFn],\n    },\n]);\nchai_1.expect(actionChain.fns.builtIn)\n    .to.have.property(&#x27;monster&#x27;)\n    .that.is.an(&#x27;array&#x27;)\n    .that.includes(mockBuiltInFn)\n    .with.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4246abb4-f876-4762-8e9f-f6b6cfd2f578&quot;,&quot;parentUUID&quot;:&quot;75132384-9cf6-440a-9224-1bd26813a48c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the actions&quot;,&quot;fullTitle&quot;:&quot;ActionChain when adding actions should set the actions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const actionChain = new ActionChain_1.default(actions, {});\nconst popup = sinon_1.default.spy();\nconst update = sinon_1.default.spy();\nconst popupObj = { actionType: &#x27;popUp&#x27;, fn: [popup] };\nconst updateObj = { actionType: &#x27;updateObject&#x27;, fn: update };\nactionChain.useAction(popupObj);\nactionChain.useAction([updateObj]);\nchai_1.expect(actionChain.fns.action).to.have.property(&#x27;popUp&#x27;);\nchai_1.expect(actionChain.fns.action.popUp)\n    .to.be.an(&#x27;array&#x27;)\n    .that.includes(popup);\nchai_1.expect(actionChain.fns.action.updateObject).to.have.lengthOf(1);\nchai_1.expect(actionChain.fns.action).to.have.property(&#x27;updateObject&#x27;);\nchai_1.expect(actionChain.fns.action.updateObject)\n    .to.be.an(&#x27;array&#x27;)\n    .that.includes(update);\nchai_1.expect(actionChain.fns.action.updateObject).to.have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2bb0553-1ad4-4704-ab2e-00466822e1d7&quot;,&quot;parentUUID&quot;:&quot;75132384-9cf6-440a-9224-1bd26813a48c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should forward the built ins to useBuiltIn if any builtIn objects were passed in&quot;,&quot;fullTitle&quot;:&quot;ActionChain when adding actions should forward the built ins to useBuiltIn if any builtIn objects were passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e0c8e64-340b-475a-9507-b73a83ec88bd&quot;,&quot;parentUUID&quot;:&quot;75132384-9cf6-440a-9224-1bd26813a48c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4246abb4-f876-4762-8e9f-f6b6cfd2f578&quot;,&quot;f2bb0553-1ad4-4704-ab2e-00466822e1d7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;5e0c8e64-340b-475a-9507-b73a83ec88bd&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8e6bdd70-d778-443c-9e0f-f6c54008a67d&quot;,&quot;title&quot;:&quot;when creating actions&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an action instance when registering builtIn objects&quot;,&quot;fullTitle&quot;:&quot;ActionChain when creating actions should return an action instance when registering builtIn objects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(actionChain.createAction({ actionType: &#x27;builtIn&#x27;, funcName: &#x27;hello&#x27; })).to.be.instanceOf(Action_1.default);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b44eb34-0836-4e5c-aa68-0132e03a7840&quot;,&quot;parentUUID&quot;:&quot;8e6bdd70-d778-443c-9e0f-f6c54008a67d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an action instance when registering custom objects (non builtIns)&quot;,&quot;fullTitle&quot;:&quot;ActionChain when creating actions should return an action instance when registering custom objects (non builtIns)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(actionChain.createAction({\n    actionType: &#x27;pageJump&#x27;,\n    destination: &#x27;hello&#x27;,\n})).to.be.instanceOf(Action_1.default);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f48ea81-337e-48a3-9522-371430af186f&quot;,&quot;parentUUID&quot;:&quot;8e6bdd70-d778-443c-9e0f-f6c54008a67d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b44eb34-0836-4e5c-aa68-0132e03a7840&quot;,&quot;9f48ea81-337e-48a3-9522-371430af186f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;553a3c01-15b6-4313-87ca-d8281e81bf2b&quot;,&quot;title&quot;:&quot;when running actions&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the builtIn funcs that were registered by their funcName when being run&quot;,&quot;fullTitle&quot;:&quot;ActionChain when running actions should call the builtIn funcs that were registered by their funcName when being run&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const actionChain = new ActionChain_1.default([...actions, { actionType: &#x27;builtIn&#x27;, funcName: &#x27;red&#x27; }], {});\nconst spy = sinon_1.default.spy();\nactionChain.useBuiltIn({ funcName: &#x27;red&#x27;, fn: spy });\nconst func = actionChain.build({});\nawait func();\nchai_1.expect(spy.called).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bd0f45f-a217-4244-aa59-f65a3f3e86ab&quot;,&quot;parentUUID&quot;:&quot;553a3c01-15b6-4313-87ca-d8281e81bf2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the non-builtIn funcs that were registered by actionType when being run&quot;,&quot;fullTitle&quot;:&quot;ActionChain when running actions should call the non-builtIn funcs that were registered by actionType when being run&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const actionChain = new ActionChain_1.default(actions, {});\nconst spy = sinon_1.default.spy();\nactionChain.useAction({ actionType: &#x27;popUpDismiss&#x27;, fn: spy });\nconst func = actionChain.build({});\nawait func();\nchai_1.expect(spy.called).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;296166fe-22be-48e4-81cd-f62af5a6ef36&quot;,&quot;parentUUID&quot;:&quot;553a3c01-15b6-4313-87ca-d8281e81bf2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pass in the anonymous func into the anonymous action callback&quot;,&quot;fullTitle&quot;:&quot;ActionChain when running actions should pass in the anonymous func into the anonymous action callback&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const spy = sinon_1.default.spy();\nconst component = new List_1.default();\nconst actionChain = new ActionChain_1.default([pageJumpAction, { actionType: &#x27;anonymous&#x27;, fn: spy }], { component });\nconst execute = actionChain.build({ trigger: &#x27;onClick&#x27; });\nawait execute();\nchai_1.expect(spy.firstCall.args[0].original)\n    .to.have.property(&#x27;fn&#x27;)\n    .that.is.a(&#x27;function&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10454056-0051-4245-9ad4-224609a2f7cf&quot;,&quot;parentUUID&quot;:&quot;553a3c01-15b6-4313-87ca-d8281e81bf2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should receive the component in callback options&quot;,&quot;fullTitle&quot;:&quot;ActionChain when running actions should receive the component in callback options&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const spy = sinon_1.default.spy();\nconst component = new List_1.default();\nconst actionChain = new ActionChain_1.default([{ actionType: &#x27;anonymous&#x27;, fn: spy }], { component });\nconst execute = actionChain.build({\n    context: {},\n    trigger: &#x27;onClick&#x27;,\n});\nawait execute({});\nchai_1.expect(spy.called).to.be.true;\nchai_1.expect(spy.firstCall.args[1])\n    .to.have.property(&#x27;component&#x27;)\n    .that.is.equal(component);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1fcae96-005f-44dc-aa55-12bea326ce31&quot;,&quot;parentUUID&quot;:&quot;553a3c01-15b6-4313-87ca-d8281e81bf2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9bd0f45f-a217-4244-aa59-f65a3f3e86ab&quot;,&quot;296166fe-22be-48e4-81cd-f62af5a6ef36&quot;,&quot;10454056-0051-4245-9ad4-224609a2f7cf&quot;,&quot;d1fcae96-005f-44dc-aa55-12bea326ce31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4179d9da-7ddd-48cb-977f-002f9bba36f9&quot;,&quot;title&quot;:&quot;when calling an action&#x27;s &#x27;execute&#x27; method&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should pass the component instance to args&quot;,&quot;fullTitle&quot;:&quot;ActionChain when calling an action&#x27;s &#x27;execute&#x27; method should pass the component instance to args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const spy = sinon_1.default.spy();\ntest_utils_1.noodlui.use({ actionType: &#x27;anonymous&#x27;, fn: spy });\nconst component = new List_1.default();\nconst actionChain = new ActionChain_1.default([spy], { component });\nawait actionChain.build({})({});\nchai_1.expect(spy.firstCall.args[1])\n    .to.have.property(&#x27;component&#x27;)\n    .that.is.eq(component);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fc68aba-30b2-495b-b2fb-b543bec7db36&quot;,&quot;parentUUID&quot;:&quot;4179d9da-7ddd-48cb-977f-002f9bba36f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bbc9560a-a01e-46aa-96b8-074b162bacca&quot;,&quot;title&quot;:&quot;if the caller returned an object&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should inject the result to the beginning of the queue if the result is an action noodl object&quot;,&quot;fullTitle&quot;:&quot;ActionChain when calling an action&#x27;s &#x27;execute&#x27; method if the caller returned an object should inject the result to the beginning of the queue if the result is an action noodl object&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fa66f4c-e161-4928-b44f-8e5b7cc82702&quot;,&quot;parentUUID&quot;:&quot;bbc9560a-a01e-46aa-96b8-074b162bacca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add the object to the \&quot;intermediary\&quot; list if the returned result was an action noodl object&quot;,&quot;fullTitle&quot;:&quot;ActionChain when calling an action&#x27;s &#x27;execute&#x27; method if the caller returned an object should add the object to the \&quot;intermediary\&quot; list if the returned result was an action noodl object&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;780969d9-6f45-4c63-b8d5-59c6b3713ba6&quot;,&quot;parentUUID&quot;:&quot;bbc9560a-a01e-46aa-96b8-074b162bacca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3fa66f4c-e161-4928-b44f-8e5b7cc82702&quot;,&quot;780969d9-6f45-4c63-b8d5-59c6b3713ba6&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3b21a12d-1055-4426-ae6a-ac91d49bf132&quot;,&quot;title&quot;:&quot;when executing emit actions&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should pass iteratorVar, listItem, and dataObject to args&quot;,&quot;fullTitle&quot;:&quot;ActionChain when calling an action&#x27;s &#x27;execute&#x27; method when executing emit actions should pass iteratorVar, listItem, and dataObject to args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a;\nconst spy = sinon_1.default.spy();\ntest_utils_1.noodlui.use({ actionType: &#x27;emit&#x27;, fn: spy });\nconst iteratorVar = &#x27;hello&#x27;;\nconst viewTag = &#x27;pastMedicalHistoryTag&#x27;;\nconst noodlList = {\n    type: &#x27;list&#x27;,\n    listObject: [{ key: &#x27;Gender&#x27;, value: &#x27;&#x27; }],\n    iteratorVar,\n    contentType: &#x27;list&#x27;,\n    children: [],\n};\nconst noodlListItem = {\n    type: &#x27;listItem&#x27;,\n    [iteratorVar]: &#x27;&#x27;,\n    viewTag,\n    children: [\n        helpers.createImageComponent({\n            path: helpers.createIfObject({\n                &#x27;.builtIn.object.has&#x27;: [\n                    { object: &#x27;..formData&#x27; },\n                    { key: `${iteratorVar}.key` },\n                ],\n            }, &#x27;selectOn.png&#x27;, &#x27;selectOff.png&#x27;),\n            onClick: [\n                helpers.getEmitObject({ iteratorVar }),\n                helpers.getRedrawBuiltInObject({ viewTag }),\n            ],\n        }),\n    ],\n};\nnoodlList.children.push(noodlListItem);\nconst list = test_utils_1.noodlui.resolveComponents(noodlList);\nconst listItem = list.child();\nconst image = listItem === null || listItem === void 0 ? void 0 : listItem.child();\nconst actionChain = new ActionChain_1.default(noodlListItem.children[0].onClick, {\n    component: image,\n});\nconst execute = actionChain.build({ trigger: &#x27;onClick&#x27; });\nawait execute({});\nconsole.info(noodlListItem.children[0].onClick);\nconsole.info(spy.called);\nconst args = ((_a = spy.firstCall) === null || _a === void 0 ? void 0 : _a.args[1]) || {};\nchai_1.expect(args).to.have.property(&#x27;iteratorVar&#x27;, iteratorVar);\nchai_1.expect(args).to.have.property(&#x27;listItem&#x27;, listItem);\nchai_1.expect(args).to.have.property(&#x27;dataObject&#x27;, listItem.getDataObject());\nchai_1.expect(args).to.have.property(&#x27;dataObject&#x27;, noodlList.listObject[0]);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected {} to have property &#x27;iteratorVar&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: expected {} to have property &#x27;iteratorVar&#x27;\n    at Context.&lt;anonymous&gt; (src/__tests__/ActionChain.test.ts:279:45)&quot;},&quot;uuid&quot;:&quot;d6ea7f1d-c6d4-470c-a097-d1dced8bcf85&quot;,&quot;parentUUID&quot;:&quot;3b21a12d-1055-4426-ae6a-ac91d49bf132&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;d6ea7f1d-c6d4-470c-a097-d1dced8bcf85&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;6fc68aba-30b2-495b-b2fb-b543bec7db36&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8c2151e7-9bd5-4de4-a593-9e373dc9c430&quot;,&quot;title&quot;:&quot;when action chains finish&quot;,&quot;fullFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/src/__tests__/ActionChain.test.ts&quot;,&quot;file&quot;:&quot;/src/__tests__/ActionChain.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should refresh after done running&quot;,&quot;fullTitle&quot;:&quot;ActionChain when action chains finish should refresh after done running&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a;\nconst spy = sinon_1.default.spy();\nconst actionChain = new ActionChain_1.default([pageJumpAction], {});\nconst onClick = actionChain\n    .useAction([{ actionType: &#x27;pageJump&#x27;, fn: spy }])\n    .build({});\nawait onClick({});\nconst refreshedAction = (_a = actionChain.actions) === null || _a === void 0 ? void 0 : _a[0];\nconst refreshedQueue = actionChain.getQueue();\nchai_1.expect(refreshedAction.status).to.be.null;\nchai_1.expect(refreshedQueue).to.have.lengthOf(1);\nchai_1.expect(refreshedQueue[0].status).to.be.null;\n// expect(refreshedQueue[0].).to.&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1264e6ab-1092-4ae7-8853-d0a7b60d3081&quot;,&quot;parentUUID&quot;:&quot;8c2151e7-9bd5-4de4-a593-9e373dc9c430&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1264e6ab-1092-4ae7-8853-d0a7b60d3081&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;21a712f5-69d7-44ac-adec-355a85fcd339&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;450916da-a387-41c5-9955-29c374b76dab&quot;,&quot;0bd2bf61-edf2-4e84-bd70-41a89ebc837b&quot;,&quot;b82f64d2-a92d-4bf4-82d9-6b0644562f86&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;noodl-ui&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/christ/aitmed-noodl-web/packages/noodl-ui/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>