PROneEdit:
  title: PR-1
  init: 
    - .SignInCheck
    # 页面进入时就创建文档
    - =..apiRequest.pROne.docAPI.store: ""
    # 将创建的文档数据重新给pROne进行update
    - ..apiRequest.pROne.docReq@: =..apiRequest.pROne.docResp.doc
    # 日期
    - actionType: evalObject
      object: .BaseDate.getDate
  # 获取insurerName
    - if:
        - =.Global.formData.patientInfo.name.data.insuranceId
        - actionType: evalObject
          object:
            - =..apiRequest.insurance.docAPI.get: ""
            - ..apiRequest.pROne.docReq.name.data.prOneInfo.insurerName@: =..apiRequest.insurance.docResp.doc.0.name.data.memberId
        - continue
  # 获取specialty
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.specialty
            dataOut: PROneEdit.formData.specialtyLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.specialtyLength
                  string2: "0"
            - .PROneEdit.apiRequest.pROne.docReq.name.data.providerInfo.specialty@: ""
            - .PROneEdit.apiRequest.pROne.docReq.name.data.providerInfo.specialty@: =.Global.formData.providerInfo.name.data.specialty.0.specialty
    - if:
        - =.Global.formData.medicalRecords.id
        - actionType: evalObject
          object:
            - ..apiRequest.pROne.docReq@: =.Global.formData.medicalRecords
            - ..formData.seclectStatus@: =.Global.formData.medicalRecords.name.data.seclectStatus
            - ..apiRequest.pROne.docReq.name.data.providerInfo.date@: =.Global.formData.medicalRecords.ctime      
        - continue
  # 拼串address
    - =.builtIn.string.concat:
        dataIn:
          - =.Global.formData.patientInfo.name.data.employment.address.line
          - ""
          - =.Global.formData.patientInfo.name.data.employment.address.secondLine
        dataOut: PROneEdit.apiRequest.pROne.docReq.name.data.prOneInfo.address
  # 判断是否签名
    - actionType: evalObject
      object:
        - if:
          - =.PROneEdit.apiRequest.pROne.docReq.name.data.whetherSign
          - continue
        # 非空修改显示的标识,刷新签名区域
          - actionType: evalObject
            object:
            # 签名的时间
              - ..formData.temporarySignature@: =.PROneEdit.apiRequest.pROne.docReq.name.data.signatureId
              - ..formData.flag@: "block"
              - actionType: builtIn
                funcName: redraw
                viewTag: signatureShowTag
    # 判断medicalLicense是否为空
    - =.builtIn.array.getListLength:
        dataIn:
          object: =.Global.formData.providerInfo.name.data.MedicalLicense
        dataOut: PROneEdit.formData.licenseLength
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =..formData.licenseLength
              string2: "0"
        - .PROneEdit.apiRequest.pROne.docReq.name.data.providerInfo.calNumber@: ""
        - .PROneEdit.apiRequest.pROne.docReq.name.data.providerInfo.calNumber@: =.Global.formData.providerInfo.name.data.MedicalLicense.0.medicalLicense
    # 判断Diagnoses
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
            dataOut: PROneEdit.formData.listDatalength
  
    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
            - actionType: evalObject
              object:
                - ..formData.listDataflag@: "block"
                - actionType: builtIn
                  funcName: redraw
                  viewTag: listData
  
    - actionType: evalObject
      object:
        - =.builtIn.date.LoopToGenerate:
            dataIn:
              span: 60
            dataOut: PROneEdit.formDataTemp.timeSpan 


  formDataTemp: 
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    treatmentTemp:
      - key: isTreatment
        value: "Yes"
      - key: isTreatment
        value: "No"   
    involvedTemp:
      - key: isInvolved
        value: "Yes"
      - key: isInvolved
        value: "No"  
    illnessTemp:
      - key: isIllness
        value: "Yes"
      - key: isIllness
        value: "No"
    recoveryTemp:
      - key: isRecovery
        value: "Yes"
      - key: isRecovery
        value: "No"    
    workTemp:
      - key: isWork
        value: "Yes"
      - key: isWork
        value: "No"
    timeSpan: []
    privateTag: 
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag: 
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"

  formData: 
    dataTagFlag: ""
    flag: "none"
    whetherSign: ""
    # whetherSign: true
    temporarySignature: ""
    seclectStatus:
      treatment:
        isTreatment: ""
      involved: 
        isInvolved: ""
      illness:
        isIllness: ""
      recovery:
        isRecovery: ""
      work:
        isWork: ""
    empty: []
    selectedDiagnosis: ""
    listDatalength: ""
    boxFlag: "block"
    listDataflag: "none"
    specialtyLength: ""
    licenseLength: ""
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    privateTag: 
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag: 
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  apiRequest: 
    # 签名文档
    newSign:
      docResp: ""
      docReq: #DOC
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.formData.meetingDocEid
        subtype:
          mediaType: "" # mediaType : "image/jpeg"
      docAPI: # DOCAPI
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROneEdit.apiRequest.newSign.docReq
          dataOut: PROneEdit.apiRequest.newSign.docResp

    # pROne文档
    pROne:
      deleteReq: 
        id: ""
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.formData.meetingDocEid
        reid: ""
        type: .DocType.pROne
        name:
          title: "PR-1"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "text/plain"
          subtype: "0" #0是未完成，1是完成
          data:
            signatureId: ""
            whetherSign: "true"
            fontcolor: ""
            authority: ""
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xe9f2fc"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            patientInfo:
              name: .Global.formData.patientInfo.name.data.basicInfo.fullName
              address: .Global.formData.patientInfo.name.data.contactInfo.address.fullAddress
              sex: .Global.formData.patientInfo.name.data.basicInfo.gender
              phone: .Global.formData.patientInfo.name.data.basicInfo.phone
              DOB: .Global.formData.patientInfo.name.data.basicInfo.dateOfBirth
              secNumber: .Global.formData.patientInfo.name.data.basicInfo.socialSecurity
              addressOcc: ""
              injuryOcc: ""
              country: ""
              injuryTime: 
                date: ""
                hour: ""
              workDate: ""
              examTme:
                date: ""
                hour: ""  
              accidentDesc: ""
              subComplaint: ""
              objFind:
                phyExam: ""
                xRay: ""  
            providerInfo:
              calNumber: ""
              physicianName: .Global.formData.providerInfo.name.data.fullName
              execute: ""
              specialty: ""
              address: .Global.currentFacility.name.basicInfo.location
              phoneNumber: .Global.currentFacility.name.basicInfo.phoneNumber
              date: ""
            prOneInfo:
              insurerName: ""
              employerName: .Global.formData.patientInfo.name.data.employment.employerName
              address: ""
              city: .Global.formData.patientInfo.name.data.employment.address.city
              zipCode: .Global.formData.patientInfo.name.data.employment.address.zipCode
              business: .Global.formData.patientInfo.name.data.employment.NatureBusiness
              occupation: .Global.formData.patientInfo.name.data.employment.Occupation
            diagnosis: 
              descriptiveList: []
              noExplain: ""
              yesExplain: ""
              useReverse: ""
              duration: ""
              location: ""
              dateAdmit: ""
              estStay: ""
              regularWork: ""
              modifiedWork: ""
              restrictions: ""
            seclectStatus: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROneEdit.apiRequest.pROne.docReq
          dataOut: PROneEdit.apiRequest.pROne.docResp
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: pROne.docResp
          id: .Global.formData.medicalRecords.id
          xfname: eid
          type: .DocType.pROne
          maxcount: "1"
        delete:
          api: dx
          dataIn: PROneEdit.apiRequest.pROne.docReq
    insurance:
      docResp: ""
      docReq:
        type: .DocType.InsuranceCard
        id: .Global.formData.patientInfo.name.data.insuranceId
        # xfname: eid
        _nonce: =.Global._nonce
        obfname: ctime
      docAPI:
        get:
          api: rd
          dataIn: PROneEdit.apiRequest.insurance.docReq
          dataOut: PROneEdit.apiRequest.insurance.docResp
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style: 
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .GotoBack:
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.deleteReq.id@: =..apiRequest.pROne.docResp.doc.id
                    - =..apiRequest.pROne.docAPI.delete: ""
                - actionType: builtIn
                  funcName: goBack
                  reload: true 
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    width: "0.39"
                    margin: "auto"
                  children:
                    - type: scrollView
                      style:
                        width: "0.39"
                        height: "0.74"
                        overflow: scroll
                      children:
                        - type: view 
                          style: 
                            marginTop: "0.02"
                            width: "0.39"
                            height: auto
                          children:
                            - type: label
                              text: State of California
                              style:
                                fontFamily: "Poppins"
                                fontSize: .Nfont.nf5
                                height: auto
                                width: "0.39"
                                textAlign: 
                                  x: center
                                  y: center
                            - type: label
                              text: "DOCTOR’S FIRST REPORT OF OCCU-PATIONAL INJURY OR ILLNESS"
                              style:
                                marginTop: "0.01"
                                fontFamily: "Poppins"
                                fontSize: .Nfont.nf5
                                height: auto
                                width: "0.39"
                                textAlign: 
                                  x: center
                                  y: center
                            - type: label
                              text: "Within 5 days of your initial examination, for every occupational injury or illness, send two copies of this report to the employer’s workers’ compensation insurance carrier or the insured employer. Failure to file a timely doctor’s report may result in assessment of a civil penalty. In the case of diagnosed or suspected pesticide poisoning, send a copy of the report to Department of Industrial Relations, P.O. Box 420603, San Francisco, CA 94142-0603, and notify your local health officer by telephone within 24 hours."
                              style:
                                marginTop: "0.02"
                                fontFamily: Poppins
                                fontSize: 1vh
                                height: auto
                                width: "0.39"    
                            - type: view
                              style:
                                marginTop: "0.025"
                                height: "0.002"
                                width: "0.39"  
                                backgroundColor: "0xdededf"  
                        - type: view
                          style:
                            marginTop: "0.02"
                            height: auto
                            width: "0.39"
                            overflow: hidden
                          children:
                              - .prOneListViewNewUINewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Insurer Name / ID
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.insurerName
                                    style:
                                      width: "0.39"
                                      boxSizing: border-box     
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Employer Name
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.employerName
                                    style:
                                      width: "0.39"
                                      boxSizing: border-box   
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Address（No. and Street）
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.address
                                    style:
                                      width: "0.39"
                                      boxSizing: border-box  
                              - .prOneListViewNewUI:
                                style:
                                  display: flex
                                  justifyContent: space-between
                                  alignItems: enter
                                children:
                                  - type: view
                                    style:
                                      left: "0"
                                      height: "auto"
                                      width: "0.18"
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: City
                                      - .prOneTextFieldNewUI:
                                        dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.city
                                        style:
                                          boxSizing: border-box 
                                          width: "0.18"
                                  - type: view
                                    style:
                                      height: "auto"
                                      width: "0.18"
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: Zip code          
                                      - .prOneTextFieldNewUI:
                                        dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.zipCode
                                        style:
                                          boxSizing: border-box   
                                          width: "0.18"                    
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Nature of business（ e.g. food manufacturing）
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.business
                                    style:
                                      boxSizing: border-box
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Occupation (Specific job title)
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.occupation
                                    style:
                                      boxSizing: border-box
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                height: "auto"
                                width: "0.39"
                              children: 
                                - type: label
                                  text: Patient
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf5
                                    fontWeight: "600"
                                    height: auto
                                    width: "0.39"  
                                - type: view
                                  style:
                                    marginTop: "0.02"
                                    height: "0.002"
                                    width: "0.39"  
                                    backgroundColor: "0xdededf"                                       
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: Patient Name
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.name
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: Address
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.address

                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: Sex
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.sex
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: Phone
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.phone
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: DOB
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.patientInfo.DOB
                            - type: view
                              style:
                                marginTop: "0.025"
                                height: "auto"
                                width: "0.39"
                              children:
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Social Security Number (Optional)
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.patientInfo.secNumber
                                    style:
                                      boxSizing: border-box
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Address No.& Street Where Inj. Occurred
                                  - .prOneTextFieldNewUI:
                                    dataKey: apiRequest.pROne.docReq.name.data.patientInfo.addressOcc
                                    style:
                                      boxSizing: border-box
                              - .prOneListViewNewUI:
                                style:
                                  display: flex
                                  justifyContent: space-between
                                  alignItems: center
                                children:
                                  - type: view
                                    style:
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: City Where Injury Occ.
                                        style:
                                          width: "0.18"
                                      - .prOneTextFieldNewUI:
                                        dataKey: apiRequest.pROne.docReq.name.data.patientInfo.injuryOcc
                                        style:
                                          boxSizing: border-box
                                          width: "0.18"
                                  - type: view
                                    style:
                                      height: "auto"
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: County
                                        style:
                                          width: "0.18"  
                                      - .prOneTextFieldNewUI:
                                        dataKey: apiRequest.pROne.docReq.name.data.patientInfo.country
                                        style:
                                          width: "0.18"
                                          boxSizing: border-box      
                              - .prOneListViewNewUI:
                                style:
                                  display: flex
                                  justifyContent: space-between
                                  alignItems: center
                                children:
                                  - type: view
                                    style:
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: Date and hour of injury or onset of illness
                                      - type: view
                                        viewTag: injuryDateTag
                                        style:
                                          display: "inline-block"
                                        onClick:
                                          - actionType: evalObject
                                            object:
                                              - ..formData.dataTagFlag@: 1
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                        children:
                                          - .prOneTextFieldNewUI:
                                            placeholder: "Select Date"
                                            isEditable: "false"
                                            dataKey: apiRequest.pROne.docReq.name.data.patientInfo.injuryTime.date
                                            style:
                                              width: "0.18"
                                              boxSizing: border-box
                                              display: "inline-block"
                                              backgroundColor: "0xcccccc33"
                                          - type: image
                                            path: calendarBlue.svg
                                            style:
                                              width: "0.01"
                                              left: "0.16"
                                              top: "0.02"
                                      - type: view
                                        style: 
                                          display: "inline-block"
                                          marginLeft: "0.03"
                                        children:
                                          - type: select
                                            dataKey: apiRequest.pROne.docReq.name.data.patientInfo.injuryTime.hour
                                            options: ..formDataTemp.timeSpan
                                            style:
                                              width: "0.18"
                                              boxSizing: border-box
                                              backgroundColor: "0xcccccc33"
                                              border:
                                                style: 3
                                              borderColor: "0xdededf"
                                              borderWidth: "1"
                                              borderRadius: "3"  
                                              fontSize: .Nfont.nf2
                                              appearance: "none"
                                              fontFamily: Poppins
                                              height: "0.035"
                                              marginTop: "0.01"
                                              textAlign:
                                                y: center
                                          - type: image
                                            path: circleClock.svg
                                            style:
                                              width: "0.01"
                                              left: "0.16"
                                              top: "0.02"
                                              
                                              
                              - .prOneListViewNewUI:
                                children:
                                  - .prOneListLabelNewUI:
                                    text: Date last worked
                                  - type: view
                                    viewTag: workDateTag
                                    style:
                                    onClick:
                                      - actionType: evalObject
                                        object:
                                          - ..formData.dataTagFlag@: 2
                                          - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: =..formData.dataTagFlag
                                                  string2: ""
                                            - continue
                                            - actionType: popUp
                                              popUpView: dateTag
                                    children:
                                      - .prOneTextFieldNewUI:
                                        dataKey: apiRequest.pROne.docReq.name.data.patientInfo.workDate
                                        isEditable: "false"
                                        text: "Select Date"
                                        style:
                                          width: "0.39"
                                          boxSizing: border-box
                                          backgroundColor: "0xcccccc33"
                                      - type: image
                                        path: calendarBlue.svg
                                        style:
                                          width: "0.01"
                                          left: "0.37"
                                          top: "0.038"
                              - .prOneListViewNewUI:
                                style:
                                  display: flex
                                  justifyContent: space-between
                                  alignItems: center
                                children:
                                  - type: view
                                    style:
                                    children:
                                      - .prOneListLabelNewUI:
                                        text: Date and hour of 1st exam or treatment
                                      - type: view
                                        viewTag: examDateTag
                                        style:
                                          display: "inline-block"
                                        onClick:
                                          - actionType: evalObject
                                            object:
                                              - ..formData.dataTagFlag@: 3
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.dataTagFlag
                                                      string2: ""
                                                - continue
                                                - actionType: popUp
                                                  popUpView: dateTag
                                        children:
                                          - .prOneTextFieldNewUI:
                                            placeholder: "Select Date"
                                            isEditable: "false"
                                            dataKey: apiRequest.pROne.docReq.name.data.patientInfo.examTme.date
                                            style:
                                              width: "0.18"
                                              boxSizing: border-box
                                              display: "inline-block"
                                              backgroundColor: "0xcccccc33"
                                          - type: image
                                            path: calendarBlue.svg
                                            style:
                                              width: "0.01"
                                              left: "0.16"
                                              top: "0.02"
                                      - type: view
                                        style: 
                                          display: "inline-block"
                                          marginLeft: "0.03"
                                        children:
                                          - type: select
                                            dataKey: apiRequest.pROne.docReq.name.data.patientInfo.examTme.hour
                                            options: ..formDataTemp.timeSpan
                                            style:
                                              width: "0.18"
                                              boxSizing: border-box
                                              backgroundColor: "0xcccccc33"
                                              border:
                                                style: 3
                                              borderColor: "0xdededf"
                                              borderWidth: "1"
                                              borderRadius: "3"  
                                              fontSize: .Nfont.nf2
                                              appearance: "none"
                                              fontFamily: Poppins
                                              height: "0.035"
                                              marginTop: "0.01"
                                              textAlign:
                                                y: center
                                          - type: image
                                            path: circleClock.svg
                                            style:
                                              width: "0.01"
                                              left: "0.16"
                                              top: "0.02"
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - .prOneListLabelNewUI:
                                  text: Have you or your office previously rendered treatment ？ 
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.treatmentTemp
                                  iteratorVar: itemObject
                                  viewTag: isTreatmentTag
                                  style:
                                    marginTop: "0.02"
                                    width: "0.39"
                                    height: "0.04"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: "0.15"
                                        left: "0"
                                        height: "0.04"
                                      children:
                                        - type: image
                                          style:
                                            top: "0.006"
                                            left: "0"
                                            height: "0.024"
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:                     
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.seclectStatus.treatment.isTreatment
                                                        string2: $var.value
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.seclectStatus.treatment.isTreatment
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.treatment
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.treatment
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isTreatmentTag
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            top: "0.006"
                                            left: "0.025"
                                            fontFamily: Poppins
                                            fontSize: .Nfont.nf2
                                            height: "0.04"    
                                        
                                - type: label
                                  text: Patient please complete this portion, if able to do so. Otherwise, doctor please complete immediately, inability or failure of a patient to complete this portion shall not affect his/her rights to workers’compensation under the California Labor Code.
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39"   
                                - type: label
                                  text: Describe how the accident or exposure happened. (Give specific object, machinery or chemical. Use reverse side if more space is required.)
                                  style:
                                    marginTop: "0.04"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.accidentDesc
                                  
                                - type: label
                                  text: SUBJECTIVE COMPLAINTS
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.subComplaint
                                  
                                    
                                - type: label
                                  text: Objective Findings
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: A. Physical Examination
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.objFind.phyExam
                                  
                                - type: label
                                  text: B. X-ray and laboratory results (State if none or pending.)
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.objFind.xRay
                                  

                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Diagnoses
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39"  
                                    fontWeight: "600" 
                                - type: label
                                  text: If occupational illness specify etiologic agent and duration of exposure.) Chemical or toxic compounds involved?
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39"   
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.involvedTemp
                                  iteratorVar: itemObject
                                  viewTag: isInvolvedTag
                                  style:
                                    marginTop: "0.02"
                                    width: "0.39"
                                    height: "0.04"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: "0.14"
                                        left: "0"
                                        height: "0.04"
                                      children:
                                        - type: image
                                          style:
                                            top: "0.006"
                                            left: "0"
                                            height: "0.024"
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:                     
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.seclectStatus.involved.isInvolved
                                                        string2: $var.value
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.seclectStatus.involved.isInvolved
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.involved
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.involved
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.seclectStatus.involved.isInvolved
                                                          string2: "Yes"
                                                    - ..formData.boxFlag@: "block"
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.boxFlag@: "none"
                                                        - ..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList@: =..formData.empty
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isInvolvedTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchBox
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: listData
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            top: "0.006"
                                            left: "0.025"
                                            fontFamily: Poppins
                                            fontSize: .Nfont.nf2
                                            height: "0.04"    
                                # 搜索框
                                - type: view
                                  viewTag: searchBox
                                  style:
                                    display: ..formData.boxFlag
                                    height: "auto"
                                    width: "0.39"
                                    overflow: hidden
                                  children:
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        height: "auto"
                                        boxSizing: border-box
                                      children:
                                        - type: view
                                          viewTag: selectDateTag
                                          style:
                                            display: "inline-block"
                                            height: "auto"
                                            width: "0.1"
                                            boxSizing: border-box
                                          children:
                                            - type: image
                                              path: searchBlue.png
                                              style:
                                                top: "0.01"
                                                left: "0.08"
                                                height: "0.02"
                                                zIndex: 10
                                            - type: textField
                                              viewTag: CodeListTag
                                              placeholder: Search
                                              dataKey: formData.diagnosis.descriptiveList.code
                                              style:
                                                height: "0.04"
                                                width: "0.1"
                                                boxSizing: border-box
                                                border:
                                                  style: 3
                                                borderRadius: "3"
                                                borderWidth: "1"
                                                borderColor: "0xcdcdcd"
                                                fontSize: .Nfont.nf3
                                              onInput:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formDataTemp.allListInfo@: []
                                                    - ..formDataTemp.allListString@: []
                                                - actionType: evalObject
                                                  object:
                                                    - =.builtIn.search.queryCode:
                                                        dataIn:
                                                          query: =..formData.diagnosis.descriptiveList.code
                                                        dataOut: PROneEdit.formDataTemp.allListInfo
                                                    - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTags
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: hide
                                                  viewTag: listData
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: ShowTag
                                                - actionType: popUp
                                                  popUpView: CodeTag
                                                  dismissOnTouchOutside: true
                                        - type: textField
                                          viewTag: descriptionTag
                                          placeholder: Description
                                          dataKey: formData.diagnosis.descriptiveList.description
                                          style:
                                            marginLeft: "0.02"
                                            display: "inline-block"
                                            height: "0.04"
                                            width: "0.27"
                                            boxSizing: border-box
                                            border:
                                              style: 3
                                            borderRadius: "3"
                                            borderWidth: "1"
                                            fontSize: .Nfont.nf3
                                            borderColor: "0xcdcdcd"
                                    - .ProNoteInitTextView:
                                      viewTag: CommentsTag
                                      placeholder: Comments
                                      isEditable: true
                                      dataKey: formData.diagnosis.descriptiveList.comment
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        height: "0.02"
                                      children:
                                        - type: label
                                          text: + add more
                                          style:
                                            marginTop: "0"
                                            fontFamily: "Arial"
                                            fontSize: "1.5vh"
                                            color: "0x1492e6"
                                            height: "0.02"
                                            width: "0.39"
                                            textAlign:
                                              x: right
                                            fontWeight: "550"
                                          onClick:
                                            - emit:
                                                actions:
                                                  - =.builtIn.array.add:
                                                      dataIn:
                                                        object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
                                                        value: =..formData.diagnosis.descriptiveList # create copy .create by value ,not reference
                                            - actionType: evalObject
                                              object:
                                                - ..formData.diagnosis.descriptiveList.code@: ""
                                                - ..formData.diagnosis.descriptiveList.description@: ""
                                                - ..formData.diagnosis.descriptiveList.comment@: ""
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: listData
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CodeListTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: descriptionTag
                                            - actionType: builtIn
                                              funcName: hide
                                              viewTag: ShowTag
                                            - actionType: builtIn
                                              funcName: show
                                              viewTag: listData
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CommentsTag
                          
                                # debug
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    height: "auto"
                                    width: "0.39"
                                  children:
                                    - type: view
                                      viewTag: CodeTag
                                      style:
                                        display: "none"
                                        width: "0.39"
                                        height: "auto"
                                        fontFamily: "Poppins"
                                        border:
                                          style: 3
                                          color: "0xeeeeee"
                                        borderWidth: "1"
                                        boxSizing: border-box
                                        zIndex: 10
                                      children:
                                        - type: scrollView
                                          viewTag: ShowTag
                                          style:
                                            height: "0.3"
                                            left: "0.02"
                                            overflow: scroll
                                          children:
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.allListString
                                              iteratorVar: itemObject
                                              viewTag: CodeTags
                                              style:
                                                width: "0.39"
                                                height: "auto"
                                                margin: "0"
                                                marginTop: "0"
                                              children:
                                                - type: listItem
                                                  itemObject: ""
                                                  style:
                                                    width: "0.39"
                                                    marginTop: "0.002"
                                                    height: "auto"
                                                  children:
                                                    - type: label
                                                      dataKey: itemObject.0.2
                                                      style:
                                                        width: "0.39"
                                                        left: "0"
                                                        textIndent: 20px
                                                        marginTop: "0"
                                                        textAlign:
                                                          x: left
                                                          y: center
                                                        height: "auto"
                                                        fontSize: "1.7vh"
                                                        color: "0x143459"
                                                      onClick:
                                                        - emit:
                                                            dataKey:
                                                              var: itemObject
                                                            actions:
                                                              - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                                              - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: CodeListTag
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: descriptionTag
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: ShowTag
                                                        - actionType: builtIn
                                                          funcName: show
                                                          viewTag: listData
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: CodeTag

                                    - type: view
                                      viewTag: listData
                                      style:
                                        width: "0.39"
                                        left: "0"
                                        height: "auto"
                                        marginTop: "0.01"
                                        display: ..formData.listDataflag
                                      children:
                                        - type: view
                                          style:
                                            marginTop: "0.01"
                                            height: "0.002"
                                            width: "0.39"
                                            backgroundColor: "0xd8d8d8"
                                        - type: list
                                          viewTag: listData
                                          contentType: listObject
                                          listObject: ..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList 
                                          iteratorVar: itemObject
                                          style:
                                            left: "0"
                                            width: "0.39"
                                            marginTop: "0.03"
                                            height: "auto"
                                            margin: "0"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style:
                                                marginTop: "0.01"
                                                width: "0.39"
                                                height: "auto"
                                                left: "0"
                                                overflow: hidden
                                              children:
                                                - type: view
                                                  style:
                                                    width: "0.39"
                                                    height: "auto"
                                                  children:
                                                    - type: image
                                                      path: deletePhoto.svg
                                                      style:
                                                        display: "inline-block"
                                                        height: "0.025"
                                                        zIndex: 10
                                                        verticalAlign: middle
                                                      onClick:
                                                        - actionType: popUp
                                                          popUpView: BaseDelWarningView
                                                        - actionType: updateObject
                                                          dataKey: formData.selectedDiagnosis
                                                          dataObject: itemObject
                                                    - type: label
                                                      dataKey: itemObject.code
                                                      style:
                                                        display: "inline-block"
                                                        marginLeft: "0.02"
                                                        height: "auto"
                                                        width: "0.1"
                                                        textAlign:
                                                          x: left
                                                        fontFamily: "Arial"
                                                        backgroundColor: "0xffffff"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.h1
                                                        fontWeight: "550"
                                                        verticalAlign: middle
                                                    - type: label
                                                      text: "-"
                                                      style:
                                                        verticalAlign: middle
                                                        display: "inline-block"
                                                        width: "auto"
                                                        height: "auto"
                                                        fontSize: .Nfont.h2
                                                    - type: label
                                                      dataKey: itemObject.description
                                                      style:
                                                        verticalAlign: middle
                                                        marginLeft: "0.02"
                                                        display: "inline-block"
                                                        height: "auto"
                                                        width: "0.2"
                                                        textAlign:
                                                          x: left
                                                        backgroundColor: "0xffffff"
                                                        fontFamily: "Arial"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.h1
                                                - type: label
                                                  dataKey: itemObject.comment
                                                  style:
                                                    marginTop: "0.002"
                                                    marginLeft: "0.035"
                                                    width: "0.34"
                                                    height: "auto"
                                                    color: "0x666666"
                                                    fontFamily: "Arial"
                                                    wordBreak: break-all
                                                    fontSize: .Nfont.h1                        
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Are your findings and diagnosis consistent with patient's account of injury or onset of illness?
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39"   
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.illnessTemp
                                  iteratorVar: itemObject
                                  viewTag: isIllnessTag
                                  style:
                                    marginTop: "0.02"
                                    width: "0.39"
                                    height: "0.04"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: "0.14"
                                        left: "0"
                                        height: "0.04"
                                      children:
                                        - type: image
                                          style:
                                            top: "0.006"
                                            left: "0"
                                            height: "0.024"
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:                     
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.seclectStatus.illness.isIllness
                                                        string2: $var.value
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.seclectStatus.illness.isIllness
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.illness
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.illness
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isIllnessTag
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            top: "0.006"
                                            left: "0.025"
                                            fontFamily: Poppins
                                            fontSize: .Nfont.nf2
                                            height: "0.04"    
                                - type: label
                                  text: "If “no,” please explain below:"
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.noExplain
                                 
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Is there any other current condition that will impede or delay patient's recovery?
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39"   
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.recoveryTemp
                                  iteratorVar: itemObject
                                  viewTag: isRecoveryTag
                                  style:
                                    marginTop: "0.02"
                                    width: "0.39"
                                    height: "0.04"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: "0.14"
                                        left: "0"
                                        height: "0.04"
                                      children:
                                        - type: image
                                          style:
                                            top: "0.006"
                                            left: "0"
                                            height: "0.024"
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:                     
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.seclectStatus.recovery.isRecovery
                                                        string2: $var.value
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.seclectStatus.recovery.isRecovery
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.recovery
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.recovery
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isRecoveryTag
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            top: "0.006"
                                            left: "0.025"
                                            fontFamily: Poppins
                                            fontSize: .Nfont.nf4
                                            height: "0.04"    
                                - type: label
                                  text: "If “yes,” please explain below:"
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.yesExplain
                                  
                                - type: label
                                  text: "TREATMENT RENDERED (Use reverse side if more space is required.)"
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.useReverse
                                 
                                - type: label
                                  text: If further treatment required, specify treatment plan/ estimated duration.
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.duration
                                 
                                - type: label
                                  text: If hospitalized as inpatient, give hospital name and location
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39" 
                                - .PROneEditTextView:
                                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.location
                                  
                                - .prOneListViewNewUI:
                                  style:
                                    display: flex
                                    justifyContent: space-between
                                    alignItems: center
                                  children:
                                    - type: view
                                      style:
                                        left: "0"
                                        width: "0.18"
                                      children:
                                        - .prOneListLabelNewUI:
                                          text: Date admitted
                                          style:
                                            width: "0.18" 
                                        - type: view
                                          viewTag: admittedTag
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 4
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag
                                          children:    
                                            - .prOneTextFieldNewUI:
                                              placeholder: "Select Date"
                                              isEditable: "false"
                                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit
                                              style:
                                                width: "0.18"
                                                boxSizing: border-box
                                                backgroundColor: "0xcccccc33"
                                                
                                            - type: image
                                              path: calendarBlue.svg
                                              style:
                                                width: "0.01"
                                                left: "0.16"
                                                top: "0.035"
                                    - type: view
                                      style:
                                        height: "auto"
                                        width: "0.18"
                                      children:
                                        - .prOneListLabelNewUI:
                                          text: Estimated length of stay
                                          style:
                                            width: "0.18"   
                                        - .prOneTextFieldNewUI:
                                          dataKey: apiRequest.pROne.docReq.name.data.diagnosis.estStay
                                          style:
                                            width: "0.18"
                                            boxSizing: border-box   
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: WORK STATUS - Is patient able to perform usual work?
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39"   
                                - type: list
                                  contentType: listObject
                                  listObject: ..formDataTemp.workTemp
                                  iteratorVar: itemObject
                                  viewTag: isWorkTag
                                  style:
                                    marginTop: "0.02"
                                    width: "0.84"
                                    height: "5vw"
                                    axis: horizontal
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: "0.14"
                                        left: "0"
                                        height: "0.04"
                                      children:
                                        - type: image
                                          style:
                                            top: "0.006"
                                            left: "0"
                                            height: "0.024"
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:                     
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.seclectStatus.work.isWork
                                                        string2: $var.value
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.seclectStatus.work.isWork
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.work
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.seclectStatus.work
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: isWorkTag
                                        - type: label
                                          dataKey: itemObject.value
                                          style:
                                            top: "0.006"
                                            left: "0.025"
                                            fontFamily: Poppins
                                            fontSize: .Nfont.nf2
                                            height: "0.04"    
                                - type: label
                                  text: If "no", date when patient can return to
                                  style:
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf4
                                    height: "auto"
                                    width: "0.39"   
                                - .prOneListViewNewUI:
                                  style:
                                    display: flex
                                    justifyContent: space-between
                                    alignItems: center
                                  children:
                                    - type: view
                                      style:
                                        width: "0.18"
                                        left: "0"
                                      children:
                                        - .prOneListLabelNewUI:
                                          text: Regular work
                                          style:
                                        - type: view
                                          viewTag: regularWorkTag
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 5
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag
                                          children:
                                            - .prOneTextFieldNewUI:
                                              placeholder: "Select Date"
                                              isEditable: "false"
                                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.regularWork
                                              style:
                                                boxSizing: border-box 
                                                width: "0.18"
                                                backgroundColor: "0xcccccc33"
                                            - type: image
                                              path: calendarBlue.svg
                                              style:
                                                width: "0.01"
                                                left: "0.16"
                                                top: "0.035"
                                    - type: view
                                      style:
                                        height: "auto"
                                        width: "0.18"
                                      children:
                                        - .prOneListLabelNewUI:
                                          text: Modified work
                                          style:
                                        - type: view
                                          viewTag: modifiedWorkTag
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 6
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag
                                          children:
                                            - .prOneTextFieldNewUI:
                                              placeholder: "Select Date"
                                              isEditable: "false"
                                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork
                                              style:
                                                boxSizing: border-box
                                                width: "0.18"
                                                backgroundColor: "0xcccccc33"
                                            - type: image
                                              path: calendarBlue.svg
                                              style:
                                                width: "0.01"
                                                left: "0.16"
                                                top: "0.035"
                                - .prOneListViewNewUI:
                                  children:
                                    - .prOneListLabelNewUI:
                                      text: Specify restrictions
                                    - .prOneTextFieldNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.diagnosis.restrictions
                                      style:
                                        width: "0.39"
                                        boxSizing: border-box
                                - type: label
                                  text: "Physician signature(original signature, do not stamp)"
                                  style:
                                    marginTop: "0.03"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39"               
                                - type: label
                                  text: "I declare under penalty of perjury that this report is true and correct to the best of my knowledge and that I have not violated Labor Code section 139.3."
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - type: view
                                  style:
                                    marginTop: "0.03"
                                    height: "auto"
                                    width: "0.39"
                                  children:
                                    - type: label
                                      text: Physician signature
                                      style:
                                        height: "auto"
                                        width: "0.4"
                                        fontSize: .Nfont.nf4
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    width: "0.39"
                                    display: flex
                                    flexDirection: column
                                    flexWrap: wrap
                                    alignContent: space-around
                                    justifyContent: center
                                  children:
                                    - type: view
                                      style:
                                        marginLeft: "0"
                                        width: "0.39"
                                      children:
                                        - type: label
                                          text: "Clear"
                                          style:
                                            color: "0xe24445"
                                            marginTop: "0.01"
                                            display: "inline-block"
                                            marginLeft: "0.33"
                                          onClick: 
                                          # 移除签名
                                            - actionType: removeSignature
                                              dataObject: BLOB
                                              dataKey: apiRequest.newSign.docReq.name.data   
                                              viewTag: signatureTag   
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: signatureTag 
                                    - .SignAreaView:
                                      style:
                                        marginLeft: "0.03"
                                      children:             
                                        - type: canvas
                                          viewTag: signatureTag  
                                          dataKey: apiRequest.newSign.docReq.name.data 
                                          style:
                                            .SignCanvasStyle:
                                        - type: label
                                          text: "X"
                                          style:
                                            .SignLabelStyle:   
                                        
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Cal. License Number"
                                      style:
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.calNumber
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Executed at"
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.execute
                                      
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Date"
                                    - .prOneLabelRightNewUI:
                                      text=func: .builtIn.string.formatNowTime
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.date
                         
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Physician Name"
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.physicianName
                                    
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Specialty"
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.specialty
                                      
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Address"
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.address
                                    
                                - .prOneLabelViewNewUI:
                                  children:
                                    - .prOneLabelLeftNewUI:
                                      text: "Phone Number"
                                    - .prOneLabelRightNewUI:
                                      dataKey: apiRequest.pROne.docReq.name.data.providerInfo.phoneNumber
                                
                                - type: label
                                  text: "Any person who makes or causes to be made any knowingly fraudulent material statement or mater-ial representation for the purpose of obtaining or denying workers’ compensation benefits or pay-ments is guilty of a felony."
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 

                            - type: view
                              style:
                                marginTop: "0.02"
                                width: "0.39"
                                textAlign: justify
                              children:
                                - type: label
                                  text: "PRIVACY NOTICE: "
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: "The Administrative Director is authorized to maintain the records of the Division of Workers' Compensation (DWC).(Cal. Lab. Code § 126.) The Information Practices Act of 1977 and the Federal Privacy Act require the Administrative Director to provide this notice to individuals who submit information to the DWC pertaining to a workers'compensation claim.(Cal.Civ. Code § 1798.17; Public Law 93-579.)"
                                  style:
                                    marginTop: "0.01"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: "The principal purpose for requesting information from injured workers, dependents, lien claimants, physician, employers or their representatives is to administer the California workers’ compensation system. Each form shows which fields are required to be completed for DWC to process the form. If a required field in a form is incomplete or unreadable, the DWC may return the form to the individual for correction or may reject the form. Providing a social security number is required on this form pursuant to Labor Code § 6409. If you do not provide your security number, the DWC may return the form to you for correction or reject the form. If you do not have a social security number, indicate this in the space provided for the injured worker’s social security number. As permitted by law, social security numbers are used to help properly identify injured workers and to conduct statistical research as allowed under the Labor Code."
                                  style:
                                    marginTop: "0"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: "As authorized by law, information furnished on this form may be given to: you, upon request; the public, pursuant to the Public Records Act; a governmental entity, when required by state or federal law; to any person, pursuant to a subpoena or court order pursuant to any other exception in Civil Code § 1798.24."
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: "An individual has a right of access to records containing his/her personal information that are maintained by the Administrative Director. An individual may also amend, correct, or dispute information in such personal records. (Cal. Civ. Code §§ 1798.34-1798.3.) You may request a copy of the DWC’s policies and procedures for inspection of records at the address below. Copies of the procedures and all records are ten cents ($0.10) per page, payable in advance. (Cal. Civ. Code § 1798.33.) Requests should be sent to: Division of Workers’ Compensation- Medical Unit, P.O. Box 71010, Oakland, CA 94612. Tel: (510) 286-3700 or (800) 794.6900. Fax: (510) 622-3467."
                                  style:
                                    marginTop: "0.02"
                                    fontFamily: Poppins
                                    fontSize: .Nfont.nf2
                                    height: "auto"
                                    width: "0.39"

            - .FormsBottomView: 
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign  
                        - actionType: evalObject
                          object:
                            - if:
                              - =..formData.whetherSign
                              - continue
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.docReq.reid@: =.PROneEdit.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: ""  
                                  - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                  - ..apiRequest.pROne.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime
                                  - ..apiRequest.pROne.docReq.name.data.whetherSign@: =..formData.whetherSign
                      # 指定reid
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.reid@: =.Global.formData.meetingDocReid
                      # 修改Type
                        - actionType: evalObject
                          object:
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.pROne.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: PROneEdit.apiRequest.pROne.docReq.type
                      
                      # 保存seclectStatus
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.name.data.seclectStatus@: =..formData.seclectStatus
                            - =..apiRequest.pROne.docAPI.store: ""       
                        - actionType: builtIn
                          funcName: goBack
                          reload: true 
                  # release button
                    - .FormsBottomRightButton: 
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign 
                
                        # 签名处理
                        - actionType: evalObject
                          object:
                            - if:
                              - =..formData.whetherSign
                              - actionType: popUp
                                popUpView: signatureWarningTag
                                wait: true
                              #- continue
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.docReq.reid@: =.PROneEdit.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: ""
                        # 保存pROne
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pROne.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.pROne.docReq.name.data.seclectStatus@: =..formData.seclectStatus
                            - ..apiRequest.pROne.docReq.name.data.whetherSign@: =..formData.whetherSign 
                            - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                            - ..apiRequest.pROne.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime
                            - ..apiRequest.pROne.docReq.name.data.statusTag@: =..formDataTemp.publicTag       
                            - =..apiRequest.pROne.docAPI.store: ""
                        
                        - actionType: builtIn
                          funcName: goBack
                          reload: true 
        - .BaseWarningView:
          msg2: "You haven't signed the form."
          viewTag: signatureWarningTag
        - type: view
          viewTag: dateTag
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 1000
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.dataTagFlag@: ""
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag                  
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..newAppointment.edge.name.setting.startDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 1
                          - ..apiRequest.pROne.docReq.name.data.patientInfo.injuryTime.date@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 2
                          - ..apiRequest.pROne.docReq.name.data.patientInfo.workDate@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 3
                          - ..apiRequest.pROne.docReq.name.data.patientInfo.examTme.date@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 4
                          - ..apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 5
                          - ..apiRequest.pROne.docReq.name.data.diagnosis.regularWork@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 6
                          - ..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork@: =.BaseDate.calendarDate.selectDate
                       
                        # 置空                         
                        - ..formData.dataTagFlag@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: injuryDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: workDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: examDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: admittedTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: regularWorkTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkTag 
                                                                                            
                    - actionType: popUpDismiss
                      popUpView: dateTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: dateTag
        - .DeleteWarningPopUp:
          msg: Are you sure you want to delete it ?
          viewTag: BaseDelWarningView
          .BackgroundPopUp: 
          children:
            - .BackgroundWhite:
              children: 
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.267"
                  children: 
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:  
                - .CancelButton: 
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
                - .DeleteButton: 
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.removeByName:
                            dataIn:
                              object: =..apiRequest.pROne.docReq.name.data.diagnosis.descriptiveList
                              key: code
                              name: =..formData.selectedDiagnosis.code
                        - ..formData.listDataflag@: "block"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: listData
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView