WorkStatusFormEdit:
  title: Work Status Form
  init: #Page initialization
    - .SignInCheck
    - =..apiRequest.workStatusForm.docAPI.store: ""
    - ..apiRequest.workStatusForm.docReq@: =..apiRequest.workStatusForm.docResp.doc
    - actionType: evalObject
      object: .BaseDate.getDate
    - if:
        - =.Global.formData.medicalRecords.id
        - actionType: evalObject
          object:
            - ..apiRequest.workStatusForm.docReq@: =.Global.formData.medicalRecords
            - ..formData.workStatus@: =.Global.formData.medicalRecords.name.data.workStatusInfo
        - continue
  # 拼串provider fullName
    - =.builtIn.string.concat:
        dataIn:
          - =.Global.formData.providerInfo.name.data.fullName
          - ","
          - =.Global.formData.providerInfo.name.data.title
        dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.providerFullName
  # 判断medicalLicense是否为空
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.MedicalLicense
            dataOut: WorkStatusFormEdit.formData.licenseLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.licenseLength
                  string2: "0"
            - .WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.LIC@: ""
            - actionType: evalObject
              object:
                - =.builtIn.string.concat:
                    dataIn:
                      - =.Global.formData.providerInfo.name.data.MedicalLicense.0.state
                      - " "
                      - =.Global.formData.providerInfo.name.data.MedicalLicense.0.medicalLicense
                    dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.LIC
    # 判断Diagnoses
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
            dataOut: WorkStatusFormEdit.formData.listDatalength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
            - actionType: evalObject
              object:
                - ..formData.listDataflag@: "block"
                - actionType: builtIn
                  funcName: redraw
                  viewTag: listData
  apiRequest: 
    newSign:
      docResp: ""
      docReq: 
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.formData.meetingDocEid
        subtype:
          mediaType: ""
      docAPI: 
        .DocAPI: ""
        store:
          api: cd
          dataIn: WorkStatusFormEdit.apiRequest.newSign.docReq
          dataOut: WorkStatusFormEdit.apiRequest.newSign.docResp

    workStatusForm:
      deleteReq:
        id: ""
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.formData.meetingDocEid
        type: .DocType.workStatusForm
        reid: ""
        name:
          title: "Work Status Form"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "text/plain"
          data:
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xe9f2fc"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            signatureId: ""
            signatureTime: ""
            whetherSign: "true"
            fontcolor: ""
            authority: ""
            diagnosis:
              descriptiveList: []
            providerInfo:
              providerFullName: ""
              LIC: ""
              website: .Global.currentFacility.name.basicInfo.website
              aiTmedId: .Global.currentFacility.name.basicInfo.locationID
              NPI: ""
              DEA: ""
              email: ""
              phone: .Global.currentFacility.name.basicInfo.phoneNumber
              fax: .Global.currentFacility.name.basicInfo.fax
            patientInfo:
              aiTmedId: .Global.formData.patientInfo.name.data.basicInfo.userName
              name: .Global.formData.patientInfo.name.data.basicInfo.fullName
              dob: ""
              phoneNumber: .Global.formData.patientInfo.name.data.basicInfo.phone
              email: .Global.formData.patientInfo.name.data.contactInfo.email
              doi: ""
              employer: .Global.formData.patientInfo.name.data.employment.employerName
            workStatusInfo: ""
            returnAppoint: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: WorkStatusFormEdit.apiRequest.workStatusForm.docReq
          dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docResp
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: workStatusForm.docResp
          id: .Global.formData.medicalRecords.id
          xfname: eid
          type: .DocType.workStatusForm
          maxcount: "1"
        delete:
          api: dx
          dataIn: WorkStatusFormEdit.apiRequest.workStatusForm.deleteReq
  formData: # Input data here
    dataTagFlag: ""
    flag: "none"
    # whetherSign: ""
    temporarySignature: ""
    signatureTime: ""
    whetherSignature: ""
    workStatus:
      status: []
      temporaryTotal:
        startDate: ""
        endDate: ""
      fullDuty:
        fullDate: ""
      modifyDuty: 
        modifyDate: ""
      location: ""
      weight: ""
      timeLength : ""
      other: ""
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    selectedDiagnosis: ""
    listDatalength: ""
    listDataflag: "none"
  formDataTemp:
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    privateTag: 
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag: 
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style: 
            height: "0.93"
          children:
            - .AppointmentLobby:
              style:
                width: "0.18"
            - .GotoBack:
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.workStatusForm.deleteReq.id@: =..apiRequest.workStatusForm.docResp.doc.id
                    - =..apiRequest.workStatusForm.docAPI.delete: ""
                - actionType: builtIn
                  funcName: goBack
                  reload: true 
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    width: "0.39"
                    margin: "auto"
                  children:
                    - type: scrollView
                      style:            
                        left: "0"
                        width: "0.39"
                        height: "0.74"
                        overflow: scroll  
                      children:   
                        - type: view
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                            
                          children:
                            - type: view
                              style:
                                marginTop: "0"
                                left: "0"
                                width: "0.39"
                                height: "auto"
                              children:
                                - type: label
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.providerFullName
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    fontSize: .Nfont.nf6
                                   
                                - type: label
                                  text: Family Medicine
                                  dataKey: 
                                  style:
                                    marginTop: "0.02"
                                    height: "auto"
                                    width: "0.39"
                                    fontSize: .Nfont.nf5        
                            - type: view
                              style:
                                marginTop: "0.02" 
                                width: "0.39" 
                                height: "auto"          
                                
                              children:
                                - type: view
                                  style:
                                    marginTop: "0"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.04"
                                  children:
                                    - .PrescriptionLabel:
                                      text: Website
                                    - .ProNoteTextField:
                                      viewTag: websiteTag
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.website      
                                      style: 
                                        border: 
                                          style: "1"                           
                                    
                                #Aitmed ID 
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.04"
                                  children:
                                    - .PrescriptionLabel:
                                      text: AiTmed ID
                                    - .ProNoteTextField:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.aiTmedId 
                                      style: 
                                        border: 
                                          style: "1"          


                                  #Phone                        
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.04"
                                  children:
                                    - .ProNoteTextField:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.phone 
                                      style: 
                                        border: 
                                          style: "1"          
                                                     
                                    - .PrescriptionLabel:
                                      text: Phone
                                 #Fax                                  
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.04"
                                  children:
                                    - .ProNoteTextField:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.fax    
                                      style: 
                                        border: 
                                          style: "1"                    
                                    - .PrescriptionLabel:
                                      text: Fax
                              #first line                            
                            - type: view
                              style:
                                marginTop: "0.04"
                                left: "0"
                                width: "0.39" 
                                height: "0.002"      
                                backgroundColor: "0x707070"
                            
                        - type: view
                          style:
                            marginTop: "0.01"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                marginTop: "0.02"
                                left: "0"
                                width: "0.39"
                                height: "auto"
                              #Exam Date
                              children:
                                - .PrescriptionLabel:
                                  text: Exam Date
                                  style:
                                    top: "auto"
                                    marginTop: "0"   
                                - type: label
                                  text: 
                                  text=func: .builtIn.string.formatUnixtime_en
                                  dataKey: Global.formData.appointment.stime
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    marginTop: "0.01"
                                    fontSize: .Nfont.n5
                          # Patient Name      
                            - type: view
                              style:
                                marginTop: "0.02"
                                left: "0"
                                width: "0.39" 
                                height: "auto"          
                              children:
                                - type: view
                                  style:
                                    marginTop: "0"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - type: label
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.name
                                      style:
                                        left: "0.2"
                                        width: "0.19"
                                        fontSize: .Nfont.nf4
                                        wordBreak: break-all
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"
                                     
                                        textAlign:
                                          x: right
                                          y: center                        
                                    - .PrescriptionLabel:
                                      text: Patient Name
                              # Aitmed ID            
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - type: label
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.aiTmedId
                                      style:
                                        left: "0.2"
                                        width: "0.19"
                                        fontSize: .Nfont.nf4
                                        wordBreak: break-all
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"     
                                        textAlign:
                                          x: right
                                          y: center                     
                                    - .PrescriptionLabel:
                                      text: AiTmed ID
                                #DOI                   
                                - type: view
                                  viewTag: doiTag
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - type: view
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 1
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.dataTagFlag
                                                    string2: ""
                                              - continue
                                              - actionType: popUp
                                                popUpView: dateTag
                                      children:
                                        - type: textField
                                          placeholder: Select Date
                                          isEditable: "false"
                                          viewTag: doiTag
                                          dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.doi
                                          style:
                                            left: "0.268"
                                            width: "0.12"
                                            height: "0.025"
                                            border:
                                              style: 3
                                            borderColor: "0xcccccc"
                                            borderWidth: "1.3"
                                            fontSize: .Nfont.nf4
                                            fontFamily: Roboto
                                            color: "0x0f0f0f"  
                                            borderRadius: "3" 
                                            boxSizing: border-box
                                      
    
                                    - .PrescriptionLabel:   
                                      text: DOI
                                  #Phone                
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - type: label
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.phoneNumber
                                      style:
                                        left: "0.2"
                                        width: "0.19"
                                        fontSize: .Nfont.nf4
                                        wordBreak: break-all
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"
                                        textAlign:
                                          x: right
                                          y: center                             
                                    - .PrescriptionLabel:
                                      text: Phone
                                  # Email                   
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - type: label
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.email
                                      style:
                                        left: "0.2"
                                        width: "0.19"
                                        fontSize: .Nfont.nf4
                                        wordBreak: break-all
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"  
                                        textAlign:
                                          x: right
                                          y: center                        
                                    - .PrescriptionLabel:
                                      text: Email
                                 # Employer(s)/School                        
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.03"
                                  children:
                                    - .ProNoteTextField:  
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.employer
                                      style:
                                        height: "0.03"                     
                                    - .PrescriptionLabel:
                                      text: Employer(s)/School
                            # Second line                          
                            - type: view
                              style:
                                marginTop: "0.04"
                                left: "0"
                                width: "0.39" 
                                height: "0.002"      
                                backgroundColor: "0x707070"
                      # Diagnosis       
                        - type: view
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                marginTop: "0"
                                left: "0"
                                width: "0.39"
                                height: "auto"
                              children:
                                - type: label
                                  text: Diagnosis
                                  dataKey: 
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    fontSize: .Nfont.nf5
                                    fontStyle: bold
                                - type: view
                                  viewTag: searchBox
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    overflow: hidden
                                  children:
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        height: "auto"
                                        boxSizing: border-box
                                      children:
                                        - type: view
                                          viewTag: selectDateTag
                                          style:
                                            display: "inline-block"
                                            height: "auto"
                                            width: "0.1"
                                            boxSizing: border-box
                                          children:
                                            - type: image
                                              path: searchBlue.png
                                              style:
                                                top: "0.01"
                                                left: "0.08"
                                                height: "0.02"
                                                zIndex: 10
                                            - type: textField
                                              viewTag: CodeListTag
                                              placeholder: Search
                                              dataKey: formData.diagnosis.descriptiveList.code
                                              style:
                                                height: "0.04"
                                                width: "0.1"
                                                boxSizing: border-box
                                                border:
                                                  style: 3
                                                borderRadius: "3"
                                                borderWidth: "1"
                                                borderColor: "0xcdcdcd"
                                              onInput:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formDataTemp.allListInfo@: []
                                                    - ..formDataTemp.allListString@: []
                                                - actionType: evalObject
                                                  object:
                                                    - =.builtIn.search.queryCode:
                                                        dataIn:
                                                          query: =..formData.diagnosis.descriptiveList.code
                                                        dataOut: WorkStatusFormEdit.formDataTemp.allListInfo
                                                    - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTags
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: hide
                                                  viewTag: listData
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: ShowTag
                                                - actionType: popUp
                                                  popUpView: CodeTag
                                                  dismissOnTouchOutside: true
                                        - type: textField
                                          viewTag: descriptionTag
                                          placeholder: Description
                                          dataKey: formData.diagnosis.descriptiveList.description
                                          style:
                                            marginLeft: "0.02"
                                            display: "inline-block"
                                            height: "0.04"
                                            width: "0.27"
                                            boxSizing: border-box
                                            border:
                                              style: 3
                                            borderRadius: "3"
                                            borderWidth: "1"
                                            borderColor: "0xcdcdcd"
                                    - .ProNoteInitTextView:
                                      viewTag: CommentsTag
                                      placeholder: Comments
                                      isEditable: true
                                      dataKey: formData.diagnosis.descriptiveList.comment
                                      
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    height: "0.02"
                                  children:
                                    - type: label
                                      text: + add more
                                      style:
                                        marginTop: "0"
                                        fontFamily: "Arial"
                                        fontSize: "1.5vh"
                                        color: "0x1492e6"
                                        height: "0.02"
                                        width: "0.39"
                                        textAlign:
                                          x: right
                                        fontWeight: "550"
                                      onClick:
                                        - emit:
                                            actions:
                                              - =.builtIn.array.add:
                                                  dataIn:
                                                    object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
                                                    value: =..formData.diagnosis.descriptiveList # create copy .create by value ,not reference
                                        - actionType: evalObject
                                          object:
                                            - ..formData.diagnosis.descriptiveList.code@: ""
                                            - ..formData.diagnosis.descriptiveList.description@: ""
                                            - ..formData.diagnosis.descriptiveList.comment@: ""
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: listData
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: CodeListTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: descriptionTag
                                        - actionType: builtIn
                                          funcName: hide
                                          viewTag: ShowTag
                                        - actionType: builtIn
                                          funcName: show
                                          viewTag: listData
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: CommentsTag
                                # debug
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    height: "auto"
                                    width: "0.39"
                                  children:
                                    - type: view
                                      viewTag: CodeTag
                                      style:
                                        display: "none"
                                        width: "0.39"
                                        height: "auto"
                                        fontFamily: "Poppins"
                                        border:
                                          style: 3
                                          color: "0xeeeeee"
                                        borderWidth: "1"
                                        boxSizing: border-box
                                        zIndex: 10
                                      children:
                                        - type: scrollView
                                          viewTag: ShowTag
                                          style:
                                            height: "0.3"
                                            left: "0.02"
                                            overflow: scroll
                                          children:
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.allListString
                                              iteratorVar: itemObject
                                              viewTag: CodeTags
                                              style:
                                                width: "0.39"
                                                height: "auto"
                                                margin: "0"
                                                marginTop: "0"
                                              children:
                                                - type: listItem
                                                  itemObject: ""
                                                  style:
                                                    width: "0.39"
                                                    marginTop: "0.002"
                                                    height: "auto"
                                                  children:
                                                    - type: label
                                                      dataKey: itemObject.0.2
                                                      style:
                                                        width: "0.39"
                                                        left: "0"
                                                        textIndent: 20px
                                                        marginTop: "0"
                                                        textAlign:
                                                          x: left
                                                          y: center
                                                        height: "auto"
                                                        fontSize: "1.7vh"
                                                        color: "0x143459"
                                                      onClick:
                                                        - emit:
                                                            dataKey:
                                                              var: itemObject
                                                            actions:
                                                              - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                                              - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: CodeListTag
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: descriptionTag
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: ShowTag
                                                        - actionType: builtIn
                                                          funcName: show
                                                          viewTag: listData
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: CodeTag
                                    - type: view
                                      viewTag: listData
                                      style:
                                        width: "0.39"
                                        left: "0"
                                        height: "auto"
                                        marginTop: "0.01"
                                        display: ..formData.listDataflag
                                      children:
                                        - type: view
                                          style:
                                            marginTop: "0.01"
                                            height: "0.002"
                                            width: "0.39"
                                            backgroundColor: "0xd8d8d8"
                                        - type: list
                                          viewTag: listData
                                          contentType: listObject
                                          listObject: ..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                                          iteratorVar: itemObject
                                          style:
                                            left: "0"
                                            width: "0.39"
                                            marginTop: "0.03"
                                            height: "auto"
                                            margin: "0"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style:
                                                marginTop: "0.01"
                                                width: "0.39"
                                                height: "auto"
                                                left: "0"
                                                overflow: hidden
                                              children:
                                                - type: view
                                                  style:
                                                    width: "0.39"
                                                    height: "auto"
                                                  children:
                                                    - type: image
                                                      path: deletePhoto.svg
                                                      style:
                                                        display: "inline-block"
                                                        height: "0.025"
                                                        zIndex: 10
                                                        verticalAlign: middle
                                                      onClick:
                                                        - actionType: popUp
                                                          popUpView: BaseDelWarningView
                                                        - actionType: updateObject
                                                          dataKey: formData.selectedDiagnosis
                                                          dataObject: itemObject
                                                    - type: label
                                                      dataKey: itemObject.code
                                                      style:
                                                        display: "inline-block"
                                                        marginLeft: "0.02"
                                                        height: "auto"
                                                        width: "0.1"
                                                        textAlign:
                                                          x: left
                                                        fontFamily: "Arial"
                                                        backgroundColor: "0xffffff"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.h1
                                                        fontWeight: "550"
                                                        verticalAlign: middle
                                                    - type: label
                                                      text: "-"
                                                      style:
                                                        verticalAlign: middle
                                                        display: "inline-block"
                                                        width: "auto"
                                                        height: "auto"
                                                        fontSize: .Nfont.h2
                                                    - type: label
                                                      dataKey: itemObject.description
                                                      style:
                                                        verticalAlign: middle
                                                        marginLeft: "0.02"
                                                        display: "inline-block"
                                                        height: "auto"
                                                        width: "0.2"
                                                        textAlign:
                                                          x: left
                                                        backgroundColor: "0xffffff"
                                                        fontFamily: "Arial"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.h1
                                                - type: label
                                                  dataKey: itemObject.comment
                                                  style:
                                                    marginTop: "0.002"
                                                    marginLeft: "0.03"
                                                    width: "0.34"
                                                    height: "auto"
                                                    color: "0x666666"
                                                    fontFamily: "Arial"
                                                    wordBreak: break-all
                                                    fontSize: .Nfont.h1
                                
                        # Work Status
                        - type: view
                          viewTag: statusSelectTag
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                marginTop: "0"
                                left: "0"
                                width: "0.39"
                                height: "auto"
                              children:
                                - type: label
                                  text: Work Status
                                  dataKey: 
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    fontSize: .Nfont.nf5
                                    fontStyle: bold
                            - type: view
                              style:
                                marginTop: "0.03"
                                left: "0"
                                width: "0.39"
                                height: "auto"
                              children:           
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.08"  
                                   
                                  children:
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Temporary
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Temporary
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Temporary
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Temporary
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                            # Temporary   ...
                                    - type: label
                                      text: "Temporary total disability effective from:"
                                      style:
                                        top: "0"
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.3"
                                        height: "auto"

                                    - type: view
                                      viewTag: startDateTag
                                      style:
                                        top: "0.04"
                                        left: "0"  
                                        height: "0.04"
                                        width: "0.39"          
                                      children:  
                                        - type: view
                                          style:
                                            top: "0"
                                            left: "0.12"
                                            width: "0.12"
                                            height: "0.03"  
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 2
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag         
                                          children:  
                                            - .ProNoteDateTextField:
                                              dataKey: formData.workStatus.temporaryTotal.startDate
                                            - type: image
                                              path: calendarBlue.svg
                                              style:
                                                top: "0.003"
                                                left: "0.105"
                                                height: '0.02'
                                                zIndex: "2"
                                        - type: label
                                          text: to
                                          style:
                                            top: "0.003"
                                            left: "0.25"
                                            width: "0.02"
                                            height: "auto"
                                            fontSize: .Nfont.nf4 

                                        - type: view
                                          viewTag: endDateTag
                                          style:
                                            top: "0"
                                            left: "0.27"
                                            width: "0.12"
                                            height: "0.03" 
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 3
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag       
                                          children:  
                                            - type: image
                                              path: calendarBlue.svg
                                              style:
                                                top: "0.003"
                                                left: "0.105"
                                                height: '0.02'
                                                zIndex: "2"
                                            - .ProNoteDateTextField:
                                              dataKey: formData.workStatus.temporaryTotal.endDate
 

                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"       
                                  children:
                                    - type: label
                                      text: "Full duty effective on"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.4"
                                        height: "0.04"                
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Full duty
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Full duty
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Full duty
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Full duty
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                    - type: view
                                      viewTag: fullDateTag
                                      style:
                                        top: "0"
                                        left: "0.27"
                                        width: "0.12"
                                        height: "0.03"  
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 4
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.dataTagFlag
                                                    string2: ""
                                              - continue
                                              - actionType: popUp
                                                popUpView: dateTag         
                                      children:  
                                        - type: image
                                          path: calendarBlue.svg
                                          style:
                                            top: "0.003"
                                            left: "0.105"
                                            height: '0.02'
                                            zIndex: "2"
                                        - .ProNoteDateTextField:
                                          dataKey: formData.workStatus.fullDuty.fullDate


                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"        
                                  children:
                                    - type: label
                                      text: "Modified duty effective on"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.5"
                                        height: "0.04"                     
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Modified duty
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Modified duty
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Modified duty
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Modified duty
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                    - type: view
                                      viewTag: modifyDateTag
                                      style:
                                        top: "0"
                                        left: "0.27"
                                        width: "0.12"
                                        height: "0.03" 
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 5
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.dataTagFlag
                                                    string2: ""
                                              - continue
                                              - actionType: popUp
                                                popUpView: dateTag          
                                      children:  
                                        - type: image
                                          path: calendarBlue.svg
                                          style:
                                            top: "0.003"
                                            left: "0.105"
                                            height: '0.02'
                                            zIndex: "2"
                                        - .ProNoteDateTextField:
                                          dataKey: formData.workStatus.modifyDuty.modifyDate

                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.044"     
    
                                  children:
                                    - type: label
                                      text: "Light use"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.4"
                                        height: "0.04"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Light use
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Light use
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Light use
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Light use
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                  # No forceful grippin            
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"     
                                  children:
                                    - type: label
                                      text: "No forceful gripping/grasping with:"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.39"
                                        height: "0.04"                    
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: No forceful
                                              - selectBlue.svg
                                              - selectGray.svg

                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No forceful
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No forceful
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No forceful
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                    - .BaseTextField:
                                      placeholder: Enter injured location
                                      dataKey: formData.workStatus.location
                                      style:
                                        top: "0"
                                        left: "0.27"
                                        width: "0.12"
                                        height: "0.025"
                                        fontSize: .Nfont.nf4
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"  
                                        borderRadius: "3" 
                                        boxSizing: border-box
                                  # "No pushing/pulling/lifting over"      
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"     
                                    
                                  children:
                                    - type: label
                                      text: "No pushing/pulling/lifting over"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.515"
                                        height: "0.04"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: No pushing
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No pushing
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No pushing
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No pushing
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag   
                                    - .BaseTextField:
                                      placeholder: Enter weight
                                      dataKey: formData.workStatus.weight
                                      style:
                                        top: "0"
                                        left: "0.25"
                                        width: "0.12"
                                        height: "0.025"
                                        fontSize: .Nfont.nf4
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"  
                                        borderRadius: "3" 
                                    - type: label
                                      text: "LBs"
                                      style:
                                        top: "0"
                                        left: "0.373"
                                        fontSize: .Nfont.nf4
                                        width: "0.1"
                                        height: "0.04"
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.044"         
                                  children:
                                    - type: label
                                      text: "No standing/climbing/prolonged walking"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.88"
                                        height: "0.04"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: No standing
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No standing
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No standing
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No standing
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.044"     
                                  children:
                                    - type: label
                                      text: "Keep dressing clean and dry"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.5"
                                        height: "0.04"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Keep
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Keep
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Keep
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Keep
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"       
                                  children:
                                    - type: label
                                      text: "No physical education for"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.5"
                                        height: "0.04"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: No physical
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No physical
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No physical
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: No physical
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                    - .BaseTextField:
                                      placeholder: Enter length of time
                                      dataKey: formData.workStatus.timeLength 
                                      style:
                                        top: "0"
                                        left: "0.27"
                                        width: "0.12"
                                        height: "0.025"
                                        fontSize: .Nfont.nf4
                                        fontFamily: Roboto
                                        color: "0x0f0f0f"  
                                        borderRadius: "3" 
                                        boxSizing: border-box
                                        
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.044"     
                                  children:
                                    - type: label
                                      text: "Other"
                                      style:
                                        left: "0.02"
                                        fontSize: .Nfont.nf4
                                        width: "0.5"
                                        height: "0.03"                   
                                    - type: image
                                      style:
                                        top: "0"
                                        left: "0"
                                        width: "0.013"
                                        height: "0.023"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.workStatus.status
                                                    value: Other
                                              - selectBlue.svg
                                              - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Other
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Other
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.workStatus.status
                                                      value: Other
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: statusSelectTag
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"     
                                  children:
                                    - type: textView
                                      dataKey: formData.workStatus.other
                                      style:
                                        left: "0"
                                        width: "0.39"
                                        height: "0.08"
                                        border:
                                          style: "3"
                                        borderColor: "0xd4d4d4"
                                        borderWidth: "1"
                                        resize: "none"
                                        boxSizing: border-box
                                        backgroundColor: "0xffffff"
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0"
                                    width: "0.39"
                                    height: "0.04"     
                                         
                                  children:
                                    - type: label
                                      text: Return Appointment
                                      style:
                                        top: "0"
                                        left: "0"
                                        height: "0.04"
                                        width: "0.42"
                                        fontSize: .Nfont.nf4
                                        textAlign:
                                          y: center
                                        display: "inline-block"
                                    - type: view
                                      style:
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..formData.dataTagFlag@: 6
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.dataTagFlag
                                                    string2: ""
                                              - continue
                                              - actionType: popUp
                                                popUpView: dateTag 
                                      children:
                                        - .ProNoteDateTextField:
                                          viewTag: appointmentTag
                                          dataKey: apiRequest.workStatusForm.docReq.name.data.returnAppoint
                                          # isEditable: "true"
                                          style:
                                            display: "inline-block"
                                            marginLeft: "0.27"
                                            textIndent: "1em"
                                       
                                     
                         #  signature      
                            - type: view
                              style:
                                marginTop: "0.02"
                                width: "0.39"
                                height: auto    
                              children:
                                - .PrescriptionLabel:
                                  text: "Signature:"
                                  style:
                                    width: "0.39" 
                                    fontStyle: bold 
                            - type: view
                              style:
                                marginTop: "0.05"
                                width: "0.39"
                                display: flex
                                flexDirection: column
                                flexWrap: wrap
                                alignContent: space-around
                                justifyContent: center
                              children:
                                - type: view
                                  style:
                                    margin: "0"
                                  children:
                                    - type: label
                                      text: "Clear"
                                      style:
                                        color: "0xe24445"
                                        marginTop: "0.01"
                                        display: "inline-block"
                                        marginLeft: "0.3"
                                      onClick: 
                                      # 移除签名
                                        - actionType: removeSignature
                                          dataObject: BLOB
                                          dataKey: apiRequest.newSign.docReq.name.data
                                          viewTag: signatureTag   
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: signatureTag
              
                                - .SignAreaView:
                                  children:
                                    - type: canvas
                                      viewTag: signatureTag  
                                      dataKey: apiRequest.newSign.docReq.name.data
                                      style:
                                        .SignCanvasStyle:
                                    - type: label
                                      text: "X"
                                      style:
                                        .SignLabelStyle:                        
                     

                            - type: view
                              style:
                                marginTop: "0.01"
                                left: "0"
                                height: "auto"
                                width: "0.39"
                                overflow: hidden
                              children:
                                - type: view
                                  style:
                                    marginTop: "0.03"
                                    left: "0"
                                    width: "0.39"
                                    height: "auto"
                                  children:
                                    - type: label
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.providerFullName
                                      style:
                                        height: "auto"
                                        width: "0.39"
                                        fontSize: .Nfont.n5
                                        wordBreak: break-all
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    left: "0.05"
                                    width: "0.39" 
                                    height: "auto"
                                  children:
                                    - type: view
                                      style:
                                        marginTop: "0"
                                        left: "0"
                                        width: "0.39" 
                                        height: "auto"
                                      children:
                                        - type: label
                                          text: Family Medicine
                                          style:
                                            height: "auto"
                                            width: "0.39"
                                            fontSize: .Nfont.nf4
                                            fontFamily: Roboto
                                            color: "0x0f0f0f"
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        left: "0"
                                        width: "0.39" 
                                        height: "0.03"
                                      children:
                                        - type: label
                                          dataKey: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.LIC
                                          style:
                                            left: "0.2"
                                            width: "0.15"
                                            fontSize: .Nfont.nf4
                                            wordBreak: break-all
                                            fontFamily: Roboto
                                            color: "0x0f0f0f"                   
                                        - type: label
                                          text: "LIC#"
                                          style:
                                            top: "0"
                                            left: "0"
                                            height: "auto"
                                            width: "0.1"
                                            fontSize: .Nfont.nf4
                                            fontFamily: Roboto
                                            color: "0x757575"
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        left: "0"
                                        width: "0.39" 
                                        height: "0.03"
                                      children:
                                        - type: label
                                          dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.aiTmedId
                                          style:
                                            left: "0.2"
                                            width: "0.39"
                                            fontSize: .Nfont.nf4
                                            wordBreak: break-all
                                            fontFamily: Roboto
                                            color: "0x0f0f0f"                   
                                        - type: label
                                          text: AiTmed ID
                                          style:
                                            top: "0"
                                            left: "0"
                                            height: "auto"
                                            width: "0.2"
                                            fontSize: .Nfont.nf4 
                                            fontFamily: Roboto
                                            color: "0x757575"
                                - type: view
                                  style:
                                    marginTop: "0.02"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.002"      
                                    backgroundColor: "0x707070"
                                - type: label
                                  viewTag: websiteTag
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.website
                                  style:
                                    marginTop: "0.01"
                                    height: "0.04"
                                    width: "0.39"
                                    fontSize: .Nfont.nf4
                                    color: "0x707070"    
                                    textAlign:
                                      x: center
                                      y: center 

            - .FormsBottomView: 
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSignature 
                        - actionType: evalObject
                          object:
                            - if:
                              - =..formData.whetherSignature 
                              - continue
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.docReq.reid@: =.WorkStatusFormEdit.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: ""  
                                  - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                  - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime 
                                  - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: =..formData.whetherSignature
                        - actionType: evalObject
                          object:
                          # 指定reid
                            - ..apiRequest.workStatusForm.docReq.reid@: =.Global.formData.meetingDocReid
                          # 修改type
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.workStatusForm.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.type
                      
                      # 存储，修改tag
                        - actionType: evalObject
                          object:
                            - ..apiRequest.workStatusForm.docReq.name.data.workStatusInfo@: =..formData.workStatus            
                            - ..apiRequest.workStatusForm.docReq.name.data.statusTag@: =..formDataTemp.privateTag                         
                            - =..apiRequest.workStatusForm.docAPI.store: ""  
                        - actionType: builtIn
                          funcName: goBack
                          reload: true  
                  # release button
                    - .FormsBottomRightButton: 
                      onClick:
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSignature 
                            
                        
                        - actionType: evalObject
                          object:
                            if: 
                              - =..formData.whetherSignature
                              - actionType: popUp
                                popUpView: signatureWarningTag
                                wait: true
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.docReq.reid@: =.WorkStatusFormEdit.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: ""  

                        - actionType: evalObject
                          object:
                            - ..apiRequest.workStatusForm.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.workStatusForm.docReq.name.data.workStatusInfo@: =..formData.workStatus
                            - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: =..formData.whetherSignature
                            - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                            - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime             
                            - ..apiRequest.workStatusForm.docReq.name.data.statusTag@: =..formDataTemp.publicTag    
                            - =..apiRequest.workStatusForm.docAPI.store: ""  
                        - actionType: builtIn
                          funcName: goBack
                          reload: true  
      # 弹窗
        - .BaseWarningView:
          msg2: "You haven't signed the form."
          viewTag: signatureWarningTag
        - .DeleteWarningPopUp:
          msg: Are you sure you want to delete it ?
          viewTag: BaseDelWarningView
          .BackgroundPopUp: 
          children:
            - .BackgroundWhite:
              children: 
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.267"
                  children: 
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:  
                - .CancelButton: 
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
                - .DeleteButton: 
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.removeByName:
                            dataIn:
                              object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
                              key: code
                              name: =..formData.selectedDiagnosis.code
                        - ..formData.listDataflag@: "block"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: listData
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
        - type: popUp
          viewTag: dateTag
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.dataTagFlag@: ""
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag                  
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..newAppointment.edge.name.setting.startDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 1
                          - ..apiRequest.workStatusForm.docReq.name.data.patientInfo.doi@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 2
                          - ..formData.workStatus.temporaryTotal.startDate@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 3
                          - ..formData.workStatus.temporaryTotal.endDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 4
                          - ..formData.workStatus.fullDuty.fullDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 5
                          - ..formData.workStatus.modifyDuty.modifyDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 6
                          - ..apiRequest.workStatusForm.docReq.name.data.returnAppoint@: =.BaseDate.calendarDate.selectDate
                       
                        # 置空                         
                        - ..formData.dataTagFlag@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: doiTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: startDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: endDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifyDateTag

                    - actionType: builtIn
                      funcName: redraw
                      viewTag: appointmentTag
                                                                                            
                    - actionType: popUpDismiss
                      popUpView: dateTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: dateTag