FolderPage:
  title: 
  pageNumber: 

  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
    - =.Global.jwt.edgeAPI.store: ""      
    - =..apiRequest.folder.docAPI.get: ""
    - ..formData.folderList@: =..apiRequest.folder.docGetResp.doc          
    - =..apiRequest.emailList.docAPI.get: ""      
    - if:
      - =..apiRequest.emailList.docQueryResp.doc.0
      - =.builtIn.object.setObjectKey:
          dataIn:
            objectArr: =..apiRequest.emailList.docQueryResp.doc
            key: isSelected
            value: false  
          dataOut: FolderPage.formData.emailList
      - =.builtIn.checkField:
          dataIn:
            contentType: messageHidden
            wait: 100    
  formData:
    emailList: []
    moveFolderId: ""  # 将邮件移入该id的文件夹
    folderList: []  # 文件夹列表    
    attachment: []   # 附件
    soloAttach: ""  # 选出的单个附件，用于展示
    selectSeveral: []   # 多选
    selectOne: []
    selectedDocList: [] # 垃圾箱多选
    isAllSelected: false  # 全选
    selectedDocListLength: ""
    emailListLength: ""
    receiver: ""
    inboxNowId: ""    
  formDataTemp:
  apiRequest:
    emailList:
      docQueryResp: ""
      docQueryReq:
        ids:
          - .Global.currentFacility.id
          - .Global.formData.folder.id
        ObjType: 800
        type: 1281
        sCondition: E.type=10002 AND (D2.Type&0xFF08=0xE00 OR D2.reid IS NULL OR D2.Type = 66561)
        xfname: (E.bvid|E.evid)&(,D3.fid)&!D.ovid
        obfname: mtime
        _nonce: =.Global._nonce
      docAPI:      
        get:
          api: rd
          dataIn: FolderPage.apiRequest.emailList.docQueryReq
          dataOut: FolderPage.apiRequest.emailList.docQueryResp
    attachment:
      docQueryReq: 
        type: .DocType.Attachment
        id: "" 
        xfname: reid
        obfname : "ctime" 
        _nonce: =.Global._nonce        
      docQueryResp: ""
      docAPI:
        get: 
          api: rd
          dataIn: FolderPage.apiRequest.attachment.docQueryReq
          dataOut: FolderPage.apiRequest.attachment.docQueryResp   
    email:
      docResp: ""
      docReq:
        #邮件类型，默认1281
        type: .DocType.InboxMessage
        #邮件所挂载的edge(10002) 如果为drafts就默认挂在rootnotebook
        eid: ""
        name: 
          data: 
            #邮件内容
            content: ""
            #收件人姓名 
            receiverName: ""
            #发送人姓名 
            senderName: .Global.currentFacility.name.basicInfo.medicalFacilityName
            #收件人头像的id
            receiverAvatarId: ""
            #是否带附件
            haveAttachment: false
          #邮件标题
          title: ""
          #发件人头像的id 
          user: .Global.facilityAvatarID
          type: "application/json"
      docAPI:
        store:
          api: cd
          dataIn: FolderPage.apiRequest.email.docReq
          dataOut: FolderPage.apiRequest.email.docResp                   
    folder:
      docCreateReq:
        type: .DocType.MailFolder
        eid: .Global.fac_rootNotebook
        name:
          data: ""
          title: ""
      docGetReq:
        type: .DocType.MailFolder
        id: .Global.fac_rootNotebook
        sCondition: type & 0xFF08 = 0xD00
        xfname: eid
        obfname: ctime
        _nonce: =.Global._nonce
      docAPI:
        store:
          api: cd
          dataIn: FolderPage.apiRequest.folder.docCreateReq 
        get: 
          api: rd
          dataIn: FolderPage.apiRequest.folder.docGetReq
          dataOut: FolderPage.apiRequest.folder.docGetResp
        delete: 
          api: dx
          dataIn: FolderPage.apiRequest.folder.docDeleteReq            
  style:

  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style: 
            height: "0.93"
          children:
            - type: view
              viewTag: searchView
              style: 
                backgroundColor: "0xffffff"
                left: "0.008"
                width: "0.255"
                height: "0.07"
                marginTop: "0.015"
                borderRadius: "5px"
              children:
                - type: view
                  style:
                    left: "0.007"
                    top: "0.017"
                    height: "0.036"
                    width: "0.18"
                    border:
                      style: "3"
                    borderColor: "0xcecece"
                    borderRadius: "3px"
                  children:
                    - type: image
                      path: search.svg
                      style:
                        top: "0.008"
                        left: "0.005"
                        width: "0.012"
                        height: "0.02"
                    - type: textField
                      placeholder: Search
                      dataKey: 
                      style:
                        boxSizing: content-box
                        width: "0.155"
                        left: "0.022"
                        top: "0"
                        height: "0.034"
                        border: none
                        borderRadius: "3px"
                        fontSize: .Nfont.nf2
                - type: view
                  onClick: 
                    - actionType: evalObject
                      object:
                        - .Global.formData.reply.name.data.receiverName@: ""
                        - .Global.formData.reply.name.data.receiverAvatarId@: ""
                        - .Global.formData.reply.name.title@: ""
                        - .Global.formData.reply.eid@: =.Global.fac_rootNotebook      
                    - goto: NewMessage
                  style:
                    top: "0.017"
                    width: "0.05"
                    height: "0.038"
                    left: "0.197"
                    backgroundColor: "0x005795"
                    borderRadius: "3px"
                    textAlign:
                      x: center
                      y: center
                  children:
                    - type: image
                      path: editPen.svg
                      style:
                        width: "0.012"
                        height: "0.02"                
            - type: view
              style: 
                left: "0.008"
                width: "0.255"
                height: "0.83"
                marginTop: "0"
              children:
                - type: view
                  style:
                    left: "0"
                    width: "0.255"
                    height: "0.07"
                    marginTop: "0"
                  children:
                    - type: view
                      style:
                        top: "0.018"
                        width: "0.02"
                        height: "0.034"
                        left: "0.003"
                        borderRadius: "5px"
                        textAlign:
                          x: center
                          y: center
                      children:
                        - type: image
                          viewTag: allSelectedView
                          path: 
                            emit: 
                              actions:
                                - if: 
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: true
                                        string2: =..formData.isAllSelected
                                  - selectBlue.svg
                                  - selectGray.svg  
                          onClick: 
                            - actionType: evalObject
                              object:
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..formData.isAllSelected
                                        string2: true 
                                  - actionType: evalObject
                                    object:
                                      - ..formData.isAllSelected@: false
                                      - =.builtIn.object.setObjectKey:
                                          dataIn:
                                            objectArr: =..formData.emailList 
                                            key: isSelected
                                            value: false  
                                          dataOut: FolderPage.formData.emailList
                                      - ..formData.selectSeveral@: []
                                  - actionType: evalObject
                                    object:
                                      - ..formData.isAllSelected@: true
                                      - =.builtIn.object.setObjectKey:
                                          dataIn:
                                            objectArr: =..formData.emailList 
                                            key: isSelected
                                            value: true  
                                          dataOut: FolderPage.formData.emailList 
                                      - ..formData.selectSeveral@: =..formData.emailList
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: allSelectedView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: emailView
                          style:
                            width: "0.015"
                            height: "0.02"                       
                    - type: view
                      onClick:  
                        - actionType: evalObject
                          object:
                            - if: 
                              - =..formData.selectSeveral.0
                              - actionType: popUp
                                popUpView: dxSeveralMsgView
                                wait: true
                              - actionType: popUp
                                popUpView: noMessageTag
                                wait: true                    
                      style:
                        top: "0.018"
                        width: "0.02"
                        height: "0.034"
                        left: "0.026"
                        backgroundColor: "0xffffff"
                        borderRadius: "5px"
                        textAlign:
                          x: center
                          y: center
                      children:
                        - type: image
                          path: redTrash.svg
                          style:
                            width: "0.01"
                            height: "0.016"
                    - type: view
                      onClick: 
                        - actionType: evalObject
                          object:
                            - =.builtIn.object.setProperty: 
                                dataIn: 
                                  obj: =..formData.folderList
                                  label: "id"
                                  text: =..formData.moveFolderId
                                  arr: ["backgroundColor"]
                                  valueArr: ["0xffffff"]
                                  errorArr: ["0xffffff"]   
                                dataOut: FolderPage.formData.folderList                           
                            - if: 
                              - =..formData.selectSeveral.0
                              - actionType: evalObject
                                object:
                                  - ..formData.selectedDocList@: =..formData.selectSeveral
                                  - actionType: popUp
                                    popUpView: moveView
                              - actionType: popUp
                                popUpView: noMessageTag
                                wait: true      
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: folderListView                                              
                      style:
                        top: "0.018"
                        width: "0.02"
                        height: "0.034"
                        left: "0.053"
                        backgroundColor: "0xffffff"
                        borderRadius: "5px"
                        textAlign:
                          x: center
                          y: center
                      children:
                        - type: image
                          path: fileTrans.svg
                          style:
                            width: "0.01"
                            height: "0.016"
                    - type: view
                      onClick:  
                        - actionType: evalObject
                          object:
                            - if: 
                              - =..formData.selectSeveral.0
                              - ..formData.selectedDocList@: =..formData.selectSeveral
                              # - actionType: evalObject
                              #   object:
                              #     - ..formData.selectedDocList@: =..formData.selectSeveral
                              #     - actionType: popUp
                              #       popUpView: notStarView
                              #       wait: true
                              - actionType: popUp
                                popUpView: noMessageTag
                                wait: true
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: evalObject
                          object:
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""
                            - =.builtIn.ecos.updateReidDocListType:
                                dataIn: 
                                  sourceDocList: =..formData.selectedDocList
                                  targetBit: 3
                                  targetValue: 1
                                  sCondition: type & 0xFF00 = 0xE00
                                  eid: =.Global.fac_rootNotebook

                        - actionType: evalObject
                          object:      
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""                  
                            - =..apiRequest.emailList.docAPI.get: ""
                            - =.builtIn.object.setObjectKey:
                                dataIn:
                                  objectArr: =..apiRequest.emailList.docQueryResp.doc
                                  key: isSelected
                                  value: false  
                                dataOut: FolderPage.formData.emailList
                            - ..formData.selectedDocList@: []  
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: emailView                      
                        - actionType: popUp
                          popUpView: notStarSuccessView                             
                      style:
                        top: "0.018"
                        width: "0.02"
                        height: "0.034"
                        left: "0.08"
                        backgroundColor: "0xffffff"
                        borderRadius: "5px"
                        textAlign:
                          x: center
                          y: center
                      children:
                        - type: image
                          path: star.svg
                          style:
                            width: "0.01"
                            height: "0.02"                                                             
                - type: view
                  contentType: messageHidden
                  style:
                    left: "0"
                    width: "0.255"
                    height: "0.76"
                    top: "0.07"
                    borderRadius: "5px"
                    isHidden: "true"
                    zIndex: "5"
                    backgroundColor: "0xffffff" 
                  children: 
                    - type: label
                      text: No message here! 
                      dataKey: 
                      style:
                        width: "0.255"
                        height: "0.7"
                        color: "0x999999"
                        fontSize: .Nfont.nf5  
                        textAlign: 
                          x: center
                          y: center

                - type: scrollView
                  style:
                    left: "0"
                    width: "0.255"
                    height: "0.76"
                    top: "0.07"
                    overflow: scroll
                    borderRadius: "5px"
                    backgroundColor: "0xffffff"
                  children:
                    - type: list
                      contentType: listObject
                      listObject: ..formData.emailList
                      iteratorVar: itemObject
                      viewTag: emailView
                      style:
                        width: "0.255"
                        margin: "0"
                        left: "0"
                        height: auto
                      children:
                        - type: listItem
                          itemObject: 
                          style:
                            width: "0.255"
                            height: "0.1"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: view
                              style:
                                left: "0"
                                width: "0.255"
                                height: "0.1"
                                marginTop: "0"
                                boxSizing: border-box
                                borderLeft: itemObject.border
                                backgroundColor: itemObject.backgroundColor
                              children:
                                - type: image
                                  viewTag: selectImgView
                                  path: 
                                    emit: 
                                      dataKey: 
                                        var: itemObject
                                      actions: 
                                        - if: 
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: true
                                                string2: $var.isSelected
                                          - selectBlue.svg
                                          - selectGray.svg   
                                  onClick: 
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: true
                                                  string2: $var.isSelected
                                            - =.builtIn.object.set:
                                                dataIn:
                                                  object: $var
                                                  key: isSelected
                                                  value: false
                                            - =.builtIn.object.set:
                                                dataIn:
                                                  object: $var
                                                  key: isSelected
                                                  value: true
                                          - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: true
                                                  string2: $var.isSelected
                                            - =.builtIn.array.add:
                                                dataIn:
                                                  object: =..formData.selectSeveral
                                                  value: $var
                                            - =.builtIn.array.removeById:
                                                dataIn:
                                                  object: =..formData.selectSeveral
                                                  id: $var.id
                                    - actionType: evalObject
                                      object: 
                                        - =.builtIn.array.getListLength: 
                                            dataIn: 
                                              object: =..formData.emailList
                                            dataOut: FolderPage.formData.emailListLength
                                        - =.builtIn.array.getListLength: 
                                            dataIn: 
                                              object: =..formData.selectSeveral
                                            dataOut: FolderPage.formData.selectedDocListLength
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =..formData.emailListLength
                                                string2: =..formData.selectedDocListLength
                                          - ..formData.isAllSelected@: true
                                          - ..formData.isAllSelected@: false
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: selectImgView
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: allSelectedView
                                  style:
                                    top: "0.04"
                                    left: "0.002"
                                    width: "0.015"
                                    height: "0.02"
                                - type: view
                                  style:
                                    width: "0.22"
                                    height: "0.1"
                                    left: "0.021"
                                    marginTop: "0"
                                    borderBottom: "1px solid #afc6d6"
                                    boxSizing: border-box
                                  onClick:
                                    - actionType: evalObject
                                      object:
                                        .Global._nonce@:
                                          =.builtIn.math.random: "" 
                                    - actionType: updateObject
                                      dataKey: FolderPage.formData.email
                                      dataObject: itemObject             
                                    - emit: 
                                        dataKey: 
                                          var: itemObject
                                        actions: 
                                          - ..formData.attachment@: []
                                          - =.builtIn.object.setProperty: 
                                              dataIn: 
                                                obj: =..formData.emailList
                                                label: "id"
                                                text: $var.id
                                                arr: ["border","backgroundColor"]
                                                valueArr: ["5px solid #005795","0xe2edf5"]
                                                errorArr: ["none","0xffffff"]  
                                          - ..apiRequest.attachment.docQueryReq.id@: $var.id
                                          - =..apiRequest.attachment.docAPI.get: ""
                                          - ..formData.attachment@: =..apiRequest.attachment.docQueryResp.doc
                                          - ..formData.inboxNowId@: $var.id
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: noEmailView
                                    - actionType: builtIn
                                      funcName: show
                                      viewTag: messageView 
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: messageView
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: emailView
                                    # backgroundColor: "0xff000033"
                                  children:                                  
                                    - type: image
                                      path: avatarMan.svg
                                      path=func: .builtIn.utils.prepareDocToPath
                                      dataKey: itemObject.name.user
                                      style:
                                        top: "0.025"
                                        left: "0"
                                        width: "0.03"
                                        height: "0.048"
                                    - type: view
                                      style:
                                        width: "0.16"
                                        top: "0.015"
                                        height: "0.07"
                                        left: "0.041"
                                      children:
                                        - type: label
                                          dataKey: itemObject.name.data.senderName
                                          style:
                                            top: "0"
                                            left: "0"
                                            height: "0.02"
                                            width: "0.07"
                                            fontSize: .Nfont.nf2
                                            color: "0x000000"
                                            textAlign:
                                              y: center
                                        - type: image
                                          path: 
                                            emit: 
                                              dataKey: 
                                                var: itemObject
                                              actions: 
                                                - if: 
                                                  - $var.name.data.haveAttachment
                                                  - appendix.svg
                                                  - null.png
                                          style:
                                            top: "0"
                                            left: "0.08"
                                            width: "0.014"
                                            height: "0.022"                           
                                        - type: label
                                          # text: "Patient Census for June"
                                          dataKey: itemObject.name.title
                                          style:
                                            top: "0.026"
                                            left: "0"
                                            height: "0.02"
                                            width: "0.16"
                                            fontSize: .Nfont.nf2
                                            color: "0x000000"
                                            textAlign:
                                              y: center
                                        - type: label
                                          # text: "I attached the patient census for June..."
                                          dataKey: itemObject.name.data.content
                                          style:
                                            top: "0.048"
                                            left: "0"
                                            height: "0.02"
                                            width: "0.16"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            overflow: hidden
                                            textOverflow: ellipsis
                                            whiteSpace: nowrap
                                            textAlign:
                                              y: center
                                    - type: label
                                      text=func: .builtIn.string.formatUnixtime_en
                                      dataKey: itemObject.ctime
                                      style:
                                        top: "0.015"
                                        left: "0.14"
                                        width: "calc(7vw)"
                                        height: "0.02"
                                        fontSize: .Nfont.nf0
                                        color: "0x333333"
                                        textAlign: 
                                          x: right
                                - type: image
                                  path: # star.svg
                                    emit: 
                                      dataKey: 
                                        var: itemObject
                                      actions: 
                                        - if: 
                                          - =.builtIn.number.typeIsValid:
                                              dataIn:
                                                docType: $var.type
                                                localArr: [1,3,6]
                                                binaryArr: [1,1,0]
                                          - star.svg
                                          - emptyStar2.svg #star.svg
                                  onClick: 
                                    - actionType: evalObject
                                      object: 
                                        .Global._nonce@: 
                                          =.builtIn.math.random: ""
                                    - emit: 
                                        dataKey:
                                          var: itemObject
                                        actions:                                     
                                          - =.builtIn.array.add:
                                              dataIn:
                                                object: =..formData.selectOne
                                                value: $var
                                          - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                                          - =.Global.jwt.edgeAPI.store: ""
                                          - if: 
                                            - =.builtIn.number.typeIsValid:
                                                dataIn:
                                                  docType: $var.type
                                                  localArr: [1,3,6]
                                                  binaryArr: [1,1,0]
                                            - =.builtIn.ecos.updateReidDocListType:
                                                dataIn: 
                                                  sourceDocList: =..formData.selectOne
                                                  targetBit: 3
                                                  targetValue: 0
                                                  sCondition: type & 0xFF00 = 0xE00
                                                  eid: =.Global.fac_rootNotebook
                                            - =.builtIn.ecos.updateReidDocListType:
                                                dataIn: 
                                                  sourceDocList: =..formData.selectOne
                                                  targetBit: 3
                                                  targetValue: 1
                                                  sCondition: type & 0xFF00 = 0xE00
                                                  eid: =.Global.fac_rootNotebook
                                          - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                                          - =.Global.jwt.edgeAPI.store: ""
                                          - =..apiRequest.emailList.docAPI.get: ""
                                          - ..formData.selectOne@: []
                                          - if:
                                            - =..apiRequest.emailList.docQueryResp.doc.0
                                            - =.builtIn.object.setObjectKey:
                                                dataIn:
                                                  objectArr: =..apiRequest.emailList.docQueryResp.doc
                                                  key: isSelected
                                                  value: false  
                                                dataOut: FolderPage.formData.emailList
                                            - =.builtIn.checkField:
                                                dataIn:
                                                  contentType: messageHidden
                                                  wait: 100    
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: emailView
                                  style:
                                    top: "0.04"
                                    left: "0.226"
                                    width: "0.012"
                                    height: "0.02"
            # 列表为空
            - type: view
              viewTag: noEmailView
              style: 
                width: "0.562"
                height: "0.9"
                top: "0.015"
                left: "0.27"
                backgroundColor: "0xffffff"
                borderRadius: "5"
                # zIndex: "5"
                isHidden: false
              children :
                - type: image
                  path: noInbox.svg
                  style:
                    width: "0.25"
                    left: "0.15"
                    top: "0.12"
                - type: label
                  text: "Welcome to check your inbox!"
                  dataKey: 
                  style:
                    fontSize: .Nfont.nf6
                    fontWeight: "700"
                    left: "0.15"
                    top: "0.6"
            - type: view
              viewTag: messageView
              style: 
                # backgroundColor: "0x0000ff33"
                left: "0.27"
                width: "0.562"
                height: "0.9"
                top: "0.015"
                borderRadius: "5px"
                backgroundColor: "0xffffff"
                isHidden: true
              children:
                - type: scrollView                  
                  style:
                    width: "0.5"
                    height: "0.87"
                    margin: auto
                    overflow: scroll
                  children:
                    # 1 图标
                    - type: view
                      style:
                        width: "0.5"
                        height: "0.05"
                        # marginTop: "0.005"
                      children:
                        - type: view
                          style:
                            width: "0.17"
                            height: "0.05"
                            left: "0.33"
                            top: "0.015"
                            display: flex
                            justifyContent: flex-end
                            alignItems: center
                            margin: "0"
                          children:
                            - type: view
                              style:
                                width: "0.123"
                                height: "0.05"
                                display: flex
                                justifyContent: space-between
                                alignItems: center
                              children:
                                - type: image
                                  path: goBackInbox.svg
                                  onClick: 
                                    - actionType: evalObject
                                      object:
                                        - .Global.formData.reply.name.data.receiverName@: =..formData.email.name.data.senderName
                                        - .Global.formData.reply.name.data.receiverAvatarId@: =..formData.email.name.user
                                        - =.builtIn.string.concat:
                                            dataIn:
                                              - "Reply to "
                                              - " "
                                              - =..formData.email.name.title
                                            dataOut: Global.formData.reply.name.title
                                        - .Global.formData.reply.eid@: =..formData.email.eid
                                    - goto: NewMessage
                                  style:
                                    width: "0.0115"
                                - type: image
                                  path: strightLine.svg
                                  style:
                                    height: "0.03"
                                - type: image
                                  path: cash.svg
                                  style:
                                    width: "0.011"
                                  onClick: 
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.array.add:
                                            dataIn:
                                              object: =..formData.selectOne
                                              value: =..formData.email
                                    - actionType: popUp
                                      popUpView: isDeleteInbox
                                      wait: true
                                - type: image
                                  path: strightLine.svg
                                  style:
                                    height: "0.03"
                                - type: image
                                  path: document.svg
                                  onClick: 
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.array.add:
                                            dataIn:
                                              object: =..formData.selectOne
                                              value: =..formData.email
                                        - ..formData.selectedDocList@: =..formData.selectOne
                                        - ..formData.selectOne@: []
                                    - actionType: popUp
                                      popUpView: moveView
                                      wait: true
                                  style:
                                    width: "0.011"
                                - type: image
                                  path: strightLine.svg
                                  style:
                                    height: "0.03"
                                    width: "0.002"
                                - type: image
                                  path: 
                                    emit:
                                      actions:
                                        - if: 
                                          - =.builtIn.number.typeIsValid:
                                              dataIn:
                                                docType: =..formData.email.type
                                                localArr: [1,3,6]
                                                binaryArr: [1,1,0]
                                          - star.svg
                                          - emptyStar2.svg
                                  onClick:
                                    - actionType: popUp
                                      popUpView: uploadingTag
                                    - actionType: evalObject
                                      object:
                                        .Global._nonce@:
                                          =.builtIn.math.random: ""                                  
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.array.add:
                                            dataIn:
                                              object: =..formData.selectOne
                                              value: =..formData.email

                                        - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                                        - =.Global.jwt.edgeAPI.store: ""
                                        - if: 
                                          - =.builtIn.number.typeIsValid:
                                              dataIn:
                                                docType: =..formData.email.type
                                                localArr: [1,3,6]
                                                binaryArr: [1,1,0]
                                          # - =.builtIn.number.inhx:
                                          #     dataIn: 
                                          #       intHex: =..apiRequest.emailTag.docStoreReq.type
                                          #       index: 3
                                          #       hex: 0
                                          #     dataOut: FolderPage.apiRequest.emailTag.docStoreReq.type
                                          # - =.builtIn.number.inhx:
                                          #     dataIn: 
                                          #       intHex: =..apiRequest.emailTag.docStoreReq.type
                                          #       index: 3
                                          #       hex: 1
                                          #     dataOut: FolderPage.apiRequest.emailTag.docStoreReq.type                                                
                                          # - =..apiRequest.emailTag.docAPI.store: ""
                                          - =.builtIn.ecos.updateReidDocListType:
                                              dataIn: 
                                                sourceDocList: =..formData.selectOne
                                                targetBit: 3
                                                targetValue: 0
                                                sCondition: type & 0xFF00 = 0xE00
                                                eid: =.Global.fac_rootNotebook
                                          - =.builtIn.ecos.updateReidDocListType:
                                              dataIn: 
                                                sourceDocList: =..formData.selectOne
                                                targetBit: 3
                                                targetValue: 1
                                                sCondition: type & 0xFF00 = 0xE00
                                                eid: =.Global.fac_rootNotebook
                                        - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                                        - =.Global.jwt.edgeAPI.store: ""
                                        - =..apiRequest.emailList.docAPI.get: ""
                                        - ..formData.selectOne@: []
                                        - if:
                                          - =..apiRequest.emailList.docQueryResp.doc.0
                                          - =.builtIn.object.setObjectKey:
                                              dataIn:
                                                objectArr: =..apiRequest.emailList.docQueryResp.doc
                                                key: isSelected
                                                value: false  
                                              dataOut: FolderPage.formData.emailList
                                          - =.builtIn.checkField:
                                              dataIn:
                                                contentType: messageHidden
                                                wait: 100

                                        - =.builtIn.array.getObjectByArray:
                                            dataIn: 
                                              array: =..formData.emailList
                                              key: "id"
                                              value: =..formData.inboxNowId
                                            dataOut: Folder.formData.email
                                    - actionType: popUpDismiss
                                      popUpView: uploadingTag
                                    - actionType: evalObject
                                      object:
                                        - if:
                                          - =.builtIn.number.typeIsValid:
                                              dataIn:
                                                docType: =..formData.email.type
                                                localArr: [1,3,6]
                                                binaryArr: [1,1,0]                                                
                                          - actionType: popUp
                                            popUpView: starSuccessView # 1287
                                          - actionType: popUp
                                            popUpView: unmarkedSuccessView # 1283                                                                                                                                                               
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: emailList
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: emailView                                        
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: starItemImg
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: messageView                                   
                                    - actionType: builtIn
                                      funcName: show
                                      viewTag: noEmailView                                    
                                    # - actionType: popUp
                                    #   popUpView: notStarView # Are you sure to star?
                                    #   wait: true
                                  style:
                                    width: "0.0135"
                    # 2 information and date
                    - type: view
                      style:
                        width: "0.5"    
                        height: "0.1" 
                        border:
                          style: "2"
                        borderColor: "0xd1d1d1"   
                        borderWidth: "1"
                      children:
                        - type: image
                          path: avatarMan.svg
                          path=func: .builtIn.utils.prepareDocToPath
                          dataKey: formData.email.name.user
                          style:
                            top: "0.01"
                            width: "0.04"
                        - type: label
                          dataKey: formData.email.name.data.senderName
                          style:
                            width: "0.1"
                            fontSize: .Nfont.nf5
                            top: "0.015"
                            left: "0.05"
                        - type: label
                          text: Send to Me
                          style:
                            width: "0.25"
                            left: "0.05"
                            top: "0.045"
                            color: "0x0b4a7e"
                        - type: label
                          text=func: .builtIn.string.formatUnixtimeSecond
                          dataKey: formData.email.ctime
                          style:
                            width: "0.1"
                            left: "0.4"
                            top: "0.045"
                            color: "0x797979"
                            fontSize: .Nfont.nf3
                            textAlign: 
                              x: right
                    # 3 main
                    - type: view
                      style:
                        width: "0.5"
                        height: "0.686"
                      children:
                        - type: label
                          dataKey: formData.email.name.title
                          style:
                            width: "0.5"
                            height: "0.06"
                            fontSize: .Nfont.n5
                            marginTop: "0.012"
                        - type: view
                          style:
                            width: "0.5"
                            height: auto
                          children:
                            - type: label
                              dataKey: formData.email.name.data.content
                              style: 
                                fontSize: .Nfont.nf4
                                lineHeight: "2"
                        - type: list
                          contentType: listObject
                          listObject: ..formData.attachment
                          iteratorVar: itemObject
                          style:
                            width: "0.4"
                            margin: "0"
                            height: auto
                            marginTop: "0.01"
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                width: "0.4"
                                height: "0.04"
                                left: "0"
                                marginTop: ""
                              children:
                                - type: view
                                  style:
                                    width: "0.4"
                                    height: "0.04"
                                    backgroundColor: "0xF4F5F7"
                                    marginTop: "0.015"
                                    borderRadius: "10"
                                  children:
                                    - type: view
                                      style:
                                        width: "0.24"
                                        height: "0.04"
                                        display: flex
                                        alignItems: center
                                      children:
                                        - type: image
                                          path: copyPhoto.svg
                                          style:
                                            width: "0.01"
                                            marginLeft: "10px"
                                        - type: label
                                          dataKey: itemObject.name.title
                                          style:
                                            # width: "0.12"
                                            color: "0x666666"
                                            fontSize: .Nfont.nf2
                                            marginLeft: "10px"
                                            
                                        - type: label
                                          text=func: .builtIn.string.bitFormatting
                                          dataKey: itemObject.size
                                          style: 
                                            color: "0x666666"
                                            fontSize: .Nfont.nf2
                                            marginLeft: "10px"
                                        
                                    - type: view
                                      onClick: 
                                        - emit: 
                                            dataKey: 
                                              var: itemObject
                                            actions: 
                                              - ..formData.soloAttach@: $var
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: attachView                                              
                                        - actionType: evalObject
                                          object:                                          
                                              - if: 
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.soloAttach.name.type
                                                      string2: "application/pdf"
                                                - actionType: builtIn
                                                  funcName: hide
                                                  viewTag:  imgView
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: pdfView 
                                              - if: 
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.soloAttach.name.type
                                                      string2: "application/pdf"
                                                - actionType: builtIn
                                                  funcName: hide
                                                  viewTag:  pdfView 
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: imgView
                                        - actionType: popUp
                                          popUpView: attachView
                                      style:
                                        width: "0.05"
                                        height: "0.04"
                                        top: "0"
                                        left: "0.25"
                                        display: flex
                                        justifyContent: space-evenly
                                        alignItems: center
                                      children:
                                        - type: image
                                          path:  view.svg
                                          style:

                                        - type: label
                                          text: View
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x0b4a7e"
                                    - type: view
                                      onClick:
                                        - emit: 
                                            dataKey: 
                                              var: itemObject
                                            actions: 
                                              - =.builtIn.EcosObj.download:
                                                  dataIn:
                                                    ecosObj: $var                                              
                                      style:
                                        width: "0.07"
                                        height: "0.04"
                                        top: "0"
                                        left: "0.32"
                                        display: flex
                                        justifyContent: space-evenly
                                        alignItems: center
                                      children:
                                        - type: image
                                          path: downLoadBlue.svg
                                          style:
                                            
                                        - type: label
                                          text: Download
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x0b4a7e"

                        - type: textView
                          placeholder: Reply...
                          dataKey: apiRequest.email.docReq.name.data.content
                          viewTag: replyView
                          style:
                            width: "0.5"
                            textIndent: "1em"
                            height: "0.14"
                            fontSize: .Nfont.nf4
                            fontFamily: Poppins
                            boxSizing: border-box
                            border:
                              style: "3"
                            borderWidth: "2"
                            borderColor: "0xf1f1f1"
                            borderRadius: "5"
                            marginTop: "0.02"
                        - type: button
                          text: "Send"
                          onClick :
                            - actionType: evalObject
                              object: 
                                - =.builtIn.string.concat:
                                    dataIn:
                                      - "Reply to "
                                      - " "
                                      - =..formData.email.name.title
                                    dataOut: FolderPage.apiRequest.email.docReq.name.title
                                - ..apiRequest.email.docReq.eid@: =..formData.email.eid
                                - ..apiRequest.email.docReq.name.data.receiverName@: =..formData.email.name.data.senderName
                                - ..apiRequest.email.docReq.name.data.receiverAvatarId@: =..formData.email.name.user
                                - =..apiRequest.email.docAPI.store: ""
                                - ..apiRequest.email.docReq.name.data.content@: ""
                            - actionType: popUp
                              popUpView: sendSuccessView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: replyView

                          style:
                            width: "0.08"
                            height: "0.05"
                            left: "0.425"
                            marginTop: "0.015"
                            backgroundColor: "0x005795"
                            borderRadius: "5"
                            color: "0xffffff"
                            fontSize: .Nfont.nf2
                            border:
                              style: "1"
                            textAlign:
                              x: center
                              y: center
        # 删除成功
        - .SuccessDeletedPopUpView: ""
          msg: "Deleted Successfully！"
          viewTag: successTag
        # 多选删除垃圾箱中的邮件
        - type: popUp
          viewTag: dxSeveralMsgView
          style: 
            left: "0"
            width: "1"
            height: "1"
            top: "0" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children: 
            - type: view
              style:
                width: "0.32"
                height: "0.34"
                backgroundColor: "0xffffff"
                zIndex: "10"
                left: "0.4"
                top: "0.27"
              children:
                - type: view
                  style:
                    width: "0.32"
                    height: "0.13"
                    display: flex
                    justifyContent: center
                    alignItems: flex-end
                  children:
                    - type: label
                      text: "Remove the selected messages from this folder?"
                      dataKey: 
                      style:
                        fontSize: .Nfont.nf5
                - type: view
                  style:
                    width: "0.32"
                    height: "0.15"
                    display: flex
                    justifyContent: space-evenly
                    alignItems: flex-end
                  children:
                    - type: button
                      text: "No"
                      style:
                        width: "0.065"
                        height: "0.045"
                        backgroundColor: "0xbebebe"
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: dxSeveralMsgView
                    - type: button
                      text: "Yes"
                      style:
                        width: "0.065"
                        height: "0.045"
                        backgroundColor: "0x005795" 
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: dxSeveralMsgView
                        - actionType: popUp
                          popUpView: uploadingTag                      
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: evalObject
                          object:
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""
                            - =.builtIn.ecos.updateReidDocListType:
                                dataIn: 
                                  sourceDocList: =..formData.selectSeveral
                                  targetBit: 4
                                  targetValue: 1
                                  sCondition: type & 0xFF00 = 0xE00
                                  eid: =.Global.fac_rootNotebook
                        - actionType: evalObject
                          object:             
                            - ..formData.selectSeveral@: []
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""                                           
                            - =..apiRequest.emailList.docAPI.get: ""
                            - if:
                              - =..apiRequest.emailList.docQueryResp.doc.0
                              - =.builtIn.object.setObjectKey:
                                  dataIn:
                                    objectArr: =..apiRequest.emailList.docQueryResp.doc
                                    key: isSelected
                                    value: false  
                                  dataOut: FolderPage.formData.emailList
                              - =.builtIn.checkField:
                                  dataIn:
                                    contentType: messageHidden
                                    wait: 100  
                            - ..formData.isAllSelected@: false
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: allSelectedView    
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: emailView
                        - actionType: popUpDismiss
                          popUpView: uploadingTag                            
                        - actionType: popUp
                          popUpView: removeSuccessTag   
                        - actionType: builtIn
                          funcName: hide
                          viewTag: messageView
                        - actionType: builtIn
                          funcName: show
                          viewTag: noEmailView                                   
        # 单独删除弹窗 Delete the message?
        - type: popUp
          viewTag: isDeleteInbox
          style:
            width: "1"
            height: "1"
            top: "0"
            left: "0"
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - type: view
              style:
                width: "0.32"
                height: "0.34"
                backgroundColor: "0xffffff"
                zIndex: "10"
                left: "0.4"
                top: "0.27"
              children:
                - type: view
                  style:
                    width: "0.32"
                    height: "0.13"
                    display: flex
                    justifyContent: center
                    alignItems: flex-end
                  children:
                    - .InboxDeletedTagLabel: ""
                      text: "Remove the message from this folder??"
                - type: view
                  style:
                    width: "0.32"
                    height: "0.18"
                    display: flex
                    justifyContent: space-evenly
                    alignItems: center
                  children:
                    - .InboxDeletedTagNoButton: ""
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: isDeleteInbox
                    - .InboxDeletedTagYesButton: ""
                      onClick:
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""                      
                        - actionType: evalObject
                          object:
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""
                            - =.builtIn.ecos.updateReidDocListType:
                                dataIn: 
                                  sourceDocList: =..formData.selectOne
                                  targetBit: 4
                                  targetValue: 1
                                  sCondition: type & 0xFF00 = 0xE00
                                  eid: =.Global.fac_rootNotebook
                        - actionType: evalObject
                          object:
                            - ..formData.selectOne@: []
                            # 重新get一下email
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: "" 
                            - =..apiRequest.emailList.docAPI.get: ""
                            - if:
                              - =..apiRequest.emailList.docQueryResp.doc.0
                              - =.builtIn.object.setObjectKey:
                                  dataIn:
                                    objectArr: =..apiRequest.emailList.docQueryResp.doc
                                    key: isSelected
                                    value: false  
                                  dataOut: FolderPage.formData.emailList
                              - =.builtIn.checkField:
                                  dataIn:
                                    contentType: messageHidden
                                    wait: 100                  

                        - actionType: builtIn
                          funcName: redraw
                          viewTag: emailView                           
                        - actionType: popUpDismiss
                          popUpView: isDeleteInbox
                        - actionType: popUp
                          popUpView: deleteSuccessTag        
                        - actionType: builtIn
                          funcName: hide
                          viewTag: messageView
                        - actionType: builtIn
                          funcName: show
                          viewTag: noEmailView     
        # 没有选择邮件时提示
        - .SuccessDeletedPopUpView: ""
          viewTag: selectPopUpView
          img: alertRed.svg
          msg: "You haven’t choose any message"       
        # 删除成功
        - .SuccessDeletedPopUpView: ""
          viewTag: removeSuccessTag
          msg: "Removed Successfully！"
        # 星标成功
        - .SuccessDeletedPopUpView: ""
          viewTag: notStarSuccessView
          msg: "Marked Successfully！"
        - .SuccessDeletedPopUpView: ""
          viewTag: sendSuccessView
          msg: "Sent Successfully！"          
        # 移入文件夹
        - type: popUp
          viewTag: moveView
          style: 
            left: "0"
            width: "1"
            height: "1"
            top: "0"
            backgroundColor: "0x00000033"
            zIndex: "10"
          children: 
            - type: view
              style: 
                left: "0.455"
                width: "0.25"
                top: "0.27"
                height: "0.48"
                backgroundColor: "0xffffff"
                borderRadius: "5"
              children: 
                - type: image
                  path: close.svg
                  onClick: 
                    - actionType: popUpDismiss
                      popUpView: moveView
                  style:
                    left: "0.225"
                    width: "0.01"
                    marginTop: "0.02"
                - type: label
                  text: Add to
                  dataKey: 
                  style:
                    left: "0.03"
                    width: "0.15"
                    marginTop: "0"
                    fontSize: .Nfont.nf6
                    fontFamily: Poppins
                - type: scrollView
                  style:
                    width: "0.19"
                    left: "0.03"
                    marginTop: '0.01'
                    height: "0.26"
                    overflow: scroll     
                  children:            
                    - type: list
                      contentType: listObject
                      listObject: ..formData.folderList
                      iteratorVar: itemObject
                      viewTag: folderListView
                      style:
                        width: '0.19'
                        left: "0"
                        margin: '0'
                        height: auto
                      children:
                        - type: listItem
                          onClick:
                            - emit: 
                                dataKey: 
                                  var: itemObject
                                actions: 
                                  - =.builtIn.object.setProperty: 
                                      dataIn: 
                                        obj: =..formData.folderList
                                        label: "id"
                                        text: $var.id
                                        arr: ["backgroundColor"]
                                        valueArr: ["0xe2edf5"]
                                        errorArr: ["0xffffff"]    
                                  - ..formData.moveFolderId@: $var.id                              
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: folderListView
                          itemObject: 
                          style:
                            width: '0.19'
                            height: '0.04'
                            left: '0'
                            marginTop: '0.01'
                            borderRadius: "5"
                            display: flex
                            # flexDirection: nowrap
                            justifyContent: space-between
                            alignItems: center    
                            backgroundColor: itemObject.backgroundColor                        
                          children:
                            - type: image
                              path: folderYellow.svg
                              style:
                                # left: "0.02"
                                width: "0.019"
                            - type: label
                              dataKey: itemObject.name.title
                              style:
                                # left: "0.06"
                                width: "0.14"
                                fontFamily: Poppins
                                fontSize: .Nfont.nf3
                - type: view
                  onClick: 
                    - actionType: popUpDismiss
                      popUpView: moveView
                    - actionType: popUp
                      popUpView: addFolderView
                  style:
                    width: "0.19"
                    left: "0.03"
                    marginTop: "0.01"
                    height: "0.04" 
                    border: 
                      style: "3"
                    borderWidth: "1"
                    borderColor: "0x0b4a7e"
                    borderRadius: "3"
                    boxSizing: border-box
                    display: flex
                    alignItems: center
                    justifyContent: center                        
                  children: 
                    - type: view
                      style:
                        width: "0.065"
                        height: "0.04"
                        display: flex
                        justifyContent: space-around
                        alignItems: center
                      children: 
                        - type: image
                          path: addDeepBlue.svg
                          style:
                            width: "0.01"
                        - type: label
                          text: Add new
                          dataKey: 
                          style:
                            width: "0.04"
                            fontSize: .Nfont.nf3
                            fontFamily: Poppins
                            color: "0x0b4a7e"
                - type: view
                  style:
                    width: "0.19"
                    left: "0.03"
                    height: "0.082" 
                    # backgroundColor: "0x30b35433"
                    display: flex
                    alignItems: center
                    justifyContent: space-between
                  children: 
                    - type: button
                      text: "Cancel"
                      style:
                        width: "0.065"
                        height: "0.04"
                        backgroundColor: "0xbebebe"
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: moveView
                    - type: button
                      text: "Confirm"
                      onClick:
                        - actionType: evalObject
                          object:
                            - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
                            - =.Global.jwt.edgeAPI.store: ""                               
                            - =.builtIn.ecos.createFolderTag:
                                dataIn:
                                  sourceDocList: =..formData.selectedDocList
                                  folder: =..formData.moveFolderId
                                  eid: =.Global.fac_rootNotebook   
                            - ..formData.isAllSelected@: false
                            - ..formData.selectedDocList@: []
                            - =.builtIn.object.setObjectKey:
                                dataIn:
                                  objectArr: =..apiRequest.emailList.docQueryResp.doc
                                  key: isSelected
                                  value: false  
                                dataOut: FolderPage.formData.emailList  
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: allSelectedView   
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: emailView                               
                        - actionType: popUpDismiss
                          popUpView: moveView
                        - actionType: popUp
                          popUpView: moveSuccessView
                      style:
                        width: "0.065"
                        height: "0.04"
                        backgroundColor: "0x005795" 
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2
        # 添加新文件夹
        - type: popUp
          viewTag: addFolderView
          style:
            width: "1"
            height: "1"
            top: "0"
            left: "0"
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - type: view
              style:
                width: "0.4"
                height: "0.34"
                backgroundColor: "0xffffff"
                zIndex: "10"
                left: "0.38"
                top: "0.27"
              children:
                - type: image
                  path: close.svg
                  onClick:  
                    - actionType: popUpDismiss
                      popUpView: addFolderView
                    - actionType: popUp
                      popUpView: moveView                      
                  style:
                    left: "0.38"
                    width: "0.01"
                    marginTop: "0.015"
                - type: label
                  text: Add Folder
                  dataKey: 
                  style:
                    left: "0.05"
                    width: "0.15"
                    marginTop: "0.01"
                    fontSize: .Nfont.nf6
                    fontFamily: Poppins
                - type: view
                  style:
                    left: "0.05"
                    width: "0.3"
                    marginTop: "0.06"
                    height: "0.04"
                    display: flex
                    flexDirection: column
                    flexWrap: wrap
                    justifyContent: space-evenly
                    alignItems: center
                    alignContent: space-between                   
                  children: 
                    - type: label
                      text: "Folder Name:"
                      dataKey: 
                      style:
                        fontSize: .Nfont.nf4
                        fontFamily: Poppins
                    - type: textField
                      placeholder: Enter name here
                      dataKey: apiRequest.folder.docCreateReq.name.title
                      style:
                        width: "0.2"
                        height: "0.035"
                        backgroundColor: "0xe3e3e3"
                        textIndent: 2em
                        fontSize: .Nfont.nf4
                        border: 
                          style: "1"
                        borderWidth: "1"
                        borderColor: "0xe3e3e3"
                        borderRadius: "5"
                        boxSizing: border-box
                - type: view
                  style:
                    left: "0.05"
                    width: "0.3"
                    marginTop: "0.06"
                    height: "0.04"
                    display: flex
                    flexDirection: column
                    flexWrap: wrap
                    justifyContent: space-evenly
                    alignItems: center
                    alignContent: space-around     
                  children: 
                    - type: button
                      text: "No"
                      style:
                        width: "0.065"
                        height: "0.045"
                        backgroundColor: "0xbebebe"
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..apiRequest.folder.docCreateReq.name.title@: ""
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: addFolderView                      
                        - actionType: popUpDismiss
                          popUpView: addFolderView
                    - type: button
                      text: "Yes"
                      onClick:
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: evalObject
                          object:
                            - if:
                              - =.builtIn.array.checkElememtExist:
                                  dataIn:
                                    objArr: =..apiRequest.folder.docGetResp.doc
                                    values: =..apiRequest.folder.docCreateReq.name.title
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.folder.docCreateReq.name.title@: ""
                                  - actionType: popUp
                                    popUpView: repeatView
                              - actionType: evalObject
                                object:
                                  - =..apiRequest.folder.docAPI.store: ""
                                  - ..apiRequest.folder.docCreateReq.name.title@: ""
                                  - =..apiRequest.folder.docAPI.get: ""
                                  - ..formData.folderList@: =..apiRequest.folder.docGetResp.doc 
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: moveView
                        - actionType: popUp
                          popUpView: moveView
                        - actionType: popUpDismiss
                          popUpView: addFolderView                      
                      style:
                        width: "0.065"
                        height: "0.045"
                        backgroundColor: "0x005795" 
                        textAlign:
                          x: center
                          y: center
                        color: "0xffffff"
                        border:
                          style: "1"
                        borderRadius: "5"
                        fontSize: .Nfont.nf2       
        - .SuccessDeletedPopUpView: ""
          viewTag: moveSuccessView
          msg: "Added Successfully！" 
        # 看附件的文件
        - .AttachmentView: 
        # - type: popUp
        #   viewTag: attachView
        #   style:
        
        # 星标成功
        - .SuccessDeletedPopUpView: ""
          viewTag: starSuccessView
          msg: "Starred Successfully！"
        # 取消星标成功
        - .SuccessDeletedPopUpView: ""
          viewTag: unmarkedSuccessView
          msg: "Unmarked Successfully！"
        # 正在加载
        - .LoadingPopUpView: ""
        # 没有选中的轻提示
        - .LittlePopUpView: ""                     