PatientInfo: 
  init: 
    - .SignInCheck
    - actionType: evalObject
      object: 
        .Global._nonce@: 
          =.builtIn.math.random: ""
    - =..patdInfo.docAPI.get: ""
    - if: 
      - ..patdInfo.docResp.doc.0
      - ..profile@: =..patdInfo.docResp.doc.0
      - continue
    - if: 
      - =.builtIn.string.judgeFillinAll: 
          dataIn:   
            - =..profile.name.data.Address.city
            - =..profile.name.data.Address.state
            - =..profile.name.data.Address.zip
      - continue
      - =.builtIn.string.concat: 
          dataIn: 
            - =..profile.name.data.Address.city
            - ","
            - =..profile.name.data.Address.state
            - ","
            - =..profile.name.data.Address.zip
          dataOut: PatientInfo.profile.name.data.csz
    - if:
      - =.Global.formData.patientHistoryInfo.id
      - actionType: evalObject
        object:
          - =..cov19Test.docAPI.get: ""
          - if:
            - =..cov19Test.docRes.doc.0.id
            - actionType: evalObject
              object:
              - =.builtIn.array.add:
                  dataIn:
                    object: =..front_IDCard.docReq.ids
                    value: =..cov19Test.docRes.doc.0.id
              - =.builtIn.array.add:
                  dataIn:
                    object: =..front_InsuranceCard.docReq.ids
                    value: =..cov19Test.docRes.doc.0.id 
              - =.builtIn.array.add:
                  dataIn:
                    object: =..back_InsuranceCard.docReq.ids
                    value: =..cov19Test.docRes.doc.0.id    
            - continue
          - =..front_IDCard.docAPI.get: ""
          - =..front_InsuranceCard.docAPI.get: ""
          - =..back_InsuranceCard.docAPI.get: ""
          - =.builtIn.utils.prepareDoc:
              dataIn:
                doc: =..front_IDCard.docRes.doc.0
              dataOut: PatientInfo.front_IDCard.showDoc
          - =.builtIn.utils.prepareDoc:
              dataIn:
                doc: =..front_InsuranceCard.docRes.doc.0
              dataOut: PatientInfo.front_InsuranceCard.showDoc 
          - =.builtIn.utils.prepareDoc:
              dataIn:
                doc: =..back_InsuranceCard.docRes.doc.0
              dataOut: PatientInfo.back_InsuranceCard.showDoc 
      - continue
  profile: 
    name: 
      data: 
        fullName: ""
        phone: ""
        birth: ""
        gender: ""
        email: ""
        address: ""
        name: ""
        relation: ""
        phone2: ""
        memberID: ""
        insuranceProvider: ""
        csz: ""
  patdInfo: 
    docResp: ""
    docIn: 
      type: .DocType.PatientProfile #  type: "257"
      id: .Global.formData.scheduleManagePatdId
      xfname: E.bvid
      ObjType: 12
      obfname: "mtime"
      sCondition: "E.type=10000"
      maxcount: "1"
      _nonce: .Global._nonce
    docAPI: 
      get: 
        api: rd
        dataIn: patdInfo.docIn
        dataOut: PatientInfo.patdInfo.docResp
  cov19Test:
    docRes: ""
    docReq:
      id: .Global.formData.patientHistoryInfo.id
      xfname: eid
      type: .DocType.Cov19Chart
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: PatientInfo.cov19Test.docReq
        dataOut: PatientInfo.cov19Test.docRes
  front_IDCard:
    showDoc: ""
    docRes: ""
    docReq:
      ids: 
        - .Global.formData.patientHistoryInfo.id
      xfname: eid,fid
      type: .DocType.F_IDCard
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: PatientInfo.front_IDCard.docReq
        dataOut: PatientInfo.front_IDCard.docRes
  front_InsuranceCard:
    showDoc: ""
    docRes: ""
    docReq:
      ids: 
        - .Global.formData.patientHistoryInfo.id
      xfname: eid,fid
      type: .DocType.F_InsuranceCard
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: PatientInfo.front_InsuranceCard.docReq
        dataOut: PatientInfo.front_InsuranceCard.docRes
  back_InsuranceCard:
    showDoc: ""
    docRes: ""
    docReq:
      ids: 
        - .Global.formData.patientHistoryInfo.id
      xfname: eid,fid
      type: .DocType.B_InsuranceCard
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: PatientInfo.back_InsuranceCard.docReq
        dataOut: PatientInfo.back_InsuranceCard.docRes
  components: 
    - type: view
      style:  
        left: "0"
        top: "0"
        width: "1"
        height: "1"
      children: 
        - type: view
          style: 
            top: "0"
            width: "1"
            height: "0.36"
            left: "0"
          children: 
            - type: label
              text: Basic Info
              style: 
                left: "0.05"
                width: "0.5"
                top: "0"
                height: "0.045"
                color: "0x000000"
                fontFamily: "Poppins"
                fontWeight: "600"
                fontSize: .Nfont.nf4
                textAlign: 
                  x: left
            - type: view
              style: 
                top: "0.07"
                width: "0.9"
                left: "0.05"
                height: "0.282"
                borderRight: "1px solid #c1c1c1"
                # borderBottom: "1px solid #c1c1c1"
              children: 
                - .PatientInfoTitle: 
                  text: Patient Name
                - .PatientInfoText: 
                  dataKey: profile.name.data.fullName
                - .PatientInfoTitle: 
                  text: PhoneNumber
                  style: 
                    left: "0.2"
                    width: "0.18"
                - .PatientInfoText: 
                  dataKey: profile.name.data.phone
                  # text: +1 8884564010
                  style: 
                    left: "0.2"
                    width: "0.18"
                - .PatientInfoTitle: 
                  text: Date of Birth
                  style: 
                    left: "0.38"
                    width: "0.17"
                - .PatientInfoText: 
                  dataKey: profile.name.data.birth
                  style: 
                    left: "0.38"
                    width: "0.17"
                - .PatientInfoTitle: 
                  text: Gender
                  style: 
                    left: "0.55"
                    width: "0.15"
                - .PatientInfoText: 
                  dataKey: profile.name.data.gender
                  style: 
                    left: "0.55"
                    width: "0.15"
                - .PatientInfoTitle: 
                  text: Email
                  style: 
                    left: "0.7"
                    width: "0.198"
                - .PatientInfoText: 
                  dataKey: profile.name.data.email
                  style: 
                    left: "0.7"
                    width: "0.198"
                - .PatientInfoTitle: 
                  text: Address
                  style: 
                    top: "0.14"
                - type: textView
                  isEditable: false
                  style: 
                    top: "0.21"
                    height: "0.073"
                    left: "0"
                    width: "0.2"
                    textAlign:  
                      x: center
                      y: center
                    # backgroundColor: '0xeaeaea'
                    fontFamily: Poppins
                    fontSize: "14"
                    # borderTop: "1px solid #c1c1c1"
                    # borderLeft: "1px solid #c1c1c1"
                  dataKey: profile.name.data.Address.St
                - .PatientInfoTitle: 
                  text: City,State,Zip code
                  style: 
                    top: "0.14"
                    left: "0.2"
                    width: "0.18"
                - type: textView
                  isEditable: false
                  style: 
                    top: "0.21"
                    height: "0.073"
                    left: "0.2"
                    width: "0.18"
                    textAlign:  
                      x: center
                      y: center
                    # backgroundColor: '0xeaeaea'
                    fontFamily: Poppins
                    fontSize: "14"
                    # borderTop: "1px solid #c1c1c1"
                    # borderLeft: "1px solid #c1c1c1"
                  dataKey: profile.name.data.csz
                  # style: 
                  #   top: "0.21"
                  #   left: "0.2"
                  #   width: "0.18"
                - .PatientInfoTitle: 
                  text: Emergency Contact
                  style: 
                    top: "0.14"
                    left: "0.38"
                    width: "0.17"
                - .PatientInfoText: 
                  dataKey: profile.name.data.name
                  style: 
                    top: "0.21"
                    left: "0.38"
                    width: "0.17"
                    borderBottom: "1px solid #c1c1c1"
                - .PatientInfoTitle: 
                  text: Relation
                  style: 
                    top: "0.14"
                    left: "0.55"
                    width: "0.15"
                - .PatientInfoText: 
                  dataKey: profile.name.data.relation
                  style: 
                    top: "0.21"
                    left: "0.55"
                    width: "0.15"
                    borderBottom: "1px solid #c1c1c1"
                - .PatientInfoTitle: 
                  text: Emergency Phone Number
                  style: 
                    top: "0.14"
                    left: "0.7"
                    width: "0.198"
                - .PatientInfoText: 
                  dataKey: profile.name.data.phone2
                  style: 
                    top: "0.21"
                    left: "0.7"
                    width: "0.198"
                    borderBottom: "1px solid #c1c1c1"
        - type: view
          style: 
            top: "0.4"
            width: "1"
            height: "0.6"
            left: "0"
          children: 
            - type: label
              text: Medical Insurance
              style: 
                left: "0.05"
                width: "0.5"
                top: "0"
                height: "0.045"
                color: "0x000000"
                fontFamily: "Poppins"
                fontWeight: "600"
                fontSize: .Nfont.nf4
                textAlign: 
                  x: left
            - type: view
              style: 
                top: "0.07"
                width: "0.9"
                left: "0.05"
                height: "0.522"
                borderRight: "1px solid #c1c1c1"
                borderBottom: "1px solid #c1c1c1"
              children: 
                - .PatientInfoTitle: 
                  text: Members ID
                  style: 
                    width: "0.225"
                - .PatientInfoText: 
                  dataKey: cov19Test.docRes.doc.0.name.data.billingInfo.indentification.membersID
                  style: 
                    width: "0.225"
                - .PatientInfoTitle: 
                  text: Insured Name
                  style: 
                    left: "0.225"
                    width: "0.225"
                - .PatientInfoText: 
                  dataKey: cov19Test.docRes.doc.0.name.data.billingInfo.indentification.insuredName
                  style: 
                    left: "0.225"
                    width: "0.225"
                - .PatientInfoTitle: 
                  text: Insurance Company Name
                  style: 
                    left: "0.45"
                    width: "0.225"
                - .PatientInfoText: 
                  dataKey: cov19Test.docRes.doc.0.name.data.billingInfo.indentification.companyName
                  style: 
                    left: "0.45"
                    width: "0.225"
                - .PatientInfoTitle: 
                  text: Relationship to Patient
                  style: 
                    left: "0.675"
                    width: "0.223"
                - .PatientInfoText: 
                  dataKey: cov19Test.docRes.doc.0.name.data.billingInfo.indentification.relationship
                  style: 
                    left: "0.675"
                    width: "0.224"
                - .PatientInfoTitle: 
                  text: Identification
                  style: 
                    width: "0.3"
                    top: "0.14"
                    borderBottom: "1px solid #c1c1c1"
                - type: view
                  dataKey: 
                  style: 
                    top: "0.21"
                    width: "0.3"
                    height: "0.31"
                    borderLeft: "1px solid #c1c1c1"
                  children:
                    - type: label
                      text: Front of Identification Card
                      style:
                        top: "0.03"
                        left: "0.05"
                    - type: image
                      path: 
                        emit:
                          actions:
                            - if: 
                              - =..front_IDCard.showDoc.id
                              - =..front_IDCard.showDoc.name.data
                              - upload.png
                      style:
                        top: "0.08"
                        left: "0.1"
                        width: "0.1"
                - .PatientInfoTitle: 
                  text: Insured Card
                  style: 
                    top: "0.14"
                    left: "0.3"
                    width: "0.598"
                    borderBottom: "1px solid #c1c1c1"
                - type: view
                  style: 
                    top: "0.21"
                    left: "0.3"
                    width: "0.3"
                    height: "0.31"
                    borderLeft: "1px solid #c1c1c1"
                    
                  children:
                    - type: label
                      text: Front of Insurance Card
                      style:
                        top: "0.03"
                        left: "0.05"
                    - type: image
                      path: 
                        emit:
                          actions:
                            - if: 
                              - =..front_InsuranceCard.showDoc.id
                              - =..front_InsuranceCard.showDoc.name.data
                              - upload.png
                      style:
                        top: "0.08"
                        left: "0.1"
                        width: "0.1"
                - type: view
                  style: 
                    top: "0.21"
                    left: "0.6"
                    width: "0.3"
                    height: "0.31"
                  children:
                    - type: label
                      text: Back of Insurance Card
                      style:
                        top: "0.03"
                        left: "0.05"
                    - type: image
                      path: 
                        emit:
                          actions:
                            - if: 
                              - =..back_InsuranceCard.showDoc.id
                              - =..back_InsuranceCard.showDoc.name.data
                              - upload.png
                      style:
                        top: "0.08"
                        left: "0.1"
                        width: "0.1"
