Cov19ResultsAndFluResultsEdit:
  title: COVID-19 Results & Flu A&B Results
  init: #Page initialization
    - .SignInCheck
    - actionType: evalObject
      object: .BaseDate.getDate
    #生成年份
    - =.builtIn.date.generateYear:
        dataIn:
          last: 40
          next: 10
        dataOut: BaseDate.year    
    - ..formData.locationAll@: =.Global.locationAll
  # 分别取出locationAll数组中的location / phoneNumber 
    - =.builtIn.object.extractArray: 
        dataIn: 
          obj: =..formData.locationAll
          arr:
            - location
            - phoneNumber
        dataOut: Cov19ResultsAndFluResultsEdit.formData.locationAddressAndPhone        
  # 格式化表格
    - ..apiRequest.covResultAndFluResult.docReq.name.data@: =.SelectData.cov19ResultAndFluResult   
    - =..apiRequest.covResultAndFluResult.docAPI.store: ""
    - ..apiRequest.covResultAndFluResult.docReq@: =..apiRequest.covResultAndFluResult.docResp.doc
    - ..apiRequest.newSign.document.reid@: =..apiRequest.covResultAndFluResult.docResp.doc.id
  # 文档的创建时间
    - =.builtIn.date.formatDataPro:
        dataIn: 
          date: =..apiRequest.covResultAndFluResult.docReq.ctime
          separator: "/"
        dataOut: Cov19ResultsAndFluResultsEdit.formData.docCtime
  # 拼串操作： +1 phoneNumber
    - =.builtIn.string.concat:
        dataIn:
          - "+1 "
          - =.Global.currentFacility.name.basicInfo.phoneNumber
        dataOut: Cov19ResultsAndFluResultsEdit.formData.facilityPhone
  
  formDataTemp:
    privateTag: 
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"    
    publicTag: 
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"  
    antigenResults: 
      - key: antigenResults
        value: Positive
      - key: antigenResults
        value: Negative
    antibodylgGResults: 
      - key: antibodylgGResults
        value: Positive
      - key: antibodylgGResults
        value: Negative
    antibodylgMResults: 
      - key: antibodylgMResults
        value: Positive
      - key: antibodylgMResults
        value: Negative     
    fluTestResults: 
      - key: fluTestResults
        value: Positive
      - key: fluTestResults
        value: Negative          
    patientInfo:
      - key: Exam Date
        value: 
      - key: Patient Name
        value: 
      - key: AiTmed ID
        value:    
      - key: Phone
        value: 
      - key: DOB
        value:
    question:
      - key: 1)ALLERGIC REACTION TO CHICKEN EGGS?
        value: 
      - key: 2)ALLERGIC REACTION TO FLU SHOT OR ANY OTHER TYPE OF IMMUNIZATION SHOT?
        value: 
      - key: 3)ALLERGIC REACTION TO ANY MEDICATION OR DRUG?
        value:    
      - key: 4)ARE YOU OR COULD YOU BE PREGNANT?
        value:                                                     
    selectYesOrNo:
      problem1:
        - key: problem1
          value: "Yes"
        - key: problem1
          value: "No"
      problem2:
        - key: problem2
          value: "Right Deltoid"
        - key: problem2
          value: "Left Deltoid"             
  formData:
    docCtime: ""
    locationAll: []
    whetherSignature: ""
    requestBox: ""
    testCompany: []
    locationAddressAndPhone: []
    dataTagFlag: ""
    facilityPhone: ""
    locationSelect: ""
    phoneSelect: ""
  apiRequest: 
    covResultAndFluResult:   
      deleteReq: 
        id: ""
      docResp: ""
      docReq: 
        eid: .Global.formData.meetingDocEid
        reid: ""
        type: 138240
        name:
          data: 
            whetherSign: "true"
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xe9f2fc"
              display: block
            statusTag:    
            isSelectAddress: ""                  
          title: "COVID-19 Results & Flu A&B Results"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "application/json"
      docAPI:
        store:
          api: cd
          dataIn: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.docReq
          dataOut: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.docResp
        delete: 
          api: dx
          dataIn: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.deleteReq
    newSign:
      docRes: ""
      document: #DOC
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.document.subtype.mediaType
          data: "" 
        eid: .Global.formData.meetingDocEid
        reid: ""
        subtype:
          mediaType: "" # mediaType : "image/jpeg"              
      docAPI: # DOCAPI 
        store:
          api: cd
          dataIn: apiRequest.newSign.document 
          dataOut: Cov19ResultsAndFluResultsEdit.apiRequest.newSign.docRes    
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style: 
            height: "0.93"
          children:
            - .AppointmentLobby:
              style:
                width: "0.7"
            - .GotoBack:
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.covResultAndFluResult.deleteReq.id@: =..apiRequest.covResultAndFluResult.docResp.doc.id
                    - =..apiRequest.covResultAndFluResult.docAPI.delete: ""
                - actionType: builtIn
                  funcName: goBack
                  reload: true 
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
     
              children:                
                - type: view
                  style:
                    width: "0.39"
                    height: "1"
                    margin: "auto"
                  children: 
                    - .FormsTypeTitle:
                      style:
                        height: "0.055"
                        marginTop: "0.04"
                        fontWeight: "600"
                    - type: scrollView
                      style:
                        width: "0.39"
                        height: "0.64"
                        overflow: scroll  
                      children:
                        - type: view
                          style:
                            width: "0.39"
                            left: "0"
                            height: "auto"
                            border: 
                              style: "2"
                            borderWidth: "4"
                            borderColor: "0xdedede"
                          children:   
                          # admin profile start             
                            - type: view
                              style:
                                marginTop: "0.012"
                                height: "0.116"
                                width: "0.39"
                                overflow: hidden
                              children:
                                - type: image
                                  path: "office-building.svg"
                                  path=func: .builtIn.utils.prepareDocToPath
                                  dataKey: Global.facilityAvatarID
                                  style:
                                    width: "0.03"
                                    marginLeft: "0"
                                    marginTop: "0.01"
                                    display: "inline-block"
                                - type: view
                                  style:
                                    width: "0.14"
                                    display: "inline-block"
                                    marginLeft: "0.01"
                                  children: 
                                    - type: label
                                      dataKey: Global.currentFacility.name.basicInfo.medicalFacilityName
                                      style:
                                        marginTop: "0.01"
                                        fontSize: .Nfont.nf5 
                                        fontWeight: "500"
                                        display: "flex"
                                        color: "0x333333"
                                    - type: label
                                      dataKey: Global.currentFacility.name.basicInfo.location
                                      style:
                                        fontSize: .Nfont.nf2
                                        display: "flex"
                                        marginTop: "0.01"
                                        color: "0x333333"
                                - type: view
                                  style:
                                    marginTop: "0"
                                    marginLeft: "0"
                                    height: "0.1"
                                    width: "0.12"
                                    overflow: hidden
                                    display: "inline-block"
                                  children:
                                    - type: view 
                                      style:
                                        marginTop: "0.02"
                                        display: "flex"
                                      children: 
                                        - type: label
                                          text: Email
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x757575"
                                            display: "inline-block"
                                        - type: label
                                          dataKey: Global.currentFacility.name.basicInfo.email
                                          style:
                                            fontSize: .Nfont.nf2
                                            marginLeft: "0.002"
                                            display: "inline-block"
                                            color: "0x333333"
                                    - type: view 
                                      style:
                                          marginTop: "0.01"
                                          display: "flex"
                                      children: 
                                        - type: label
                                          text: "Website"
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x757575"
                                            display: "inline-block"
                                        - type: label
                                          dataKey: Global.currentFacility.name.basicInfo.website
                                          style:
                                            fontSize: .Nfont.nf2   
                                            marginLeft: "0.002"
                                            display: "inline-block"
                                            color: "0x333333"
                                - type: view
                                  style:
                                    marginTop: "0"
                                    marginLeft: "0"
                                    height: "0.1"
                                    overflow: hidden
                                    display: "inline-block" 
                                  children:            
                                    - type: view 
                                      viewTag: facilityPhoneTag
                                      style:
                                          marginTop: "0.02"
                                          display: "flex"
                                      children: 
                                        - type: label
                                          text: Main#
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x757575"
                                            display: "inline-block"
                                        - type: label
                                          dataKey: formData.facilityPhone
                                          style:
                                            fontSize: .Nfont.nf2 
                                            marginLeft: "0.002"
                                            display: "inline-block"
                                            color: "0x333333"
                                    - type: view 
                                      style:
                                        marginTop: "0.01"
                                        display: "flex"
                                      children: 
                                        - type: label
                                          text: Fax#
                                          style:
                                            fontSize: .Nfont.nf2
                                            color: "0x757575"
                                            display: "inline-block"
                                        - type: label
                                          dataKey: Global.currentFacility.name.basicInfo.fax
                                          style:
                                            fontSize: .Nfont.nf2 
                                            marginLeft: "0.002"
                                            display: "inline-block"
                                            color: "0x333333"
                                          # admin profile end
                            - type: view
                              style:
                                marginTop: "0"
                                left: "0"
                                height: "auto"
                                width: "0.39"
                                overflow: hidden   
                              children: 
                                - type: label
                                  text: Company Address where test admintered
                                  style:
                                    fontSize: .Nfont.nf2
                                    fontStyle: "bold"
                                - type: view
                                  style:
                                    height: "auto"
                                    marginTop: "0.008"
                                    display: "flex"
                                  children:
                                    - type: view
                                      style:
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                      children:
                                        - type: list
                                          contentType: listObject
                                          listObject: ..formData.locationAddressAndPhone
                                          iteratorVar: itemObject
                                          viewTag: companyAddressTag
                                          style:
                                            display: "inline-block"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style: 
                                                left: "0"
                                                height: "auto"
                                              children: 
                                                - type: image
                                                  style:
                                                    height: "0.02"
                                                    left: "0"   
                                                    display: "inline-block"  
                                                    marginTop: "0.01"
                                                  path:
                                                    emit:
                                                      dataKey:
                                                        var: itemObject
                                                      actions:
                                                        - if:
                                                            - =.builtIn.string.equal:
                                                                dataIn:
                                                                  string1: $var.location
                                                                  string2: =..formData.locationSelect
                                                            - selectBlue.svg
                                                            - selectGray.svg
                                                  onClick:
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - if:
                                                            - =.builtIn.string.equal:
                                                                dataIn:
                                                                  string1: =..formData.locationSelect
                                                                  string2: $var.location
                                                            - ..formData.locationSelect@: ""
                                                            - ..formData.locationSelect@: $var.location

                                                          
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: companyAddressTag
                                                - type: label
                                                  dataKey: itemObject.location
                                                  style: 
                                                    marginLeft: "0.01"
                                                    marginTop: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    display: "inline-block"
                                                - type: label
                                                  text: "Phone:"
                                                  style: 
                                                    marginLeft: "0.004"
                                                    marginTop: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    display: "inline-block"
                                    - type: view
                                      style:
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                        marginLeft: "0"
                                      children:
                                        - type: list
                                          contentType: listObject
                                          listObject: ..formData.locationAddressAndPhone
                                          iteratorVar: itemObject
                                          viewTag: companyPhoneTag
                                          style:
                                            display: "inline-block"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style: 
                                                marginLeft: "0"
                                              children: 
                                                - type: label
                                                  dataKey: itemObject.phoneNumber
                                                  style: 
                                                    marginLeft: "0.002"
                                                    marginTop: "0.012"
                                                    fontSize: .Nfont.nf1
                                                    display: "inline-block"
                                - type: view
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    marginLeft: "0"
                                    marginTop: "0.035"
                                  children:   
                                    - type: view
                                      style:
                                        height: "auto"
                                        width: "0.39"
                                        left: "0"
                                      children:
                                        - type: view
                                          style:
                                            marginTop: "0"
                                            left: "0" 
                                            height: "auto"
                                          children:   
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:
                                                - type: label
                                                  text: Exam Date
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575"  
                                                    display: "inline-block"  
                                                - type: label
                                                  text=func: .builtIn.string.formatUnixtimeL_en
                                                  dataKey: Global.formData.appointment.stime
                                                  style:
                                                    marginLeft: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    color: "0x0f0f0f"   
                                                    fontWeight: "500"
                                                    display: "inline-block"
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:             
                                                - type: label
                                                  text: Patient Name
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575" 
                                                    display: "inline-block"
                                                - type: label
                                                  dataKey: Global.formData.patientInfo.name.data.basicInfo.fullName
                                                  style:
                                                    marginLeft: "0.01"
                                                    width: "0.2"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    color: "0x0f0f0f"    
                                                    fontWeight: "500" 
                                                    display: "inline-block"  
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:
                                                - type: label
                                                  text: DOB
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575" 
                                                    display: "inline-block" 
                                                - type: label
                                                  dataKey: Global.formData.patientInfo.name.data.basicInfo.dateOfBirth
                                                  style:
                                                    marginLeft: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    color: "0x0f0f0f"  
                                                    fontWeight: "500"  
                                                    display: "inline-block"  
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:
                                                - type: label
                                                  text: Phone#
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575"   
                                                    display: "inline-block"  
                                                - type: label
                                                  dataKey: Global.formData.patientInfo.name.data.basicInfo.phone
                                                  style:
                                                    marginLeft: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    color: "0x0f0f0f"   
                                                    fontWeight: "500"   
                                                    display: "inline-block"                              
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:
                                                - type: label
                                                  text: "Email"
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575"  
                                                    display: "inline-block" 
                                                - type: label
                                                  dataKey: Global.formData.patientInfo.name.data.contactInfo.email
                                                  style:
                                                    marginLeft: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    fontWeight: "500"
                                                    display: "inline-block" 
                                            - type: view
                                              style:
                                                height: "0.022"
                                                width: "0.39"
                                                left: "0"
                                              children:
                                                - type: label
                                                  text: County of Residence
                                                  style:
                                                    fontSize: .Nfont.nf0
                                                    color: "0x757575" 
                                                    display: "inline-block"      
                                                - type: label
                                                  dataKey: Global.formData.patientInfo.name.data.contactInfo.address.county
                                                  style:
                                                    marginLeft: "0.01"
                                                    fontSize: .Nfont.nf1
                                                    wordBreak: break-all
                                                    color: "0x0f0f0f"   
                                                    fontWeight: "500"
                                                    display: "inline-block" 


             
                                - type: view
                                  style:
                                    marginTop: "0.02"
                                    left: "0"
                                    width: "0.39" 
                                    height: "0.005"      
                                    backgroundColor: "0xdedede"
                              # OFFICE USE ONLY
                                - type: label
                                  text: "OFFICE USE ONLY"
                                  dataKey: 
                                  style:
                                    marginTop: "0.01"
                                    height: "auto"
                                    width: "0.39"
                                    left: "0"
                                    fontSize: .Nfont.nf1
                                    fontWeight: "500"
                                    color: "0x000000"    
                                    textAlign:
                                      x: center
                                      y: center
                                - .prOneListView:
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    marginTop: "0.02"
                                    display: "flex"
                                  children:
                                    - type: view
                                      style:
                                        display: "inline-block"
                                        width: "0.17"
                                      children:
                                        - type: label
                                          text: Date of Test
                                          style:
                                            fontSize: .Nfont.nf2
                                            height: "auto"
                                        - type: view
                                          style:
                                            marginTop: "0.01"
                                            width: "0.1898"
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - ..formData.dataTagFlag@: 1
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.dataTagFlag
                                                        string2: ""
                                                  - continue
                                                  - actionType: popUp
                                                    popUpView: dateTag
                                          children:
                                            - type: textField
                                              placeholder: "Select"
                                              viewTag: dateOfTestTag
                                              isEditable: "false"
                                              dataKey: apiRequest.covResultAndFluResult.docReq.name.data.dateOfTest
                                              style: 
                                                top: "0"
                                                textIndent: "0.5em"
                                                left: "0"
                                                width: "0.1898"
                                                height: "0.04"
                                                fontSize: .Nfont.nf2
                                                border: 
                                                  style: "3"
                                                borderWidth: "1"
                                                borderColor: "0xdedede"
                                                box-sizing: border-box
                                                borderRadius: "3"
                                                backgroundColor: "0xffffff"
                                            - type: image
                                              path: "calendarBlue.svg"
                                              style:
                                                width: "0.01"
                                                left: "0.17"
                                                top: "0.013"
                                                zIndex: "2"  
                                                textAlign:
                                                  y: center
                                              
                                    - type: view
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.027"
                                        width: "0.39"
                                      children:
                                        - type: label
                                          text: "Provider's Name"
                                          style:
                                            fontSize: .Nfont.nf2
                                            height: "auto"
                                        - type: textField
                                          placeholder: "Enter here"
                                          viewTag: dateOfTestTag
                                          dataKey: apiRequest.covResultAndFluResult.docReq.name.data.providerName
                                          style: 
                                            marginTop: "0.01"
                                            textIndent: "0.5em"
                                            left: "0"
                                            width: "0.1898"
                                            height: "0.04"
                                            fontSize: .Nfont.nf2
                                            border: 
                                              style: "3"
                                            borderWidth: "1"
                                            borderColor: "0xdedede"
                                            box-sizing: border-box
                                            borderRadius: "3"
                                - type: view
                                  style:
                                    marginTop: "0.03"
                                    border:
                                      style: "3"
                                    borderColor: "0xdedede"
                                    borderWeight: "3px"
                                    boxSizing: border-box
                                    height: "0.237"
                                    width: "0.39"
                                    display: "inline-block"
                                  children:
                                    - type: label
                                      text: "COVID-19 Rapid Antigen Test Results"
                                      dataKey: 
                                      style:
                                        marginTop: "0.015"
                                        height: "auto"
                                        width: "0.39"
                                        left: "0"
                                        fontSize: .Nfont.nf1
                                        fontWeight: "600"
                                        color: "0x000000"    
                                        textAlign:
                                          x: center
                                          y: center
                                   # Test kit name/
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        display: "inline-block"
                                      children:
                                        - .Cov19ResultsText:
                                          text: "Test kit name/Manufacture: "
                                          style: 
                                            fontSize: .Nfont.nf1
                                            display: "inline-block"
                                            width: "auto"
                                        - .Cov19ResultsText:
                                          text: "Carestart COVID-19 Antigen Test"
                                          style: 
                                            fontSize: .Nfont.nf1
                                            marginLeft: "0.048"
                                            display: "inline-block"
                                            width: "0.15"
                                            fontWeight: "500"
                                    # positive / negative
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        left: "0"
                                        height: "0.05"
                                      children: 
                                        - type: view
                                          style:
                                            width: "auto"
                                            top: "0"
                                          children: 
                                            - .Cov19ResultsText: 
                                              text: "Rapid COVID-19 Antigen Testing results"
                                              style:
                                                width: "0.26"
                                                fontSize: .Nfont.nf1
                                                fontWeight: "500"
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.antigenResults
                                              iteratorVar: itemObject
                                              viewTag: antigenView
                                              style:
                                                width: '0.39'
                                                marginTop: "0.015"
                                                height: auto
                                                axis: horizontal
                                              children:
                                                - type: listItem
                                                  itemObject: 
                                                  style:
                                                    width: '0.05'
                                                  children:
                                                    - type: image
                                                      path: 
                                                        emit: 
                                                          dataKey: 
                                                            var: itemObject
                                                          actions: 
                                                            - if: 
                                                              - =.builtIn.string.equal: 
                                                                  dataIn: 
                                                                    string1: $var.value
                                                                    string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                                              - selectedCircle.svg
                                                              - noSelectCircle.svg
                                                      onClick: 
                                                        - emit: 
                                                            dataKey: 
                                                              var: itemObject
                                                            actions: 
                                                              - if: 
                                                                - =.builtIn.string.equal: 
                                                                    dataIn: 
                                                                      string1: $var.value
                                                                      string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults@: ""
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults@: $var.value
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: antigenView
                                                      style:  
                                                        top: "0"
                                                        width: "0.00832"
                                                        left: "0.019"
                                                        height: "0.01472"
                                                    - type: label
                                                      text: 
                                                      dataKey: itemObject.value
                                                      style:
                                                        left: "0.033"
                                                        top: "0"
                                                        fontSize: .Nfont.nf0
                                    # LOT#/Expiration
                                    - type: view
                                      style:
                                        width: "0.39"
                                        marginTop: "0.01"
                                        height: "0.08"
                                        display: "flex"
                                      children: 
                                        - type: view
                                          style:  
                                            display: "inline-block"
                                            marginLeft: "0.02"
                                          children: 
                                            - type: label 
                                              text: "LOT #"
                                              style: 
                                                width: "0.1"
                                                fontSize: .Nfont.nf1
                                                display: "flex"
                                                fontWeight: "500"
                                            - .Cov19ResultsTextField:     
                                              dataKey: apiRequest.covResultAndFluResult.docReq.name.data.antigen.lot    
                                              style:
                                                textIndent: "0.5em"
                                                fontSize: .Nfont.nf1
                                                height: "0.04"
                                                width: "0.1633"
                                                marginTop: "0.01"
                                                display: "flex"
                                        - type: view
                                          style: 
                                            marginLeft: "0.01"
                                            display: "inline-block"
                                          children: 
                                            - type: label 
                                              text: "Expiration"
                                              style: 
                                                fontWeight: "500"
                                                width: "0.1"
                                                fontSize: .Nfont.nf1
                                                display: "flex"
                                            - type: view
                                              style:
                                                marginTop: "0.01"
                                                width: "0.1633"
                                                
                                              onClick:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.dataTagFlag@: 2
                                                    - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.dataTagFlag
                                                            string2: ""
                                                      - continue
                                                      - actionType: popUp
                                                        popUpView: dateTag
                                              children:
                                                - .Cov19ResultsTextField:    
                                                  placeholder: "Select Date"
                                                  isEditable: "false"
                                                  viewTag: antigenExpTag
                                                  dataKey: apiRequest.covResultAndFluResult.docReq.name.data.antigen.expiration    
                                                  style:
                                                    textIndent: "0.5em"
                                                    fontSize: .Nfont.nf1
                                                    height: "0.04"
                                                    marginTop: "0"
                                                    width: "0.1633"
                                                    display: "flex"
                                                    backgroundColor: "0xffffff"
                                                  
                                                - type: image
                                                  path: "calendarBlue.svg"
                                                  style:
                                                    width: "0.01"
                                                    left: "0.145"
                                                    top: "0.013"
                                                    zIndex: "2"  
                                                    textAlign:
                                                      y: center
                                                  
                              # Covid-19 Rapid Antibody Test Results                                              
                                - type: view
                                  style:
                                    marginTop: "0.03"
                                    border:
                                      style: "3"
                                    borderColor: "0xdedede"
                                    borderWeight: "3px"
                                    # height: "0.37"
                                    height: "0.3"
                                    width: "0.39"
                                    boxSizing: border-box
                                  children:
                                    - type: label
                                      text: "COVID-19 Rapid Antibody Test Results"
                                      dataKey: 
                                      style:
                                        marginTop: "0.01"
                                        height: "auto"
                                        width: "0.39"
                                        left: "0"
                                        fontSize: .Nfont.nf1
                                        fontWeight: "600"
                                        color: "0x000000"    
                                        textAlign:
                                          x: center
                                          y: center
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        display: "inline-block"
                                      children:
                                        - .Cov19ResultsText:
                                          text: "Test kit name/Manufacture: "
                                          style: 
                                            fontSize: .Nfont.nf1
                                            display: "inline-block"
                                            width: "auto"
                                        - .Cov19ResultsText:
                                          text: "Healgen COVID-19 Antibody IgG/IgM Test"
                                          style: 
                                            fontSize: .Nfont.nf1
                                            marginLeft: "0.048"
                                            fontWeight: "500"
                                            width: "0.15"
                                            display: "inline-block"
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        left: "0"
                                        height: "0.05"
                                      children: 
                                        - type: view
                                          style:
                                            width: "auto"
                                            top: "0"
                                          children: 
                                            - .Cov19ResultsText: 
                                              text: "Rapid COVID-19 Antibody lgG"
                                              style:
                                                width: "0.26"
                                                fontSize: .Nfont.nf1
                                                fontWeight: "500"
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.antibodylgGResults
                                              iteratorVar: itemObject
                                              viewTag: antibodylgGView
                                              style:
                                                width: '0.39'
                                                marginTop: "0.015"
                                                height: auto
                                                axis: horizontal
                                              children:
                                                - type: listItem
                                                  itemObject: 
                                                  style:
                                                    width: '0.05'
                                                  children:
                                                    - type: image
                                                      path: 
                                                        emit: 
                                                          dataKey: 
                                                            var: itemObject
                                                          actions: 
                                                            - if: 
                                                              - =.builtIn.string.equal: 
                                                                  dataIn: 
                                                                    string1: $var.value
                                                                    string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                                              - selectedCircle.svg
                                                              - noSelectCircle.svg
                                                      onClick: 
                                                        - emit: 
                                                            dataKey: 
                                                              var: itemObject
                                                            actions: 
                                                              - if: 
                                                                - =.builtIn.string.equal: 
                                                                    dataIn: 
                                                                      string1: $var.value
                                                                      string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults@: ""
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults@: $var.value
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: antibodylgGView
                                                      style:  
                                                        top: "0"
                                                        width: "0.00832"
                                                        left: "0.019"
                                                        height: "0.01472"
                                                    - type: label
                                                      text: 
                                                      dataKey: itemObject.value
                                                      style:
                                                        left: "0.033"
                                                        top: "0"
                                                        fontSize: .Nfont.nf0
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        left: "0"
                                        height: "0.05"
                                      children: 
                                        - type: view
                                          style:
                                            width: "auto"
                                            top: "0"
                                          children: 
                                            - .Cov19ResultsText: 
                                              text: "Rapid COVID-19 Antibody lgM"
                                              style:
                                                width: "0.26"
                                                fontSize: .Nfont.nf1
                                                fontWeight: "500"
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.antibodylgMResults
                                              iteratorVar: itemObject
                                              viewTag: antibodylgMView
                                              style:
                                                width: '0.39'
                                                marginTop: "0.015"
                                                height: auto
                                                axis: horizontal
                                              children:
                                                - type: listItem
                                                  itemObject: 
                                                  style:
                                                    width: '0.05'
                                                  children:
                                                    - type: image
                                                      path: 
                                                        emit: 
                                                          dataKey: 
                                                            var: itemObject
                                                          actions: 
                                                            - if: 
                                                              - =.builtIn.string.equal: 
                                                                  dataIn: 
                                                                    string1: $var.value
                                                                    string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                                              - selectedCircle.svg
                                                              - noSelectCircle.svg
                                                      onClick: 
                                                        - emit: 
                                                            dataKey: 
                                                              var: itemObject
                                                            actions: 
                                                              - if: 
                                                                - =.builtIn.string.equal: 
                                                                    dataIn: 
                                                                      string1: $var.value
                                                                      string2: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults@: ""
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults@: $var.value
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: antibodylgMView
                                                      style:  
                                                        top: "0"
                                                        width: "0.00832"
                                                        left: "0.019"
                                                        height: "0.01472"
                                                    - type: label
                                                      text: 
                                                      dataKey: itemObject.value
                                                      style:
                                                        left: "0.033"
                                                        top: "0"
                                                        fontSize: .Nfont.nf0
                                    # LGM Lot#/Expiration
                                    - type: view
                                      style:
                                        width: "0.39"
                                        marginTop: "0.01"
                                        height: "0.08"
                                        display: "flex"
                                      children: 
                                        - type: view
                                          style:  
                                            display: "inline-block"
                                            marginLeft: "0.02"
                                          children:
                                            - type: label 
                                              text: "LOT #"
                                              style: 
                                                width: "0.1"
                                                fontSize: .Nfont.nf1
                                                display: "flex"
                                                fontWeight: "500"
                                            - .Cov19ResultsTextField:      
                                              dataKey: apiRequest.covResultAndFluResult.docReq.name.data.antibody.lot    
                                              style:
                                                textIndent: "0.5em"
                                                fontSize: .Nfont.nf2
                                                height: "0.04"
                                                width: "0.1633"
                                                marginTop: "0.01"
                                                display: "flex"
                                        - type: view
                                          style: 
                                            marginLeft: "0.01"
                                            display: "inline-block"
                                          children: 
                                            - type: label 
                                              text: "Expiration"
                                              style: 
                                                width: "0.1"
                                                fontWeight: "500"
                                                fontSize: .Nfont.nf1
                                                display: "flex"
                                            - type: view
                                              style:
                                                marginTop: "0.01"
                                                width: "0.1633"
                                              onClick:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.dataTagFlag@: 4
                                                    - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.dataTagFlag
                                                            string2: ""
                                                      - continue
                                                      - actionType: popUp
                                                        popUpView: dateTag  
                                              children:
                                                - .Cov19ResultsTextField:  
                                                  placeholder: "Select Date"
                                                  isEditable: "false"
                                                  viewTag: lgMExpiration 
                                                  dataKey: apiRequest.covResultAndFluResult.docReq.name.data.antibody.expiration 
                                                  style:
                                                    textIndent: "0.5em"
                                                    fontSize: .Nfont.nf1
                                                    height: "0.04"
                                                    marginTop: "0"
                                                    width: "0.1633"
                                                    backgroundColor: "0xffffff"
                                                   
                                                - type: image
                                                  path: "calendarBlue.svg"
                                                  style:
                                                    width: "0.01"
                                                    left: "0.145"
                                                    top: "0.013"
                                                    zIndex: "2"  
                                                    textAlign:
                                                      y: center
                                                                                          
                        
                                - type: view
                                  style:
                                    marginTop: "0.03"
                                    border:
                                      style: "3"
                                    borderColor: "0xdedede"
                                    borderWeight: "3px"
                                    height: "0.125"
                                    width: "0.39"
                                    boxSizing: border-box
                                  children:
                                    - type: label
                                      text: "FLU A&B Results"
                                      dataKey: 
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        left: "0"
                                        fontSize: .Nfont.nf1
                                        fontWeight: "600"
                                        color: "0x000000"    
                                        textAlign:
                                          x: center
                                          y: center

                                    - type: view
                                      style:
                                        marginTop: "0.03"
                                        width: "0.39"
                                        left: "0"
                                      children: 
                                        - type: view
                                          style:
                                            width: "0.32"
                                            top: "0"
                                          children: 
                                            - .Cov19ResultsText: 
                                              text: "FLU A&B Test results"
                                              style:
                                                width: "0.26"
                                                fontSize: .Nfont.nf1
                                                fontWeight: "500"
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.antibodylgGResults
                                              iteratorVar: itemObject
                                              viewTag: fluResultView
                                              style:
                                                width: '0.39'
                                                marginTop: "0.015"
                                                height: auto
                                                axis: horizontal
                                              children:
                                                - type: listItem
                                                  itemObject: 
                                                  style:
                                                    width: '0.05'
                                                  children:
                                                    - type: image
                                                      path: 
                                                        emit: 
                                                          dataKey: 
                                                            var: itemObject
                                                          actions: 
                                                            - if: 
                                                              - =.builtIn.string.equal: 
                                                                  dataIn: 
                                                                    string1: $var.value
                                                                    string2: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                                              - selectedCircle.svg
                                                              - noSelectCircle.svg
                                                      onClick: 
                                                        - emit: 
                                                            dataKey: 
                                                              var: itemObject
                                                            actions: 
                                                              - if: 
                                                                - =.builtIn.string.equal: 
                                                                    dataIn: 
                                                                      string1: $var.value
                                                                      string2: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResults@: ""
                                                                - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResults@: $var.value
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: fluResultView
                                                      style:  
                                                        top: "0"
                                                        width: "0.00832"
                                                        left: "0.019"
                                                        height: "0.01472"
                                                    - type: label
                                                      text: 
                                                      dataKey: itemObject.value
                                                      style:
                                                        left: "0.033"
                                                        top: "0"
                                                        fontSize: .Nfont.nf0  
                                - type: view
                                  style:
                                    width: "0.39"
                                    marginTop: "0.03"
                                    display: "inline-block"
                                  children:
                                    - type: label
                                      text: The undersigned,
                                      dataKey: 
                                      style:
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                    - type: label
                                      text: A&C Urgent Care
                                      dataKey: Global.currentFacility.name.basicInfo.medicalFacilityName
                                      style:
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                        color: "0x005795"
                                        marginLeft: "0.002"
                                        fontWeight: "500"
                                    - type: label
                                      text: MA has been notified and authorizes release of results.
                                      dataKey: 
                                      style:
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                        marginLeft: "0.002"
                                        

                                - type: view
                                  style:
                                    marginTop: "0.02"
                                    height: "0.08"
                                    width: "0.39"
                                  children: 
                                    - .Cov19ResultsView: 
                                      style: 
                                        left: "0"
                                        width: "0.31"
                                      children: 
                                        - .Cov19ResultsText: 
                                          text: "MA's Print Name"
                                          style: 
                                            left: "0"
                                            width: "0.31"
                                            fontWeight: "500"
                                            fontSize: .Nfont.nf1
                                        - .Cov19ResultsTextField:    
                                          placeholder: "Enter here" 
                                          dataKey: apiRequest.covResultAndFluResult.docReq.name.data.MAname
                                          style:
                                            width: "0.1898"
                                            marginTop: "0.01"
                                                            
                                - type: view
                                  style:
                                    marginTop: "0.015"
                                    width: "0.334"
                                    display: flex
                                    height: "0.04"
                                    margin: "auto"
                                    justifyContent: space-between
                                  children: 
                                    - type: label
                                      text: MA's Signature
                                      dataKey: 
                                      style:
                                        fontWeight: "500"
                                        fontSize: .Nfont.nf1
                                    - type: label
                                      text: Clear
                                      dataKey: 
                                      style:
                                        fontSize: .Nfont.nf1 
                                        color: "0xff0000"
                                      onClick: 
                                      # 移除签名
                                        - actionType: removeSignature
                                          dataObject: BLOB
                                          dataKey: apiRequest.newSign.document.name.data   
                                          viewTag: signatureTag   
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: signatureTag                
                                      
                                - .SignAreaView:
                                  style:
                                    margin: "auto"
                                  children:    
                                    - type: canvas
                                      dataKey: apiRequest.newSign.document.name.data 
                                      viewTag: signatureTag  
                                      style:
                                        .SignCanvasStyle:
                                    - type: label
                                      text: "X"
                                      style:
                                        .SignLabelStyle:
                                        width: "0.23"
                                - type: view
                                  style:
                                    display: "inline-block"
                                    marginTop: "0.015"
                                  children:
                                    - type: label
                                      text: "Date&Time"
                                      style:
                                        height: "0.04"
                                        color: "0x666666"
                                        fontSize: .Nfont.nf1
                                        display: "inline-block"
                                    - type: label                                      
                                      dataKey: formData.docCtime
                                      style:
                                        height: "0.04"
                                        fontSize: .Nfont.nf1
                                        marginLeft: "0.005"
                                        display: "inline-block"


            - .FormsBottomView: 
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick: 
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.document.name.data
                          isEmpty: formData.whetherSignature
                        - actionType: evalObject
                          object:
                            - if:
                              - =..formData.whetherSignature
                              - continue
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.document.reid@: =..apiRequest.covResultAndFluResult.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: "" 
                                  - ..apiRequest.covResultAndFluResult.docReq.name.data.MAsignature@: =..apiRequest.newSign.docRes.doc.id
                                  - ..apiRequest.covResultAndFluResult.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                                  - ..apiRequest.covResultAndFluResult.docReq.name.data.whetherSign@: =..formData.whetherSignature

                        - actionType: evalObject
                          object:
                            - ..apiRequest.covResultAndFluResult.docReq.reid@: =.Global.formData.meetingDocReid
                        - actionType: evalObject
                          object:
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.covResultAndFluResult.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.docReq.type                  
                        - actionType: evalObject
                          object:
                          # 1、判断antigenResults是否为空
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0x2fb355"                            
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0xffffff"
                              - continue
                          # 2、判断antibodylgGResults是否为空
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0x2fb355"
                          
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0xffffff"
                              - continue
                          # 3、判断antibodylgMResults是否为空   
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0x2fb355"
                           
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0xffffff"
                              - continue
                          # 4、判断fluResults是否为空  
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.fluResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.fluResultsColor@: "0x2fb355"  
                           
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResultsColor@: "0xffffff"
                              - continue
                          # 根据location值取出对应的phone值
                            - =.builtIn.array.getValueByKey:
                                dataIn: 
                                  array: =..formData.locationAddressAndPhone
                                  key1: location
                                  value: =..formData.locationSelect
                                  key2: phoneNumber
                                dataOut: Cov19ResultsAndFluResultsEdit.formData.phoneSelect
                          # 拼串操作
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.locationSelect
                                  - " "
                                  - "Phone:"
                                  - =..formData.phoneSelect   
                                dataOut: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.docReq.name.data.companyAddress  
                        - actionType: evalObject
                          object:
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.isSelectAddress@: =..formData.locationSelect               
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.statusTag@: =..formDataTemp.privateTag                         
                            - =..apiRequest.covResultAndFluResult.docAPI.store: ""    

                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true   
                  # release button                                            
                    - .FormsBottomRightButton:
                      onClick: 
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.document.name.data
                          isEmpty: formData.whetherSignature 
                        - actionType: evalObject
                          object:
                            - ..apiRequest.covResultAndFluResult.docReq.reid@: =.Global.formData.meetingDocReid
                        # 签名处理
                        - actionType: evalObject
                          object:
                            - if: 
                              - =..formData.whetherSignature
                              - actionType: popUp
                                popUpView: signatureWarningTag
                                wait: true
                              - actionType: evalObject
                                object:
                                  - ..apiRequest.newSign.document.reid@: =..apiRequest.covResultAndFluResult.docResp.doc.id
                                  - =..apiRequest.newSign.docAPI.store: "" 
                                  
                        - actionType: evalObject
                          object:
                          # 通过location值取出locationAddressAndPhone数组中对应的Phone的值
                            - =.builtIn.array.getValueByKey:
                                dataIn: 
                                  array: =..formData.locationAddressAndPhone
                                  key1: location
                                  value: =..formData.locationSelect
                                  key2: phoneNumber
                                dataOut: Cov19ResultsAndFluResultsEdit.formData.phoneSelect    
                          # 拼串操作，location+phone:+phoneNumber   
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.locationSelect
                                  - " "
                                  - "Phone:"
                                  - =..formData.phoneSelect   
                                dataOut: Cov19ResultsAndFluResultsEdit.apiRequest.covResultAndFluResult.docReq.name.data.companyAddress 
                          # 判断是否选择Company Address
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.locationSelect
                                    string2: "" 
                              - actionType: popUp
                                popUpView: addressWarningTag
                                wait: true
                              - continue
                          # 判断是否填写了MA的名字
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.MAname
                                    string2: "" 
                              - actionType: popUp
                                popUpView: maPrintNameWarningTag
                                wait: true
                              - continue                                                 
                        - actionType: evalObject
                          object:
                          # 1、判断antigenResults是否为空
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0x2fb355"                            
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.antigenResultsColor@: "0xffffff"
                              - continue
                          # 2、判断antibodylgGResults是否为空
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0x2fb355"
                           
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgGResultsColor@: "0xffffff"
                              - continue
                          # 3、判断antibodylgMResults是否为空  
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0x2fb355"
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.antibodylgMResultsColor@: "0xffffff"
                              - continue
                          # 4、判断fluResults是否为空   
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                    string2: "Positive"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResultsColor@: "0xe24445"
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResultsColor@: "0x2fb355"  
                          
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.covResultAndFluResult.docReq.name.data.fluResults
                                    string2: ""
                              - ..apiRequest.covResultAndFluResult.docReq.name.data.fluResultsColor@: "0xffffff"
                              - continue
                        - actionType: evalObject
                          object:
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.isSelectAddress@: =..formData.locationSelect
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.whetherSign@: =..formData.whetherSignature
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.MAsignature@: =..apiRequest.newSign.docRes.doc.id
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                            - ..apiRequest.covResultAndFluResult.docReq.type@: 138241                           
                            - ..apiRequest.covResultAndFluResult.docReq.name.data.statusTag@: =..formDataTemp.publicTag                         
                            - =..apiRequest.covResultAndFluResult.docAPI.store: ""
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true                                  
                                

                         
        - .BaseWarningView:
          msg2: "You haven't signed the form."
          viewTag: signatureWarningTag
        - .BaseWarningView:
          msg2: "Please choose a company address."
          viewTag: addressWarningTag

        - .BaseWarningView:
          msg2: "Please enter MA's Print Name."
          viewTag: maPrintNameWarningTag

        - type: view
          viewTag: dateTag
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: "20"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.dataTagFlag@: ""
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag                  
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..newAppointment.edge.name.setting.startDate@: =.BaseDate.calendarDate.selectDate
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 1
                          - ..apiRequest.covResultAndFluResult.docReq.name.data.dateOfTest@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 2
                          - ..apiRequest.covResultAndFluResult.docReq.name.data.antigen.expiration@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 3
                          - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.lgGExpiration@: =.BaseDate.calendarDate.selectDate

                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.dataTagFlag
                                string2: 4
                          - ..apiRequest.covResultAndFluResult.docReq.name.data.antibody.expiration@: =.BaseDate.calendarDate.selectDate
                        # 置空                         
                        - ..formData.dataTagFlag@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: dateOfTestTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: antigenExpTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lgGExpiration
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lgMExpiration
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: prodInfoDateTag                                                                                       
                    - actionType: popUpDismiss
                      popUpView: dateTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: dateTag