PRTwoEdit:
  title: PR-2
  init:
    - .SignInCheck
    - actionType: evalObject
      object: 
        .Global._nonce@: 
          =.builtIn.math.random: ""
    - actionType: evalObject
      object: .BaseDate.getDate
    #生成年份
    - =.builtIn.date.generateYear:
        dataIn:
          last: 40
          next: 10
        dataOut: BaseDate.year    
    - ..formData.workStatus.examDate@: =.BaseDate.calendarDate.todayDate
    # - if:
    #     #判断是否从ProviderMacros回来，需要复现之前已填的数据
    #     - =.Global.formData.providerDoc.pRTwo.id
    #     - actionType: evalObject
    #       object:
    #         - ..apiRequest.pRTwo.docReq@: =.Global.formData.providerDoc.pRTwo
    #         - ..formData.workStatus@: =.Global.formData.providerDoc.pRTwo.name.data.workStatus
    #         - ..formData.diagnosis.treatmentPlan@: =.Global.formData.providerDoc.pRTwo.name.data.diagnosis.treatmentPlan
    #         - ..apiRequest.pRTwo.docReq.name.data.providerInfo.date@: =.Global.formData.providerDoc.pRTwo.ctime
    #     - actionType: evalObject
    #       object:
    #页面进入时就创建文档
    - =..apiRequest.pRTwo.docAPI.store: ""
    # 将创建的文档数据重新给pROne进行update
    - ..apiRequest.pRTwo.docReq@: =..apiRequest.pRTwo.docResp.doc
    # 判断是否签名
    # - actionType: evalObject
    #   object:
    #     - if:
    #         - =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.whetherSign
    #         - continue
    #         # 非空修改显示的标识,刷新签名区域
    #         - actionType: evalObject
    #           object:
    #             # 签名的时间
    #             - ..formData.temporarySignature@: =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.signatureId
    #             - ..formData.flag@: "block"
    #             - actionType: builtIn
    #               funcName: redraw
    #               viewTag: signatureShowTag
    - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport@: "Please select"
    # # 判断选择Other
    # - actionType: evalObject
    #   object:
    #     - if:
    #         - =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.whetherOther
    #         - actionType: evalObject
    #           object:
    #             - ..formData.selectData@: =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport
    #             - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport@: "Other"
    #             - ..formData.whetherOther@: =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.whetherOther
    #             - ..formData.rePortflag@: "block"
    #             - actionType: builtIn
    #               funcName: redraw
    #               viewTag: rePortShowTag
    #         - actionType: evalObject
    #           object:
    #             - if:
    #                 - =.builtIn.string.equal:
    #                     dataIn:
    #                       string1: =..PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport
    #                       string2: "Please select"
    #                 - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport@: ""
    #                 - ..formData.selectData@: =.PRTwoEdit.apiRequest.pRTwo.docReq.name.data.submitReport

    #  auto fill Diagnosis
    # - actionType: evalObject
    #   object:
    #     - if:
    #         - =.Global.formData.providerDiagnosis.pRTwo.id
    #         - ..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList@: =.Global.formData.providerDiagnosis.pRTwo.name.data.diagnosis.descriptiveList
    #         - continue
    #     - if:
    #         - =.Global.formData.providerDiagnosis.progressReport.id
    #         - ..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList@: =.Global.formData.providerDiagnosis.pRTwo.name.data.diagnosis.descriptiveList
    #         - continue
    #     - if:
    #         - =.Global.formData.providerDiagnosis.progressReport.id
    #         - ..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList@: =.Global.formData.providerDiagnosis.pRTwo.name.data.diagnosis.descriptiveList
    #         - continue

    # 判断Diagnoses
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList
            dataOut: PRTwoEdit.formData.listDatalength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
            - actionType: evalObject
              object:
                - ..formData.listDataflag@: "block"
                - actionType: builtIn
                  funcName: redraw
                  viewTag: listData

    #  判断medicalLicense是否为空
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.MedicalLicense
            dataOut: PRTwoEdit.formData.licenseLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.licenseLength
                  string2: "0"
            - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.providerInfo.calNumber@: ""
            - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.providerInfo.calNumber@: .Global.formData.providerInfo.name.data.MedicalLicense.0.medicalLicense

    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.selectedSpecialty
            dataOut: PRTwoEdit.formData.specialtyLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.specialtyLength
                  string2: "0"
            - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.providerInfo.specialty@: ""
            - .PRTwoEdit.apiRequest.pRTwo.docReq.name.data.providerInfo.specialty@: .Global.formData.providerInfo.name.data.specialty.0.specialty
    - actionType: evalObject
      object:
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.formData.patientInfo.name.data.employment.address.line
              - ""
              - =.Global.formData.patientInfo.name.data.employment.address.secondLine
            dataOut: PRTwoEdit.apiRequest.pRTwo.docReq.name.data.administratorInfo.claimsAddress
  calendarDate:
    year: ""
    month: ""
    day: ""
    dayLable: []
    todayDate: ""
    monthName: ""
  formDataTemp:
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    report:
      - Please select
      - Periodic Report (Required 45 days after last report)
      - Change in treatment plan
      - Release Form Care
      - Change in work status
      - Need for referral consultation
      - Response to request for information
      - Change in patient’s condition
      - Need for surgery or hospitalization
      - Request for authorization
      - Other
  formData:
    selectedDiagnosis: ""
    specialtyLength: ""
    licenseLength: ""
    listDatalength: ""
    listDataflag: "none"
    rePortflag: "none"
    flag: "none"
    whetherSign: ""
    whetherOther: ""
    selectData: ""
    temporarySignature: ""
    diagnosis:
      treatmentPlan: ""
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    workStatus:
      claimsAd:
        isClaimsAd: false
        ClaimsAdDate: ""
      modifiedWork:
        isModified: false
        modifiedDate: ""
      restrictions: ""
      fullDuty:
        isFullDuty: false
        fullDutyDate: ""
      examDate: ""
  apiRequest:
    # 签名文档
    newSign:
      docResp: ""
      docReq: #DOC
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.formData.meetingDocEid
        fid: ""
        reid: ""
        subtype:
          mediaType: "" # mediaType : "image/jpeg"
      docAPI: # DOCAPI
        .DocAPI: ""
        store:
          api: cd
          dataIn: PRTwoEdit.apiRequest.newSign.docReq
          dataOut: PRTwoEdit.apiRequest.newSign.docResp
    # pRTwo文档
    pRTwo:
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.formData.meetingDocEid
        reid: ""
        type: .DocType.pRTwo
        subtype:
          mediaType: "application/json"
        name:
          title: "PR-2"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "text/plain"
          subtype: "0" # 0是未完成，1是完成
          data:
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xdfedfc"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            signatureId: ""
            whetherSign: true
            whetherOther: ""
            fontcolor: ""
            authority: ""
            submitReport: "Please select"
            patientInfo:
              name: .Global.formData.patientInfo.name.data.basicInfo.fullName
              address: .Global.formData.patientInfo.name.data.contactInfo.address.fullAddress
              sex: .Global.formData.patientInfo.name.data.basicInfo.gender
              phone: .Global.formData.patientInfo.name.data.basicInfo.phone
              DOB: .Global.formData.patientInfo.name.data.basicInfo.dateOfBirth
              injuryDate: ""
            providerInfo:
              physicianName: .Global.formData.providerInfo.name.data.fullName
              calNumber: ""
              specialty: ""
              address: .Global.currentFacility.name.basicInfo.location
              phoneNumber: .Global.currentFacility.name.basicInfo.phoneNumber
              date: ""
            administratorInfo:
              administrator: ""
              claimsNumber: ""
              claimsAddress: ""
              city: .Global.formData.patientInfo.name.data.employment.address.city
              state: "AK"
              zipCode: .Global.formData.patientInfo.name.data.employment.address.zipCode
              phone: ""
              fax: .Global.formData.patientInfo.name.data.employment.fax
              employerName: .Global.formData.patientInfo.name.data.employment.employerName
              employerPhone: .Global.formData.patientInfo.name.data.employment.Telephone
              subComplaints: ""
              objFindings: ""
            diagnosis:
              treatmentPlan: ""
              descriptiveList: []
            workStatus: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PRTwoEdit.apiRequest.pRTwo.docReq
          dataOut: PRTwoEdit.apiRequest.pRTwo.docResp
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: pRTwo.docResp
          id: .Global.formData.providerDoc.pRTwo.id
          xfname: eid
          type: .DocType.pRTwo
          maxcount: "1"
        delete:
          api: dx
          dataIn: PRTwoEdit.apiRequest.pRTwo.docReq
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style: 
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .GotoBack:
              onClick:
                - actionType: builtIn
                  funcName: goBack
                  reload: true            
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    width: "0.39"
                    margin: "auto"
                    # backgroundColor: "0xff000033"
                  children:
                    - type: scrollView
                      style:
                        width: "0.39"
                        height: "0.74"
                        overflow: scroll
                      children:
                        - type: view
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                            # backgroundColor: "yellow"
                          children:
                            - type: label
                              text: State of California
                              style:
                                fontSize: .Nfont.nf3
                                color: "0x333333"
                                height: auto
                                width: "0.39"
                                textAlign: 
                                  x: center
                                  y: center
                            - type: label
                              text: "PRIMARY TREATING PHYSICIAN'S PROGRESS REPORT (PR-2)"
                              style:
                                marginTop: "0.01"
                                fontSize: .Nfont.nf4
                                color: "0x333333"
                                height: "auto"
                                width: "0.39"
                                textAlign: 
                                  x: center
                                  y: center
                                fontWeight: "600"
                            - type: label
                              text: Check the boxes which indicate why you are submitting a report at this time. If the patient is "Permanent and  Stationary"(i.e.,has reached maximum medical improvement),do not use this form. You may use DWC Forms PR-3 or PR-4.
                              style:
                                marginTop: "0.02"
                                fontSize: .Nfont.nf2
                                color: "0x333333"
                                fontWeight: "500"
                                height: auto
                                width: "0.39"    
                            - type: select
                              dataKey: apiRequest.pRTwo.docReq.name.data.submitReport
                              options: ..formDataTemp.report       
                              style:
                                marginTop: "0.02"
                                height: "0.0368"
                                width: "0.39" 
                                boxSizing: border-box 
                                border:
                                  style: "3"
                                borderColor: "0xdedede"
                                borderWidth: "1"
                                borderRadius: "3"
                                textIndent: "0.5em"
                                backgroundColor: "0xffffff"
                                color: "0x333333"
                                textAlign:
                                  y: center
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - if:
                                      - =.builtIn.string.equal:
                                          dataIn:
                                            string1: =..apiRequest.pRTwo.docReq.name.data.submitReport
                                            string2: "Other"
                                      - actionType: evalObject
                                        object:
                                          - ..formData.selectData@: ""
                                          - ..apiRequest.pRTwo.docReq.name.data.whetherOther@: true
                                          - ..formData.rePortflag@: "block"
                                          - actionType: builtIn
                                            funcName: redraw
                                            viewTag: rePortShowTag
                                          - actionType: builtIn
                                            funcName: show
                                            viewTag: rePortShowTag
                                      - actionType: evalObject
                                        object:
                                          - ..apiRequest.pRTwo.docReq.name.data.whetherOther@: false
                                          - ..formData.rePortflag@: "none"
                                          - actionType: builtIn
                                            funcName: redraw
                                            viewTag: rePortShowTag
                                          - actionType: builtIn
                                            funcName: hide
                                            viewTag: rePortShowTag
                            - type: view
                              viewTag: rePortShowTag
                              style:
                                marginTop: "0.01"
                                display: ..formData.rePortflag
                                height: "auto"
                                width: "0.39"  
                              children:
                                - type: textField
                                  placeholder: Enter here
                                  dataKey: formData.selectData
                                  style:
                                    textIndent: "0.5em"
                                    height: "0.0368"
                                    width: "0.39"
                                    fontSize: .Nfont.nf1
                                    color: "0x333333"
                                    border:
                                      style: 3
                                    borderColor: "0xdedede"
                                    boxSizing: border-box
                                    borderWidth: "1"
                                    borderRadius: "4"

                        - type: view
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                            # backgroundColor: "pink"
                          children:
                            - type: view
                              style:
                                height: "auto"
                                width: "0.39"
                                # backgroundColor: "pink"
                              children: 
                                - type: label
                                  text: Patient
                                  style:
                                    fontSize: .Nfont.nf4
                                    color: "0x333333"
                                    height: auto
                                    width: "0.39" 
                                    fontWeight: "600"
                                - type: view
                                  style:
                                    marginTop: "0.005"
                                    height: "0.002"
                                    width: "0.39"  
                                    backgroundColor: "0xdedede"      
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - .prTwoLabelView:
                                  style:   
                                    width: "0.39"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Patient Name
                                    - .prTwoLabelRight:
                                      dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.name
                                      style: 
                                        border: 
                                          style: "1"
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Address
                                    - .prTwoLabelRight:
                                      isEditable: false
                                      dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.address
                                      style: 
                                        border: 
                                          style: "1"
                                  
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Sex
                                    - .prTwoLabelRight:
                                      dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.sex
                                      style: 
                                        border: 
                                          style: "1"
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Phone
                                    - .prTwoLabelRight:
                                      dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.phone
                                      style: 
                                        border: 
                                          style: "1"
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: DOB
                                    - .prTwoLabelRight:
                                      dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.DOB
                                      style: 
                                        border: 
                                          style: "1"
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Date of injury 
                                    - type: view
                                      viewTag: selectInjuryDateTag
                                      style:
                                        display: flex
                                        flexDirection: column
                                        flexWrap: wrap
                                        justifyContent: center
                                        alignItems: flex-start                                     
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        height: "0.03"
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        boxSizing: border-box
                                        overflow: hidden
                                      children:
                                        - type: textField
                                          isEditable: false
                                          placeholder: Select Date
                                          dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.injuryDate
                                          style:
                                            textIndent: "0.5em"
                                            width: "0.13"
                                            height: "0.03"
                                            boxSizing: border-box
                                            fontSize: .Nfont.nf1
                                            border:
                                              style: "5"
                                            display: inline-block
                                            backgroundColor: "0xffffff"
                                            color: "0x333333" 
                                        - type: image
                                          path: calendarBlue.svg
                                          style:
                                            width: "0.009"
                                      onClick:
                                        - actionType: popUp
                                          popUpView: selectInjuryDate                                        
                        - type: view
                          style:
                            marginTop: "0.02"
                            left: "0"
                            height: "auto"
                            width: "0.39"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                height: "auto"
                                width: "0.39"
                              children: 
                                - type: label
                                  text: Claims Administrator 
                                  style:
                                    fontSize: .Nfont.nf4
                                    color: "0x333333"
                                    height: auto
                                    width: "0.39" 
                                    fontWeight: "600" 
                                - type: view
                                  style:
                                    marginTop: "0.005"
                                    height: "0.002"
                                    width: "0.39"  
                                    backgroundColor: "0xdedede"    
                            - type: view
                              style:
                                marginTop: "0.01"
                                height: "auto"
                                width: "0.39"
                              children:
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Claims Administrator
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.administrator
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Claims number
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.claimsNumber
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Claims Administrator Street Address
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.claimsAddress
                              - .prTwoListView:
                                style:  
                                  height: "0.06"
                                children:
                                  - type: view
                                    style:
                                      top: "0"
                                      left: "0"
                                      width: "0.12"
                                    children:
                                      - .prTwoListLabel:
                                        text: City
                                        style: 
                                          width: "0.12"        
                                      - .prTwoListField: 
                                        isEditable: "true"
                                        dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.city
                                        style:
                                          width: "0.12"
                                  - type: view
                                    style:
                                      top: "0"
                                      left: "0.135"
                                      width: "0.12"
                                    children:
                                      - .prTwoListLabel:
                                        text: State
                                        style:
                                          width: "0.12"        
                                      - type: select
                                        dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.state
                                        options: .SelectINformationDM.state
                                        style:
                                          width: "0.12"
                                          marginTop: "0.005"
                                          height: "0.0368"
                                          border:
                                            style: 3
                                          borderColor: "0xdedede"
                                          backgroundColor: "0xffffff"
                                          borderWidth: "1"
                                          borderRadius: "3"   
                                          boxSizing: border-box
                                          fontSize: .Nfont.nf1
                                          color: "0x333333"
                                          textIndent: "0.5em"
                                          textAlign:  
                                            y: center                                          
                                  - type: view
                                    style:
                                      top: "0"
                                      left: "0.27"
                                      width: "0.12"
                                    children:
                                      - .prTwoListLabel:
                                        text: Zip code
                                        style:
                                          width: "0.12"        
                                      - .prTwoListField: 
                                        isEditable: "true"
                                        dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.zipCode
                                        style:
                                          width: "0.12"
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Phone Number
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.phone
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Fax Number
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.fax
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Employer Name
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.employerName
                              - .prTwoListView:
                                children:
                                  - .prTwoListLabel:
                                    text: Employer's Phone Number
                                  - .prTwoListField:
                                    isEditable: "true"
                                    dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.employerPhone
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Subjective Complaints (The information below must be provided. You may use this form or you may substitute or append a narrative report)
                                  style:
                                    marginTop: "0"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - type: textView
                                  placeholder: Enter here
                                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.subComplaints
                                  style:
                                    marginTop: "0.005"
                                    width: "0.39"
                                    height: "0.1"
                                    fontSize: .Nfont.nf2
                                    fontFamily: "Roboto"
                                    color: "0x333333"
                                    border:
                                      style: 3
                                    borderColor: "0xdedede"
                                    borderWidth: "1"
                                    borderRadius: "3"
                                    boxSizing: border-box
                                    backgroundColor: "0xffffff"
                                    textIndent: "0.5em"
                                - type: label
                                  text: Objective Findings (Include significant physical examination, laboratory, imaging, or other diagnostic findings.)
                                  style:
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - type: textView
                                  placeholder: Enter here
                                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.objFindings
                                  style:
                                    marginTop: "0.005"
                                    width: "0.39"
                                    height: "0.1"
                                    fontSize: .Nfont.nf2
                                    fontFamily: "Roboto"
                                    color: "0x333333"
                                    border:
                                      style: 3
                                    borderColor: "0xdedede"
                                    borderWidth: "1"
                                    borderRadius: "3"
                                    resize: "none"
                                    boxSizing: border-box
                                    backgroundColor: "0xffffff"
                                    textIndent: "0.5em"
                            - type: view
                              style:
                                marginTop: "0.01"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Diagnoses
                                  style:
                                    fontSize: .Nfont.nf4
                                    fontWeight: "600"
                                    height: "auto"
                                    width: "0.39"  
                                    color: "0x333333" 
                                - type: view
                                  viewTag: searchBox
                                  style:
                                    height: "auto"
                                    width: "0.39"
                                    overflow: hidden
                                  children:
                                    - type: view
                                      style:
                                        marginTop: "0.01"
                                        width: "0.39"
                                        height: "auto"
                                        boxSizing: border-box
                                      children:
                                        - type: view
                                          viewTag: selectDateTag
                                          style:
                                            display: flex
                                            flexDirection: column
                                            flexWrap: wrap
                                            justifyContent: center
                                            alignItems: flex-start   
                                            top: "0"
                                            height: "0.0368"
                                            width: "0.15"
                                            boxSizing: border-box
                                            border:
                                              style: "3"
                                            borderRadius: "4"
                                            borderColor: "0xdedede"
                                            overflow: hidden
                                          children:
                                            - type: textField
                                              viewTag: CodeListTag
                                              placeholder: Search
                                              dataKey: formData.diagnosis.descriptiveList.code
                                              style:
                                                textIndent: "0.5em"
                                                height: "0.0368"
                                                width: "0.13"
                                                boxSizing: border-box
                                                fontSize: .Nfont.nf2
                                                color: "0x333333"
                                                border:
                                                  style: "5"
                                              onInput:
                                                - actionType: evalObject
                                                  object:
                                                    - ..formDataTemp.allListInfo@: []
                                                    - ..formDataTemp.allListString@: []
                                                - actionType: evalObject
                                                  object:
                                                    - =.builtIn.search.queryCode:
                                                        dataIn:
                                                          query: =..formData.diagnosis.descriptiveList.code
                                                        dataOut: PRTwoEdit.formDataTemp.allListInfo
                                                    - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: CodeTags
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: CodeTag
                                                - actionType: builtIn
                                                  funcName: hide
                                                  viewTag: listData
                                                - actionType: builtIn
                                                  funcName: show
                                                  viewTag: ShowTag
                                                - actionType: popUp
                                                  popUpView: CodeTag
                                                  dismissOnTouchOutside: true
                                            - type: image
                                              path: searchBlue.svg
                                              style:
                                                width: "0.009"                                        
                                        - type: textField
                                          viewTag: descriptionTag
                                          placeholder: Description
                                          dataKey: formData.diagnosis.descriptiveList.description
                                          style:
                                            textIndent: "0.5em"
                                            left: "0.165"
                                            display: "inline-block"
                                            height: "0.0368"
                                            width: "0.225"
                                            boxSizing: border-box
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            border:
                                              style: "3"
                                            borderRadius: "4"
                                            borderWidth: "1"
                                            borderColor: "0xdedede"
                                    - type: textView
                                      viewTag: CommentsTag
                                      placeholder: Comments
                                      dataKey: formData.diagnosis.descriptiveList.comment
                                      style:
                                        textIndent: "0.5em"
                                        marginTop: "0.01"
                                        width: "0.39"
                                        height: "0.0736"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        fontFamily: Roboto
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderWidth: "1"
                                        borderColor: "0xdedede"
                                - type: view
                                  style:
                                    height: "0.02"
                                  children:
                                    - type: label
                                      text: + add more
                                      style:
                                        marginTop: "0"
                                        fontSize: .Nfont.nf3
                                        color: "0x2988e6"
                                        height: "0.02"
                                        width: "0.39"
                                        textAlign:
                                          x: right
                                          y: center
                                        fontWeight: "500"
                                      onClick:
                                        - emit:
                                            actions:
                                              - =.builtIn.array.add:
                                                  dataIn:
                                                    object: =..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList
                                                    value: =..formData.diagnosis.descriptiveList # create copy .create by value ,not reference
                                        - actionType: evalObject
                                          object:
                                            - ..formData.diagnosis.descriptiveList.code@: ""
                                            - ..formData.diagnosis.descriptiveList.description@: ""
                                            - ..formData.diagnosis.descriptiveList.comment@: ""
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: listData
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: CodeListTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: descriptionTag
                                        - actionType: builtIn
                                          funcName: hide
                                          viewTag: ShowTag
                                        - actionType: builtIn
                                          funcName: show
                                          viewTag: listData
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: CommentsTag
                                # debug
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    height: "auto"
                                    width: "0.39"
                                  children:
                                    - type: view
                                      viewTag: CodeTag
                                      style:
                                        display: "none"
                                        width: "0.39"
                                        # backgroundColor: "yellow"
                                        height: "auto"
                                        border:
                                          style: 3
                                          color: "0xdedede"
                                        borderWidth: "1"
                                        borderRadius: "4"
                                        boxSizing: border-box
                                        zIndex: 10
                                        # backgroundColor: '0xffffff'
                                      children:
                                        - type: scrollView
                                          viewTag: ShowTag
                                          style:
                                            width: "0.39"
                                            height: "0.3"
                                            left: "0.02"
                                            overflow: scroll
                                          children:
                                            - type: list
                                              contentType: listObject
                                              listObject: ..formDataTemp.allListString
                                              iteratorVar: itemObject
                                              viewTag: CodeTags
                                              style:
                                                width: "0.39"
                                                height: "auto"
                                                margin: "0"
                                                marginTop: "0"
                                              children:
                                                - type: listItem
                                                  itemObject: ""
                                                  style:
                                                    # backgroundColor: "0xffffff"
                                                    width: "0.39"
                                                    marginTop: "0.002"
                                                    height: "auto"
                                                  children:
                                                    - type: label
                                                      dataKey: itemObject.0.2
                                                      style:
                                                        width: "0.36"
                                                        left: "0"
                                                        textIndent: "0.5em"
                                                        marginTop: "0"
                                                        textAlign:
                                                          x: left
                                                          y: center
                                                        height: "auto"
                                                        fontSize: .Nfont.nf2
                                                        color: "0x143459"
                                                      onClick:
                                                        - emit:
                                                            dataKey:
                                                              var: itemObject
                                                            actions:
                                                              - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                                              - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: CodeListTag
                                                        - actionType: builtIn
                                                          funcName: redraw
                                                          viewTag: descriptionTag
                                                        # - actionType: popUpDismiss
                                                        #   popUpView: CodeTag
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: ShowTag
                                                        - actionType: builtIn
                                                          funcName: show
                                                          viewTag: listData
                                                        - actionType: builtIn
                                                          funcName: hide
                                                          viewTag: CodeTag
                                    - type: view
                                      viewTag: listData
                                      style:
                                        width: "0.39"
                                        left: "0"
                                        height: "auto"
                                        marginTop: "0.01"
                                        display: ..formData.listDataflag
                                      children:
                                        - type: view
                                          style:
                                            marginTop: "0.01"
                                            height: "0.002"
                                            width: "0.39"
                                            backgroundColor: "0xdedede"
                                        - type: list
                                          viewTag: listData
                                          contentType: listObject
                                          listObject: ..apiRequest.pRTwo.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                                          iteratorVar: itemObject
                                          style:
                                            left: "0"
                                            width: "0.39"
                                            marginTop: "0.03"
                                            height: "auto"
                                            # border:
                                            #   style: 3
                                            #   color: "0xdedede"
                                            # borderWidth: "1"
                                            # borderRadius: "3"
                                            margin: "0"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style:
                                                marginTop: "0.01"
                                                width: "0.39"
                                                height: "auto"
                                                left: "0"
                                                overflow: hidden
                                              children:
                                                - type: view
                                                  style:
                                                    width: "0.39"
                                                    height: "auto"
                                                  children:
                                                    - type: image
                                                      path: deletePhoto.svg
                                                      style:
                                                        display: "inline-block"
                                                        width: "0.009"
                                                        zIndex: 10
                                                        verticalAlign: middle
                                                      onClick:
                                                        - actionType: popUp
                                                          popUpView: BaseDelWarningView
                                                        - actionType: updateObject
                                                          dataKey: PRTwoEdit.formData.selectedDiagnosis
                                                          dataObject: itemObject
                                                    - type: label
                                                      dataKey: itemObject.code
                                                      style:
                                                        display: "inline-block"
                                                        marginLeft: "0.01"
                                                        height: "auto"
                                                        width: "0.04"
                                                        textAlign:
                                                          x: left
                                                        backgroundColor: "0xffffff"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.nf2
                                                        fontWeight: "500"
                                                        verticalAlign: middle
                                                    - type: label
                                                      text: "-"
                                                      style:
                                                        verticalAlign: middle
                                                        display: "inline-block"
                                                        width: "auto"
                                                        height: "auto"
                                                        fontSize: .Nfont.nf2
                                                    - type: label
                                                      dataKey: itemObject.description
                                                      style:
                                                        verticalAlign: middle
                                                        marginLeft: "0.01"
                                                        display: "inline-block"
                                                        height: "auto"
                                                        width: "0.31"
                                                        textAlign:
                                                          x: left
                                                        backgroundColor: "0xffffff"
                                                        wordBreak: break-all
                                                        fontSize: .Nfont.nf2
                                                - type: label
                                                  dataKey: itemObject.comment
                                                  style:
                                                    marginTop: "0.005"
                                                    marginLeft: "0.018"
                                                    width: "0.36"
                                                    height: "auto"
                                                    color: "0x666666"
                                                    wordBreak: break-all
                                                    fontSize: .Nfont.nf2
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: Treatment Plan(Include treatment rendered to date. List methods, frequency and duration of planned treatment(s). Specify consultation/ referral, surgery, and hospitalization. Identify each physician and non-physician provider. Specify type, frequency and duration of physical medicine services (e.g., physical therapy, manipulation, acupuncture). Use of CPT codes is encouraged. Have there been any changes in treatment plan? If so, why?
                                  style:
                                    color: "0x333333"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    height: "auto"
                                    width: "0.39"   
                                - type: textView
                                  placeholder: Enter here                       
                                  dataKey: formData.diagnosis.treatmentPlan
                                  style:
                                    textIndent: "0.5em"
                                    marginTop: "0.01"
                                    width: "0.39"
                                    height: "0.0736"
                                    boxSizing: border-box
                                    fontFamily: Roboto
                                    color: "0x333333"
                                    border:
                                      style: "3"
                                    borderRadius: "4"
                                    borderWidth: "1"
                                    borderColor: "0xdedede"
                            - type: view
                              style:
                                marginTop: "0.01"
                                height: "auto"
                                width: "0.39"
                              children:
                                - type: label
                                  text: "Work Status: This patient has been instructed to"
                                  style: 
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39"                               
                                - .prTwoListView:
                                  style:  
                                    marginTop: "0.01"
                                  children:
                                    - type: view
                                      style:
                                        height: "0.023"
                                        width: "0.39"  
                                        textAlign:
                                          y: center
                                      children:
                                        - type: image
                                          viewTag: claimsAdstatusSelectTag
                                          style:
                                            left: "0"
                                            height: "0.023"
                                            width: "0.013"
                                            display: inline-block
                                          path: 
                                            emit:
                                              actions:                        
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.workStatus.claimsAd.isClaimsAd
                                                        string2: true
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.workStatus.claimsAd.isClaimsAd
                                                          string2: true
                                                    - ..formData.workStatus.claimsAd.isClaimsAd@: false
                                                    - ..formData.workStatus.claimsAd.isClaimsAd@: true
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: claimsAdstatusSelectTag
                                        - .prTwoListLabel:
                                          text: Return off-work until
                                          style:
                                            fontWeight: ""
                                            display: inline-block
                                            color: "0x333333"
                                            left: "0.01"
                                            width: "auto"                                    
                                    - type: view
                                      viewTag: selectClaimsDateTag
                                      style:
                                        display: flex
                                        flexDirection: column
                                        flexWrap: wrap
                                        justifyContent: center
                                        alignItems: flex-start   
                                        height: "0.0368"
                                        marginTop: "0.01"
                                        width: "0.39"
                                        boxSizing: border-box
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderColor: "0xdedede"
                                        overflow: hidden
                                      children:  
                                        - .prTwoListField:
                                          isEditable: false
                                          placeholder: Select Date
                                          dataKey: formData.workStatus.claimsAd.ClaimsAdDate
                                          style:
                                            marginTop: "0"
                                            textIndent: "0.5em"
                                            width: "0.37"
                                            height: "0.0368"
                                            boxSizing: border-box
                                            fontSize: .Nfont.nf1
                                            color: "0x333333"
                                            border:
                                              style: "5"
                                        - type: image
                                          path: calendarBlue.svg
                                          style:
                                            width: "0.009"                                          
                                      onClick:
                                        - actionType: popUp
                                          popUpView: selectClaimsDate
                                - .prTwoListView:
                                  style:  
                                    marginTop: "0.01"
                                  children:
                                    - type: view
                                      style:
                                        height: "0.023"
                                        width: "0.39"  
                                        textAlign:
                                          y: center
                                      children:
                                        - type: image
                                          viewTag: modifiedWorkSelectTag
                                          style:
                                            left: "0"
                                            height: "0.023"
                                            width: "0.013"
                                            display: inline-block
                                          path: 
                                            emit:
                                              actions:                        
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.workStatus.modifiedWork.isModified
                                                        string2: true
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.workStatus.modifiedWork.isModified
                                                          string2: true
                                                    - ..formData.workStatus.modifiedWork.isModified@: false
                                                    - ..formData.workStatus.modifiedWork.isModified@: true
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: modifiedWorkSelectTag                                                
                                        - .prTwoListLabel:
                                          text: Return to modified work on
                                          style:
                                            fontWeight: ""
                                            display: inline-block
                                            color: "0x333333"
                                            left: "0.01"
                                            width: "auto"                                  
                                    - type: view
                                      viewTag: modifiedWorkDateTag
                                      style:
                                        display: flex
                                        flexDirection: column
                                        flexWrap: wrap
                                        justifyContent: center
                                        alignItems: flex-start   
                                        height: "0.0368"
                                        marginTop: "0.01"
                                        width: "0.39"
                                        boxSizing: border-box
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderColor: "0xdedede"
                                        overflow: hidden
                                      children:                                            
                                        - .prTwoListField:
                                          isEditable: false
                                          placeholder: Select Date
                                          dataKey: formData.workStatus.modifiedWork.modifiedDate
                                          style:
                                            marginTop: "0"
                                            textIndent: "0.5em"
                                            width: "0.37"
                                            height: "0.0368"
                                            boxSizing: border-box
                                            border:
                                              style: "5"
                                        - type: image
                                          path: calendarBlue.svg
                                          style:  
                                            width: "0.009"   
                                      onClick:
                                        - actionType: popUp
                                          popUpView: modifiedWorkDate                                          
            
                                - type: label
                                  text: "with the following limitations or restrictions. (List all specific restrictions re: standing, sitting, bending, use of hands, etc.):"
                                  style:
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - type: textView
                                  isEditable: "true"
                                  placeholder: Enter here
                                  dataKey: formData.workStatus.restrictions
                                  style:
                                    textIndent: "0.5em"
                                    marginTop: "0.01"
                                    width: "0.39"
                                    height: "0.0736"
                                    boxSizing: border-box
                                    fontFamily: Roboto
                                    color: "0x333333"
                                    border:
                                      style: "3"
                                    borderRadius: "4"
                                    borderWidth: "1"
                                    borderColor: "0xdedede"
                                - .prTwoListView:
                                  style:  
                                    marginTop: "0.01"
                                  children:
                                    - type: view
                                      style:
                                        height: "0.023"
                                        width: "0.39"  
                                        textAlign:
                                          y: center
                                      children:
                                        - type: image
                                          # path: selectGray.svg
                                          viewTag: fullDutyTag
                                          style:
                                            left: "0"
                                            height: "0.023"
                                            width: "0.013"
                                            display: inline-block
                                          path: 
                                            emit:
                                              actions:                        
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.workStatus.fullDuty.isFullDuty
                                                        string2: true
                                                  - selectBlue.svg
                                                  - selectGray.svg
                                          onClick:
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                  - =.builtIn.string.equal:
                                                      dataIn:
                                                        string1: =..formData.workStatus.fullDuty.isFullDuty
                                                        string2: true
                                                  - ..formData.workStatus.fullDuty.isFullDuty@: false
                                                  - ..formData.workStatus.fullDuty.isFullDuty@: true
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: fullDutyTag
                                        - .prTwoListLabel:
                                          text: Return to full duty with no limitations or restrictions on
                                          style:
                                            fontWeight: ""
                                            display: inline-block
                                            color: "0x333333"
                                            left: "0.01"
                                            width: "auto"                                  
                                    - type: view
                                      viewTag: fullDutyDateTag
                                      style:
                                        display: flex
                                        flexDirection: column
                                        flexWrap: wrap
                                        justifyContent: center
                                        alignItems: flex-start   
                                        height: "0.0368"
                                        marginTop: "0.01"
                                        width: "0.39"
                                        boxSizing: border-box
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderColor: "0xdedede"
                                        overflow: hidden         
                                      children: 
                                        - .prTwoListField:
                                          isEditable: false
                                          placeholder: Select Date
                                          dataKey: formData.workStatus.fullDuty.fullDutyDate
                                          style:
                                            marginTop: "0"
                                            textIndent: "0.5em"
                                            width: "0.37"
                                            height: "0.0368"
                                            boxSizing: border-box
                                            border:
                                              style: "5"
                                        - type: image
                                          path: calendarBlue.svg
                                          style:  
                                            width: "0.009"                                        
                                      onClick:
                                        - actionType: popUp
                                          popUpView: fullDutyDate       

                                - type: label
                                  text: "Primary Treating Physician:"
                                  style:
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - type: label
                                  text: "Date of Exam"
                                  style:
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    fontWeight: "500"
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - type: view
                                  viewTag: examDateTag
                                  style:
                                    display: flex
                                    flexDirection: column
                                    flexWrap: wrap
                                    justifyContent: center
                                    alignItems: flex-start   
                                    height: "0.0368"
                                    marginTop: "0.01"
                                    width: "0.39"
                                    boxSizing: border-box
                                    border:
                                      style: "3"
                                    borderRadius: "4"
                                    borderColor: "0xdedede"
                                    overflow: hidden                                                
                                  children:  
                                    - .prTwoListField:
                                      isEditable: false
                                      placeholder: Select Date
                                      dataKey: formData.workStatus.examDate
                                      style:
                                        marginTop: "0"
                                        textIndent: "0.5em"
                                        width: "0.37"
                                        height: "0.0368"
                                        boxSizing: border-box
                                        border:
                                          style: "5"
                                    - type: image
                                      path: calendarBlue.svg
                                      style:     
                                        width: "0.009"                                 
                                  onClick:
                                    - actionType: popUp
                                      popUpView: examDate                                      
                                - type: label
                                  text: "I declare under penalty of perjury that this report is true and correct to the best of my knowledge and that I have not violated Labor Code section 139.3."
                                  style:
                                    marginTop: "0.02"
                                    fontSize: .Nfont.nf2
                                    color: "0x333333"
                                    height: "auto"
                                    width: "0.39" 
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.02"
                                  children:
                                    - type: label
                                      text: Physician signature
                                      style:
                                        height: "auto"
                                        width: "0.3"
                                        fontSize: .Nfont.nf4 
                                        fontWeight: "500"
                                        color: "0x333333"
                                    - type: label
                                      text: "Clear"
                                      dataKey: 
                                      style:
                                        left: "0.37"
                                        .SignClearStyle: 
                                      onClick:
                                        - actionType: removeSignature
                                          dataObject: BLOB
                                          dataKey: PRTwoEdit.apiRequest.newSign.docReq.name.data
                                          viewTag: signatureTag
                                        - actionType: evalObject
                                          object:
                                            - ..formData.temporarySignature@: ""
                                        # 显示签名区域隐藏
                                        - actionType: builtIn
                                          funcName: hide
                                          viewTag: signatureShowTag
                                        - actionType: builtIn
                                          funcName: show
                                          viewTag: signatureTag                                             
                                - .SignAreaView:
                                  style:
                                    width: "0.39"
                                    marginTop: "0.01"
                                    boxSizing: border-box
                                  children:                                                                              
                                    # 签名区域
                                    - type: canvas
                                      dataKey: PRTwoEdit.apiRequest.newSign.docReq.name.data
                                      viewTag: signatureTag  
                                      style: 
                                        .SignCanvasStyle:    
                                    - type: label
                                      text: X
                                      style: 
                                        fontSize: .Nfont.nf5
                                        .SignLabelStyle: 
                                        width: "0.33"
                                    # 显示暂存的签名
                                    - type: image
                                      viewTag: signatureShowTag
                                      path=func: .builtIn.utils.prepareDocToPath
                                      # 传入签名文档的id
                                      dataKey: PRTwoEdit.apiRequest.pRTwo.docReq.name.data.signatureId
                                      style:
                                        # 控制显示
                                        display: ..formData.flag
                                        left: "0"
                                        width: "0.39"
                                        top: "0"
                                        height: "0.15"
                                        overflow: scroll
                                        zIndex: "110"  

                                    #   # signature    
                                    # - type: view
                                    #   style:
                                    #     marginTop: "0.03"
                                    #     width: "0.39"
                                    #     display: flex
                                    #     flexDirection: column
                                    #     flexWrap: wrap
                                    #     alignContent: space-around
                                    #     justifyContent: center
                                    #   children:
                                    #     - .SignAreaView:
                                    #       children:  
                                    #         - type: image
                                    #           viewTag: signatureShowTag
                                    #           dataKey: PRTwoEdit.apiRequest.pRTwo.docReq.name.data.signatureId
                                    #           path=func: .builtIn.utils.prepareDocToPath
                                    #           style:
                                    #             .SignCanvasStyle:
                                    #               display: ..formData.flag
                                    #         - type: label
                                    #           text: "X"
                                    #           style:
                                    #             .SignLabelStyle:
                            - type: view
                              style:
                                marginTop: "0.02"
                                height: "auto"
                                width: "0.39"
                                # backgroundColor: "pink"
                              children:
                                - .prTwoLabelView:
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Physician Name
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.physicianName
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"        
                                        textAlign:
                                          x: right                                   
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.015"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Cal. License Number
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.calNumber
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"        
                                        textAlign:
                                          x: right                                     
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.015"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Specialty
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.specialty
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"        
                                        textAlign:
                                          x: right                                     
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.015"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Address
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.address
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"          
                                        textAlign:
                                          x: right                                   
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.015"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Phone Number
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.phoneNumber
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"        
                                        textAlign:
                                          x: right                                     
                                - .prTwoLabelView:
                                  style:
                                    marginTop: "0.015"
                                  children:
                                    - .prTwoLabelLeft:
                                      text: Date
                                    - type: textField
                                      placeholder: Enter here
                                      text=func: .builtIn.string.formatNowTime # Unixtime_en
                                      dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.date
                                      style:
                                        height: "0.03"
                                        textIndent: "0.5em"                                  
                                        top: "0"
                                        left: "0.24"
                                        width: "0.15"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        border:
                                          style: "3"
                                        borderRadius: "3"
                                        borderColor: "0xdedede"
                                        color: "0x333333"   
                                        textAlign:
                                          x: right                                   
                            - type: label
                              text: "PRIVACY NOTICE: A statement of current data collection and use policies and certain privacy rights of injured workers may be found at the following website: http://www.dir.ca.gov/od_pub/privacy.html."
                              style:
                                marginTop: "0.02"
                                fontSize: .Nfont.nf2
                                height: "0.04"
                                color: "0x333333"
                                width: "0.39" 


            - .FormsBottomView: 
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick:
                        # 签名处理
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: PRTwoEdit.apiRequest.newSign.docReq.name.data
                          isEmpty: PRTwoEdit.formData.whetherSign
                        # 保存签名
                        - actionType: evalObject
                          object:
                            - if:
                              - =.PRTwoEdit.formData.whetherSign
                              - continue
                              - actionType: evalObject
                                object:
                                  # 签名reid指向 doc 的id
                                  - ..apiRequest.newSign.docReq.reid@: =.PRTwoEdit.apiRequest.pRTwo.docReq.id
                                  - =..apiRequest.newSign.docAPI.store: ""
                                  - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                  - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign
                        #  指定 eid 和 reid
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.eid@: =.Global.formData.meetingDocEid
                            - ..apiRequest.pRTwo.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.pRTwo.docReq.name.data.diagnosis.treatmentPlan@: =..formData.diagnosis.treatmentPlan
                            - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
                        #  select 判断
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..apiRequest.pRTwo.docReq.name.data.submitReport
                                      string2: "Other"
                                - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.selectData
                                - continue                                    
                        #  修改type
                        - actionType: evalObject
                          object:
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.pRTwo.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: PRTwoEdit.apiRequest.pRTwo.docReq.type
                            # 保存pRTwo
                            - =..apiRequest.pRTwo.docAPI.store: ""
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""                      
                        - actionType: evalObject
                          object:
                            - if: 
                              - =.Global.formData.reviewFromProvider
                              - goto: PatientSummary
                              - goto: PatientSummaryRoom
                    - .FormsBottomRightButton:                
                      onClick:
                        # 签名处理
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: PRTwoEdit.apiRequest.newSign.docReq.name.data
                          isEmpty: PRTwoEdit.formData.whetherSign
                        - actionType: evalObject
                          object:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.pRTwo.docReq.name.data.submitReport
                                    string2: "Please select"
                              - actionType: popUp
                                popUpView: rePortWarning
                                wait: true
                              - continue
                        - actionType: evalObject
                          object:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..apiRequest.pRTwo.docReq.name.data.submitReport
                                    string2: "Other"
                              - actionType: evalObject
                                object:
                                  - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.selectData
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: rePortWarning
                                      wait: true
                                    - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.selectData
                              - continue
                        # 保存签名
                        - actionType: evalObject
                          object:
                            - if:
                              - =.PRTwoEdit.formData.whetherSign
                              - actionType: popUp
                                popUpView: notSignedTag
                                wait: true
                              - continue 
                            # 签名reid指向 doc 的id
                            - ..apiRequest.newSign.docReq.reid@: =.PRTwoEdit.apiRequest.pRTwo.docReq.id
                            - =..apiRequest.newSign.docAPI.store: ""
                            - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                            - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign                            
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.eid@: =.Global.formData.meetingDocEid
                            - ..apiRequest.pRTwo.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.pRTwo.docReq.name.data.diagnosis.treatmentPlan@: =..formData.diagnosis.treatmentPlan
                            - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus

                        # 更新文档状态
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.name.data.statusTag.name@: "Released"
                            - ..apiRequest.pRTwo.docReq.name.data.statusTag.fontColor@: "0x2988e6"
                            - ..apiRequest.pRTwo.docReq.name.data.statusTag.backgroundColor@: "0xdfedfc"
                        #  修改type
                        - actionType: evalObject
                          object:
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.pRTwo.docReq.type
                                  index: 1
                                  hex: 1
                                dataOut: PRTwoEdit.apiRequest.pRTwo.docReq.type
                            # 保存
                            - =..apiRequest.pRTwo.docAPI.store: ""
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""
                        - actionType: evalObject
                          object:
                            - if: 
                              - =.Global.formData.reviewFromProvider
                              - goto: PatientSummary
                              - goto: PatientSummaryRoom                                                    
        - .BaseWarningView:  
          msg2: "Please enter why you are submitting the report."
          viewTag: rePortWarning

        - .BaseWarningView:  
          msg2: "You haven't signed the form"  
          viewTag: notSignedTag
        - type: popUp
          viewTag: selectInjuryDate
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..apiRequest.pRTwo.docReq.name.data.patientInfo.injuryDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectInjuryDateTag
                    - actionType: popUpDismiss
                      popUpView: selectInjuryDate
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: selectInjuryDate

        - type: popUp
          viewTag: selectClaimsDate
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.claimsAd.ClaimsAdDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectClaimsDateTag
                    - actionType: popUpDismiss
                      popUpView: selectClaimsDate
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: selectClaimsDate                      

        - type: popUp
          viewTag: modifiedWorkDate
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.modifiedWork.modifiedDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkDateTag
                    - actionType: popUpDismiss
                      popUpView: modifiedWorkDate
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: modifiedWorkDate 

        - type: popUp
          viewTag: fullDutyDate
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.fullDuty.fullDutyDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyDateTag
                    - actionType: popUpDismiss
                      popUpView: fullDutyDate
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: fullDutyDate                       

        - type: popUp
          viewTag: examDate
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1" 
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.examDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: examDateTag
                    - actionType: popUpDismiss
                      popUpView: examDate
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: examDate 