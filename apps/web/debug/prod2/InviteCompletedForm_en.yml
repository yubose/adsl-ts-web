InviteCompletedForm: # This is page name
  module: meetingroom
  title: "Invite"
  pageNumber: "130"
  init:
    - .SignInCheck
  save:
    - ..inviteInfo.edgeAPI.store
  inviteInfo:
    edge:
      .Edge: ""
      type: .EdgeType.InviteInfo
      refid: .AppointmentDetail.roomInfo.edge.id
      bvid: .Global.currentUser.vertex.id
      # evid: "NzczFCtoRgYkcD3yEvGhRA=="
      name:
        phoneNumber: ""
        firstName: ""
        lastName: ""
        hostName: .Global.currentUser.vertex.name.userName
        roomName: .AppointmentDetail.roomInfo.edge.name.roomName
        date: .AppointmentDetail.roomInfo.edge.name.date
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataKey: inviteInfo.edge
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - .HeaderRightButton:
      onClick:
        - goto: Contacts
      text: Contacts
    - type: view
      style:
        left: "0"
        top: "0.15"
        width: "1"
        height: "0.6"
      children:
        - type: label
          text: "Phone#"
          style:
            left: "0.1333"
            top: "0.05"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
        - type: textField
          dataKey: inviteInfo.edge.name.phoneNumber
          # dataKey: .Global.VideoChatObjStore.reference.edge.id
          # dataKey: .Global.currentUser.JWT
          contentType: phone
          style:
            left: "0.1333"
            top: "0.1"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
            border:
              style: "2"
              color: "0x0000007f"
            borderWidth: "1"
        - type: label
          text: "First Name:"
          style:
            left: "0.1333"
            top: "0.15"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
        - type: textField
          dataKey: inviteInfo.edge.name.firstName
          contentType: text
          style:
            left: "0.1333"
            top: "0.2"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
            border:
              style: "2"
              color: "0x0000007f"
            borderWidth: "1"
        - type: label
          text: "Last Name:"
          style:
            left: "0.1333"
            top: "0.25"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
        - type: textField
          dataKey: inviteInfo.edge.name.lastName
          text: "Last name"
          contentType: text
          style:
            left: "0.1333"
            top: "0.3"
            width: "0.72"
            height: "0.03"
            fontSize: .Nfont.h14
            border:
              style: "2"
              color: "0x0000007f"
            borderWidth: "1"
    - type: button
      onClick:
        - actionType: popUp
          popUpView: confirmView
      text: Invite
      style:
        left: "0.1"
        top: "0.8"
        width: "0.8"
        height: "0.07"
        color: "0xffffffff"
        backgroundColor: "0x2988e6ff"
        borderRadius: 2
        textAlign:
          x: center
        border:
          style: "1"
    - type: popUp # view
      viewTag: confirmView
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
      children:
        - type: view
          style:
            left: "0.1"
            top: "0.4"
            width: "0.8"
            height: "0.3"
            backgroundColor: "0xe9e9e9ff"
            border:
              style: "5"
            borderRadius: "15"
          children:
            - type: label
              text: "Send Invite Link"
              style:
                left: "0"
                top: "0.04"
                width: "0.8"
                height: "0.027247"
                color: "0x000000"
                fontSize: "20"
                fontWeight: 500
                display: inline
                textAlign:
                  x: center
            - type: label
              text: "Send invite link to"
              style:
                left: "0"
                top: "0.1"
                width: "0.8"
                height: "0.04"
                color: "0x000000"
                fontSize: .Nfont.h14
                display: inline
                textAlign:
                  x: center
            - type: label
              text: "John"
              dataKey: inviteInfo.edge.name.firstName
              style:
                left: "0"
                top: "0.15"
                width: "0.3"
                height: "0.027247"
                color: "0x000000"
                fontSize: .Nfont.h14
                display: inline
                textAlign:
                  x: right
            - type: label
              dataKey: inviteInfo.edge.name.lastName
              style:
                left: "0.31"
                top: "0.15"
                width: "0.2"
                height: "0.027247"
                color: "0x000000"
                # backgroundColor: "0xcdcdcd"
                fontSize: .Nfont.h14
                display: inline
                textAlign:
                  x: center
            - type: label
              text: "+1 7148397253"
              dataKey: inviteInfo.edge.name.phoneNumber
              style:
                left: "0.5"
                top: "0.15"
                width: "0.3"
                # backgroundColor: "0xdfafaf"
                height: "0.027247"
                color: "0x000000"
                fontSize: .Nfont.h14
                display: inline
                textAlign:
                  x: left
            - type: divider
              style:
                left: "0"
                top: "0.22"
                width: "0.795"
                backgroundColor: "0x00000088"
            - type: button
              onClick:
                - actionType: popUpDismiss
                  popUpView: confirmView
              text: Cancel
              style:
                left: "0.01"
                top: "0.24"
                width: "0.38"
                height: "0.05"
                color: "0x007affff"
                backgroundColor: "0xe9e9e9"
                fontSize: "17"
                display: inline
                border:
                  style: 1
                textAlign:
                  x: center
            - type: button
              onClick:
                # - actionType: evalObject
                #   object: ..save
                - actionType: evalObject
                  object:
                    - .Global.contact.document.name.data.phoneNumber@: =..inviteInfo.edge.name.phoneNumber
                    - .Global.contact.document.name.data.firstName@: =..inviteInfo.edge.name.firstName
                    - .Global.contact.document.name.data.lastName@: =..inviteInfo.edge.name.lastName
                - goto: InvitePatient
              text: Confirm
              style:
                left: "0.4"
                top: "0.24"
                width: "0.38"
                height: "0.05"
                color: "0x007affff"
                fontSize: "17"
                display: inline
                backgroundColor: "0xe9e9e9"
                borderRadius: 10
                border:
                  style: 1
                textAlign:
                  x: center
            - type: divider
              style:
                .DividerStyle:
                  left: "0.4"
                  top: "0.22"
                  width: "0.001"
                  height: "0.065"
                  backgroundColor: "0x00000088"
