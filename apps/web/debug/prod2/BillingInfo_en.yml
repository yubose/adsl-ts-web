BillingInfo:
  title: "Billing Info"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - ..front_IDCard.docAPI.get
    - ..front_InsuranceCard.docAPI.get
    - ..back_InsuranceCard.docAPI.get
    - if:
        - =..front_IDCard.docRes.doc.0
        - =.builtIn.utils.prepareDoc:
            dataIn:
              doc: =..front_IDCard.docRes.doc.0
            dataOut: BillingInfo.front_IDCard.document
        - continue
    - if:
        - =..front_InsuranceCard.docRes.doc.0
        - =.builtIn.utils.prepareDoc:
            dataIn:
              doc: =..front_InsuranceCard.docRes.doc.0
            dataOut: BillingInfo.front_InsuranceCard.document
        - continue
    - if:
        - =..back_InsuranceCard.docRes.doc.0
        - =.builtIn.utils.prepareDoc:
            dataIn:
              doc: =..back_InsuranceCard.docRes.doc.0
            dataOut: BillingInfo.back_InsuranceCard.document
        - continue
  billingInfo: .Cov19TestDM.patientChart.billingInfo
  cov19Chart:
    docReq:
      eid: .Global.rootNotebookID
      type: .DocType.Cov19Chart
      name:
        data: ""
    docRes: ""
    docAPI:
      store:
        api: cd
        dataIn: BillingInfo.cov19Chart.docReq
        dataOut: BillingInfo.cov19Chart.docRes
  billingInfoTemp:
    - key: medicalInsurance
      value: "Yes"
    - key: medicalInsurance
      value: "No"
  front_IDCard:
    docRes: ""
    document: ""
    docReq:
      # id: .Global.DocReference.document.id
      id: .Global.roomInfo.edge.id
      type: .DocType.F_IDCard
      xfname: eid
      obfname: ctime
      maxcount: "1"
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: BillingInfo.front_IDCard.docReq
        dataOut: BillingInfo.front_IDCard.docRes
  front_InsuranceCard:
    docRes: ""
    docReq:
      id: .Global.roomInfo.edge.id
      xfname: eid
      obfname: ctime
      maxcount: "1"
      type: .DocType.F_InsuranceCard
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: BillingInfo.front_InsuranceCard.docReq
        dataOut: BillingInfo.front_InsuranceCard.docRes
  back_InsuranceCard:
    docRes: ""
    docReq:
      id: .Global.roomInfo.edge.id
      obfname: ctime
      xfname: eid
      maxcount: "1"
      type: .DocType.B_InsuranceCard
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: BillingInfo.back_InsuranceCard.docReq
        dataOut: BillingInfo.back_InsuranceCard.docRes
  signature0:
    docReq: ""
    docAPI:
      api: cd
      dataIn: BillingInfo.signature0.docReq
  signature1:
    docReq: ""
    docAPI:
      api: cd
      dataIn: BillingInfo.signature1.docReq
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - type: scrollView
      style:
        top: "0.1"
        left: "0"
        width: "1"
        height: "0.9"
      children:
        - type: view
          style:
            top: "0"
            left: "0"
            height: "auto"
            width: "1"
          children:
            - type: view
              style:
                top: "0"
                left: "0"
                height: "0.14"
                width: "1"
              children:
                - type: image
                  path: patientInfo5_5.svg
                  style:
                    top: "0.05"
                    left: "0.07"
                    height: "auto"
                    width: "0.86"
                - type: label
                  text: Billing Information
                  style:
                    top: "0.09"
                    left: "0.08"
                    height: "0.05"
                    width: "0.9"
                    fontSize: "23"
                    fontFamily: "Arial"
                - type: view
                  style:
                    top: "0.135"
                    left: "0.05"
                    height: "0.002"
                    width: "0.9"
                    border:
                      style: "2"
                    borderColor: "#DEDEDF"
                    borderWidth: "1"
            - type: view
              style:
                top: "0.15"
                left: "0"
                height: "0.22"
                width: "1"
              children:
                - type: label
                  text: Do you have medical insurance?
                  style:
                    top: "0.01"
                    left: "0.08"
                    height: "0.03"
                    width: "0.84"
                    fontSize: .Nfont.h16
                - type: list
                  contentType: listObject
                  listObject: ..billingInfoTemp
                  iteratorVar: itemObject
                  viewTag: medicalInsuranceTag
                  style:
                    top: "0.04"
                    left: "0.08"
                    width: "0.84"
                    height: "0.1"
                    axis: horizontal
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        width: "0.4"
                        left: "0"
                        height: "0.05"
                        display: inline-block
                      children:
                        - type: image
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: "Yes"
                                          string2: $var.value
                                    - selectOn.svg
                                    - selectOff.svg
                          style:
                            top: "0.004"
                            left: "0"
                            height: "0.02"
                        - type: label
                          dataKey: itemObject.value
                          style:
                            top: "0"
                            left: "0.05"
                            width: "0.2"
                            height: "0.02"
                            fontSize: .Nfont.h16
            - type: view
              viewTag: yesPage
              style:
                top: "0.25"
                left: "0.08"
                height: "1.1"
                width: "0.85"
                overflow: hidden
              children:
                - type: view
                  style:
                    top: "0"
                    left: "0"
                    height: "0.3"
                    width: "1"
                  children:
                    - type: label
                      text: IDENTIFICATION
                      style:
                        top: "0"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: "17"
                    - type: label
                      text: Please upload your Driver license (DL) or federal ID
                      style:
                        top: "0.03"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: "13"
                    - type: label
                      text: Front of identification Card
                      style:
                        top: "0.097"
                        left: "0"
                        height: "0.03"
                        width: "0.8"
                        fontSize: .Nfont.h12
                        textAlign:
                          x: center
                    # - type: ecosDoc
                    #   ecosObj: ..front_IDCard.document
                    #   style:
                    #     top: "0.12"
                    #     height: "0.1"
                    #     width: "0.2"
                    #     left: "0.3"
                    - type: view
                      style:
                        top: "0.12"
                        height: "0.1"
                        width: "0.84"
                        left: "0"
                        textAlign:
                          x: center
                      children:
                        # 显示上传的图片
                        - type: image
                          path: uploadFile.png
                          path=func: .builtIn.utils.prepareDocToPath
                          dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.front_IDCard
                          style:
                            height: "0.1"
                            margin: auto
                            width: "0.84"
                - type: view
                  style:
                    top: "0.24"
                    left: "0"
                    height: "0.4"
                    width: "0.85"
                  children:
                    - type: label
                      text: MEDICAL COVERAGE
                      style:
                        top: "0"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: "17"
                    - type: label
                      text: Please upload your medical insurance card
                      style:
                        top: "0.03"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: "13"
                    - type: label
                      text: Front of Insurance Card
                      style:
                        top: "0.1"
                        left: "0"
                        height: "0.03"
                        width: "0.8"
                        fontSize: .Nfont.h12
                        textAlign:
                          x: center
                    # - type: ecosDoc
                    #   ecosObj: ..front_InsuranceCard.document
                    #   style:
                    #     top: "0.13"
                    #     height: "0.1"
                    #     width: "0.2"
                    #     left: "0.3"
                    - type: view
                      style:
                        top: "0.13"
                        height: "0.1"
                        width: "0.85"
                        left: "0"
                        textAlign:
                          x: center
                      children:
                        # 显示上传的图片
                        - type: image
                          path: uploadFile.png
                          path=func: .builtIn.utils.prepareDocToPath
                          # 传入签名文档的id
                          dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.front_InsuranceCard
                          style:
                            height: "0.1"
                            margin: auto
                            width: "0.85"
                    - type: label
                      text: Back of Insurance Card
                      style:
                        top: "0.24"
                        left: "0"
                        height: "0.03"
                        width: "0.8"
                        fontSize: .Nfont.h12
                        textAlign:
                          x: center
                    # - type: ecosDoc
                    #   ecosObj: ..back_InsuranceCard.document
                    #   style:
                    #     top: "0.26"
                    #     height: "0.1"
                    #     width: "0.2"
                    #     left: "0.3"
                    - type: view
                      style:
                        top: "0.26"
                        height: "0.1"
                        width: "0.85"
                        left: "0"
                        textAlign:
                          x: center
                      children:
                        # 显示上传的图片
                        - type: image
                          path: uploadFile.png
                          path=func: .builtIn.utils.prepareDocToPath
                          dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.back_InsuranceCard
                          style:
                            height: "0.1"
                            margin: auto
                            width: "0.85"
                - type: view
                  style:
                    top: "0.65"
                    left: "0"
                    height: "0.4"
                    width: "1"
                  children:
                    - type: label
                      text: Members ID
                      style:
                        top: "0"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: .Nfont.h12
                    - type: textField
                      placeholder: "Enter here"
                      dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.membersID
                      isEditable: false
                      style:
                        left: "0"
                        top: "0.03"
                        width: "0.8"
                        height: "0.04"
                        border:
                          style: "3"
                        borderColor: "0xdededf"
                        borderWidth: "1"
                        textIndent: "10px"
                        fontSize: "15"
                    - type: label
                      text: Insurance Company Name
                      style:
                        top: "0.08"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: .Nfont.h12
                    - type: textField
                      placeholder: "Enter here"
                      dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.companyName
                      isEditable: false
                      style:
                        left: "0"
                        top: "0.11"
                        width: "0.8"
                        height: "0.04"
                        border:
                          style: "3"
                        borderColor: "0xdededf"
                        borderWidth: "1"
                        textIndent: "10px"
                        fontSize: "15"
                    - type: label
                      text: Insured Name
                      style:
                        top: "0.16"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: .Nfont.h12
                    - type: textField
                      placeholder: "Enter here"
                      dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.insuredName
                      isEditable: false
                      style:
                        left: "0"
                        top: "0.19"
                        width: "0.8"
                        height: "0.04"
                        border:
                          style: "3"
                        borderColor: "0xdededf"
                        borderWidth: "1"
                        textIndent: "10px"
                        fontSize: "15"
                    - type: label
                      text: Relationship to Patient
                      style:
                        top: "0.24"
                        left: "0"
                        height: "0.03"
                        width: "1"
                        fontSize: .Nfont.h12
                    - type: textField
                      placeholder: "Enter here"
                      dataKey: Global.formData.cov19Test.doc.0.name.data.billingInfo.indentification.relationship
                      isEditable: false
                      style:
                        left: "0"
                        top: "0.27"
                        width: "0.8"
                        height: "0.04"
                        border:
                          style: "3"
                        borderColor: "0xdededf"
                        borderWidth: "1"
                        textIndent: "10px"
                        fontSize: "15"
    - type: button
      text: Done
      onClick:
        - goto: MedicalDocuments
      style:
        height: "0.05"
        width: "0.84"
        left: "0.08"
        border: "none"
        fontSize: .Nfont.h14
        top: "0.93"
        backgroundColor: "0x2988e6"
        color: "0xffffff"
        borderRadius: "5px"
        textAlign:
          x: center
