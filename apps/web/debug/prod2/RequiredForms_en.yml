RequiredForms:
  title: "Required Forms"

  pageNumber:

  init:
    - .SignInCheck
    - =.builtIn.object.setObjectKey:
        dataIn:
          objectArr: =..formDataTemp.appointmentTitle
          key: isSelected
          value: false
    - =.builtIn.object.setObjectKey:
        dataIn:
          objectArr: =..formDataTemp.optionalForms
          key: isSelected
          value: false

  formData:

  formDataTemp:
    generalInfo: true
    generalInfoForms: true
    optionalForms:
      - title: Patient Chart
      - title: General Information
    appointmentTitle:
      - title: Visit Questionnaire
        pathImgAtl: selectOff.svg
        colorAtl: "0x000000"
        textDecoration: npne
      - title: PifzerBioNTech
        pathImgAtl: selectOff.svg
        colorAtl: "0x000000"
        textDecoration: none
      - title: Moderna
        pathImgAtl: selectOff.svg
        colorAtl: "0x000000"
        textDecoration: none
      - title: COVID-19 Testing
        colorAtl: "0x000000"
        textDecoration: none
        pathImgAtl: selectOff.svg
      - title: Pulmonary Function Report
        pathImgAtl: selectRed.svg 
        colorAtl: "0xff0000"
        textDecoration: underline
  
  apiRequest:
    
  style:

  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - type: scrollView
      style:
        width: "0.9"
        marginLeft: "0.05"
        marginTop: "0.1"
        height: "0.8"
      children:
        - type: label
          text: "Please complete forms below"
          style:
            lineHeight: "5vh"
            height: "0.05"
            marginTop: "0.015"
            color: "0x333333"
            fontSize: 4vw
        - type: list
          viewTag: appointmentListTag
          contentType: listObject
          listObject: ..formDataTemp.appointmentTitle
          iteratorVar: itemObject
          style:
            width: '0.9'
            margin: '0'
            height: "auto"
          children:
            - type: listItem
              itemObject: 
              style:
                width: '0.9'
                height: '0.05'
                left: '0'
                marginTop: '0.01'
              onClick:
                - emit:
                    dataKey:
                      var: itemObject
                    actions:
                      - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: "Pulmonary Function Report"
                              string2: $var.title
                        - goto: PulmonaryFunctionReport
                        - continue
              children:
                - type: image
                  path:
                    emit:
                      dataKey:
                          var: itemObject
                      actions:                        
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formDataTemp.generalInfo
                                string2: $var.isSelected
                          - selectOn.svg
                          - $var.pathImgAtl
                  onClick:
                    - emit:
                        dataKey:
                          var: itemObject
                        actions:
                          - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formDataTemp.generalInfo
                                  string2: $var.isSelected
                            - =.builtIn.object.clear:
                                dataIn:
                                  object: $var
                                  key: isSelected
                            - =.builtIn.object.set:
                                dataIn:
                                  object: $var
                                  key: isSelected
                                  value: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: appointmentListTag 
                  style:
                    width: "0.05"
                    marginTop: "0.013"
                - type: label
                  dataKey: itemObject.title
                  style:
                    display: "inline-block"
                    fontSize: .Nfont.n2
                    height: "0.05"
                    color: itemObject.colorAtl
                    textDecoration: itemObject.textDecoration
                    width: "0.83"
                    lineHeight: "5vh"
                    marginLeft: "0.02"
        - type: label
          text: "Optional Forms"
          style:
            lineHeight: "5vh"
            height: "0.05"
            color: "0x333333"
            fontSize: 4vw
        - type: list
          viewTag: optionalFormsListTag
          contentType: listObject
          listObject: ..formDataTemp.optionalForms
          iteratorVar: itemObject
          style:
            width: '0.9'
            margin: '0'
            height: "auto"
          children:
            - type: listItem
              itemObject: 
              style:
                width: '0.9'
                height: '0.05'
                left: '0'
                marginTop: '0.01'
              
              children:
                - type: image
                  path:
                    emit:
                      dataKey:
                          var: itemObject
                      actions:                        
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formDataTemp.generalInfoForms
                                string2: $var.isSelected
                          - selectOn.svg
                          - selectOff.svg
                  onClick:
                    - emit:
                        dataKey:
                          var: itemObject
                        actions:
                          
                          - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formDataTemp.generalInfoForms
                                  string2: $var.isSelected
                            - =.builtIn.object.clear:
                                dataIn:
                                  object: $var
                                  key: isSelected
                            - =.builtIn.object.set:
                                dataIn:
                                  object: $var
                                  key: isSelected
                                  value: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: optionalFormsListTag 
                  style:
                    width: "0.05"
                    marginTop: "0.013"
                - type: label
                  dataKey: itemObject.title
                  style:
                    display: "inline-block"
                    fontSize: .Nfont.n2
                    height: "0.05"
                    width: "0.83"
                    lineHeight: "5vh"
                    marginLeft: "0.02"
    - type: view
      style:
        width: '1'
        margin: "0"
        height: "0.1"
        boxShadow: "0 -1px 8px 0 #eeeeee"
      children:
        - type: button
          viewTag: buttonView
          text: "Done"
          style:
            width: "0.6"
            height: "0.04"
            color: "0xffffff"
            fontSize: .Nfont.n2
            marginLeft: "0.2"
            marginTop: "0.025"
            textAlign:
              x: center
            lineHeight: "4vh"
            border: 
              style: "3"
            borderWidth: "1"
            backgroundColor: "0x2988e6"
            borderColor: "0x65a9ee"
            borderRadius: "5"
