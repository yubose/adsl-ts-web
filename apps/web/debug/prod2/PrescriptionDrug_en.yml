PrescriptionDrug:
  pageNumber: "181"
  title: "Drug"
  init:
    - .SignInCheck

  suggestDrug:
    - name: "Please enter 3 or more characters"
  drug:
    name: ""
    dosage: "&nbsp;"
    genericName: "&nbsp;"
    strength: "&nbsp;"
    route: "&nbsp;"
    RXcui: ""
    drugCode: ""
  formData:
    searchShow: "none"
    boxHeight: "0.04"
    dispalyStyle: "none"
    btnColor: "0xe5e5e5"
    isPointer: "none"
  components:
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
    - type: view
      style:
        width: "1"
        height: "0.94"
        fontFamily: "Arial"
        overflow: scroll
      children:
        - type: label
          text: "Please search the prescription inputting the name, then choosing the route, strength, frequency, etc. On the next page you will review and submit."
          dataKey:
          style:
            marginTop: "0.0197"
            marginLeft: "0.04"
            height: "auto"
            width: "0.92"
            fontSize: .Nfont.h14
            color: "0x333333"
            lineHeight: "2.58vh"
        - type: view
          viewTag: drugShowTag
          style:
            marginTop: "0.0123"
            borderTop: "1px solid #dedede"
            height: "auto"
            width: "1"
            overflow: hidden
          children:
            - type: label
              text: Drug Name
              dataKey:
              style:
                marginLeft: "0.032"
                marginTop: "0.0246"
                fontWeight: "600"
                color: "0x333333"
                fontSize: .Nfont.h14
            - type: view
              style:
                marginTop: "0.01"
                marginLeft: "0.0346"
                height: "0.037"
                width: "0.926"
                fontFamily: "Arial"
                border:
                  style: 3
                  width: "1.5px"
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "0xdededf"
                backgroundColor: "0xffffff"
                overflow: hidden
              children:
                - type: image
                  path: searchBlue.svg
                  style:
                    marginLeft: "0.02"
                    verticalAlign: middle
                    height: "0.02"
                    display: "inline-block"
                - type: textField
                  viewTag: titleTag
                  placeholder: "Search"
                  dataKey: drug.name
                  style:
                    display: "inline-block"
                    margin: "0"
                    marginLeft: "0.032"
                    border:
                      style: 1
                    width: "0.8"
                    height: "0.037"
                    verticalAlign: middle
                    boxSizing: "border-box"
                    fontSize: .Nfont.h14
                  onInput:
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..drug.name
                                  string2: ""
                            - ..formData.searchShow@: "none"
                            - ..formData.searchShow@: "block"
                    - actionType: evalObject
                      object:
                        - =.builtIn.apiRequest.dataBank:
                            dataIn:
                              query: =..drug.name
                            dataOut: PrescriptionDrug.suggestDrug
                        - ..formData.dispalyStyle@: "block"
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..drug.name
                                  string2: ""
                            - actionType: evalObject
                              object:
                                - ..formData.isPointer@: "none"
                                - ..formData.btnColor@: "0xe5e5e5"
                            - actionType: evalObject
                              object:
                                - ..formData.isPointer@: ""
                                - ..formData.btnColor@: "0x2988e6"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: btnTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: drugsData
                    - actionType: builtIn
                      funcName: show
                      viewTag: drugsData
                    - actionType: popUp
                      popUpView: drugsData
                      dismissOnTouchOutside: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: searchShowTag
            - type: label
              text: "Dosage Form"
              style:
                marginTop: "0.0147"
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
            - type: view
              style:
                marginTop: "0.0123"
                marginLeft: "0.04"
                boxSizing: border-box
                width: "0.92"
                height: "auto"
                border:
                  style: 3
                borderWidth: "1"
                borderColor: "0xdededf"
                borderRadius: "4"
                overflow: hidden
              children:
                - type: label
                  dataKey: drug.dosage
                  style:
                    marginTop: "0.006"
                    # marginBottom: "0.006"
                    width: "0.92"
                    height: "auto"
                    boxSizing: border-box
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    padding: "12px 12px"

            - type: label
              text: "Strength"
              style:
                marginTop: "0.0147"
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
            - type: view
              style:
                marginTop: "0.0123"
                marginLeft: "0.04"
                boxSizing: border-box
                width: "0.92"
                height: "auto"
                border:
                  style: 3
                borderWidth: "1"
                borderColor: "0xdededf"
                borderRadius: "4"
                overflow: hidden
              children:
                - type: label
                  dataKey: drug.strength
                  style:
                    marginTop: "0.006"
                    # marginBottom: "0.006"
                    width: "0.92"
                    height: "auto"
                    boxSizing: border-box
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    padding: "12px 12px"

            - type: label
              text: "Generic Name"
              style:
                marginTop: "0.0147"
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
            - type: view
              style:
                marginTop: "0.0123"
                marginLeft: "0.04"
                boxSizing: border-box
                width: "0.92"
                height: "auto"
                border:
                  style: 3
                borderWidth: "1"
                borderColor: "0xdededf"
                borderRadius: "4"
                overflow: hidden
              children:
                - type: label
                  dataKey: drug.genericName
                  style:
                    marginTop: "0.006"
                    # marginBottom: "0.006"
                    width: "0.92"
                    height: "auto"
                    boxSizing: border-box
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    padding: "12px 12px"

            - type: label
              text: "Route"
              style:
                marginTop: "0.0147"
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
            - type: view
              style:
                marginTop: "0.0123"
                marginLeft: "0.04"
                boxSizing: border-box
                width: "0.92"
                height: "auto"
                border:
                  style: 3
                borderWidth: "1"
                borderColor: "0xdededf"
                borderRadius: "4"
                overflow: hidden
              children:
                - type: label
                  dataKey: drug.route
                  style:
                    marginTop: "0.006"
                    # marginBottom: "0.006"
                    width: "0.92"
                    height: "auto"
                    boxSizing: border-box
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    padding: "12px 12px"

            - type: view
              viewTag: btnTag
              style:
                marginTop: "0.0443"
                marginLeft: "0.04"
                width: "0.92"
                height: "0.0443"
                backgroundColor: ..formData.btnColor
                pointerEvents: ..formData.isPointer
                borderRadius: "4"
                textAlign:
                  x: center
                  y: center
              children:
                - type: label
                  text: Confirm
                  dataKey:
                  style:
                    # marginLeft: "0.032"
                    width: "0.92"
                    height: "0.0443"
                    lineHeight: 4.43vh
                    fontSize: .Nfont.h14
                    display: "inline-block"
                    color: "0xffffff"
                    verticalAlign: middle
                    textAlign:
                      x: center
              onClick:
                - actionType: evalObject
                  object:
                    - .Global.prescriptionDrug@: =..drug
                    - goto: =.Global.formData.pageName
            - type: view
              viewTag: searchShowTag
              style:
                left: "0.0346"
                top: "0.1"
                display: ..formData.searchShow
                width: "auto"
                height: "auto"
              children:
                - type: list
                  viewTag: drugsData
                  contentType: listObject
                  listObject: ..suggestDrug
                  iteratorVar: itemObject
                  style:
                    width: "0.926"
                    height: "0.35"
                    display: ..formData.dispalyStyle
                    backgroundColor: "0xffffff"
                    borderRadius: "4"
                    boxSizing: "border-box"
                    boxShadow: "1px 1px 4px 1px #dededf"
                    overflow: scroll
                    zIndex: "20"
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        width: "0.92"
                        height: "auto"
                        backgroundColor: "0xffffffff"
                        borderWidth: "1"
                        boxSizing: "border-box"
                        overflow: hidden
                      children:
                        - type: label
                          dataKey: itemObject.DrugName
                          style:
                            marginLeft: "0.032"
                            marginTop: "1vh"
                            marginBottom: "1vh"
                            width: "0.84"
                            height: "auto"
                            fontSize: .Nfont.h14
                            boxSizing: "border-box"
                            wordWrap: break-word
                            lineHeight: "2.58vh"
                        - type: view
                          style:
                            width: "0.92"
                            height: "0.0015"
                            backgroundColor: "0x7070704f"
                      onClick:
                        - emit:
                            dataKey:
                              var: itemObject
                            actions:
                              - ..drug.name@: $var.DrugName
                              - ..drug.dosage@: $var.DosageForm
                              - ..drug.genericName@: $var.GenericName
                              - ..drug.strength@: $var.Strength
                              - ..drug.route@: $var.Route
                              - ..drug.RXcui@: $var.RXcui
                              - ..drug.drugCode@: $var.DrugCode
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: drugShowTag
                        - actionType: builtIn
                          funcName: hide
                          viewTag: drugsData
