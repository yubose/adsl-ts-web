UploadFavorite:
  pageNumber: "350"
  title: "Invite" # xd page 37
  init:
    - .SignInCheck
    - ..listData.get
    - if:
        - ..listData.favoriteList.doc.0
        - continue
        - =.builtIn.checkField:
            dataIn:
              contentType: messageHidden
              wait: 100
  searchData:
    searchContact: ""
  listData:
    favoriteList:
      doc:
        name:
          data:
            firstName: "Test"
            isFavorite: true
    get:
      .DocAPI.get: ""
      api: rd
      dataKey: listData.favoriteList
      ids:
        - .Global.rootNotebookID
      type: .DocType.ContactFav
      xfname: eid
      maxcount: "500"
      obfname: "mtime"
      _nonce: =.Global._nonce
  generalInfo:
    value: true
  components:
    - type: view
      style:
        top: "0"
        left: "0"
        width: "1"
        height: "1"
      children:
        - .BaseHeader:
        - .HeaderLeftButton:
          # onClick:
          #   - goto: MeetingLobby
        - .SubMenuView:
          style:
            top: "0.09"
            backgroundColor: "0x2988e6"
            height: "0.1"
            zIndex: "10"
          children:
            - .SubMenuButton:
              text: "Favorites"
              style:
                top: "0.03"
                color: "0xffffffff"
              onClick:
                - goto: UploadFavorite
            - .SubMenuButton:
              text: "Recents"
              style:
                top: "0.03"
                left: "0.33"
              onClick:
                - goto: UploadRecent
            - .SubMenuButton:
              text: "Contacts"
              style:
                top: "0.03"
                left: "0.66"
              onClick:
                - goto: UploadContact
        - type: view
          style:
            top: "0.2"
            left: "0"
            width: "0.8"
            height: "0.08"
          children:
            - type: view
              style:
                top: "0"
                left: "0.05"
                width: "0.9"
                height: "0.71"
              children:
                - .SearchField:
                  placeholder: "search contacts"
                  style:
                    left: "0.2"
                    top: "0.01"
                    width: "0.7"
                - .SearchDoc:
                  style:
                    # left: "0"
                    top: "0.015"
                - type: image
                  path: addBlue.svg
                  onClick:
                    # - goto: InviteeInfo01
                    - goto: InviteCompletedForm
                  style:
                    top: "0.015"
                    left: "0.83"
                    height: "0.03"
        - type: label
          contentType: messageHidden
          text: "No current invitations"
          style:
            # left: "0.31"
            top: "0.35"
            width: "1"
            height: "0.04"
            color: "0x000058"
            fontSize: .Nfont.h16
            isHidden: "true"
            textAlign:
              x: center
        - type: view
          style:
            top: "0.25"
            left: "0.05"
            width: "0.9"
            height: "0.6"
          children:
            - type: list
              contentType: listObject
              listObject: ..listData.favoriteList.doc # to dataObject to enumerate the list
              iteratorVar: itemObject
              style:
                top: "0"
                left: "0"
                width: "0.9"
                height: "0.6"
                margin: "0"
                border:
                  style: "2"
                  color: "0x00000011"
                borderWidth: "1"
                overflow: scroll
              children:
                - type: listItem
                  itemObject: ""
                  style:
                    left: "0"
                    width: "0.9"
                    height: "0.1"
                    border:
                      style: "2"
                    borderWidth: "1"
                    borderColor: "0x00000011"
                  onClick:
                    - actionType: updateObject # updateObject(dataKey, dataObject, dataObjectKey)
                      dataKey: Global.contact.document
                      dataObject: itemObject
                    - goto: InvitePatient
                  children:
                    - type: image
                      viewTag: select
                      style:
                        top: "0.03"
                        left: "0"
                        height: "0.04"
                      path:
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..generalInfo.value
                                      string2: $var.name.data.isFavorite
                                - providerOn.svg
                                - providerOff.svg
                      # path: providerOn.svg
                      # pathSelected: providerOff.svg
                    - type: image
                      path: drImg.png
                      style:
                        borderRadius: "10000"
                        height: "0.07"
                        top: "0.015"
                        left: "0.13"
                    - type: label
                      dataKey: itemObject.name.data.firstName
                      style:
                        left: "0.3"
                        height: "0.1"
                        width: "0.45"
                        textAlign:
                          y: center
                    # - type: image
                    #   path: rightYellowArrow.svg
                    #   style:
                    #     left: "0.82"
                    #     top: "0.03"
                    #     height: "0.03"
                    #     zIndex: 1000
                    #   onClick:
                    #     - goto: ContactInformation
