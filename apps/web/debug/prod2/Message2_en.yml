Message2:
  pageNumber: "225"
  title: "Message"
  init:
    - .SignInCheck
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.requestListNum
              string2: "0"
        - ..requestListHidden@: true
        - ..requestListHidden@: false
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.email.bsig
              string2: =.Global.currentUser.vertex.id
        - ..buttonHidden@: true
        - ..buttonHidden@: false

    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.emailNumber
              string2: "0"
        - .Global.inboxHidden@: "true"
        - .Global.inboxHidden@: "false"

  requestListHidden: "true"
  buttonHidden: "true"
  email:
    edge: .Global.email
    edgeRes: ""
    edgeAPI:
      store:
        api: cd
        dataIn: Message2.email.edge
        dataOut: Message2.email.edgeRes
  components:
    - .BaseHeader:
    - .HeaderLeftImg:
      onClick:
        - actionType: builtIn
          funcName: goBack
          reload: true
        # - goto: InboxDashboard
      path: whiteLeft.svg
    - .HeaderRightImg:
      path:
      style:
        width: "0.05"
        height: "0.02"
      # onClick:
      #   - actionType: evalObject
      #     object:
      #       ..styleAttribute.funcBar@: "block"
      #   - actionType: builtIn
      #     funcName: redraw
      #     viewTag: funbar
      # onClick:
      #   - actionType: popUp
      #     popUpView: detailview
    - type: view
      style:
        width: "1"
        height: "0.8"
        top: "0.1"
        left: "0"
        display: "block"
      viewTag: funbar
      children:
        - type: view
          style:
            width: "1"
            left: "0"
            height: "0.075"
            # backgroundColor: "0xcdcdcd"
            zIndex: "10"
            border:
              style: "2"
            borderColor: "0x00000066"
            borderWidth: "1"
            position: "relative"
            # backgroundColor: =..styleAttribute.funcBar
          children:
            - type: button
              text: Trash
              onClick:
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..email.edge.type
                          index: 5
                          hex: 1
                        dataOut: Message2.email.edge.type
                - actionType: evalObject
                  object:
                    - =..email.edgeAPI.store: ""
                - goto: Trash
              style:
                left: "0.21"
                width: "0.18"
                top: "0.02"
                height: "0.035"
                fontSize: .Nfont.h16
                color: "0xd10101"
                border:
                  style: "3"
                borderColor: "0xd10101"
                borderWidth: "1"
                borderRadius: "20"
                isHidden: ..buttonHidden
                textAlign:
                  x: center
                backgroundColor: "0xffffff"
            - type: button
              text: Move
              onClick:
                - actionType: popUp
                  popUpView: moveView
              style:
                left: "0.59"
                width: "0.18"
                top: "0.02"
                height: "0.035"
                fontSize: .Nfont.h16
                color: "0x2988e6"
                isHidden: ..buttonHidden
                border:
                  style: "3"
                borderColor: "0x2988e6"
                borderWidth: "1"
                borderRadius: "20"
                textAlign:
                  x: center
                backgroundColor: "0xffffff"
            - type: popUp
              viewTag: moveView
              style:
                top: "0"
                left: "0"
                width: "1"
                height: "0.9"
                zIndex: "20"
              onClick:
                - actionType: popUpDismiss
                  popUpView: moveView
              children:
                - type: view
                  style:
                    left: "0.53"
                    width: "0.29"
                    top: "0.075"
                    height: "0.2"
                    zIndex: "100"
                    backgroundColor: "0x2988e6"
                    border:
                      style: "3"
                    borderColor: "0x2988e6"
                    borderWidth: "1"
                    borderRadius: "10"
                    overflow: scroll
                  children:
                    - type: list
                      contentType: listObject
                      listObject: ..listData.folderList.edge
                      iteratorVar: itemObject
                      style:
                        top: "0"
                        width: "0.29"
                        # height: "0.08"
                        left: "0"
                        marginTop: "0"
                      children:
                        - type: listItem
                          itemObject: ""
                          onClick:
                            - actionType: updateObject
                              dataKey: Message2.inboxFolder
                              dataObject: itemObject.id
                            - actionType: evalObject
                              object:
                                ..email.edge.name.folderID@: =..inboxFolder.id
                            - actionType: evalObject
                              object: ..update
                          style:
                            left: "0"
                            width: "0.29"
                            height: "0.04"
                            border:
                              style: "2"
                            borderColor: "0xffffff"
                            borderWidth: "1"
                          children:
                            - type: label
                              dataKey: itemObject.name.folderName
                              style:
                                left: "0"
                                height: "0.04"
                                top: "0.005"
                                width: "0.29"
                                color: "0xffffff"
                                textAlign:
                                  x: center
        - type: view
          style:
            top: "0.08"
            width: "1"
            height: "0.17"
            display: "block"
            border:
              style: "2"
              width: "1"
            borderColor: "0xdededf"
            boxShadow: "0px 15px 10px -15px #0000002f"
          children:
            - type: label
              text=func: .builtIn.string.getFirstChar
              dataKey: email.edge.name.data.senderName
              style:
                left: "0.05"
                top: "0.02"
                width: "0.13"
                height: "0.06"
                fontSize: "18"
                color: "#2988e6"
                textIndent: "18px"
                textAlign:
                  y: center
                backgroundColor: "#b2d1ff"
            - type: label
              text: "From:"
              style:
                left: "0.23"
                top: "0.025"
                height: "0.035"
                fontSize: "15"
                textAlign:
                  x: left
            - type: label
              text: Blair Zhang
              dataKey: email.edge.name.data.senderName
              style:
                fontSize: "15"
                fontWeight: "450"
                height: "0.035"
                width: "0.3"
                color: "0x707070"
                left: "0.35"
                top: "0.025"
                textAlign:
                  x: left
            - type: label
              text: "To:"
              style:
                left: "0.23"
                top: "0.055"
                height: "0.035"
                fontSize: "15"
                textAlign:
                  x: left
            - type: label
              text: Christopher Grenz
              dataKey: email.edge.name.data.receiverName
              style:
                fontSize: "15"
                fontWeight: "450"
                height: "0.035"
                width: "0.4"
                color: "0x707070"
                left: "0.3"
                top: "0.055"
                textAlign:
                  x: left
            - type: label
              text: Anaheim Marketing Plan
              dataKey: email.edge.name.title
              style:
                fontSize: "22"
                fontWeight: "500"
                # color: "0x707070"
                left: "0.05"
                top: "0.1"
                width: "0.9"
            - type: view
              style:
                left: "0.05"
                top: "0.13"
                width: "0.4"
                height: "0.03"
                borderRadius: "2"
                # backgroundColor: "0xEBEBEB"
              children:
                - type: list
                  contentType: listObject
                  listObject: ..attachmentList.doc
                  iteratorVar: itemObject
                  style:
                    top: "0"
                    width: "0.4"
                    height: "0.06"
                    left: "0"
                    marginTop: "0"
                  children:
                    - type: listItem
                      itemObject: ""
                      onClick:
                        - actionType: updateObject
                          dataKey: Global.DocReference.document
                          dataObject: itemObject
                        - goto: ViewMedicalRecord
                      style:
                        left: "0"
                        width: "0.4"
                        height: "0.04"
                        border:
                          style: "2"
                        borderColor: "0xffffff"
                        borderWidth: "1"
                      children:
                        - type: image
                          path: pin.svg
                          style:
                            left: "0"
                            height: "0.02"
                            top: "0.01"
                        - type: label
                          # text: Anaheim Urgent Care List for
                          dataKey: itemObject.name.title
                          style:
                            fontSize: .Nfont.h12
                            fontWeight: 200
                            left: "0.08"
                            width: "0.4"
                            height: "0.04"
                            color: "0x4A91C4"
                            textAlign:
                              y: center
            - type: label
              text=func: .builtIn.string.formatUnixtime_en
              dataKey: email.edge.ctime
              style:
                top: "0.025"
                height: "0.02"
                width: "0.34"
                textAlign:
                  y: center
                left: "0.66"
                fontSize: "10"
                color: "0x707070s"
            - type: image
              viewTag: select
              path:
                emit:
                  dataKey:
                    var: email
                  actions:
                    - if:
                        - $var.edge.name.isStar
                        - providerOn.svg
                        - providerOff.svg
              style:
                height: "0.02"
                left: "0.88"
                top: "0.045"
            - type: label
              text: Details
              onClick:
                - goto: Attachments
              style:
                top: "0.07"
                height: "0.02"
                left: "0.85"
                fontSize: .Nfont.h12
                color: "0x4A91C4"
                textAlign:
                  y: center

        - type: view
          style:
            top: "0.27"
            left: "0"
            width: "1"
            height: "0.4"
            # backgroundColor: "0xcdcdcd"
          children:
            - type: textView
              isEditable: "false"
              dataKey: Global.email.name.data.content
              style:
                width: "0.9"
                left: "0.05"
                fontSize: .Nfont.h14
                height: "0.4"
                fontFamily: "Verdana"
                color: "0x757575"
                fontWeight: 300
                isEditable: "false"
                border:
                  style: "1"
    - .DashboardFooter0:
      style:
        top: "0.9"
      children:
        - .DashboardFooterView:
          onClick:
            - goto: "Dashboard"
          children:
            - .DashboardBox:
              children:
                - .DashboardFooterImg:
                  path: dashboard0.svg
            - .DashboardFooterTxt:
        - .DashboardFooterView:
          style:
            left: "0.25"
          onClick:
            - goto: "InboxDashboard"
          children:
            - .DashboardBox:
              children:
                - .DashboardFooterImg:
                  path: inbox0Yellow.svg
            - .DashboardFooterTxt:
              text: "Inbox"
            - type: label
              dataKey: Global.emailNumber
              style:
                left: "0.145"
                top: "0.01"
                width: "0.05"
                height: "0.024"
                zIndex: "2"
                fontSize: .Nfont.h12
                backgroundColor: "#ff3a41"
                border:
                  style: "5"
                borderRadius: "50"
                color: "0xffffff"
                isHidden: .Global.inboxHidden
                textAlign:
                  x: center
        - .DashboardFooterView:
          style:
            left: "0.5"
          onClick:
            - goto: AppointmentSchedule
          children:
            - .DashboardBox:
              children:
                - .DashboardFooterImg:
                  path: schedule0.svg
                - type: label
                  dataKey: Global.requestListNum
                  style:
                    left: "0.145"
                    top: "0.01"
                    width: "0.05"
                    height: "0.024"
                    zIndex: "2"
                    fontSize: .Nfont.h12
                    backgroundColor: "#ff3a41"
                    border:
                      style: "5"
                    borderRadius: "50"
                    color: "0xffffff"
                    isHidden: ..requestListHidden
                    textAlign:
                      x: center
            - .DashboardFooterTxt:
              text: "Schedule"
        - .DashboardFooterView:
          style:
            left: "0.75"
          onClick:
            - goto: MenuBars
          children:
            - .DashboardBox:
              children:
                - .DashboardFooterImg:
                  path: me.svg
            - .DashboardFooterTxt:
              text: "Me"
