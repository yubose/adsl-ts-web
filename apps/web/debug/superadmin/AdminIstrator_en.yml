AdminIstrator:
  title: AdminIstrator

  init: #Page initialization
    - =.builtIn.array.splitTableList: 
        dataIn: 
          arrObj: =..formDataTemp.statementsDataList
          numX: "12"
          numY: "1"
        dataOut: AdminIstrator.formData.tableData
    - ..formData.tableList@: =..formData.tableData.0
    - =.builtIn.string.concat:
        dataIn:
          - =..formData.tablePageNum # page num
          - " / "
          - =..formData.tableData.1 # total page
        dataOut: AdminIstrator.formData.tableCurrentPage # current page                           
    - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
        dataIn:
          num: =..formData.tableData.1
          step: "1"
        dataOut: AdminIstrator.formData.totalPageMore # update page num  

    - =.builtIn.array.setPropertyInterlacedChange:
        dataIn:
          arrIn: =..formDataTemp.statementsDataList
          arr: ["backgroundColor"]
          valueArr: ["0xf8f8f8",]
          errorArr: ["0xffffff00"]  
  
  dataTemp: #Input data temp here

  formData: #Input data here
    tableData: []
    tableList: []
    tablePageNum: "1"
    tableCurrentPage: "1"
    gotoPageNum: ""
    totalPageMore: "" # totalPage(tableData.1)+1
    controlConfirmInfo: "none"
    staffGender: []
    single: 
      - gender: ""

  formDataTemp:
    statementsDataList:
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
      - name: "Aomas Mueller"
        gender: "Male"
        status: "Active"
        phone: "8885550001"
        email: "5210364785@qq.com"
    gender:
      - key: gender
        value: Male 
      - key: gender
        value: Female 
      - key: gender
        value: Other 

  apiRequest: #Input data request here

  style: #Input style fragment here
    confirmBtnView:    # 弹框底部的VIEW
      type: view
      style:
        height: "0.1"
        width: "0.4"
        top: "0.73"
        left: "0"
        boxSizing: border-box 
        boxShadow: "0px -2px 3px -2px #cFcFcF"
        display: flex
        alignItems: center
        backgroundColor: "0xffffff"
    confirmButton:     # 弹框底部的按钮
      type: button
      text: Confirm
      style:
        color: "0xffffff"
        left: "0.28"
        width: "0.07"
        height: "0.037"
        boxSizing: border-box
        fontSize: .Nfont.nf4
        fontFamily: "Roboto"
        border: 
          style: "3"
        borderWidth: "1"
        borderColor: "0x005795"
        borderRadius: "3"
        backgroundColor: "0x005795"
        textAlign:
          x: center
          y: center 
  components:
    - .TotalView: 
      children: 
        - .SideMenuBar: 
          children:
            - .aitLogo:
            - .MenuBar:        
        - .TopBar: 
        - .InnerBodyView:
          viewTag: StatementTag
          children:
            - .TransactionsAndMoneyView: 
              children:
                - type: view
                  style:
                    height: "0.08"
                    display: flex
                    alignItems: center
                    left: "0.02"
                  children: 
                    - type: label
                      text: AdminIstrator Management
                      style:
                        fontSize: "2.9vh"
                        width: "0.3"
                        fontFamily: "Roboto"
            - .ContentBar:
              children:
                - type: view
                  style:
                    width: "0.76"
                    left: "0.028"
                    marginTop: "0.032"
                    display: flex
                    justifyContent: space-between
                  children:
                    - type: view
                      style:
                        height: "0.032"
                        display: inline-block
                      children: 
                        - type: image
                          path: searchGray.svg
                          style:
                            width: "0.01"
                            top: "0.008"
                            left: "0.008"
                            zIndex: "10"
                        - type: textField
                          placeholder: Search payee
                          dataKey: 
                          style:
                            width: "0.64"
                            height: "0.032"
                            border: 
                              style: "3"
                            borderColor: "0xdedede"
                            borderRadius: "5px"
                            textIndent: 3em

                    - type: view
                      style:
                        display: flex
                        justifyContent: space-around
                        alignItems: center
                        width: "0.08"
                        height: "0.036"
                        backgroundColor: "0x0063a8"
                        borderRadius: "3"
                        fontSize: .Nfont.n6_1_1
                        border: 
                          style: "1"
                      children: 
                        - type: image
                          path: whiteCircleAdd.svg
                          style:
                            width: "0.01"
                            left: "0.006"
                        - type: label
                          text: Add New
                          style:
                            color: "0xffffff"
                            fontWeight: "500"
                            marginRight: "0.005"
                      onClick:
                        - actionType: popUp
                          popUpView: AddStaff
                # 表格
                - type: view
                  viewTag: tableView
                  style:
                    width: "0.76"
                    height: auto
                    marginTop: "0.05"
                    left: "0.028"
                    borderRadius: "5"
                  children: 
                    - .FormMeterBlue: ""
                      children:
                        - .FormTemplate: ""
                          text: "Name"
                          style:
                            paddingLeft: "16px"
                            width: "0.18"
                        - .FormTemplate: ""
                          text: "Gender"
                          style: 
                            width: "0.15" 
                        - .FormTemplate: "" 
                          text: "Phone #"
                          style: 
                            width: "0.155"
                        - .FormTemplate: "" 
                          text: "Email"
                          style: 
                            width: "0.175"
                        - .FormTemplate: "" 
                          text: "View Profile"
                          style: 
                            width: "0.052"
                    - type: list
                      contentType: listObject
                      listObject: ..formData.tableList
                      iteratorVar: itemObject
                      viewTag: transactionTag
                      style:
                        width: '0.76'
                        margin: '0'
                        height: auto
                        borderLeft: "1px solid #dbdbdb"
                        borderRight: "1px solid #dbdbdb"
                        boxSizing: border-box
                      children:
                        - type: listItem
                          itemObject: 
                          style:
                            width: '0.759'
                            height: '0.038'
                            left: '0'
                            marginTop: ''
                            backgroundColor: itemObject.backgroundColor
                            borderBottom: "1px solid #dbdbdb"
                            boxSizing: border-box
                          children:
                            - type: label
                              dataKey: itemObject.name
                              style:
                                width: "0.18"
                                .FormMainLabelStyleNew: ""
                                paddingLeft: "16px"
                                color: itemObject.color
                            - type: label
                              dataKey: itemObject.gender
                              style:
                                width: "0.15"
                                .FormMainLabelStyleNew: ""
                            - type: label
                              dataKey: itemObject.status
                              style:
                                width: "0.155"
                                .FormMainLabelStyleNew: ""
                                word-break: break-word
                                paddingLeft: "12px"
                            - type: label
                              dataKey: itemObject.email
                              style:
                                width: "0.175"
                                .FormMainLabelStyleNew: ""
                                word-break: break-word
                                paddingLeft: "12px"
                            - type: label
                              text: View
                              style:
                                width: "0.052"
                                .FormMainLabelStyleNew: ""
                                textDecoration: underline
                                color: "0x025896"
                                fontSize: .Nfont.nf2
                              onClick:
                                - actionType: popUp
                                  popUpView: AddStaff

            # TableFooter
            - type: view
              viewTag: tableFooter
              style:
                .TableFooterView:
                top: "0.857"
              children:   
                - type: view
                  style:
                    top: "0.005"
                    width: "0.08"
                    height: "0.0155"
                  children:
                    - type: label
                      text: "Current page:"
                      style:
                        display: inline-block
                        fontSize: .Nfont.nf0
                        color: "0x333333"
                        textAlign:
                          x: "center"
                          y: "center"
                    - type: label
                      dataKey: formData.tableCurrentPage
                      style:
                        marginLeft: "0.005"
                        display: inline-block
                        fontSize: .Nfont.nf0
                        color: "0x333333"
                        textAlign:
                          x: "center"
                          y: "center"
                # Previous & Next
                - type: view
                  style:
                    top: "0"
                    left: "0.076"
                    width: "0.05168"
                    height: "0.02576"
                  children:
                    - type: image
                      path: tableLeft.svg
                      onClick:
                        - actionType: evalObject
                          object:
                            - if: 
                              - =.builtIn.number.less: 
                                  dataIn: 
                                    num1: =..formData.tablePageNum
                                    num2: 2
                              - continue
                              - actionType: evalObject
                                object:
                                  # num - step
                                  - =.builtIn.number.Subtraction: 
                                      dataIn:
                                        num: =..formData.tablePageNum
                                        step: "1"
                                      dataOut: AdminIstrator.formData.tablePageNum
                                  - =.builtIn.array.splitTableList: 
                                      dataIn: 
                                        arrObj: =..formDataTemp.statementsDataList
                                        numX: "12"
                                        numY: =..formData.tablePageNum
                                      dataOut: AdminIstrator.formData.tableData
                                  - ..formData.tableList@: =..formData.tableData.0
                                  - =.builtIn.string.concat: # re-concat
                                      dataIn:
                                        - =..formData.tablePageNum # page num
                                        - " / "
                                        - =..formData.tableData.1 # total page
                                      dataOut: AdminIstrator.formData.tableCurrentPage # current page                                       
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableView
                        - actionType: builtIn 
                          funcName: redraw
                          viewTag: tableFooter                               
                      style:
                        top: "0"
                        width: "0.01456"
                        height: "0.02576"
                    - type: label
                      viewTag: pageNumView
                      dataKey: formData.tablePageNum
                      style:
                        top: "0"
                        left: "0.01856"
                        width: "0.01446"
                        height: "0.02576"
                        fontSize: .Nfont.nf0
                        fontWeight: "500"
                        color: "0xffffff"
                        backgroundColor: "0x005795"
                        borderRadius: "3"
                        textAlign:
                          x: center
                          y: center
                    - type: image
                      path: tableRight.svg
                      onClick:
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: "" 
                        - actionType: evalObject
                          object:
                            - if: 
                              - =.builtIn.number.less: 
                                  dataIn: 
                                    num1: =..formData.tablePageNum
                                    num2: =..formData.tableData.1
                              - actionType: evalObject
                                object:
                                  - =.builtIn.number.addition: 
                                      dataIn:
                                        num: =..formData.tablePageNum
                                        step: "1"
                                      dataOut: AdminIstrator.formData.tablePageNum # update page num
                                  - =.builtIn.array.splitTableList: 
                                      dataIn: 
                                        arrObj: =..formDataTemp.statementsDataList
                                        numX: "12"
                                        numY: =..formData.tablePageNum
                                      dataOut: AdminIstrator.formData.tableData
                                  - ..formData.tableList@: =..formData.tableData.0
                                  - =.builtIn.string.concat: # re-concat
                                      dataIn:
                                        - =..formData.tablePageNum # page num
                                        - " / "
                                        - =..formData.tableData.1 # total page
                                      dataOut: AdminIstrator.formData.tableCurrentPage # current page 
                              - continue                           
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableView  
                        - actionType: builtIn 
                          funcName: redraw
                          viewTag: tableFooter
                      style:
                        top: "0"
                        left: "0.03712"
                        height: "0.02576"
                        width: "0.01456"
                # Go to
                - type: view
                  style:
                    top: "0"
                    left: "0.14"
                    width: "0.05"
                    height: "0.02496"
                  children:
                    - type: textField
                      viewTag: gotoView
                      dataKey: formData.gotoPageNum
                      style:
                        width: "0.02496"
                        top: "0"
                        height: "0.02576"
                        borderRadius: "3"
                        borderWidth: "1"
                        border:
                          style: "3"
                        boxSizing: border-box
                        borderColor: "0xd8d8d8"
                        fontSize: .Nfont.nf0
                        fontWeight: "500"
                        color: "0x333333"
                        textAlign: 
                          x: center 
                          y: center 
                    - type: button
                      text: "Go to"
                      style:
                        textDecoration: underline
                        left: "0.029"
                        top: "0"
                        height: "0.02576"
                        border:
                          style: "1"
                        fontSize: .Nfont.nf0
                        color: "0x333333"
                        backgroundColor: "0xffffff00"
                      onClick:
                        - actionType: evalObject
                          object:
                            .Global._nonce@:
                              =.builtIn.math.random: ""                           
                        - actionType: evalObject
                          object:
                            # gotoPageNum ?> 1
                            - if:
                              - =.builtIn.number.less: 
                                  dataIn: 
                                    num1: =..formData.gotoPageNum
                                    num2: 1
                              - continue
                              - actionType: evalObject
                                object:
                                  # gotoPageNum ?< totalPage+1
                                  - if: 
                                    - =.builtIn.number.less: 
                                        dataIn: 
                                          num1: =..formData.gotoPageNum
                                          num2: =..formData.totalPageMore
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.array.splitTableList: 
                                            dataIn: 
                                              arrObj: =..formDataTemp.statementsDataList
                                              numX: "12"
                                              numY: =..formData.gotoPageNum
                                            dataOut: AdminIstrator.formData.tableData
                                        - ..formData.tableList@: =..formData.tableData.0
                                        - =.builtIn.string.concat: # re-concat
                                            dataIn:
                                              - =..formData.gotoPageNum # page num
                                              - " / "
                                              - =..formData.tableData.1 # total page
                                            dataOut: AdminIstrator.formData.tableCurrentPage # current page
                                        - ..formData.tablePageNum@: =..formData.gotoPageNum
                                        - ..formData.gotoPageNum@: ""
                                    - continue                        
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableView 
                        - actionType: builtIn 
                          funcName: redraw
                          viewTag: tableFooter                          

        - .BasePopUp:
          viewTag: AddStaff
          children:
            - type: view
              style:
                left: "0.6"
                width: "0.4"
                top: "0"
                height: "1"
                zIndex: "10"
                backgroundColor: "0xffffff"
              children:
                - .PopUphead:
                  children:
                    - .CreateLabel:
                      text: "Add New AdminIstrator"
                    - .Closebutton:
                      onClick:
                        - actionType: builtIn
                          funcName: hide
                          viewTag: profileView
                        - actionType: builtIn
                          funcName: hide
                          viewTag: noProviderView
                        - actionType: popUpDismiss
                          popUpView: AddStaff
                - type: view
                  style:
                    height: "0.82"
                    width: "0.4"
                    top: "0.08"
                    backgroundColor: "0xffffff"
                  children:
                    - type: view
                      style: 
                        top: "0"
                        width: "0.4"
                        height: "0.09"
                        left: "0"
                        backgroundColor: "0xeff3f7"
                      children: 
                        - type: label
                          text: Search
                          dataKey: 
                          style:
                            left: "0.05"
                            width: "0.3"
                            marginTop: "0.015"
                            color: "0x004779"
                            fontSize: .Nfont.nf3
                            fontFamily: "Roboto"
                        - type: view
                          style:
                            width: "0.3"
                            left: "0.05"
                            marginTop: "0.01"
                            textAlign:  
                              y: center
                          children: 
                            - type: label
                              textBoard: 
                                - text: Phone Number
                                - text: "*"
                                  color: "0xff0000"
                              dataKey: 
                              style:
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"
                            - type: select
                              contentType: countryCode  
                              placeholder: ..formData.countryCode
                              dataKey: formData.countryCode # formData.countryCode : inputValue
                              options:
                                .CountryCode
                              required: "true"
                              style:
                                marginLeft: "0.02"
                                width: "0.022"
                                display: inline-block
                                height: "0.03"
                                borderWidth: "1"
                                boxSizing: border-box
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"                                
                                border:
                                  style: "3"
                                borderColor: "0xdededf"  
                                borderRadius: "3"
                            - type: textField
                              placeholder: "Enter Here"
                              dataKey: formData.number
                              viewTag: numberView
                              style:
                                marginLeft: "0.005"
                                width: "0.11"
                                height: "0.03"
                                textIndent: 1em
                                display: inline-block
                                boxSizing: border-box
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"    
                                border: 
                                  style: "3"  
                                borderColor: "#DCDCDC" 
                                borderRadius: "3"
                            - type: button
                              text: Search

                              style: 
                                marginLeft: "0.01"
                                height: "0.03"
                                width: "0.05"
                                boxSizing: border-box
                                backgroundColor: "0x005795"
                                color: "0xffffff"
                                border: 
                                  style: "3"  
                                borderColor: "0x005795" 
                                borderRadius: "3"
                    # - type: view
                    #   viewTag: noProviderView
                    #   style: 
                    #     top: "0.09"
                    #     width: "0.4"
                    #     height: "0.83"
                    #     textAlign: 
                    #       x: center
                    #   children: 
                    #     - type: image
                    #       path: noProvider.svg
                    #       style:
                    #         width: "0.12"
                    #         marginTop: "0.15"
                    #     - type: label
                    #       text: Please enter phone number to search AdminIstrator
                    #       dataKey: 
                    #       style:
                    #         marginTop: "0.05"
                    #         color: "0x666666"
                    #         fontSize: .Nfont.nf4
                    #         fontFamily: "Roboto"
                    - type: view
                      viewTag: profileView
                      style: 
                        top: "0.09"
                        left: "0.055"
                        width: "0.31"
                        height: "0.83"
                        backgroundColor: "0xffffff"
                      children: 
                        - type: view
                          style:
                            width: "0.295"
                            height: "0.09"
                            left: "0"
                            marginTop: "0.03"
                            backgroundColor: "0xffffff"
                          children:
                            - type: image
                              path: defaultImg.svg
                              dataKey: formData.searchProd.name.data.avatar
                              path=func: .builtIn.utils.prepareDocToPath
                              style:
                                width: "0.05"
                                height: "0.082"
                                left: "0"
                                top: "0"
                            - type: label
                              dataKey: 
                              text: "Jack Green"
                              style:
                                left: "0.062"
                                width: "0.14"
                                marginTop: "0"
                                fontSize: .Nfont.nf5
                                fontFamily: "Roboto"
                                fontWeight: "600"
                            - type: view
                              style:
                                left: "0.062"
                                width: "0.14"
                                height: "auto"
                                marginTop: "0.01"
                                fontSize: .Nfont.nf0
                                fontFamily: "Roboto"
                                display: flex
                                alignItems: center
                              children:
                                - type: label
                                  text: "User Name:"
                                  dataKey: 
                                  style:
                                    marginLeft: "0"
                                - type: label
                                  dataKey: 
                                  style:
                                    marginLeft: "0.01"
                            - type: view
                              style:
                                left: "0.062"
                                width: "0.14"
                                height: "auto"
                                marginTop: "0.01"
                                fontSize: .Nfont.nf0
                                fontFamily: "Roboto"
                                display: flex
                                alignItems: center
                              children:
                                - type: label
                                  text: "Phone #:"
                                  dataKey: 
                                  style:
                                    marginLeft: "0"
                                - type: label
                                  dataKey: 
                                  style:
                                    marginLeft: "0.01"
                        - type: scrollView
                          style:
                            width: "0.295"
                            height: "0.58"
                            left: "0"
                            marginTop: "0.01"
                            overflow: scroll
                          children:
                            # Basic Info Start
                            - .ProfileInfoTitle:
                              text: "Basic Info"
                              style:
                                marginTop: "0.02"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "First Name"
                                - .ProfileInfoRightText:
                                  dataKey: 
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Middle Name"
                                - .ProfileInfoRightText:
                                  dataKey: 
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Last Name"
                                - .ProfileInfoRightText:
                                  dataKey:
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Gender"
                                - .ProfileInfoRightText:
                                  dataKey: 
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Email"
                                - .ProfileInfoRightText:
                                  dataKey: 
                            # Basic Info End
                        - ..style.confirmBtnView: 
                          style:
                            width: "0.31"
                            justifyContent: flex-end
                          children: 
                            - ..style.confirmButton:
                              style:
                                left: "0"
                              text: Add
                              onClick:
                                - actionType: popUpDismiss
                                  popUpView: AddStaff
                                - actionType: popUp
                                  popUpView: addSuccessfulTag
        - .BaseSuccessfulView: ""
          viewTag: addSuccessfulTag


