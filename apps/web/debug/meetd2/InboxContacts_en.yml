InboxContacts:
  pageNumber: "350"
  title: Email Contacts
  init:
    - .SignInCheck 
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - ..userData.get
  searchData:
    searchContact: ""
  userData:
    userVertex:
      vertex:
    get:
      .VertexAPI.get : ""
      api: rv
      dataKey: userData.userVertex
      ids: 
        - .Global.currentUser.vertex.id
      ObjType: 4
      type: 1
      sCondition: "E.type=10002 AND E.tage>0 AND E.subtype=9 AND length(V.uid) >0"
      xfname : "(E.bvid|E.evid)&!(V.id)"
      obfname : "mtime" 
      maxcount : "20"
      _nonce: =.Global._nonce
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
      onClick:
        - actionType: builtIn
          funcName: goBack
          reload: false  
    - .HeaderRightButton:
      text: New Connection
      style: 
        top: "0.025"
        left: "0.74"
        width: "0.3"
        height: "0.05"
        zIndex: 100
        fontSize: "15"
        color: "0xffffffff"
        textAlign: 
          x: left
          y: center          
      onClick:
        - goto: NewConnections
    - type: view
      style:
        top: "0.1"
        left: "0"
        width: "1"
        height: "0.8"
      children:
        - type: view
          style:
            top: "0.01"
            left: "0.03"
            width: "1"
            height: "0.05"
            # backgroundColor: "0xcdcdcd"
          children:
            - type: image
              path: add.png
              onClick:
                - goto: InviteInbox
              style:
                top: "0.012"
                left: "0"
                height: "0.03"
            - .SearchField:
              placeholder: "search contacts"
              dataKey: searchInput
              style:
                left: "0.1"
                top: "0.01"
            - .SearchDoc:
              style:
                left: "0.75"
                top: "0.011"
            - type: label
              contentType: messageHidden
              text: "No contacts added"
              style:
                left: "0.25"
                top: "0.05"
                width: "0.6"
                height: "0.04"
                color: "0x000058"
                fontSize: "16"
                isHidden: "true"
        - type: list
          contentType: listObject
          listObject: ..userData.userVertex.vertex # to dataObject to enumerate the list
          iteratorVar: itemObject
          overflow: scroll
          style:
            top: "0.03"
            left: "0.05"
            width: "0.9"
            height: "0.8"
          children:
            - type: listItem
              itemObject: ""
              onClick:
                - actionType: updateObject
                  dataKey: Global.inboxContact
                  dataObject: itemObject
                - goto: NewMessage
              style:
                left: "0"
                # top: "0"
                width: "0.9"
                height: "0.1"
                border:
                  style: "2"
                borderWidth: "1"
                borderColor: "0x00000011"
              children:
                - type: label
                  text: "without data"
                  dataKey: itemObject.name.firstName
                  style:
                    left: "0"
                    top: "0.035"
                    height: "0.03"
                    width: "0.25"
                    textAlign:
                      x: center
                - type: label
                  text: "without data"
                  dataKey: itemObject.name.lastName
                  style:
                    left: "0.26"
                    top: "0.035"
                    height: "0.03"
                    width: "0.25"
                    textAlign:
                      x: left                      
                - type: label
                  text: "without data"
                  dataKey: itemObject.name.phoneNumber
                  style:
                    left: "0.65"
                    top: "0"
                    width: "0.5"
                    height: "0.1"
                    color: "0x00000088"
                    fontSize: "15"
                    textAlign:
                      y: center
    