Cov19TestNewPatEditPage3:
  viewPort: top
  title: Cov19TestNewPatEditPage3
  init: 
    - ..formData.symptomProfile@: =.Global.formData.cov19TestNewPatForm.name.data.symptomProfile
    - if:
      - =.builtIn.string.equal:
          dataIn:
            string1: =..formData.symptomProfile.flag
            string2: "none"
      - ..formDataTemp.hasOther@: false
      - ..formDataTemp.hasOther@: true
      
    - actionType: evalObject
      object: .BaseDate.miniWeekGet
    - actionType: evalObject
      object: .BaseDate.getDate
    - if:
      - =.Global.isSignIn
      - actionType: evalObject
        object:
          - ..isPersonal@: "false"
          - ..isSignIn@: "true"
      - actionType: evalObject
        object:
          - ..isPersonal@: "true"
          - ..isSignIn@: "false"
    - ..profile.docAPI.get
    - if:
      - =..profile.docResponse.doc.0
      - actionType: evalObject
        object:
          - ..profile.c@: =..profile.docResponse.doc.0
          - =.builtIn.utils.prepareDoc:
              dataIn:
                doc: =..profile.docResponse.doc.0
              dataOut: Cov19TestNewPatEditPage3.profile.patientdocument
      - continue
  # hello
  experienceSelect: 
    - key: fever
      value: Fever
    - key: muscieAches
      value: Muscie aches
    - key: nausea
      value: Nausea and vomiting
    - key: cough
      value: Cough
    - key: diarrhea
      value: Diarrhea
    - key: shortBreath
      value: Shortness of breath
    - key: soreThroat
      value: Sore throat
    - key: headache
      value: Headache
    - key: tiredness
      value: Tiredness,Fatigue
    
    # - key: other
    #   value: "Other:"
    # - key: none
    #   value: None
  selectYesOrNo:
    problem1:
      - key: problem1
        value: "Yes"
      - key: problem1
        value: "No"
    problem2:
      - key: problem2
        value: "Yes"
      - key: problem2
        value: "No"
    problem3:
      - key: problem3
        value: "Yes"
      - key: problem3
        value: "No"
    problem4:
      - key: problem4
        value: "Yes"
      - key: problem4
        value: "No"
    problem5:
      - key: problem5
        value: "Yes"
      - key: problem5
        value: "No" 
  isPersonal:
  isSignIn:
  formDataTemp:
    hasExperience: ""
    hasOther: ""
    NoneExperience: ""
  formData:
    countryCode: "+1"   
    phoneNumber: "8881307128"
    password: "123456"
    code: ""
    sk: ""
    pass: ""
    showName: ""
    symptomProfile: 
      experience: []
      remark: ""
      flag: "none"
      problem1: ""
      problem2: ""
      problem3: ""
      problem4: ""
  profile:
    docResponse: ""
    patientdocument: ""
    document:
      type: .DocType.PatientProfile
      eid: .Global.rootNotebookID
      name:
        # .Global.Profile: ""
        data:
          insurance: 
            insuranceProvider: ""
            policyHolderName: ""
            groupOrPolicy: ""
            memberID: ""
          phone: .Global.currentUser.vertex.uid
          phone2: ""
          avatarUrl: ava.png
          avatar: ""
          gender: ""
          email: ""
          firstName: .Global.currentUser.vertex.name.firstName
          middleName: ""
          lastName: .Global.currentUser.vertex.name.lastName
          birth: ""
          userName: .Global.currentUser.vertex.name.userName
          address: ""
          fullName: .Covid19TestNewPatEditPage3.formData.showName
          Address:
            St: ""
            city: ""
            state: ""
            line2: ""
            zip: ""
          name: ""
          relation: ""
        type: .Covid19TestNewPatEditPage3.profile.docAPI.store.subtype.mediaType
    docAPI:
      get:
        .DocAPI.get: "" 
        api: rd
        id: .Global.rootNotebookID
        xfname: eid
        type: .DocType.PatientProfile
        obfname: mtime
        dataKey: profile.docResponse
        _nonce: =.Global._nonce 
  components:
    - type: view
      style:
        width: '1'
        margin: 'auto'
        display: flex
        flexDirection: column
        justifyContent: center
        fontFamily: "Arial"
      children: 
        - .baseTopBar:
          children:
            - .baseTopMenu:
              children:
                - .AitmedLogo
                - .BaseUserBar
        - .ViewRow:
          style: 
            width: 89.8vw
            height: 4.5vw
            margin: "auto"
            marginTop: "6vw"
            justifyContent: center
          children:
            - .ViewRow:
              style: 
                marginLeft: 5vw
                width: 4vw
                top: 1vw
                height: 2vw
                justifyContent: flex-start
                alignItems: center
              children:
                - type: image
                  path: left_blue_arrow.png
                  style:
                    width: 1.5vw
                    height: 2vw
                  onClick: 
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    - actionType: evalObject
                      object:
                        - .Global.editProfile@: false   
                    
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
                - .Label1:
                  text: "Back"
                  autocomplete: "off"
                  style: 
                    fontSize: .Nfont.h1    
                    color: "#2988e6"
                    fontWeight: 550
                    marginLeft: 0.5vw
                  onClick: 
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    - actionType: evalObject
                      object:
                        - .Global.editProfile@: false   
                    
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
            
            - type: view
              style:
                marginTop: 1.5vw
                height: 3.5vw
                width: 40vw
                borderBottom: "4px solid #005795"
                borderWidth: 4px
                display: flex
                flexDirection: row
                justifyContent: space-between
              children:  
                - type: label
                  text: "COVID-19 Testing Consent-New Patient"
                  style:
                    marginTop: 0.5vw
                    color: "#005795"
                    fontSize: .Nfont.h6
                    fontWeight: 580
                    height: 3vw
                    textAlign: 
                      y: center
                - type: label
                  text: "3/6"
                  style:
                    marginTop: 1vw
                    width: 3vw
                    height: "2vw"
                    borderRadius: 5px
                    backgroundColor: "#1263A8"
                    color: "#ffffff"
                    fontSize: .Nfont.h3
                    fontWeight: 580
                    textAlign: 
                      x: center
                      y: center
        - type: view
          style:
            width: 89.8vw
            height: 39vw
            margin: "auto"
            marginTop: "0.5vw"
          children:
            - type: scrollView
              style:
                width: 89.8vw
                height: 39vw
                marginTop: 0.5vw
              children:
                - type: view
                  style:
                    width: 40vw
                    backgroundColor: "#ffffff"
                    marginTop: 0.1vw
                    margin: auto
                    justifyContent: flex-start
                  children:
                    - type: view
                      style:
                        width: 40vw
                        backgroundColor: "#ffffff"
                        marginTop: 0.1vw
                        justifyContent: flex-start
                      children:
                        - .NewFirstTitle:
                          text: Symptom Profile
                          style:
                            marginTop: "1vw"
                            fontSize: .Nfont.h1
                            textAlign: 
                                x: center
                                y: center
                        - .VQSecondTitle:
                          text: "COVID-19 screening and/or diagnostic testing, authorized by the Food and Drug Administration under an Emergency Use Authorization (EUA), will be used today. This test is meant for use in individuals with signs and/or symptoms compatible with COVID-19."
                          style:
                            width: 40vw
                            marginTop: 1vw
                            fontSize: .Nfont.h0_1
                        - .VQSecondTitle:
                          text: "Please mark the symptoms you are currently experiencing (if any):"
                          style:
                            width: 40vw
                            marginTop: 1vw 
                            fontSize: .Nfont.h0_1
                            fontWeight: 550
                        - .ViewColumn:
                          style:
                            marginTop: 1vw
                            width: "40vw"
                            fontSize: .Nfont.h0_1
                          children:
                            - type: list
                              viewTag: experienceSelectTag
                              contentType: listObject
                              listObject: ..experienceSelect
                              iteratorVar: itemObject
                              style:
                                width: "40vw"
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    float: left
                                    width: 13vw
                                    height: 1vw
                                    marginTop: 0.8vw
                                    marginLeft: 0.3vw
                                  children:
                                    - type: image
                                      path: 
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.symptomProfile.experience
                                                    value: $var.key
                                              - selectOnblue.svg
                                              - selectBlack.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions: 
                                              - if:
                                                - =.builtIn.array.has:
                                                    dataIn:
                                                      object: =..formData.symptomProfile.experience
                                                      value: $var.key
                                                - =.builtIn.array.removeByValue:
                                                    dataIn:
                                                      object: =..formData.symptomProfile.experience
                                                      value: $var.key
                                                - =.builtIn.array.add:
                                                    dataIn:
                                                      object: =..formData.symptomProfile.experience
                                                      value: $var.key
                                        - actionType: evalObject
                                          object: 
                                            - ..formDataTemp.NoneExperience@: false
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: imageOfNone
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: experienceSelectTag
                                      style:
                                        height: 1vw
                                        float: left
                                    - .VQSecondTitle:
                                      dataKey: itemObject.value
                                      style:
                                        marginLeft: 0.5vw
                                        float: left
                                        fontSize: .Nfont.h0_1
                                        
                            - type: view
                              style:
                                width: "20vw"
                              children:
                                - .ViewRow:
                                  style: 
                                    float: left
                                    width: 10vw
                                    height: 1vw
                                    marginTop: 0.8vw
                                    marginLeft: 0.3vw
                                    justifyContent: flex-start
                                  children:
                                    - type: image
                                      viewTag: imageOfNone
                                      style:
                                        width: "1vw"
                                        height: "1vw"
                                      path: 
                                        emit:
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.symptomProfile.experience
                                                    value: none
                                              - selectOnblue.svg
                                              - selectBlack.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                              - =..formDataTemp.NoneExperience
                                              - actionType: evalObject
                                                object:
                                                  - ..formDataTemp.NoneExperience@: false
                                              - actionType: evalObject
                                                object: 
                                                  - ..formDataTemp.NoneExperience@: true
                                                  - ..formData.symptomProfile.experience@: []
                                                  - ..formDataTemp.hasOther@: false
                                                  - ..formData.symptomProfile.remark@: ""
                                                  - ..formData.symptomProfile.flag@: "none"
                                                  - if:
                                                    - =.builtIn.array.has:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: none
                                                    - =.builtIn.array.removeByValue:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: none
                                                    - =.builtIn.array.add:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: none
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: textViewOfOther
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: imageOfNone
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: imageOfOther
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: experienceSelectTag
                                    - .VQSecondTitle:
                                      text: "None"
                                      style:
                                        marginLeft: 0.5vw
                                        float: left
                                - .ViewRow:
                                  style: 
                                    float: left
                                    width: 10vw
                                    height: 1vw
                                    marginTop: 0.8vw
                                    marginLeft: 0.3vw
                                    justifyContent: flex-start
                                  children:
                                    - type: image
                                      viewTag: imageOfOther
                                      style:
                                        width: "1vw"
                                        height: "1vw"
                                      path: 
                                        emit:
                                          # dataKey:
                                          #   var: ..formDataTemp.hasOther
                                          actions:                        
                                            - if:
                                              - =.builtIn.array.has:
                                                  dataIn:
                                                    object: =..formData.symptomProfile.experience
                                                    value: other
                                              - selectOnblue.svg
                                              - selectBlack.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                              - =..formDataTemp.hasOther
                                              - actionType: evalObject
                                                object:
                                                  - ..formDataTemp.hasOther@: false
                                                  - ..formData.symptomProfile.flag@: "none"
                                              - actionType: evalObject
                                                object:
                                                  - ..formDataTemp.hasOther@: true
                                                  - ..formDataTemp.NoneExperience@: false
                                                  - ..formData.symptomProfile.flag@: "block"
                                                  - if:
                                                    - =.builtIn.array.has:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: other
                                                    - =.builtIn.array.removeByValue:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: other
                                                    - =.builtIn.array.add:
                                                        dataIn:
                                                          object: =..formData.symptomProfile.experience
                                                          value: other
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: textViewOfOther         
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: imageOfOther
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: imageOfNone
                                    - .VQSecondTitle:
                                      text: "Other"
                                      style:
                                        marginLeft: 0.5vw
                                        float: left
                                
                            
                        - .VQTextView:
                          viewTag: textViewOfOther
                          dataKey: formData.symptomProfile.remark
                          style:
                            width: 40vw
                            height: 4vw
                            display: ..formData.symptomProfile.flag

                        - type: view
                          style:
                            width: 40vw
                            marginTop: 2vw
                          children: 
                            - .VQSecondTitle:
                              text: "Do you live in a group home, assisted living center or other facility with more than 3 other people older than 60 years old?"
                              style:
                                fontSize: .Nfont.h0_1
                            - type: view
                              style: 
                                width: 40vw
                                height: 1vw
                                marginTop: 0.7vw
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..selectYesOrNo.problem1
                                  iteratorVar: itemObject
                                  viewTag: problem1Tag
                                  style:
                                    height: 1vw
                                    axis: horizontal
                                    width: 16vw
                                    display: flex
                                    flexDirection: row
                                    justifyContent: space-between
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: 8vw
                                        height: 1vw
                                        display: flex
                                        flexDirection: row
                                      children:
                                        - type: image
                                          style:
                                            height: 0.8vw
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem1
                                                          string2: $var.value
                                                    - blue.svg
                                                    - black.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem1
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem1Tag
                                        - .VQSecondTitle:
                                          dataKey: itemObject.value
                                          style:
                                            marginLeft: 0.5vw
                                            float: left
                                            fontSize: .Nfont.h0_1
                                            lineHeight: 1vw
                        - type: view
                          style:
                            width: 40vw
                            marginTop: 1vw
                          children: 
                            - .VQSecondTitle:
                              text: "Do you work in a hospital, long-term care facility or assisted living facility?"
                              style:
                                fontSize: .Nfont.h0_1
                            - type: view
                              style: 
                                width: 40vw
                                height: 1vw
                                marginTop: 0.7vw
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..selectYesOrNo.problem2
                                  iteratorVar: itemObject
                                  viewTag: problem2Tag
                                  style:
                                    height: 1vw
                                    axis: horizontal
                                    width: 16vw
                                    display: flex
                                    flexDirection: row
                                    justifyContent: space-between
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: 8vw
                                        height: 1vw
                                        display: flex
                                        flexDirection: row
                                      children:
                                        - type: image
                                          style:
                                            height: 0.8vw
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem2
                                                          string2: $var.value
                                                    - blue.svg
                                                    - black.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem2
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem2Tag
                                        - .VQSecondTitle:
                                          dataKey: itemObject.value
                                          style:
                                            marginLeft: 0.5vw
                                            float: left
                                            fontSize: .Nfont.h0_1
                                            lineHeight: 1vw
                        - type: view
                          style:
                            width: 40vw
                            marginTop: 1vw
                          children: 
                            - .VQSecondTitle:
                              text: "Have you traveled anywhere outside of California in the past 1 month?"
                              style:
                                fontSize: .Nfont.h0_1
                            - type: view
                              style: 
                                width: 40vw
                                height: 1vw
                                marginTop: 0.7vw
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..selectYesOrNo.problem3
                                  iteratorVar: itemObject
                                  viewTag: problem3Tag
                                  style:
                                    height: 1vw
                                    axis: horizontal
                                    width: 16vw
                                    display: flex
                                    flexDirection: row
                                    justifyContent: space-between
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: 8vw
                                        height: 1vw
                                        display: flex
                                        flexDirection: row
                                      children:
                                        - type: image
                                          style:
                                            height: 0.8vw
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem3
                                                          string2: $var.value
                                                    - blue.svg
                                                    - black.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem3
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem3Tag
                                        - .VQSecondTitle:
                                          dataKey: itemObject.value
                                          style:
                                            marginLeft: 0.5vw
                                            float: left
                                            fontSize: .Nfont.h0_1
                                            lineHeight: 1vw
                        - type: view
                          style:
                            width: 40vw
                            marginTop: 1vw
                          children: 
                            - .VQSecondTitle:
                              text: "Have you been in KNOWN close contact (i.e. within 6 feet) with someone confirmed to have COVID-19??"
                              style:
                                fontSize: .Nfont.h0_1
                            - type: view
                              style: 
                                width: 40vw
                                height: 1vw
                                marginTop: 0.7vw
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..selectYesOrNo.problem4
                                  iteratorVar: itemObject
                                  viewTag: problem4Tag
                                  style:
                                    height: 1vw
                                    axis: horizontal
                                    width: 16vw
                                    display: flex
                                    flexDirection: row
                                    justifyContent: space-between
                                  children:
                                    - type: listItem
                                      itemObject: ""
                                      style:
                                        width: 8vw
                                        height: 1vw
                                        display: flex
                                        flexDirection: row
                                      children:
                                        - type: image
                                          style:
                                            height: 0.8vw
                                          path:
                                            emit:
                                              dataKey:
                                                var: itemObject
                                              actions:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.symptomProfile.problem4
                                                          string2: $var.value
                                                    - blue.svg
                                                    - black.svg
                                          onClick:
                                            - emit:
                                                dataKey:
                                                  var: itemObject
                                                actions:
                                                  - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: =..formData.symptomProfile.problem4
                                                            string2: $var.value
                                                      - =.builtIn.object.clear:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                      - =.builtIn.object.set:
                                                          dataIn:
                                                            object: =..formData.symptomProfile
                                                            key: $var.key
                                                            value: $var.value
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: problem4Tag
                                        - .VQSecondTitle:
                                          dataKey: itemObject.value
                                          style:
                                            marginLeft: 0.5vw
                                            float: left
                                            fontSize: .Nfont.h0_1
                                            lineHeight: 1vw
                
            - type: view
              style:
                height: 2.3vw
                left: 15.5vw
                top: 15.5vw
              children:
                - type: image
                  path: Leftbutton.svg
                  style:
                    height: 3vw
                  onClick: 
                    - actionType: evalObject
                      object:
                        - .Global.formData.cov19TestNewPatForm.name.data.symptomProfile@: =..formData.symptomProfile   
                    
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
            - type: view
              style:
                height: 2.3vw
                left: 60.3vw
                top: 15.5vw
              children:
                - type: image
                  path: Rightbutton.svg
                  style:
                    height: 3vw
                    left: 10vw
                    textAlign:
                      x: center
                      y: center
                  onClick:
                    - actionType: evalObject
                      object:
                        - .Global.formData.cov19TestNewPatForm.name.data.symptomProfile@: =..formData.symptomProfile
                    - goto: Cov19TestNewPatEditPage4 
