BaseComponents:
  flag: ""
  month:
    - Jan
    - Feb
    - Mar
    - Apr
    - May
    - Jun
    - Jul
    - Aug
    - Sep
    - Oct
    - Nov
    - Dec
  dayName:
    - key: SU
    - key: MO
    - key: TU
    - key: WE
    - key: TH
    - key: FR
    - key: SA
  calendarDate: ""
  getDate:
    - =.builtIn.date.getMonth:
        dataIn: 
        dataOut: BaseComponents.calendarDate.month
# get Year for calendar
    - =.builtIn.date.getYear: 
        dataIn: 
        dataOut: BaseComponents.calendarDate.year
    - =.builtIn.date.getDate: 
        dataIn: 
        dataOut: BaseComponents.calendarDate.day
  getShow:       
    - =.builtIn.date.calendarArray:
        dataIn:
          year: =.BaseComponents.calendarDate.year
          month: =.BaseComponents.calendarDate.month
          today: =.BaseComponents.calendarDate.day
        dataOut: BaseComponents.calendarDate.dayLable
    - =.builtIn.date.transformMonth:
        dataIn:
          month: =.BaseComponents.calendarDate.month
        dataOut: BaseComponents.calendarDate.monthName
    - =.builtIn.date.ShowDateByNumber:
        dataIn:
          year: =.BaseComponents.calendarDate.year
          month: =.BaseComponents.calendarDate.month
          day: =.BaseComponents.calendarDate.day
          formatType: "M/D/Y"
        dataOut: BaseComponents.calendarDate.todayDate
  calendar:
    type: view
    style:
      width: "0.32"
      height: "0.57"
      margin: "auto"
      marginTop: "0.25"
      borderRadius: "10px"
      backgroundColor: "#ffffff"
      border: "1px solid #eaeaea"
      borderWidth: "1px"
    viewTag: calendarTag
  calendarHeader:
    type: view
    style:
      width: "0.28"
      margin: "auto"
      marginTop: "1vw"
      height: "0.085"
      borderBottom: "1px solid #eaeaea"
      borderWidth: "1px"
      display: flex
      flexDirection: column
    children:
      - type: view
        style:
          width: "0.28"
          height: "1.5vw"
        children:
          - type: label
            text: "Select Date"
            style:
              width: "0.22"
              # marginLeft: "0.005"
              color: "0x333333"
              fontWeight: "700"
              fontSize: .Nfont.h3
              display: inline-block
          - type: image
            path: deleteGray.svg
            style:
              marginLeft: "0.05"
              height: "0.9vw"
              marginTop: "0.01"
            onClick:
              - actionType: popUpDismiss
                popUpView: birthDay
      - type: view
        style:
          width: "0.29"
          height: "2.5vw"
          display: flex
          flexDirection: row
          justifyContent: "space-between"
          alignItems: "center"
          marginTop: "0.01"
        children:
          - type: view
            style:
              width: "0.1"
              height: "2.5vw"
              display: flex
              flexDirection: row
              justifyContent: "center"
              alignItems: "center"
            children:
              - type: image
                path: blueright.png
                onClick:
                  - emit:
                      actions:
                        - =.builtIn.date.loopMonth:
                            dataIn:
                              month: =.BaseComponents.calendarDate.month
                              step: -1
                            dataOut: BaseComponents.calendarDate.month
                        - =.builtIn.date.transformMonth:
                            dataIn:
                              month: =.BaseComponents.calendarDate.month
                            dataOut: BaseComponents.calendarDate.monthName
                        - =.builtIn.date.calendarArray:
                            dataIn:
                              year: =.BaseComponents.calendarDate.year
                              month: =.BaseComponents.calendarDate.month
                              today: 1
                            dataOut: BaseComponents.calendarDate.dayLable
                        - .BaseComponents.calendarDate.day@: 1
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseComponents.calendarDate.year
                              month: =.BaseComponents.calendarDate.month
                              day: =.BaseComponents.calendarDate.day
                              formatType: "M/D/Y" #elaine change order of date to us
                            dataOut: BaseComponents.calendarDate.todayDate                     
                  - actionType: evalObject
                    object:
                        - ..calendarDate.monthName@: =.BaseComponents.calendarDate.monthName
                  - actionType: builtIn
                    funcName: redraw
                    viewTag: calendarTag
                style:
                  height: "1vw"
              - type: view
                style:
                  marginTop: "0.005"
                  margin: "auto"
                  width: "5.5vw"
                  height: "2vw"
                children:
                  - type: select
                    dataKey: calendarDate.monthName #android BaseComponents.calendarDate.monthName
                    options:
                      .BaseComponents.month
                    onChange:
                      - actionType: evalObject
                        object:  
                          - .BaseComponents.calendarDate.monthName@: =..calendarDate.monthName
                          - =.builtIn.date.transformMonth:
                              dataIn:
                                month: =.BaseComponents.calendarDate.monthName
                                flag: 2
                              dataOut: BaseComponents.calendarDate.month
                          - =.builtIn.date.calendarArray:
                              dataIn:
                                year: =.BaseComponents.calendarDate.year
                                month: =.BaseComponents.calendarDate.month
                                today: 1
                              dataOut: BaseComponents.calendarDate.dayLable
                          - .BaseComponents.calendarDate.day@: 1
                          - =.builtIn.date.ShowDateByNumber:
                              dataIn:
                                year: =.BaseComponents.calendarDate.year
                                month: =.BaseComponents.calendarDate.month
                                day: =.BaseComponents.calendarDate.day
                                formatType: "M/D/Y" #elaine change order of date to us
                              dataOut: BaseComponents.calendarDate.todayDate
                              
                      - actionType: builtIn
                        funcName: redraw
                        viewTag: calendarTag
                    style:
                      width: "calc(5.5vw)"
                      height: "2vw"
                      borderRadius: "4px"
                      border: "1px solid #eaeaea"
                      borderWidth: "1px"
                      fontSize: "0.8vw"
              - type: image
                path: blueleft.png
                onClick:
                  - emit:
                      actions:
                        - =.builtIn.date.loopMonth:
                            dataIn:
                              month: =.BaseComponents.calendarDate.month
                              step: 1
                            dataOut: BaseComponents.calendarDate.month
                        - =.builtIn.date.transformMonth:
                            dataIn:
                              month: =.BaseComponents.calendarDate.month
                            dataOut: BaseComponents.calendarDate.monthName
                        - =.builtIn.date.calendarArray:
                            dataIn:
                              year: =.BaseComponents.calendarDate.year
                              month: =.BaseComponents.calendarDate.month
                              today: 1
                            dataOut: BaseComponents.calendarDate.dayLable    
                        - .BaseComponents.calendarDate.day@: 1
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseComponents.calendarDate.year
                              month: =.BaseComponents.calendarDate.month
                              day: =.BaseComponents.calendarDate.day
                              formatType: "M/D/Y" #elaine change order of date to us
                            dataOut: BaseComponents.calendarDate.todayDate                     
                  - actionType: evalObject
                    object:
                        - ..calendarDate.monthName@: =.BaseComponents.calendarDate.monthName                    
                  - actionType: builtIn
                    funcName: redraw
                    viewTag: calendarTag       
                style:
                  height: "1vw"
                  marginLeft: "0.5vw" 
          - type: view
            style:
              width: "calc(8.2vw)"
              height: "2.5vw"
              display: flex
              flexDirection: row
              justifyContent: "center"
              alignItems: "center"
            children:
              - type: view
                style:
                  marginTop: "0.005"
                  margin: "auto"
                  width: "5.5vw"
                  height: "2w"
                children:
                  - type: select
                    dataKey: calendarDate.year
                    options:
                      .BaseComponents.year
                    onChange:
                      - actionType: evalObject
                        object:       
                          - =.builtIn.date.transformYear:
                              dataIn:
                                year: =..calendarDate.year 
                              dataOut: BaseComponents.calendarDate.year 
                          - =.builtIn.date.calendarArray:
                              dataIn:
                                year: =.BaseComponents.calendarDate.year
                                month: =.BaseComponents.calendarDate.month
                                today: =.BaseComponents.calendarDate.day
                              dataOut: BaseComponents.calendarDate.dayLable
                          # - .BaseComponents.calendarDate.month@: 1
                          # - .BaseComponents.calendarDate.day@: 1
                          - =.builtIn.date.transformMonth:
                              dataIn:
                                month: =.BaseComponents.calendarDate.month
                              dataOut: BaseComponents.calendarDate.monthName
                          - ..calendarDate.monthName@: =.BaseComponents.calendarDate.monthName
                          - ..calendarDate.year@: =.BaseComponents.calendarDate.year
                          - =.builtIn.date.ShowDateByNumber:
                                dataIn:
                                  year: =.BaseComponents.calendarDate.year
                                  month: =.BaseComponents.calendarDate.month
                                  day: =.BaseComponents.calendarDate.day
                                  formatType: "M/D/Y" #elaine change order of date to us
                                dataOut: BaseComponents.calendarDate.todayDate
                      - actionType: builtIn
                        funcName: redraw
                        viewTag: calendarTag
                    style:
                      width: "calc(5.5vw)"
                      height: "2vw"
                      borderRadius: "4px"
                      border: "1px solid #eaeaea"
                      borderWidth: "1px"
                      fontSize: "0.8vw"

  weekView:
    type: view
    style:
      width: "0.28"
      height: "1vw"
      margin: "auto"
      marginTop: "0.5vw"
    children:
      - type: list
        contentType: listObject
        listObject: .BaseComponents.dayName
        iteratorVar: itemObject
        style:
          width: "0.28"
          height: "1vw"
          axis: horizontal
          justifyContent: "space-around"
        children:
          - type: listItem
            itemObject: ""
            style:
              width: "2.7vw"
              height: "1vw"
              display: "inline-block"
            onClick:
              
            children:
              - type: label 
                dataKey: itemObject.key
                style:
                  color: "0x143459"
                  width: "2.7vw"
                  fontSize: .Nfont.h1
                  textAlign:
                    x: center
  dayView:
    # viewTag: calendarTag
    type: view 
    style:
      width: "0.28"
      height: "auto"
      margin: "auto"
      marginTop: "1vw"
    children:
      - type: list
        # androidGrid: true
        contentType: listObject
        listObject: =.BaseComponents.calendarDate.dayLable
        iteratorVar: itemObject
        style:
          width: "0.28"
        children:
          - type: listItem
            itemObject: ""
            onClick:
              - emit:
                  dataKey:
                    var: itemObject
                  actions:
                    - .BaseComponents.flag@: $var.key
                    - if:
                      - =.BaseComponents.flag
                      - .BaseComponents.calendarDate.day@: $var.key
                      - continue
                    - =.builtIn.date.calendarArray:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: =.BaseComponents.calendarDate.month
                          today: =.BaseComponents.calendarDate.day
                        dataOut: BaseComponents.calendarDate.dayLable
                    - =.builtIn.date.ShowDateByNumber:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: =.BaseComponents.calendarDate.month
                          day: =.BaseComponents.calendarDate.day
                          formatType: "M/D/Y" #elaine change order of date to us
                        dataOut: BaseComponents.calendarDate.todayDate
              - actionType: builtIn
                funcName: redraw
                viewTag: calendarTag
            style:
              width: "2.7vw"
              height: "2.7vw"
              display: "inline-block"
              marginTop: "0.65vw"
              marginLeft: "0.65vw"
              marginRight: "0.65vw"
              borderRadius: "25px"
              backgroundColor: itemObject.backgroundColor
            children:
              - type: label
                dataKey: itemObject.key
                style:
                  width: "2.7vw"
                  height: "2.7vw"
                  color: itemObject.color
                  backgroundColor: itemObject.backgroundColor
                  borderRadius: "25px"
                  fontSize: .Nfont.h0
                  textAlign:
                    x: center
                    y: center
  addButton:
    type: button
    text: Confirm
    style:
      margin: "auto"
      width: "calc(9vw)"
      height: "calc(2.2vw)"
      backgroundColor: "0x0063A8"
      color: "#ffffff"
      fontSize: .Nfont.h1
      borderRadius: "5px"
      textAlign: 
        x: center
        y: center
  calendarView:
    type: view
    style:
      top: "0"
      width: "0.9"
      height: "0.13"
      backgroundColor: "0x2988e6"
    children:
      - type: view
        style:
          top: "0.05"
          left: "0.25"
          width: "0.18"
          height: "0.03"
        children:
          - type: image
            path: whiteLeft.svg
            onClick:
              - emit:
                  actions:
                    - =.builtIn.date.loopMonth:
                        dataIn:
                          month: =.BaseComponents.calendarDate.month
                          step: -1
                        dataOut: BaseComponents.calendarDate.month
                    - =.builtIn.date.transformMonth:
                        dataIn:
                          month: =.BaseComponents.calendarDate.month
                        dataOut: BaseComponents.calendarDate.monthName
                    - =.builtIn.date.calendarArray:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: =.BaseComponents.calendarDate.month
                          today: 1
                        dataOut: BaseComponents.calendarDate.dayLable
              - actionType: builtIn
                funcName: redraw
                viewTag: calendarTag
            style:
              height: "0.02"
              top: "0.005"
          - type: label
            dataKey: BaseComponents.calendarDate.monthName
            style:
              width: "0.05"
              height: "0.02"
              left: "0.07"
              fontWeight: "500"
              fontSize: "18"
              color: "0xffffff"
              textAlign:
                x: center
          - type: image
            path: whiteRight.svg
            onClick:
              - emit:
                  actions:
                    - =.builtIn.date.loopMonth:
                        dataIn:
                          month: =.BaseComponents.calendarDate.month
                          step: 1
                        dataOut: BaseComponents.calendarDate.month
                    - =.builtIn.date.transformMonth:
                        dataIn:
                          month: =.BaseComponents.calendarDate.month
                        dataOut: BaseComponents.calendarDate.monthName
                    - =.builtIn.date.calendarArray:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: =.BaseComponents.calendarDate.month
                          today: 1
                        dataOut: BaseComponents.calendarDate.dayLable             
              - actionType: builtIn
                funcName: redraw
                viewTag: calendarTag
            style:
              left: "0.16"
              height: "0.02"
              top: "0.005"
      - type: view
        style:
          top: "0.05"
          left: "0.5"
          width: "0.4"
          height: "0.03"
        children:
          - type: image
            path: whiteLeft.svg
            onClick:
              - emit:
                  actions:
                    - =.builtIn.number.Subtraction:
                        dataIn:
                          num: =.BaseComponents.calendarDate.year
                          step: 1
                        dataOut: BaseComponents.calendarDate.year
                    - =.builtIn.date.calendarArray:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: 1
                          today: 1
                        dataOut: BaseComponents.calendarDate.dayLable
              - actionType: evalObject
                object: 
                  - .BaseComponents.calendarDate.month@: 1
              - actionType: evalObject
                object:
                  - =.builtIn.date.transformMonth:
                      dataIn:
                        month: =.BaseComponents.calendarDate.month
                      dataOut: BaseComponents.calendarDate.monthName
              - actionType: builtIn
                funcName: redraw
                viewTag: calendarTag
            style:
              left: "0"
              height: "0.02"
              top: "0.005"
          - type: label
            dataKey: BaseComponents.calendarDate.year
            style:
              fontWeight: "500"
              width: "0"
              height: "0.03"
              top: "0"
              left: "0.08"
              fontSize: "18"
              color: "0xffffff"
              textAlign:
                x: center
          - type: image
            path: whiteRight.svg
            onClick:
              - emit:
                  actions:
                    - =.builtIn.number.addition:
                        dataIn:
                          num: =.BaseComponents.calendarDate.year
                          step: 1
                        dataOut: BaseComponents.calendarDate.year
                    - =.builtIn.date.calendarArray:
                        dataIn:
                          year: =.BaseComponents.calendarDate.year
                          month: 1
                          today: 1
                        dataOut: BaseComponents.calendarDate.dayLable
              - actionType: evalObject
                object: 
                  .BaseComponents.calendarDate.month@: 1
              - actionType: evalObject
                object:
                  - =.builtIn.date.transformMonth:
                      dataIn:
                        month: =.BaseComponents.calendarDate.month
                      dataOut: BaseComponents.calendarDate.monthName
              - actionType: builtIn
                funcName: redraw
                viewTag: calendarTag
            style:
              left: "0.2"
              height: "0.02"
              top: "0.005"
      - type: list
        contentType: listObject
        listObject: 
          - key: SU
          - key: MO
          - key: TU
          - key: WE
          - key: TH
          - key: FR
          - key: SA
        iteratorVar: itemObject
        style:
          top: "0.08"
          width: "0.84"
          left: "0.03"
          height: "0.05"
          justifyContent: "space-between"
        children:
          - type: listItem
            itemObject: ""
            style:
              width: "0.12"
              height: "0.05"
              boxSizing: "border-box"
              border: "none"
              padding: "0"
              display: "inline-block"
            children:
              - type: label 
                dataKey: itemObject.key
                style:
                  color: "0xffffff"
                  width: "0.12"
                  height: "0.05"
                  fontWeight: "500"
                  # backgroundColor: "0xffffff"
                  textAlign:
                    x: center
  #分割线
  newdevider:                  
    type: view
    style:
      marginTop: '0.015'
      height: "0.001"
      width: "0.82"
      left: "0.04"
      backgroundColor: "0xEAEAEA"