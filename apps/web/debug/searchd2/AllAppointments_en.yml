AllAppointments:
  viewPort: top
  pageNumber: ""
  init:
    - .Global.baseFontColor@: "0x333333"
    - actionType: evalObject  
      object: 
        - =.builtIn.date.getTime:
            dataIn:
            dataOut: BaseDate.calendarDate.nowTimeStamp
    
    - actionType: evalObject
      object: 
        .BaseDate.getShow
    - actionType: evalObject 
      object: 
        - =.builtIn.date.getMonth:
            dataIn: 
            dataOut: AllAppointments.calendarDate.month
        - =.builtIn.date.getYear: 
            dataIn: 
            dataOut: AllAppointments.calendarDate.year
        - =.builtIn.date.getDate: 
            dataIn: 
            dataOut: AllAppointments.calendarDate.day   
    - if:
      - =.Global.calendarDate.todayDate 
      - actionType: evalObject  
        object:
          - .BaseDate.calendarDate@: =.Global.calendarDate
          - ..calendarDate@: =.Global.calendarDate
      - continue
    - actionType: evalObject  
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.AllAppointments.calendarDate.year
              month: =.AllAppointments.calendarDate.month
              today: =.AllAppointments.calendarDate.day
            dataOut: AllAppointments.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.AllAppointments.calendarDate.month
            dataOut: AllAppointments.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.AllAppointments.calendarDate.year
              month: =.AllAppointments.calendarDate.month
              day: =.AllAppointments.calendarDate.day
              formatType: "Y-M-D"
            dataOut: AllAppointments.calendarDate.todayDate
    
    - actionType: evalObject
      object:
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.BaseDate.calendarDate.year
              month: =.BaseDate.calendarDate.month
              day: =.BaseDate.calendarDate.day
              abbreBool: true
            dataOut: AllAppointments.selectDate
    
    - if:
      - =.Global.newCareUser
      - .Global.formData.profile.firstName@: ""
      - continue
    - if:
      - =.Global.currentUser.vertex.id
      - actionType: evalObject
        object:
          - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =.Global.currentUser.vertex.id
                  string2: "zgT+cgx7QFopl+JPC2WOeA=="
            - continue
            - actionType: evalObject
              object:
                - if:
                  - =.Global.titleProfile.id
                  - ..profile.patientdocument@: =.Global.titleProfile
                  - actionType: evalObject
                    object:
                      - =..profile.docAPI.get: ""
                      - ..profile.patientdocument@: =..profile.docResponse.doc.0
                      - .Global.titleProfile@: =..profile.patientdocument
      - continue
    - .Global.currentUser.vertex.name.fullName@: =..profile.patientdocument.name.data.basicInfo.fullName
    - .Global.GoSignUp@: "AllAppointments"
    - =.builtIn.string.concat:
        dataIn:
          - =.BaseDate.calendarDate.year
          - "-"
          - =.BaseDate.calendarDate.month
          - "-"
          - =.BaseDate.calendarDate.day
        dataOut: BaseDate.calendarDate.todayDate
    - =.builtIn.date.getTimeStampOfDate:
        dataIn:
          date: =.BaseDate.calendarDate.todayDate
        dataOut: BaseDate.calendarDate.calendarDate
    - =.builtIn.date.getTimeStampOfDate:
          dataIn: 
            date: =.BaseDate.calendarDate.todayDate
          dataOut: BaseDate.calendarDate.todayStamp
    - actionType: evalObject
      object:
        - =.builtIn.string.concat:
            dataIn:
              - "(stime<="
              - =.BaseDate.calendarDate.todayStamp.start
              - " AND "
              - "etime>="
              - =.BaseDate.calendarDate.todayStamp.start
              - " OR "
              - "stime>="
              - =.BaseDate.calendarDate.todayStamp.start
              - " AND "
              - "etime<="
              - =.BaseDate.calendarDate.todayStamp.end
              - " OR "
              - "stime<="
              - =.BaseDate.calendarDate.todayStamp.end
              - " AND "
              - "etime>="
              - =.BaseDate.calendarDate.todayStamp.end
              - ")"
              - " AND "
              - "subtype&0xff = 1"
            dataOut: Global.Scondition
    - actionType: evalObject
      object:
        - ..schedule.scheduleList.edge@: []
    - actionType: evalObject
      object:
        - .AllAppointments.showListData@: =.Global.search
    - actionType: evalObject
      object:
        - =.builtIn.search.GetAllLonAndLatNew:
            dataIn:
              object: =.AllAppointments.showListData
            dataOut: AllAppointments.format
    - actionType: evalObject
      object:
        - if:
          - =.AllAppointments.format
          - .AllAppointments.mapoption.data@: =.AllAppointments.format
          - continue
    - ..formData.suggest@: =.Global.specialties
    - if: 
      - =.Global.isSignIn
      - actionType: evalObject
        object:
          - ..isSignIn@: true
          - ..isPersonal@: false
      - actionType: evalObject
        object:
          - ..isSignIn@: false
          - ..isPersonal@: true
    - if:
      - =.Global.newCareUser
      - ..newCare@: false
      - continue
    - ..formData.paging@: =.Global.totals
    - =.builtIn.utils.addArrayValue:
        dataIn:
          array: =..formData.paging
        dataOut: AllAppointments.providerNumber
    - actionType: evalObject
      object:
        - =.builtIn.string.concat:
            dataIn:
              - =..providerNumber
              - " Providers"
            dataOut: AllAppointments.providerNumberSting
    
        - =.builtIn.number.pagingFax: 
            dataIn:
              value1: =..providerNumber
              value2: 10
            dataOut: AllAppointments.formData.allPages
        - =.builtIn.string.concat:
            dataIn:
              - =..formData.tablePageNum # page num
              - " / "
              - =..formData.allPages # total page
            dataOut: AllAppointments.formData.tableCurrentPage # current page                           
        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
            dataIn:
              num: =..formData.allPages
              step: "1"
            dataOut: AllAppointments.formData.totalPageMore # update page num
        - if:
          - =.builtIn.string.equal:
              dataIn:
                string1: =.Global.searchCond
                string2: ""
          - continue
          - actionType: evalObject
            object:
              - ..formData.searchCond@: =.Global.searchCond
    - ..formData.searchInfo@: =..condition.cond
  suggestAddress: []
  num: "1"
  showListData: 
  subdate: ""
  newCare: true
  providerNumber: "0"
  providerNumberSting: ""
  format: []
  listdata: []
  suggestAll: 
    uniqSym_suggestion: []
    symptom_suggestion: []
    speciality_suggestion: 
      - text: "Orthopedic"
      - text: "covid testing"
      - text: "covid vaccine"
      - text: "primary care (family medicine)"
      - text: "Emergency Medicine"
  popularIns:
    - Aetna
    - Blue Cross Blue Shield(BCBS)
    - Cigna
    - EmblemHealth(formerly known as GHI)
    - EmblemHealth(formerly known as HIP)
    - UnitedHealthcare
    - UnitedHealthcare Oxford
  formData:
    fullPhone: []
    searchInfo: ""
    specialtyStr: ""
    AcceptType: "All appointments"
    paging: ""
    countryCode: "+1"   
    phoneNumber: "8881307128"
    password: "123456"
    code: ""
    sk: ""
    pass: ""
    tablePageNum: "1"
    tableCurrentPage: "1"
    gotoPageNum: ""
    totalPageMore: "" # totalPage(tableData.1)+1
    address: ""
    searchCond: ""

  mapoption:
    mapType: 1
    zoom: 9
    data: []
  condition:
    .Global.condtion: ""
  
  schedule:
    scheduleList:
      edge:
        - name:
          roomNane: "today have none appointment"
    edge:
      type: 40000
      id: []
      sCondition: =.Global.Scondition
      xfname: "bvid,evid"
      _nonce: "=.Global._nonce"
    get:
      api: re
      dataIn: schedule.edge
      dataOut: schedule.scheduleList
  save:
    - =.builtIn.eccNaCl.decryptAES:
        dataIn:
          key: =..formData.password
          message: =.Global.currentUser.vertex.esk
        dataOut: AllAppointments.formData.sk
    - =.builtIn.eccNaCl.skCheck:
        dataIn:
          pk: =.Global.currentUser.vertex.pk
          sk: =..formData.sk
        dataOut: AllAppointments.formData.pass  
  profile:
    docResponse: ""
    patientdocument:
      type: .DocType.PatientProfile
      eid: .Global.rootNotebookID
    docAPI:
      get:
        .DocAPI.get: "" 
        api: rd
        id: .Global.rootNotebookID
        xfname: eid
        type: .DocType.PatientProfile
        obfname: mtime
        dataKey: profile.docResponse
        _nonce: =.Global._nonce 
      
  formDataTemp:
    languages:
      - English
      - Spanish
      - Portuguese
      - Chinese
      - Korean
      - German
      - French
      - Japanese
      - Russian
    TypeName:
      - userTypeName: "All appointments"
        borderColor: "0x2988E6"
        fontWeight: "500"
        color: "0x2988E6"
      - userTypeName: "Telemedicine"
        borderColor: "0xffffff"
        fontWeight: "400"
        color: "0x333333"
      - userTypeName: "Office Visit"
        borderColor: "0xffffff"
        fontWeight: "400"
        color: "0x333333"
    CopyTpeName:
      - userTypeName: "All appointments"
        borderColor: "0x2988E6"
        fontWeight: "500"
        color: "0x2988E6"
      - userTypeName: "Telemedicine"
        borderColor: "0xffffff"
        fontWeight: "400"
        color: "0x333333"
      - userTypeName: "Office Visit"
        borderColor: "0xffffff"
        fontWeight: "400"
        color: "0x333333"
  components:
    - type: view
      style:
        width: "1"
        height: "0.89"
        margin: 'auto'
      children: 
        - .baseTopBar:
          children:
            - .baseTopMenu:
              children:
                - .AitmedLogo
                - .searchBar
                - .UserBar
        - type: view
          style:
            width: "0.96"
            height: "auto"
            marginTop: "0.11"
            marginLeft: "0.04"
            border: 
              style: "2"
            borderWidth: "2"
            boxSizing: border-box
            borderColor: "0xD8D8D890"
            display: flex
            justifyContent: flex-start
            alignItems: center
          children:
            - type: list
              viewTag: listNameData
              contentType: listObject
              listObject: ..formDataTemp.TypeName
              iteratorVar: itemObject
              style:
                width: '0.3'
                justifyContent: center
                alignItems: center
                margin: '0'
                axis: horizontal
                height: auto
              children:
                - type: listItem
                  itemObject: 
                  style:
                    display: flex
                    justifyContent: center
                    alignItems: center
                    width: '0.1'
                    height: '0.06'
                    border: 
                      style: "2"
                    borderWidth: "4px"
                    boxSizing: border-box
                    borderColor: itemObject.borderColor
                  children:
                    - type: label
                      dataKey: itemObject.userTypeName
                      style:
                        color: itemObject.color
                        fontSize: .Nfont.h1
                        fontWeight: itemObject.fontWeight
                  onClick: 
                    - emit: 
                        dataKey: 
                          var: itemObject
                        actions:
                          - =.builtIn.object.setProperty: 
                              dataIn: 
                                obj: =..formDataTemp.TypeName
                                label: "userTypeName"
                                text: $var.userTypeName
                                arr: ["borderColor","fontWeight","color"]
                                valueArr: ["0x2988E6","500","0x2988E6"]
                                errorArr: ["0xffffff","400","0x333333"]
                          - ..formData.AcceptType@: $var.userTypeName
                          # - ..condition.cond@: =..formData.searchInfo
                          - ..formData.specialtyStr@: ""
                          - ..listdata@: []
                    - actionType: evalObject
                      object:
                        - ..formData.tablePageNum@: '1'
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.AcceptType
                                string2: "All appointments"
                          - actionType: evalObject
                            object:
                              - if: 
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.searchCond
                                      string2: ""
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.suggest
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.suggest
                              # - .Global.search@: =.AllAppointments.suggest.response
                              # - ..showListData@: =.Global.search
                              - ..showListData@: =.AllAppointments.suggest.response
                              - =.builtIn.search.GetAllLonAndLatNew:
                                  dataIn:
                                    object: =.AllAppointments.showListData
                                  dataOut: AllAppointments.format
                              - if:
                                  - =.AllAppointments.format
                                  - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                  - continue
                              
                          - continue
                    - actionType: evalObject
                      object:
                        - ..formData.tablePageNum@: '1'
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.AcceptType
                                string2: "Telemedicine"
                          - actionType: evalObject
                            object:
                              - if: 
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.searchCond
                                      string2: ""
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          isType: true
                                          type: 196609
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          isType: true
                                          type: 196609
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.suggest
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          isType: true
                                          type: 196609
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          isType: true
                                          type: 196609
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.suggest
                              - .AllAppointments.showListData@: =.AllAppointments.suggest.response
                              - =.builtIn.search.GetAllLonAndLatNew:
                                  dataIn:
                                    object: =.AllAppointments.showListData
                                  dataOut: AllAppointments.format
                              - if:
                                  - =.AllAppointments.format
                                  - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                  - continue
                              - =.builtIn.string.concat:
                                  dataIn:
                                    - "(stime<="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " AND "
                                    - "etime>="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " OR "
                                    - "stime>="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " AND "
                                    - "etime<="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - " OR "
                                    - "stime<="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - " AND "
                                    - "etime>="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - ")"
                                    - " AND "
                                    - "subtype in (196609)"
                                  dataOut: Global.Scondition         
                          - continue  
                    
                    - actionType: evalObject
                      object:
                        - ..formData.tablePageNum@: '1'
                        - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.AcceptType
                                string2: "Office Visit"
                          - actionType: evalObject
                            object: 
                              - if: 
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.searchCond
                                      string2: ""
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          isType: true
                                          type: 131073
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          isType: true
                                          type: 131073
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                        dataIn:
                                          cond: =..condition.cond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.suggest
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryTotals:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          isType: true
                                          type: 131073
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.formData.paging
                                    - =.builtIn.search.queryUsers:
                                        dataIn:
                                          cond: =..formData.searchCond
                                          distance: =..condition.distance
                                          pos: =..condition.pos
                                          stime: =..condition.stime
                                          etime: =..condition.etime
                                          isSplitCurrent: true
                                          pages: =..formData.tablePageNum
                                          total: =..formData.paging
                                          isType: true
                                          type: 131073
                                          lan: =..condition.language
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.suggest.response
                                    - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..formData.searchCond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest
                              - .AllAppointments.showListData@: =.AllAppointments.suggest.response
                              - =.builtIn.search.GetAllLonAndLatNew:
                                  dataIn:
                                    object: =.AllAppointments.showListData
                                  dataOut: AllAppointments.format
                              - if:
                                - =.AllAppointments.format
                                - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                - continue
                              - .Global.isCreateAppointment@: true
                              - =.builtIn.string.concat:
                                  dataIn:
                                    - "(stime<="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " AND "
                                    - "etime>="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " OR "
                                    - "stime>="
                                    - =.BaseDate.calendarDate.todayStamp.start
                                    - " AND "
                                    - "etime<="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - " OR "
                                    - "stime<="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - " AND "
                                    - "etime>="
                                    - =.BaseDate.calendarDate.todayStamp.end
                                    - ")"
                                    - " AND "
                                    - "subtype in (131073)"
                                  dataOut: Global.Scondition
                          - continue
                    # 分页 start
                    - actionType: evalObject
                      object: 
                        - =.builtIn.utils.addArrayValue:
                            dataIn:
                              array: =..formData.paging
                            dataOut: AllAppointments.providerNumber
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..providerNumber
                              - " Providers"
                            dataOut: AllAppointments.providerNumberSting
                
                        - =.builtIn.number.pagingFax: 
                            dataIn:
                              value1: =..providerNumber
                              value2: 10
                            dataOut: AllAppointments.formData.allPages
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..formData.tablePageNum # page num
                              - " / "
                              - =..formData.allPages # total page
                            dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                            dataIn:
                              num: =..formData.allPages
                              step: "1"
                            dataOut: AllAppointments.formData.totalPageMore # update page num
                    # 分页 end
                    
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: listNameData
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Specialty
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: suggestSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: mapTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectedDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectDate2Tag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: SearchForm
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Time     
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lengthTag   

            - type: view
              style:
                top: "0.07"
                width: "0.95"
                height: "0.06"
                display: flex
                flexDirection: row
                alignItems: center
              children:
                - type: button
                  dataKey: AllAppointments.selectDate
                  viewTag: selectDate2Tag
                  onClick:
                    - actionType: popUp
                      popUpView: birthDate2Tag
                  style:
                    height: "0.04"
                    width: "0.17"
                    fontSize: .Nfont.h1
                    fontWeight: "500"
                    color: "0x2988E6"
                    backgroundColor: "0xffffff"
                    borderRadius: "30px"
                    borderWidth: "2"
                    border: 
                      style: "3"
                    borderColor: "0x2988E6"
                    textAlign:
                      x: center
                - type: button
                  text: "Aetna-(AK)Anchorage Mat-Su Community Plan"
                  style:
                    height: "0.03"
                    width: 10vw
                    fontSize: 0.8vw
                    marginLeft: 1vw
                    color: "#143459"
                    border: "2px solid #A5A5AD"
                    backgroundColor: "#DFE1E5"
                    borderRadius: "30px"
                    borderWidth: "2px"
                    display: none
                    textAlign:
                      x: center
                - type: button
                  text: "Speciality"
                  style:
                    height: "0.04"
                    width: "0.09"
                    marginLeft: 1vw
                    fontSize: .Nfont.h1
                    fontWeight: "500"
                    color: "0x333333"
                    border: "2px solid #DEDEDE"
                    backgroundColor: "0xffffff"
                    borderRadius: "30px"
                    borderWidth: "2px"
                    textAlign:
                      x: center
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..listdata@: []
                    - actionType: popUp
                      popUpView: Specialty
                      # dismissOnTouchOutside: true
                # - type: button
                #   text: "More filters"
                #   style:
                #     top: "0"
                #     height: "0.04"
                #     width: "0.1"
                #     left: "0.49"
                #     color: "#143459"
                #     fontSize: "1.5vh"
                #     border: "2px solid #a5a5ad"
                #     backgroundColor: "0xffffff"
                #     borderRadius: "30px"
                #     borderWidth: "1px"
                #     textAlign:
                #       x: center
                #   onClick:
                #     - actionType: popUp
                #       popUpView: MoreFilters
          
        - type: view
          style:
            marginTop: "0.08"
            width: "0.6"
            height: 3.7vw
            left: "0"
            backgroundColor: "0xf7f7f7"
          children:
            - type: view
              style: 
                width: "0.52"
                marginLeft: "0.04"
                height: 3.7vw
                display: flex
                flexDirection: row
                justifyContent: space-between
                alignItems: center
              children:
                - type: image
                  path: leftArrow.svg
                  onClick:
                    - emit:
                        actions:
                          - =.builtIn.date.LastWeek:
                              dataIn:
                                year: =.BaseDate.calendarDate.year
                                month: =.BaseDate.calendarDate.month
                                day: =.BaseDate.calendarDate.day
                              dataOut: AllAppointments.subdate
                          - .BaseDate.calendarDate.year@: =..subdate.year
                          - .BaseDate.calendarDate.month@: =..subdate.month
                          - .BaseDate.calendarDate.day@: =..subdate.day
                          - =.builtIn.date.ShowDateByNumber:
                              dataIn:
                                year: =.BaseDate.calendarDate.year
                                month: =.BaseDate.calendarDate.month
                                day: =.BaseDate.calendarDate.day
                                formatType: "Y-M-D"
                              dataOut: BaseDate.calendarDate.todayDate
                          - =.builtIn.date.getTimeStampOfDate:
                              dataIn:
                                date: =.BaseDate.calendarDate.todayDate
                              dataOut: BaseDate.calendarDate.todayStamp
                    - actionType: evalObject
                      object: 
                        # 恢复筛选初始状态
                        - ..formDataTemp.TypeName@: =..formDataTemp.CopyTpeName
                        - ..condition.cond@: =..formData.searchInfo    
                        - ..formData.specialtyStr@: ""
                        - ..listdata@: []
                        # 判断是否是昨天
                        - if:
                          - =.builtIn.math.greater:
                              dataIn:
                                num1: =.BaseDate.calendarDate.todayStamp.end
                                num2: =.BaseDate.calendarDate.nowTimeStamp
                          - continue
                          - actionType: popUp
                            popUpView: judgeTime1
                            wait: true
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseDate.calendarDate.year
                              month: =.BaseDate.calendarDate.month
                              day: =.BaseDate.calendarDate.day
                              abbreBool: true
                            dataOut: AllAppointments.selectDate
                        - .AllAppointments.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .AllAppointments.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - ..formData.tablePageNum@: '1'
                        - if: 
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.searchCond
                                string2: ""
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                    - actionType: evalObject
                      object: 
                        - =.builtIn.utils.addArrayValue:
                            dataIn:
                              array: =..formData.paging
                            dataOut: AllAppointments.providerNumber
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..providerNumber
                              - " Providers"
                            dataOut: AllAppointments.providerNumberSting
                
                        - =.builtIn.number.pagingFax: 
                            dataIn:
                              value1: =..providerNumber
                              value2: 10
                            dataOut: AllAppointments.formData.allPages
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..formData.tablePageNum # page num
                              - " / "
                              - =..formData.allPages # total page
                            dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                            dataIn:
                              num: =..formData.allPages
                              step: "1"
                            dataOut: AllAppointments.formData.totalPageMore # update page num
                        - .Global.condtion@: =.AllAppointments.condition
                        - .Global.specialties@: =..formData.suggest
                        - .Global.search@: =.AllAppointments.suggest.response
                        # - .Global.search@: =.AllAppointments.suggest.response
                        # - .AllAppointments.showListData@: =.Global.search
                        - ..showListData@: =.AllAppointments.suggest.response
                        - .Global.totals@: =.AllAppointments.formData.paging
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - "(stime<="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " OR "
                              - "stime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " OR "
                              - "stime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - ")"
                              - " AND "
                              - "subtype&0xff = 1"
                            dataOut: Global.Scondition 
                        
                        - actionType: evalObject
                          object:
                            # 获取地图
                            - =.builtIn.search.GetAllLonAndLatNew:
                                dataIn:
                                  object: =.AllAppointments.showListData
                                dataOut: AllAppointments.format
                            - if:
                                - =.AllAppointments.format
                                - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                - continue
                    
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: listNameData
                    - actionType: evalObject
                      object:
                        - .Global.calendarDate@: =.BaseDate.calendarDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lengthTag 
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: suggestSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: mapTag
                    - actionType: popUpDismiss
                      popUpView: Search
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectedDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectDate2Tag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: SearchForm
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Time
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Speciality 
                  style:
                    height: 1.5vw
                    backgroundColor: "#2988e6"
                - type: view
                  style: 
                    width: 23vw
                    height: 5vw
                    marginLeft: 6vw
                    display: flex
                    flexDirection: row
                    justifyContent: space-between
                    alignItems: center
                  viewTag: selectedDateTag
                  children:
                    - type: image
                      path: lightblue_centerDate.svg
                      style:
                        width: 1.5vw
                    - type: label
                      dataKey: AllAppointments.selectDate
                      style:
                        width: 20vw
                        marginLeft: 1vw
                        fontSize: 1.3vw
                        fontWeight: "600"
                        color: "0x2988E6"
                - type: image
                  path: rightArrow2.svg
                  onClick:
                    - emit:
                        actions:
                          - =.builtIn.date.NextWeek:
                              dataIn:
                                year: =.BaseDate.calendarDate.year
                                month: =.BaseDate.calendarDate.month
                                day: =.BaseDate.calendarDate.day
                              dataOut: AllAppointments.subdate
                          - .BaseDate.calendarDate.year@: =..subdate.year
                          - .BaseDate.calendarDate.month@: =..subdate.month
                          - .BaseDate.calendarDate.day@: =..subdate.day
                          - =.builtIn.date.ShowDateByNumber:
                              dataIn:
                                year: =.BaseDate.calendarDate.year
                                month: =.BaseDate.calendarDate.month
                                day: =.BaseDate.calendarDate.day
                                formatType: "Y-M-D"
                              dataOut: BaseDate.calendarDate.todayDate
                          - =.builtIn.date.getTimeStampOfDate:
                              dataIn:
                                date: =.BaseDate.calendarDate.todayDate
                              dataOut: BaseDate.calendarDate.todayStamp
                    - actionType: evalObject
                      object: 
                        # 恢复筛选初始状态
                        - ..formDataTemp.TypeName@: =..formDataTemp.CopyTpeName
                        - ..condition.cond@: =..formData.searchInfo
                        - ..formData.specialtyStr@: ""
                        - ..listdata@: []
                        - ..suggest.response@: []
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseDate.calendarDate.year
                              month: =.BaseDate.calendarDate.month
                              day: =.BaseDate.calendarDate.day
                              abbreBool: true
                            dataOut: AllAppointments.selectDate
                        - .AllAppointments.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .AllAppointments.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - ..formData.tablePageNum@: '1'
                        - if: 
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.searchCond
                                string2: ""
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                    - actionType: evalObject
                      object: 
                        - =.builtIn.utils.addArrayValue:
                            dataIn:
                              array: =..formData.paging
                            dataOut: AllAppointments.providerNumber
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..providerNumber
                              - " Providers"
                            dataOut: AllAppointments.providerNumberSting
                
                        - =.builtIn.number.pagingFax: 
                            dataIn:
                              value1: =..providerNumber
                              value2: 10
                            dataOut: AllAppointments.formData.allPages
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..formData.tablePageNum # page num
                              - " / "
                              - =..formData.allPages # total page
                            dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                            dataIn:
                              num: =..formData.allPages
                              step: "1"
                            dataOut: AllAppointments.formData.totalPageMore # update page num
                        - .Global.totals@: =.AllAppointments.formData.paging
                        - .Global.condtion@: =.AllAppointments.condition
                        - .Global.specialties@: =..formData.suggest
                        - .Global.search@: =.AllAppointments.suggest.response
                        # - .AllAppointments.showListData@: =.Global.search
                        - ..showListData@: =.AllAppointments.suggest.response
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - "(stime<="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " OR "
                              - "stime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " OR "
                              - "stime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - ")"
                              - " AND "
                              - "subtype&0xff = 1"
                            dataOut: Global.Scondition
                        
                        - actionType: evalObject
                          object:
                            # 获取地图
                            - =.builtIn.search.GetAllLonAndLatNew:
                                dataIn:
                                  object: =.AllAppointments.showListData
                                dataOut: AllAppointments.format
                            - if:
                                - =.AllAppointments.format
                                - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                - continue
                        - .Global.calendarDate@: =.BaseDate.calendarDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: listNameData
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lengthTag 
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: suggestSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: mapTag
                    - actionType: popUpDismiss
                      popUpView: Search
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectedDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectDate2Tag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: SearchForm
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Time
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Speciality 
                  style:
                    height: 1.5vw
                    backgroundColor: "#2988e6"
            
        - type: view
          viewTag: lengthTag
          style:
            width: "0.6"
            height: 3.7vw
            fontSize: 1.6vw
            fontStyle: "bold"
            color: "0x143459"
            textAlign: 
              y: center
            border: 
              style: "2"
            borderWidth: "2"
            borderColor: "0x33333320"
          children:
            - type: label
              dataKey: providerNumberSting
              style:
                width: "0.52"
                marginLeft: "0.04"
        - type: view
          style:
            width: "0.6"
            height: "0.6"
            zIndex: '1'
            display: flex
            flexDirection: row
          viewTag: providerListTag
          children:
            - type: view
              style:
                width: "0.6"
                # height: "0.55"
                display: flex
                flexDirection: column
              children:
                - type: scrollView
                  style:
                    height: "0.58"
                    width: "0.6"
                  children:
                    - type: list
                      contentType: listObject
                      listObject: ..showListData
                      iteratorVar: itemObject
                      style:
                        height: auto
                        width: "0.6"
                      children:
                        - type: listItem
                          itemObject: ""
                          style:
                            height: "0.115"
                            width: "0.6"
                            border: 
                              style: "2"
                            borderWidth: "1"
                            borderColor: "0x33333320"
                            display: flex
                            flexDirection: row
                            marginTop: 1vw
                          children:
                            - type: view
                              style: 
                                marginLeft: "0.04"
                              children:
                                - type: image
                                  path=func: .builtIn.utils.prepareDocToPath
                                  dataKey: itemObject._source.avatar
                                  # path: yiyuan-2.svg
                                  path: 
                                    emit:
                                      dataKey:
                                        var: itemObject
                                      actions:                        
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: $var._index
                                                string2: "room_v0.2"
                                          - yiyuan-2.svg
                                          - yisheng copy.svg
                                  onClick:
                                    - actionType: updateObject
                                      dataObject: {}
                                      dataKey: Global.Provider
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - .Global.AppointmentvisitType@: $var._source.visitType
                                          - .Global.Provider@: $var
                                    - actionType: evalObject
                                      object:
                                        - .Global.currentSelectTime@: ""
                                        - .Global.calendarDate@: =.BaseDate.calendarDate
                                        - .Global.currentSelectTime@: =.BaseDate.calendarDate
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.AppointmentvisitType
                                                string2: "Telemedicine"
                                          - .Global.AppointmentvisitType@: 196609
                                          - .Global.AppointmentvisitType@: 131073
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.Provider._index
                                                string2: "externaldoctor_v0.1"
                                          - goto: ExternalScheduleAppointment
                                          - actionType: evalObject
                                            object:
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "doctors_v1.0"
                                                - goto: ProviderScheduleAppointment
                                                - continue
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "room_v0.2"
                                                - goto: RoomScheduleAppointment
                                                - continue
                                      
                                  style:
                                    width: '5.22vw'
                                    height: "5.22vw"
                            - type: view
                              style:
                                height: "0.115"
                                width: "0.34"
                                display: flex
                                marginLeft: "0.01"
                                flexDirection: column
                              children:
                                - type: label
                                  dataKey: itemObject._source.titleName
                                  onClick:
                                    - actionType: updateObject
                                      dataObject: {}
                                      dataKey: Global.Provider
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - .Global.AppointmentvisitType@: $var._source.visitType
                                          - .Global.Provider@: $var
                                    - actionType: evalObject
                                      object:
                                        - .Global.calendarDate@: =.BaseDate.calendarDate
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.AppointmentvisitType
                                                string2: "Telemedicine"
                                          - .Global.AppointmentvisitType@: 196609
                                          - .Global.AppointmentvisitType@: 131073
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.Provider._index
                                                string2: "externaldoctor_v0.1"
                                          - goto: ExternalScheduleAppointment
                                          - actionType: evalObject
                                            object:
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "doctors_v1.0"
                                                - goto: ProviderScheduleAppointment
                                                - continue
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "room_v0.2"
                                                - goto: RoomScheduleAppointment
                                                - continue
                                  style:
                                    top: 0
                                    fontSize: .Nfont.h3
                                    color: "0x143459"
                                    fontWeight: "bold"
                                    fontFamily: "Arial"
                                    textDecoration: underline
                                    # borderBottom: "solid 1px #143459"
                                    # borderWidth: 4px
                                - type: label
                                  dataKey: itemObject._source.roomName
                                  onClick:
                                    - actionType: updateObject
                                      dataObject: {}
                                      dataKey: Global.Provider
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          
                                          - .Global.AppointmentvisitType@: $var._source.visitType
                                          - .Global.Provider@: $var
                                    - actionType: evalObject
                                      object:
                                        - .Global.calendarDate@: =.BaseDate.calendarDate
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.AppointmentvisitType
                                                string2: "Telemedicine"
                                          - .Global.AppointmentvisitType@: 196609
                                          - .Global.AppointmentvisitType@: 131073
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.Provider._index
                                                string2: "externaldoctor_v0.1"
                                          - goto: ExternalScheduleAppointment
                                          - actionType: evalObject
                                            object:
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "doctors_v1.0"
                                                - goto: ProviderScheduleAppointment
                                                - continue
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "room_v0.2"
                                                - goto: RoomScheduleAppointment
                                                - continue
                                  style:
                                    top: 0
                                    fontSize: .Nfont.h3
                                    color: "0x143459"
                                    fontWeight: "bold"
                                    fontFamily: "Arial"
                                    textDecoration: underline
                                - type: view
                                  style:
                                    display: flex
                                    marginLeft: "42vw"
                                  children:
                                    - type: image
                                      path: 
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                        
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: $var._index
                                                    string2: "externaldoctor_v0.1"
                                              - external.svg
                                              - blank.svg
                                      style:
                                        width: 5vw
                                
                                - type: view
                                  style:
                                    marginTop: "0.015"
                                    # width: "auto"
                                    width: 40vw
                                    display: flex
                                  children:
                                    - type: label
                                      dataKey: itemObject._source.service
                                      style:
                                        # width: 30vw
                                        # wordBreak: break-all
                                        # height: "0.04"
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h1
                                        color: "0x333333"
                                    - type: label
                                      dataKey: itemObject._source.specialty.0
                                      style:
                                        # top: 2.6vw
                                        # wordBreak: break-all
                                        # height: "0.04"
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h1
                                        color: "0x333333"
                                    - type: label
                                      dataKey: itemObject._source.specialty.1
                                      style:
                                        # top: 2.6vw
                                        marginLeft: 1vw
                                        # wordBreak: break-all
                                        # height: "0.04"
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h1
                                        color: "0x333333"
                                - type: view
                                  style:
                                    marginTop: "0.005"
                                    width: 35vw
                                    fontSize: .Nfont.h1
                                    fontFamily: "Arial"
                                    color: "0x333333"
                                  children:
                                    - type: view
                                      style:
                                        display: flex
                                        width: 45vw
                                      children:
                                        - type: label
                                          dataKey: itemObject._source.facilityName
                                          style:
                                            display: flex
                                            fontWeight: blod
                                            fontSize: .Nfont.h1
                                        - type: view
                                          style:
                                            display: flex
                                            marginLeft: "1vw"
                                            backgroundColor: "0xE9F2FC"
                                          children:
                                            - type: image
                                              path: 
                                                emit:
                                                  dataKey:
                                                    var: itemObject
                                                  actions:                        
                                                    - if:
                                                      - =.builtIn.string.equal:
                                                          dataIn:
                                                            string1: $var._source.visitType
                                                            string2: "Telemedicine"
                                                      - Telemedicine_green.png
                                                      - Officen_Visit_orange.svg
                                              style:
                                                width: 1vw
                                            - type: label
                                              dataKey: itemObject._source.visitType
                                              # text: "Office Visits"
                                              style:
                                                marginLeft: 0.3vw
                                                fontSize: .Nfont.h0
                                                color: "0x333333"
                                                textAlign:
                                                  y: center
                                            - type: label
                                              dataKey: itemObject._source.service
                                              style:
                                                marginLeft: 0.3vw
                                                fontSize: .Nfont.h0
                                                color: "0x333333"
                                                textAlign:
                                                  y: center
                                        
                                - type: view
                                  style:
                                    width: 30vw
                                    marginTop: 0.2vw
                                  children:
                                    - type: image
                                      path: pos.svg
                                      style:
                                        width: 0.7vw
                                    - type: label
                                      dataKey: itemObject._source.practiceLocation.fullAddress
                                      text: address......
                                      style:
                                        width: 29vw
                                        top: "0"
                                        left: 1.2vw
                                        fontSize: .Nfont.h0
                                        color: "0x666666"
                                        overflow: hidden
                                        textOverflow: ellipsis
                                        whiteSpace: nowrap
                                        lineHeight: 1vw
                                        

                                - type: view
                                  style:
                                    width: "0.12"
                                    top: "0.08"
                                    fontSize: .Nfont.h1
                                    marginLeft: "0.36"
                                    color: "0x143459"
                                    textAlign:
                                      y: center
                                  children:
                                    - type: image
                                      path: calendarCopy.svg
                                      style:
                                        width: "0.01"
                                        display: "inline-block"
                                    - type: label
                                      text: View all availability
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.005"
                                        fontWeight: "500"
                                        fontFamily: "Arial"
                                        textDecoration: underline
                                  onClick:
                                    - actionType: updateObject
                                      dataObject: {}
                                      dataKey: Global.Provider
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - .Global.AppointmentvisitType@: $var._source.visitType
                                          - .Global.Provider@: $var
                                    - actionType: evalObject
                                      object:
                                        - .Global.calendarDate@: =.BaseDate.calendarDate
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.AppointmentvisitType
                                                string2: "Telemedicine"
                                          - .Global.AppointmentvisitType@: 196609
                                          - .Global.AppointmentvisitType@: 131073
                                        - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =.Global.Provider._index
                                                string2: "externaldoctor_v0.1"
                                          - goto: ExternalScheduleAppointment
                                          - actionType: evalObject
                                            object:
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "doctors_v1.0"
                                                - goto: ProviderScheduleAppointment
                                                - continue
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =.Global.Provider._index
                                                      string2: "room_v0.2"
                                                - goto: RoomScheduleAppointment
                                                - continue
              
                # Footer
                - type: view
                  viewTag: tableFooter
                  style:
                    # top: "0.54"
                    width: "0.6"
                    height: "0.05"
                    display: flex
                    justifyContent: flex-end
                    alignItems: center
                  children:   
                    # Current page
                    - type: view
                      style:
                      children:
                        - type: label
                          text: "Current page:"
                          style:
                            fontSize: .Nfont.h0
                            display: "inline-block"
                            color: "#333333"
                            fontFamily: "Arial"
                            lineHeight: 5vh
                        - type: label
                          dataKey: formData.tableCurrentPage
                          style:
                            marginLeft: "0.005"
                            display: "inline-block"
                            fontSize: .Nfont.h0
                            fontWeight: "500"
                            color: "#333333"
                            lineHeight: 5vh
                    # Previous & Next
                    - type: view
                      style:
                        height: "0.05"
                        width: "0.049"
                        display: flex
                        justifyContent: space-between
                        alignItems: center
                        marginLeft: "0.01"
                      children:
                        - type: image
                          path:
                            emit:
                              actions:
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum
                                        num2: 2
                                  - grayLeft.svg
                                  - whiteLeft.svg
                          onClick:
                            - actionType: evalObject
                              object:
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum
                                        num2: 2
                                  - continue
                                  - actionType: evalObject
                                    object:
                                      - =.builtIn.number.Subtraction: 
                                          dataIn:
                                            num: =..formData.tablePageNum
                                            step: "1"
                                          dataOut: AllAppointments.formData.tablePageNum
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "Telemedicine"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 196609
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 196609
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "Office Visit"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 131073
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 131073
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "All appointments"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                - ..showListData@: =.AllAppointments.suggest.response
                                - =.builtIn.string.concat: # re-concat
                                    dataIn:
                                      - =..formData.tablePageNum # page num
                                      - " / "
                                      - =..formData.allPages # total page
                                    dataOut: AllAppointments.formData.tableCurrentPage # current page                                       
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: providerListTag  
                          
                          style:
                            width: "1.5vw"
                            height: "1.5vw"
                        - type: label
                          viewTag: pageNumView
                          dataKey: formData.tablePageNum
                          style:
                            width: "1.5vw"
                            height: "1.5vw"
                            color: "0xffffff"
                            fontSize: .Nfont.h1
                            backgroundColor: "0x2988E6"
                            borderRadius: "3px"
                            textAlign:
                              x: center
                              y: center
                        - type: image
                          path:
                            emit:
                              actions:
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum
                                        num2: =..formData.allPages
                                  - whiteRight.svg
                                  - greyRight.svg
                          onClick:
                            - actionType: evalObject
                              object:
                                .Global._nonce@:
                                  =.builtIn.math.random: "" 
                            - actionType: evalObject
                              object:
                                - if: 
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.tablePageNum
                                        num2: =..formData.allPages
                                  - actionType: evalObject
                                    object:
                                      - =.builtIn.number.addition: 
                                          dataIn:
                                            num: =..formData.tablePageNum
                                            step: "1"
                                          dataOut: AllAppointments.formData.tablePageNum # update page num
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "Telemedicine"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 196609
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 196609
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "Office Visit"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 131073
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    isType: true
                                                    type: 131073
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.AcceptType
                                              string2: "All appointments"
                                        - actionType: evalObject
                                          object:
                                            - if: 
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.searchCond
                                                    string2: ""
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..condition.cond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                              - =.builtIn.search.queryUsers:
                                                  dataIn:
                                                    cond: =..formData.searchCond
                                                    distance: =..condition.distance
                                                    pos: =..condition.pos
                                                    stime: =..condition.stime
                                                    etime: =..condition.etime
                                                    isSplitCurrent: true
                                                    pages: =..formData.tablePageNum
                                                    total: =..formData.paging
                                                    lan: =..condition.language
                                                    ins: =..condition.carrier
                                                  dataOut: AllAppointments.suggest.response
                                        - continue
                                      - ..showListData@: =.AllAppointments.suggest.response
                                      - =.builtIn.string.concat: # re-concat
                                          dataIn:
                                            - =..formData.tablePageNum # page num
                                            - " / "
                                            - =..formData.allPages # total page
                                          dataOut: AllAppointments.formData.tableCurrentPage # current page 
                                  - continue                          
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: providerListTag 
                          style:
                            width: "1.5vw"
                            height: "1.5vw"

                    
                    # Go to
                    - type: view
                      viewTag: gotoListTag
                      style:
                        width: "0.06"
                        border: 
                          style: "1"
                        display: flex
                        justifyContent: space-between
                        alignItems: center
                        marginLeft: "0.01"
                        marginRight: "0.01"
                      children:
                        - type: textField
                          viewTag: gotoView
                          dataKey: formData.gotoPageNum
                          style:
                            width: "0.025"
                            height: "1.5vw"
                            borderRadius: "3px"
                            borderWidth: "1"
                            borderColor: "0x3333334f"
                            fontSize: .Nfont.h3
                            fontWeight: "500"
                            color: "0x333333"
                        - type: button
                          text: "Go to"
                          style:
                            textDecoration: underline
                            marginLeft: "0.01"
                            border:
                              style: "1"
                            backgroundColor: "0xffffff00"
                            height: "0.025"
                            fontSize: .Nfont.h0
                            color: "#333333"
                          onClick:
                            - actionType: evalObject
                              object:
                                .Global._nonce@:
                                  =.builtIn.math.random: ""                           
                            - actionType: evalObject
                              object:
                                # gotoPageNum ?> 1
                                - if:
                                  - =.builtIn.number.less: 
                                      dataIn: 
                                        num1: =..formData.gotoPageNum
                                        num2: 1
                                  - continue
                                  - actionType: evalObject
                                    object:
                                      # gotoPageNum ?< totalPage+1
                                      - if: 
                                        - =.builtIn.number.less: 
                                            dataIn: 
                                              num1: =..formData.gotoPageNum
                                              num2: =..formData.totalPageMore
                                        - actionType: evalObject
                                          object:
                                            
                                            - =.builtIn.string.concat: # re-concat
                                                dataIn:
                                                  - =..formData.gotoPageNum # page num
                                                  - " / "
                                                  - =..formData.allPages # total page
                                                dataOut: AllAppointments.formData.tableCurrentPage # current page
                                            - ..formData.tablePageNum@: =..formData.gotoPageNum
                                            - ..formData.gotoPageNum@: ""
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.AcceptType
                                                    string2: "Telemedicine"
                                              - actionType: evalObject
                                                object:
                                                  - if: 
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.searchCond
                                                          string2: ""
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..condition.cond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          isType: true
                                                          type: 196609
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..formData.searchCond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          isType: true
                                                          type: 196609
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                              - continue
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.AcceptType
                                                    string2: "Office Visit"
                                              - actionType: evalObject
                                                object:
                                                  - if: 
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.searchCond
                                                          string2: ""
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..condition.cond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          isType: true
                                                          type: 131073
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..formData.searchCond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          isType: true
                                                          type: 131073
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                              - continue
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..formData.AcceptType
                                                    string2: "All appointments"
                                              - actionType: evalObject
                                                object:
                                                  - if: 
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.searchCond
                                                          string2: ""
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..condition.cond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                                    - =.builtIn.search.queryUsers:
                                                        dataIn:
                                                          cond: =..formData.searchCond
                                                          distance: =..condition.distance
                                                          pos: =..condition.pos
                                                          stime: =..condition.stime
                                                          etime: =..condition.etime
                                                          isSplitCurrent: true
                                                          pages: =..formData.tablePageNum
                                                          total: =..formData.paging
                                                          lan: =..condition.language
                                                          ins: =..condition.carrier
                                                        dataOut: AllAppointments.suggest.response
                                              - continue
                                            - ..showListData@: =.AllAppointments.suggest.response
                                        - ..formData.gotoPageNum@: ""       
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: providerListTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: gotoListTag 
        

        - type: view
          onClick:
          style:
            marginLeft: "0.6"
            width: "0.4"
            height: "0.745"
            top: "0.145"
          viewTag: mapTag
          children:
            - type: map
              dataKey: mapoption
              onClick:
              style:
                marginLeft: 0
                top: "0"
          
        - type: popUp
          viewTag: Search
          style:
            top: 0
            width: '1'
            height: "0.89"
            backgroundColor: "0x00000040"
            zIndex: 100
          children:
            - type: view
              style:
                top: "0"
                height: "10vw"
                left: "0"
                width: '1'
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style: 
                    width: "75vw"
                    height: "5vw"
                    margin: "auto"
                    marginTop: "2.5vw"
                    display: "flex"
                    justifyContent: "space-between"
                  children:
                    - type: view
                      style:
                        height: "5vw"
                        width: "0.7"
                        # borderRadius: "5px 0 0 5px"
                        border: 
                          style: "3"
                        borderColor: "#f4f8fa"
                        boxShadow: "0px 0px  5px 2px #f4f8fa"
                        display: "flex"
                      viewTag: SearchForm
                      children:
                        - .ViewRow:
                          style:
                            width: "18vw"
                            height: "5vw"
                            borderRight: "1px solid #F8F9FA"
                            borderWidth: "4"
                            alignItems: center
                          children:
                            - type: image
                              path: search.svg
                              style: 
                                width: "1.2vw"
                                marginLeft: "1vw"
                            - type: textField
                              dataKey: condition.cond
                              viewTag: searchTextTag
                              debounce: 500
                              onClick:
                                - actionType: popUp
                                  popUpView: searchTag
                                  dismissOnTouchOutside: true
                              onInput:
                                - actionType: evalObject
                                  object:
                                    - .AllAppointments.suggestAll.symptom_suggestion@: []
                                    - .AllAppointments.suggestAll.speciality_suggestion@: []
                                    - .AllAppointments.suggestAll.uniqSym_suggestion@: []
                                    - =.builtIn.search.suggest:
                                        dataIn:
                                          prefix: =..condition.cond
                                        dataOut: AllAppointments.suggestAll
                                    - ..condition.cond@: =..condition.cond
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: searchTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: symTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: speTag
                                - actionType: popUp
                                  popUpView: searchTag
                                  dismissOnTouchOutside: true
                              placeholder: "Condition,procedure,doctor..."
                              style:
                                width: '16vw'
                                height: "4vw"
                                marginLeft: "0.5vw"
                                fontSize: "1vw"
                                wordBreak: break-word
                                overflow: "hidden"
                                whiteSpace: "nowrap"
                                textOverflow: "ellipsis"
                            - type: popUp
                              viewTag: searchTag     
                              style:
                                minWidth: "0.28"
                                top: "5vw"   
                                height: 24vw
                                fontFamily: "Arial"
                                border: "1px solid #eeeeee"  
                                borderWidth: "1px" 
                                backgroundColor: '0xffffffff'
                                borderRadius: "5px"
                              children:
                                - type: scrollView
                                  style:
                                    minWidth: "0.2"
                                    height: 24vw
                                    margin: "1vw"
                                  children:
                                    - .SearchProviderView: 
                                      children: 
                                        - .SPlabel_c:
                                          text: Symptoms
                                        - type: list
                                          contentType: listObject
                                          listObject: =..suggestAll.uniqSym_suggestion
                                          iteratorVar: itemObject
                                          viewTag: symTag
                                          style:
                                            minWidth: "0.2"
                                            height: "auto"
                                            margin: "0"
                                            marginTop: "0"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: '0xffecf1cd'
                                              onMouseEnter:
                                                - emit: 
                                                    dataKey: 
                                                      var: itemObject
                                                    actions: 
                                                      - ..condition.cond@: $var
                                                      - ..formData.searchInfo@: $var
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: searchTextTag
                                              style: 
                                                backgroundColor: "0xffffff"
                                                minWidth: "0.2"
                                                marginTop: "0.01"
                                              children:
                                                - type: label
                                                  highlightKey: condition.cond
                                                  highlightStyle:
                                                    color: "#FF6666"
                                                  dataKey: itemObject
                                                  style:
                                                    minWidth: "0.2"
                                                    textAlign: 
                                                      x: left
                                                      y: center
                                                    height: auto
                                                    fontSize: .Nfont.h1
                                                    color: '0x333333'
                                                    fontFamily: 'Arial'
                                                    fontWeight: Regular
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.cond@: $var
                                                          - ..formData.searchInfo@: $var
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: SearchForm
                                    - .SearchProviderView: 
                                      children: 
                                        - .SPlabel_c:
                                          text: Specialties
                                        - type: list
                                          contentType: listObject
                                          listObject: =..suggestAll.speciality_suggestion
                                          iteratorVar: itemObject
                                          viewTag: speTag
                                          style:
                                            minWidth: "0.2"
                                            height: "auto"
                                            margin: "0"
                                            marginTop: "0"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: "0xffecf1cd"
                                              onMouseEnter:
                                                - emit: 
                                                    dataKey: 
                                                      var: itemObject
                                                    actions: 
                                                      - ..condition.cond@: $var.text
                                                      - ..formData.searchInfo@: $var.text
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: searchTextTag
                                              style: 
                                                minWidth: "0.2"
                                                height: "auto"
                                                backgroundColor: "0xffffff"
                                                marginTop: "0.01"
                                              children:
                                                - type: label
                                                  highlightKey: condition.cond
                                                  highlightStyle:
                                                    color: "#FF6666"
                                                  dataKey: itemObject.text
                                                  style:
                                                    fontFamily: 'Arial'
                                                    fontSize: .Nfont.h1
                                                    color: '0x333333'
                                                    height: auto
                                                    minWidth: "0.2"
                                                    fontWeight: Regular
                                                    textAlign: 
                                                      x: left
                                                      y: center
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.cond@: $var.text
                                                          - ..formData.searchInfo@: $var.text
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: SearchForm
                                    - type: view
                                      style: 
                                        marginTop: "0"
                                        height: "0.03"
                            
                        - .ViewRow:
                          style:
                            width: "15vw"
                            height: "5vw"
                            borderRight: "1px solid #F8F9FA"
                            borderWidth: "4"
                            alignItems: center
                          children:
                            - type: image
                              path: location.svg
                              style: 
                                width: "1.2vw"
                                marginLeft: "1vw"
                            - type: textField
                              viewTag: searchAddressTag
                              dataKey: condition.pos
                              placeholder: "City,state,or zip code"
                              debounce: 500
                              style:
                                width: "12vw"
                                height: "4vw"
                                marginLeft: "0.5vw"
                                fontSize: "1vw"
                              onClick:
                                - actionType: popUp
                                  popUpView: addressTag
                                  dismissOnTouchOutside: true
                              onInput:
                                - actionType: evalObject
                                  object:
                                    - .AllAppointments.suggestAddress@: []
                                    - =.builtIn.search.suggestAddress:
                                        dataIn:
                                          query: =..condition.pos
                                        dataOut: AllAppointments.suggestAddress
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: addressTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: adressListTag
                                - actionType: popUp
                                  popUpView: addressTag
                                  dismissOnTouchOutside: true
                            - type: popUp 
                              viewTag: addressTag
                              # onMouseLeave:
                              #   - actionType: popUpDismiss
                              #     popUpView: addressTag
                              style:
                                minWidth: '0.23'
                                top: "5vw"   
                                # height: "0.18"
                                fontFamily: "Arial"
                                border: "1px solid #eeeeee"  
                                borderWidth: "1px"
                                zIndex: 100
                                backgroundColor: 'white'
                              children:
                                - type: scrollView
                                  style:
                                    minWidth: '0.23'
                                    margin: "0.5vw" 
                                    height: "0.15"
                                  children:
                                    - .SearchProviderView: 
                                      viewTag: adressListTag
                                      children: 
                                        - type: list
                                          contentType: listObject
                                          listObject: =..suggestAddress
                                          iteratorVar: itemObject
                                          style:
                                            minWidth: '0.23'     
                                            left: '0'
                                            height: "auto"
                                            margin: "0"
                                            marginTop: "0"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: "0xffecf1cd"
                                              onMouseEnter:
                                                - emit: 
                                                    dataKey: 
                                                      var: itemObject
                                                    actions: 
                                                      - ..condition.pos@: $var.place_name
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: searchAddressTag
                                              style: 
                                                backgroundColor: "0xffffff"
                                                minWidth: '0.23'
                                              children:
                                                - type: label
                                                  highlightKey: condition.pos
                                                  highlightStyle:
                                                        color: "#FF6666"
                                                  dataKey: itemObject.place_name
                                                  style:
                                                    minWidth: "0.2"
                                                    textAlign: 
                                                      x: left
                                                      y: center
                                                    height: auto
                                                    fontSize: 1.2vw
                                                    color: '0x143459'
                                                    fontFamily: 'Arial'
                                                    fontWeight: Regular
                                                    whiteSpace: "nowrap"
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.pos@: $var.place_name
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: searchAddressTag

                        - .ViewRow:
                          style:
                            width: "10vw"
                            height: "5vw"
                            borderRight: "1px solid #F8F9FA"
                            borderWidth: "4"
                            alignItems: center
                          children:
                            - type: image
                              path: "calendarCopy.svg"
                              style:
                                width: "1.2vw"
                                marginLeft: "1vw"
                            
                            - type: textField
                              placeholder: "Today"
                              dataKey: BaseDate.calendarDate.todayDate
                              style:
                                width: "7vw"
                                height: "4vw"
                                marginLeft: "0.5vw"
                                fontSize: "1vw"
                              onClick:
                                - actionType: popUp
                                  popUpView: startDateTag
                                  # dismissOnTouchOutside: true
                            
                        - .ViewRow:
                          style:
                            width: "11vw"
                            height: "5vw"
                            borderRight: "1px solid #F8F9FA"
                            borderWidth: "4"
                            alignItems: center
                          children:
                            - type: image
                              path: insurance.svg
                              style: 
                                width: "1.2vw"
                                marginLeft: "1vw"
                            - type: textField
                              placeholder: Pay for myself
                              dataKey: condition.carrier
                              debounce: 200
                              viewTag: "Carrier"
                              style:
                                width: "8vw"
                                height: "4vw"
                                marginLeft: "0.5vw"
                                fontSize: "1vw"
                              onClick:
                                - actionType: popUp
                                  popUpView: insuranceTest
                                  dismissOnTouchOutside: true
                              onInput:
                                - actionType: evalObject
                                  object:
                                    - .AllAppointments.realInsurance@: []
                                    - =.builtIn.search.queryIns:
                                        dataIn:
                                          ins: =..condition.carrier
                                        dataOut: AllAppointments.insuranceResponse
                                    - ..realInsurance@: =..insuranceResponse.suggest.ins.0.options
                                - actionType: popUpDismiss
                                  popUpView: insuranceTest
                                - actionType: popUp
                                  popUpView: insurance
                                  dismissOnTouchOutside: true
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: newInsurance
                            - type: popUp
                              viewTag: insuranceTest
                              style:
                                left: "0vw"
                                top: "5vw"
                                width: "20.5vw"
                                height: "22vw" 
                                border: "1px solid #eeeeee"  
                                borderWidth: "1px" 
                                backgroundColor: 'white'
                                borderRadius: "5px" 
                                zIndex: 100      
                              children:
                                - type: view
                                  style:
                                    width: "18vw"
                                    fontFamily: 'Arial'
                                    fontSize: .Nfont.h0_1
                                    color: '0x333333'
                                    margin: "auto"
                                  children:
                                    - type: label
                                      text: "I'm paying for myself"
                                      style:
                                        marginTop: "0.012"
                                      hover:
                                        backgroundColor: "0xffecf1cd"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..condition.carrier@: "I'm paying for myself"
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: SearchForm
                                    - type: label
                                      text: "I'll choose my insurance later"
                                      style:
                                        marginTop: "0.012"
                                      hover:
                                        backgroundColor: "0xffecf1cd"
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - ..condition.carrier@: "I'll choose my insurance later"
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: SearchForm
                                - type: scrollView
                                  style:
                                    width: "18vw"
                                    height: "22vw"
                                    margin: "auto"
                                    # backgroundColor: red
                                  children:
                                    - .SearchProviderView: 
                                      viewTag: newInsurance
                                      children: 
                                        - .SPlabel_c:
                                          text: Popular carriers
                                        - type: list
                                          contentType: listObject
                                          listObject: ..popularIns
                                          iteratorVar: itemObject
                                          style:
                                            width: "18vw"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: "0xffecf1cd"
                                              style: 
                                                left: '0'
                                                marginTop: "0.01"
                                              children:
                                                - type: label
                                                  dataKey: itemObject
                                                  style:
                                                    fontFamily: 'Arial'
                                                    fontSize: .Nfont.h0_1
                                                    color: '0x333333'
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.carrier@: $var
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: SearchForm    
                            - type: popUp
                              viewTag: insurance
                              style:
                                left: "0vw"
                                top: "5vw"
                                width: "20.5vw"
                                height: "22vw" 
                                border: "1px solid #eeeeee"  
                                borderWidth: "1px" 
                                backgroundColor: 'white'
                                borderRadius: "5px" 
                                zIndex: 100      
                              children:
                                - type: scrollView
                                  style:
                                    width: "18vw"
                                    height: "20vw"
                                    margin: "auto"
                                    # backgroundColor: red
                                  children:
                                    - .SearchProviderView: 
                                      viewTag: newInsurance
                                      children: 
                                        - type: list
                                          contentType: listObject
                                          listObject: ..realInsurance
                                          iteratorVar: itemObject
                                          style:
                                            width: "18vw"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: "0xffecf1cd"
                                              style: 
                                                left: '0'
                                                marginTop: "0.01"
                                              children:
                                                - type: label
                                                  dataKey: itemObject.text
                                                  style:
                                                    fontFamily: 'Arial'
                                                    fontSize: .Nfont.h0_1
                                                    color: '0x333333'
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.carrier@: $var.text
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: SearchForm    

        
                        - .ViewRow:
                          style:
                            width: "10vw"
                            height: "5vw"
                            alignItems: center
                          children:
                            - type: image
                              path: language.svg
                              style: 
                                width: "1.2vw"
                                marginLeft: "1vw"
                            - type: textField
                              placeholder: Language
                              dataKey: condition.language
                              debounce: 200
                              viewTag: "Carrier"
                              style:
                                width: "7vw"
                                height: "4vw"
                                marginLeft: "0.5vw"
                                fontSize: "1vw"
                                color: "0x143459"
                              onClick:
                                - actionType: popUp
                                  popUpView: languageTag
                                  dismissOnTouchOutside: true
                            - type: popUp
                              viewTag: languageTag
                              style:
                                left: "0vw"
                                top: "5vw"
                                width: "20.5vw"
                                height: "20vw" 
                                border: "1px solid #eeeeee"  
                                borderWidth: "1px" 
                                backgroundColor: 'white'
                                borderRadius: "5px" 
                                zIndex: 100      
                              children:
                                - type: scrollView
                                  style:
                                    width: "18vw"
                                    height: "20vw"
                                    margin: "auto"
                                    # backgroundColor: red
                                  children:
                                    - .SearchProviderView: 
                                      viewTag: newInsurance
                                      children: 
                                        - .SPlabel_c:
                                          text: Popular languages
                                        - type: list
                                          contentType: listObject
                                          listObject: ..formDataTemp.languages
                                          iteratorVar: itemObject
                                          style:
                                            width: "18vw"
                                          children: 
                                            - type: listItem
                                              itemObject: ''
                                              hover:
                                                backgroundColor: "0xffecf1cd"
                                              # onMouseEnter:
                                              #   - emit: 
                                              #       dataKey: 
                                              #         var: itemObject
                                              #       actions: 
                                              #         - ..condition.language@: $var
                                              #   - actionType: builtIn
                                              #     funcName: redraw
                                              #     viewTag: SearchForm
                                              style: 
                                                left: '0'
                                                width: "0.187"
                                                marginTop: "0.01"
                                              children:
                                                - type: label
                                                  dataKey: itemObject
                                                  style:
                                                    width: "0.187"
                                                    fontFamily: 'Arial'
                                                    fontSize: .Nfont.h1
                                                    color: '0x333333'
                                                  onClick: 
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..condition.language@: $var
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: SearchForm    

        
                        - type: image
                          path: searchSquare.svg
                          onClick:
                            - actionType: evalObject
                              object: 
                                # - ..condition.cond@: =..formData.searchInfo
                                - ..formData.specialtyStr@: ""
                                - ..listdata@: []
                                - ..suggest.response@: []
                                # 当insurance为前两项，默认为空
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..condition.carrier
                                        string2: "I'm paying for myself"
                                  - ..condition.carrier@: ""
                                  - continue
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..condition.carrier
                                        string2: "I'll choose my insurance later"
                                  - ..condition.carrier@: ""
                                  - continue
                                - if:
                                  - =.builtIn.array.judgeListLength:
                                      dataIn:
                                        array: =..suggestAll.symptom_suggestion
                                        len: 0
                                  - continue
                                  - =.builtIn.string.parseSpliceString:
                                      dataIn:
                                          value: =..condition.cond
                                          objArr: =..suggestAll.symptom_suggestion
                                      dataOut: SearchProvider.formData.searchCond
                                - ..formData.tablePageNum@: '1'
                                # 恢复筛选初始状态
                                - ..formDataTemp.TypeName@: =..formDataTemp.CopyTpeName
                                - if: 
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..formData.searchCond
                                        string2: ""
                                  - actionType: evalObject
                                    object:
                                      - =.builtIn.search.queryTotals:
                                          dataIn:
                                            cond: =..condition.cond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.formData.paging
                                      - =.builtIn.search.queryUsers:
                                          dataIn:
                                            cond: =..condition.cond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            pages: =..formData.tablePageNum
                                            total: =..formData.paging
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.suggest.response
                                      - =.builtIn.search.querySpecialty:
                                          dataIn:
                                            cond: =..condition.cond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.formData.suggest
                                  - actionType: evalObject
                                    object:
                                      - =.builtIn.search.queryTotals:
                                          dataIn:
                                            cond: =..formData.searchCond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.formData.paging
                                      - =.builtIn.search.queryUsers:
                                          dataIn:
                                            cond: =..formData.searchCond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            pages: =..formData.tablePageNum
                                            total: =..formData.paging
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.suggest.response
                                      - =.builtIn.search.querySpecialty:
                                          dataIn:
                                            cond: =..formData.searchCond
                                            distance: =..condition.distance
                                            pos: =..condition.pos
                                            stime: =..condition.stime
                                            etime: =..condition.etime
                                            isSplitCurrent: true
                                            lan: =..condition.language
                                            ins: =..condition.carrier
                                          dataOut: AllAppointments.formData.suggest
                          
                            - actionType: evalObject
                              object: 
                                - =.builtIn.utils.addArrayValue:
                                    dataIn:
                                      array: =..formData.paging
                                    dataOut: AllAppointments.providerNumber
                            - actionType: evalObject
                              object:
                                - =.builtIn.string.concat:
                                    dataIn:
                                      - =..providerNumber
                                      - " Providers"
                                    dataOut: AllAppointments.providerNumberSting
                        
                                - =.builtIn.number.pagingFax: 
                                    dataIn:
                                      value1: =..providerNumber
                                      value2: 10
                                    dataOut: AllAppointments.formData.allPages
                                - =.builtIn.string.concat:
                                    dataIn:
                                      - =..formData.tablePageNum # page num
                                      - " / "
                                      - =..formData.allPages # total page
                                    dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                                - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                                    dataIn:
                                      num: =..formData.allPages
                                      step: "1"
                                    dataOut: AllAppointments.formData.totalPageMore # update page num
                            - actionType: evalObject
                              object:
                                - .Global.totals@: =.AllAppointments.formData.paging
                                - .Global.condtion@: =.AllAppointments.condition
                                - .Global.specialties@: =..formData.suggest
                            - actionType: evalObject
                              object: 
                                - ..showListData@: =.AllAppointments.suggest.response
                                - .Global.search@: =.AllAppointments.suggest.response
                            # - actionType: evalObject
                            #   object:
                            #     - .AllAppointments.showListData@: =.Global.search
                                
                                # - =.builtIn.search.processingSearchData:
                                #     dataIn:
                                #       object: =..listdata
                                #     dataOut: AllAppointments.listdata
                                # - =.builtIn.search.CountObj:
                                #     dataIn:
                                #       objArr: =..listdata
                                #     dataOut: AllAppointments.showListData
                            - actionType: evalObject
                              object:
                                - =.builtIn.search.GetAllLonAndLatNew:
                                    dataIn:
                                      object: =.AllAppointments.showListData
                                    dataOut: AllAppointments.format
                                - if:
                                    - =.AllAppointments.format
                                    - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                    - continue
                            - actionType: evalObject
                              object:
                                - =.builtIn.date.ShowDateByNumber:
                                    dataIn:
                                      year: =.BaseDate.calendarDate.year
                                      month: =.BaseDate.calendarDate.month
                                      day: =.BaseDate.calendarDate.day
                                      abbreBool: true
                                    dataOut: AllAppointments.selectDate
                            - actionType: evalObject
                              object:
                                - .Global.isCreateAppointment@: true
                            # - actionType: evalObject
                            #   object:
                            #     - =.builtIn.goto:
                            #         dataIn:
                            #           destination: AllAppointments
                            #           pageReload: true
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: listNameData
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: suggestSelectTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: mapTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: providerListTag
                            - actionType: popUpDismiss
                              popUpView: Search
                            - actionType: popUpDismiss
                              popUpView: startDateTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: Specialty
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: lengthTag
                          style:
                            width: 7.5vw
                            left: 0.5vw
                    - type: image
                      path: deleteSearch.svg
                      style:
                        width: "1.3vw"
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: Search
                        - actionType: popUpDismiss
                          popUpView: startDateTag


        - type: popUp
          viewTag: startDateTag
          style:
            top: "0"
            backgroundColor: "0x1e1e1e20"
            height: "1"
            width: "1"
            zIndex: "1000"
            left: none
            position: fixed
          children:
            - .BaseDate.calendar:
              viewTag: calendarTag
              children:
                - .BaseDate.calendarHeader:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn: 
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - if:
                          - =.builtIn.math.greater:
                              dataIn:
                                num1: =.BaseDate.calendarDate.todayStamp.end
                                num2: =.BaseDate.calendarDate.nowTimeStamp
                          - continue
                          - actionType: popUp
                            popUpView: judgeTime1
                            wait: true
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn:
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseDate.calendarDate.year
                              month: =.BaseDate.calendarDate.month
                              day: =.BaseDate.calendarDate.day
                              abbreBool: true
                            dataOut: AllAppointments.selectDate
                        - .AllAppointments.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .AllAppointments.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - .Global.condtion.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .Global.condtion.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - .Global.calendarDate@: =.BaseDate.calendarDate
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - "(stime<="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " OR "
                              - "stime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " OR "
                              - "stime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - ")"
                              - " AND "
                              - "subtype&0xff = 1"
                            dataOut: Global.Scondition
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: SearchForm
                    - actionType: popUpDismiss
                      popUpView: startDateTag

        - type: popUp
          viewTag: Specialty
          style:
            top: "0"
            width: "1"
            # left: "0.11"
            height: "0.89"
            zIndex: 1000
            backgroundColor: "0x00000040"
          children:
            - type: view
              style:
                marginTop: "0.12"
                marginLeft: "0.2"
                width: "0.22"
                height: "0.5"
                fontFamily: "Arial"
                border: "1px solid #eeeeee"  
                borderWidth: "1px" 
                backgroundColor: 'white'
                borderRadius: "5px"
                overflow: auto
              children:
                - type: view
                  style:
                    marginTop: "0"
                    # marginTop: "0"
                    width: "0.22"
                  viewTag: suggestSelectTag
                  children:
                    - .ViewRow:
                      style: 
                        width: "0.2"
                        marginTop: "0.015"
                      children:
                        - type: label
                          text: All specialties
                          style:
                            marginLeft: "0.01"
                            width: "0.185"
                            color: "0x143459"
                            fontSize: "2.1vh"
                            fontWeight: "600"
                            textAlign:
                              x: left
                        - type: image
                          path: deleteSearch.svg
                          style:
                            width: "0.8vw"
                          onClick:
                            - actionType: popUpDismiss
                              popUpView: Specialty
                    - type: scrollView
                      style:
                        width: "0.20"
                        height: "0.42"
                        marginTop: "0.005"
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..formData.suggest
                          iteratorVar: itemObject
                          style:
                            left: "0"
                            width: "0.20"
                            marginTop: "0"
                            justifyContent: "space-between"        
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                width: "0.20"
                                marginLeft: "0.01"
                                marginTop: "0.01"
                                height: "0.025"
                              children:
                                - type: image
                                  viewTag: select
                                  style:
                                    display: "inline-block"
                                    height: "0.015"
                                  path:
                                    emit:
                                      dataKey:
                                        var: itemObject
                                      actions:
                                        - if:
                                          - =.builtIn.array.has:
                                              dataIn:
                                                object: =..listdata
                                                value: $var
                                          - selectOnblue.svg
                                          - selectBlack.svg
                                  onClick:
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions: 
                                          - if:
                                            - =.builtIn.array.has:
                                                dataIn:
                                                  object: =..listdata
                                                  value: $var
                                            - =.builtIn.array.removeByValue:
                                                dataIn:
                                                  object: =..listdata
                                                  value: $var
                                            - =.builtIn.array.add:
                                                dataIn:
                                                  object: =..listdata
                                                  value: $var
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: suggestSelectTag
                                - .SelectCon:
                                  dataKey: itemObject
                                  style:
                                    width: "0.18"
                                    display: "inline-block"
                                    marginLeft: "0.005"
                                    textAlign:
                                      y: center
                                # - .SelectNumber:
                                #   style:
                                #     width: "0.01"
                                #     display: "inline-block"
                                #   dataKey: itemObject.num
                                  
                
                - type: view
                  style:
                    width: "0.2"
                  children:
                    - type: button
                      text: Clear
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..formData.tablePageNum@: '1'
                            - ..formData.specialtyStr@: ""
                            - ..listdata@: []
                            - ..condition.cond@: =..formData.searchInfo
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "Telemedicine"
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        isType: true
                                        type: 196609
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        isType: true
                                        type: 196609
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest
                              - continue  
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "Office Visit"
                              - actionType: evalObject
                                object: 
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        isType: true
                                        type: 131073
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        isType: true
                                        type: 131073
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest
                              - continue
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "All appointments"
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest  
                              - continue
                        - actionType: evalObject
                          object: 
                            - =.builtIn.utils.addArrayValue:
                                dataIn:
                                  array: =..formData.paging
                                dataOut: AllAppointments.providerNumber
                        - actionType: evalObject
                          object:
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..providerNumber
                                  - " Providers"
                                dataOut: AllAppointments.providerNumberSting
                    
                            - =.builtIn.number.pagingFax: 
                                dataIn:
                                  value1: =..providerNumber
                                  value2: 10
                                dataOut: AllAppointments.formData.allPages
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.tablePageNum # page num
                                  - " / "
                                  - =..formData.allPages # total page
                                dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                            - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                                dataIn:
                                  num: =..formData.allPages
                                  step: "1"
                                dataOut: AllAppointments.formData.totalPageMore # update page num
                        - actionType: evalObject
                          object: 
                            - .Global.totals@: =.AllAppointments.formData.paging
                            # - .Global.search@: =.AllAppointments.suggest.response
                            # - .AllAppointments.showListData@: =.Global.search
                            - ..showListData@: =.AllAppointments.suggest.response
                            # 获取地图
                            - =.builtIn.search.GetAllLonAndLatNew:
                                dataIn:
                                  object: =.AllAppointments.showListData
                                dataOut: AllAppointments.format
                            - if:
                                - =.AllAppointments.format
                                - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                - continue
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: mapTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: suggestSelectTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: providerListTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: lengthTag 
                        - actionType: popUpDismiss
                          popUpView: Specialty
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: Specialty
                      style:
                        width: "0.04"
                        height: "0.025"
                        marginLeft: "0.12"
                        color: "0x2988E6"
                        fontSize: .Nfont.h0
                        borderRadius: "5px"
                        backgroundColor: "0xffffff"
                        textAlign:
                          x: center
                    - type: button
                      text: Apply
                      style:
                        width: "0.04"
                        height: "0.025"
                        backgroundColor: "0x2988E6"
                        color: "0xffffff"
                        fontSize: .Nfont.h0
                        borderRadius: "5px"
                        textAlign:
                          x: center
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..formData.tablePageNum@: '1'
                            - =.builtIn.array.formatStringFill:
                                dataIn:
                                  strArr: =..listdata
                                  sfill: " "
                                dataOut: AllAppointments.formData.specialtyStr
                            - ..condition.cond@: =..formData.specialtyStr
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "Telemedicine"
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        isType: true
                                        type: 196609
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        isType: true
                                        type: 196609
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest
                              - continue  
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "Office Visit"
                              - actionType: evalObject
                                object: 
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        isType: true
                                        type: 131073
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        isType: true
                                        type: 131073
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest
                              - continue
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.AcceptType
                                    string2: "All appointments"
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: =..formData.tablePageNum
                                        total: =..formData.paging
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: AllAppointments.formData.suggest  
                              - continue
                        - actionType: evalObject
                          object: 
                            - =.builtIn.utils.addArrayValue:
                                dataIn:
                                  array: =..formData.paging
                                dataOut: AllAppointments.providerNumber
                        - actionType: evalObject
                          object:
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..providerNumber
                                  - " Providers"
                                dataOut: AllAppointments.providerNumberSting
                    
                            - =.builtIn.number.pagingFax: 
                                dataIn:
                                  value1: =..providerNumber
                                  value2: 10
                                dataOut: AllAppointments.formData.allPages
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.tablePageNum # page num
                                  - " / "
                                  - =..formData.allPages # total page
                                dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                            - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                                dataIn:
                                  num: =..formData.allPages
                                  step: "1"
                                dataOut: AllAppointments.formData.totalPageMore # update page num
                        - actionType: evalObject
                          object: 
                            - .Global.totals@: =.AllAppointments.formData.paging
                            # - .Global.search@: =.AllAppointments.suggest.response
                            # - .AllAppointments.showListData@: =.Global.search
                            - ..showListData@: =.AllAppointments.suggest.response
                            # 获取地图
                            - =.builtIn.search.GetAllLonAndLatNew:
                                dataIn:
                                  object: =.AllAppointments.showListData
                                dataOut: AllAppointments.format
                            - if:
                                - =.AllAppointments.format
                                - .AllAppointments.mapoption.data@: =.AllAppointments.format
                                - continue
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: mapTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: providerListTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: lengthTag 
                        - actionType: popUpDismiss
                          popUpView: Specialty

       
      
        
          
        - type: popUp
          viewTag: birthDate2Tag
          style:
            top: "0"
            width: "1"
            height: "1" 
            zIndex: "10000"
            backgroundColor: "0x00000040"
            left: "0.056"
            position: fixed
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarHeader:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn: 
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - if:
                          - =.builtIn.math.greater:
                              dataIn:
                                num1: =.BaseDate.calendarDate.todayStamp.end
                                num2: =.BaseDate.calendarDate.nowTimeStamp
                          - continue
                          - actionType: popUp
                            popUpView: judgeTime1
                            wait: true
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn:
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - =.builtIn.date.ShowDateByNumber:
                            dataIn:
                              year: =.BaseDate.calendarDate.year
                              month: =.BaseDate.calendarDate.month
                              day: =.BaseDate.calendarDate.day
                              abbreBool: true
                            dataOut: AllAppointments.selectDate
                        - .AllAppointments.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .AllAppointments.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - .Global.condtion.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .Global.condtion.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - .Global.calendarDate@: =.BaseDate.calendarDate
                        - ..formData.tablePageNum@: '1'
                        # 恢复筛选初始状态
                        - ..formDataTemp.TypeName@: =..formDataTemp.CopyTpeName
                        - ..condition.cond@: =..formData.searchInfo
                        - ..formData.specialtyStr@: ""
                        - ..listdata@: []
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - "(stime<="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " OR "
                              - "stime>="
                              - =.BaseDate.calendarDate.todayStamp.start
                              - " AND "
                              - "etime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " OR "
                              - "stime<="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - " AND "
                              - "etime>="
                              - =.BaseDate.calendarDate.todayStamp.end
                              - ")"
                              - " AND "
                              - "subtype&0xff = 1"
                            dataOut: Global.Scondition
                        - if: 
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: =..formData.searchCond
                                string2: ""
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..condition.cond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                          - actionType: evalObject
                            object:
                              - =.builtIn.search.queryTotals:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.paging
                              - =.builtIn.search.queryUsers:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    pages: =..formData.tablePageNum
                                    total: =..formData.paging
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.suggest.response
                              - =.builtIn.search.querySpecialty:
                                  dataIn:
                                    cond: =..formData.searchCond
                                    distance: =..condition.distance
                                    pos: =..condition.pos
                                    stime: =..condition.stime
                                    etime: =..condition.etime
                                    isSplitCurrent: true
                                    lan: =..condition.language
                                    ins: =..condition.carrier
                                  dataOut: AllAppointments.formData.suggest
                    - actionType: evalObject
                      object: 
                        - =.builtIn.utils.addArrayValue:
                            dataIn:
                              array: =..formData.paging
                            dataOut: AllAppointments.providerNumber
                    - actionType: evalObject
                      object:
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..providerNumber
                              - " Providers"
                            dataOut: AllAppointments.providerNumberSting
                
                        - =.builtIn.number.pagingFax: 
                            dataIn:
                              value1: =..providerNumber
                              value2: 10
                            dataOut: AllAppointments.formData.allPages
                        - =.builtIn.string.concat:
                            dataIn:
                              - =..formData.tablePageNum # page num
                              - " / "
                              - =..formData.allPages # total page
                            dataOut: AllAppointments.formData.tableCurrentPage # current page                           
                        - =.builtIn.number.addition: # get totalPage+1 to verify legitimacy of gotoPageNum
                            dataIn:
                              num: =..formData.allPages
                              step: "1"
                            dataOut: AllAppointments.formData.totalPageMore # update page num
                    - actionType: evalObject
                      object: 
                        - .Global.condtion@: =.AllAppointments.condition
                        - .Global.search@: =.AllAppointments.suggest.response
                        - .Global.specialties@: =..formData.suggest
                        # - .AllAppointments.showListData@: =.Global.search
                        - .Global.totals@: =.AllAppointments.formData.paging
                        - ..showListData@: =.AllAppointments.suggest.response
                        # 获取地图
                        - =.builtIn.search.GetAllLonAndLatNew:
                            dataIn:
                              object: =.AllAppointments.showListData
                            dataOut: AllAppointments.format
                        - if:
                            - =.AllAppointments.format
                            - .AllAppointments.mapoption.data@: =.AllAppointments.format
                            - continue
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: listNameData
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: showBirth
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Specialty
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: Search
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectedDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: mapTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: lengthTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectDate2Tag
                    - actionType: popUpDismiss
                      popUpView: birthDate2Tag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: suggestSelectTag
        
        # 判断时间
        - .BaseWarningViewOne: 
          viewTag: judgeTime1  
          style:
            width: "1"
          msg2: "The time before today cannot be selected. Please select the correct time! ! !"
          onClick:
            - actionType: evalObject #IOS use calendar init
              object: 
                - =.builtIn.date.getMonth:
                    dataIn: 
                    dataOut: BaseDate.calendarDate.month
                - =.builtIn.date.getYear: 
                    dataIn: 
                    dataOut: BaseDate.calendarDate.year
                - =.builtIn.date.getDate: 
                    dataIn: 
                    dataOut: BaseDate.calendarDate.day   
            - actionType: evalObject  
              object:
                - =.builtIn.date.calendarArray:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      today: =.BaseDate.calendarDate.day
                    dataOut: BaseDate.calendarDate.dayLable
                - =.builtIn.date.miniWeeklyCalendarArray:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      today: =.BaseDate.calendarDate.day
                      markDay: =.BaseDate.calendarDate.day
                      color: "0x000000"
                      backgroundColor: "0xFFFFFF6f"
                      todayColor: "0xffffff"
                      todayBackgroundColor: "0x2988E6"
                    dataOut: BaseDate.calendarDate.minidayLable
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
                - =.builtIn.date.ShowDateByNumber:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      day: =.BaseDate.calendarDate.day
                      formatType: "Y-M-D"
                    dataOut: BaseDate.calendarDate.todayDate
            - actionType: builtIn
              funcName: redraw
              viewTag: startDateTag 
            - actionType: builtIn
              funcName: redraw
              viewTag: birthDate2Tag  
            - actionType: popUpDismiss
              popUpView: judgeTime1
