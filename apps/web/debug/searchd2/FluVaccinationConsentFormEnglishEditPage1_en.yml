FluVaccinationConsentFormEnglishEditPage1:
  title: Flu Vaccination Consent Form
  init: #Page initialization
    - actionType: evalObject  #android use calendar init
      object: 
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 80
              next: 10
            dataOut: BaseComponents.year
    - actionType: evalObject #android use calendar init
      object: 
        .BaseComponents.getDate
    - actionType: evalObject #android use calendar init
      object: 
        .BaseComponents.getShow 
    - actionType: evalObject #IOS use calendar init
      object: 
        - =.builtIn.date.getMonth:
            dataIn: 
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.month
        - =.builtIn.date.getYear: 
            dataIn: 
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.year
        - =.builtIn.date.getDate: 
            dataIn: 
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.day   
    - actionType: evalObject  
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.year
              month: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.month
              today: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.day
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.month
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.year
              month: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.month
              day: =.FluVaccinationConsentFormEnglishEditPage1.calendarDate.day
              formatType: "Y-M-D"
            dataOut: FluVaccinationConsentFormEnglishEditPage1.calendarDate.todayDate
    - ..profile.docAPI.get
    - if:
      - =..profile.docResponse.doc.0
      - actionType: evalObject
        object:
          - ..profile.patientdocument@: =..profile.docResponse.doc.0
          - =.builtIn.utils.prepareDoc:
              dataIn:
                doc: =..profile.docResponse.doc.0
              dataOut: SearchProvider.profile.patientdocument
      - continue
    - =.builtIn.string.concat:
        dataIn:
          - =.Global.currentUser.vertex.name.fullName
        dataOut: FluVaccinationConsentFormEnglishEditPage1.apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.providerInfo.providerFullName
    - if:
      - =.Global.formData.fluVaccinationConsentFormEnglish.doc
      - ..apiRequest.fluVaccinationConsentFormEnglish.docReq@: =.Global.formData.fluVaccinationConsentFormEnglish.doc
      - =..apiRequest.fluVaccinationConsentFormEnglish.docAPI.store: ""
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.patientName@: =..profile.patientdocument.name.data.basicInfo.fullName
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.dob@: =..profile.patientdocument.name.data.basicInfo.dateOfBirth
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.phone@: =..profile.patientdocument.name.data.basicInfo.phone
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.city@: =..profile.patientdocument.name.data.contactInfo.address.city
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.state@: =..profile.patientdocument.name.data.contactInfo.address.state
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.zipCode@: =..profile.patientdocument.name.data.contactInfo.address.zipCode
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.email@: =..profile.patientdocument.name.data.contactInfo.email
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.county@: =..profile.patientdocument.name.data.contactInfo.address.county
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.fullAddress@: =..profile.patientdocument.name.data.contactInfo.address.fullAddress
    - if:
      - =..profile.patientdocument.name.data.contactInfo.address.line
      - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.line@: =..profile.patientdocument.name.data.contactInfo.address.line
      - continue
    - if:
      - =..profile.patientdocument.name.data.contactInfo.address.secondLine
      - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.secondLine@: =..profile.patientdocument.name.data.contactInfo.address.secondLine
      - continue
    
    - if:
      - =.builtIn.string.equal:
          dataIn:
            string1: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentOne.isRequired
            string2: ""
      - continue
      - ..formData.selectStatusOne.Vaccination.isRequired@: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentOne.isRequired
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentTwo.isRequired
              string2: ""
        - continue
        - ..formData.selectStatusTwo.Vaccination.isRequired@: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentTwo.isRequired
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentThree.isRequired
              string2: ""
        - continue
        - ..formData.selectStatusThree.Vaccination.isRequired@: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentThree.isRequired
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentFour.isRequired
              string2: ""
        - continue
        - ..formData.selectStatusFour.Vaccination.isRequired@: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentFour.isRequired
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.VaccinationConsentFour.certifyCheck
              string2: ""
        - continue
        - ..formDataTemp.isClaimsAd@: =.Global.formData.fluVaccinationConsentFormEnglish.doc.name.data.fluVaccinationInfo.certifyCheck
    - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.examDate@: =.Global.clock.stime
  formData: #Input data here
    doc: ""
    flag: "none"
    whetherSign: true
    companyName: ""
    temporarySignature: ""
    selectStatusOne:
      Vaccination:
        isRequired: ""
    selectStatusTwo:
      Vaccination:
        isRequired: ""
    selectStatusThree:
      Vaccination:
        isRequired: ""
    selectStatusFour:
      Vaccination:
        isRequired: ""
    selectStatusInjection:
      # isRequired: false
      isRequired: ""
  formDataTemp: #Input data temp here, datatemp should not mix with formData
    isClaimsAd: false
    AllergicEggsTemp:
      - key: isAllergicEggs
        value: "Yes"
      - key: isAllergicEggs
        value: "No"
    AllergicImmunizationTemp:
      - key: isAllergicImmunization
        value: "Yes"
      - key: isAllergicImmunization
        value: "No"
    AllergicMedicationTemp:
      - key: isAllergicMedication
        value: "Yes"
      - key: isAllergicMedication
        value: "No"
    PregnantTemp:
      - key: isPregnant
        value: "Yes"
      - key: isPregnant
        value: "No"
  apiRequest: #Input data request here
    
    # FluVaccinationConsentFormEnglish文档
    fluVaccinationConsentFormEnglish:
      docResp: ""
      docReq:
        eid: .Global.rootNotebookID
        type: .DocType.FluVaccinationConsent
        name:
          title: "Flu Vaccination Consent Form"
          user: .Global.currentUser.vertex.name.fullName
          type: "text/plain"
          subtype: "0" #0是未完成，1是完成
          data:
            classTag:
              name: Patient
              fontColor: "0xf8ae29"
              backgroundColor: "0xfff4e0"
              display: block
            statusTag:
              display: none
            signatureId: ""
            whetherSign: true
            authority: ""
            fontcolor: ""
            facilityInfo: 
              facilityAvatarID: .Global.FacilityInfos.name.data.basicInfo.businessLogo
              facilityName: .Global.FacilityInfos.name.data.basicInfo.medicalFacilityName
              location: .Global.FacilityInfos.name.data.basicInfo.location
              email: .Global.FacilityInfos.name.data.basicInfo.email
              fax: .Global.FacilityInfos.name.data.basicInfo.fax
              main: .Global.FacilityInfos.name.data.basicInfo.phoneNumber
              website: .Global.FacilityInfos.name.data.basicInfo.website
            patientInfo:
              examDate: ""
              patientName: ""
              dob: ""
              phone: ""
              email:
              address:
                city: ""
                county: ""
                line: ""
                secondLine: ""
                state: ""
                zipCode: ""
              companyName: ""
            status:
              isAllergicEggs: ""
              isAllergicImmunization: ""
              isAllergicMedication: ""
              isPregnant: ""
              isCertify: false
            adminInfo:
              lot: ""
              expiration: ""
              nurse: ""
              location: ""
              maSignature: ""
      docAPI:
        store:
          api: cd
          dataIn: FluVaccinationConsentFormEnglishEditPage1.apiRequest.fluVaccinationConsentFormEnglish.docReq
          # dataOut: fluVaccinationConsentFormEnglish.apiRequest.fluVaccinationConsentFormEnglish.docResp
          dataOut: Global.formData.fluVaccinationConsentFormEnglish
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: FluVaccinationConsentFormEnglishEditPage1.docResp
          id: .Global.Note.id
          xfname: eid
          type: .DocType.FluVaccinationConsentFormEnglish
          maxcount: "1"
        delete:
          api: dx
          dataIn: FluVaccinationConsentFormEnglishEditPage1.apiRequest.fluVaccinationConsentFormEnglish.docReq
  profile:
    docResponse: ""
    patientdocument: ""
    document:
      type: .DocType.PatientProfile
      eid: .Global.rootNotebookID
      name:
        # .Global.Profile: ""
        data:
          insurance: 
            insuranceProvider: ""
            policyHolderName: ""
            groupOrPolicy: ""
            memberID: ""
          phone: .Global.currentUser.vertex.uid
          phone2: ""
          avatarUrl: ava.png
          avatar: ""
          gender: ""
          email: .Global.currentUser.vertex.name.email
          firstName: .Global.currentUser.vertex.name.firstName
          middleName: ""
          lastName: .Global.currentUser.vertex.name.lastName
          birth: ""
          userName: .Global.currentUser.vertex.name.userName
          address: ""
          fullName: .FluVaccinationConsentFormEnglishEditPage1.formData.showName
          Address:
            St: ""
            city: ""
            state: ""
            line2: ""
            zip: ""
          name: ""
          relation: ""
        type: .FluVaccinationConsentFormEnglishEditPage1.profile.docAPI.store.subtype.mediaType
    docAPI:
      get:
        .DocAPI.get: "" 
        api: rd
        id: .Global.rootNotebookID
        xfname: eid
        type: .DocType.PatientProfile
        obfname: mtime
        dataKey: profile.docResponse
        _nonce: =.Global._nonce 
  components:
    - type: view
      style:
        width: '1'
        margin: 'auto'
        display: flex
        flexDirection: column
        justifyContent: center
        fontFamily: "Arial"
      children: 
        - .baseTopBar:
          children:
            - .baseTopMenu:
              children:
                - .AitmedLogo
                - .BaseUserBar
        - .ViewRow:
          style: 
            width: 89.8vw
            height: 4.5vw
            margin: "auto"
            marginTop: "6vw"
            justifyContent: center
          children:
            - .ViewRow:
              style: 
                marginLeft: 5vw
                width: 4vw
                top: 1vw
                height: 2vw
                justifyContent: flex-start
                alignItems: center
              children:
                - type: image
                  path: left_blue_arrow.png
                  style:
                    width: 1.5vw
                    height: 2vw
                  onClick: 
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    # - actionType: evalObject
                    #   object:
                    #     - .Global.editProfile@: false   
                    
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
                - .Label1:
                  text: "Back"
                  autocomplete: "off"
                  style: 
                    fontSize: .Nfont.h1       
                    color: "#2988e6"
                    fontWeight: 550
                    marginLeft: 0.5vw
                  onClick: 
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    # - actionType: evalObject
                    #   object:
                    #     - .Global.editProfile@: false   
                    
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
            - type: view
              style:
                marginTop: 1.5vw
                height: 3.5vw
                width: 40vw
                borderBottom: "4px solid #005795"
                borderWidth: 4px
                display: flex
                flexDirection: row
                justifyContent: space-between
              children:
                - type: label
                  text: "Flu Vaccination Form"
                  style:
                    marginTop: 0.5vw
                    color: "#005795"
                    fontSize: .Nfont.h6
                    fontWeight: 580
                    height: 3vw
                    textAlign: 
                      y: center

        - type: view
          style:
            width: 89.8vw
            height: 39vw
            margin: "auto"
            marginTop: "0.5vw"
          children:
            - type: scrollView
              style:
                width: 89.8vw
                height: 39vw
              children:
                - type: view
                  style:
                    width: 40vw
                    height: 39vw
                    backgroundColor: "#ffffff"
                    marginTop: 0.1vw
                    margin: auto
                    justifyContent: flex-start
                  children:
                    - .FVFContentView:
                      style:
                        marginTop: "2vw"
                        marginBottom: "1vw"
                        width: "40vw"
                        display: flex
                        flexDirection: row
                        height: 5.5vw
                      children:
                        - type: image
                          path: "Urgentcare.png"
                          path=func: =.builtIn.utils.prepareDocToPath
                          dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.facilityAvatarID
                          style:
                            height: "4.5vw"
                            width: "4.5vw"
                        - type: view
                          style:
                            display: flex
                            flexDirection: column
                            justifyContent: space-around
                            height: 4.5vw
                          children:
                            - .ViewRow:
                              style:
                                width: "38vw"
                                justifyContent: space-between
                                marginLeft: "1vw"
                              children:
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "--"
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.facilityName 
                                      style:
                                        fontSize: .Nfont.h2
                                        fontWeight: "550"
                                        color: "#333333"
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "Email&nbsp;"
                                    - .FVFDetail: 
                                      text: "--"
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.email
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "Main #&nbsp;"
                                    - .FVFDetail: 
                                      text: "--"
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.phoneNumber
                            - .ViewRow:
                              style:
                                width: "38vw"
                                justifyContent: space-between
                                marginLeft: "1vw"
                              children:
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "--" 
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.location
                                      style:
                                        color: "#333333"
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "website&nbsp;"
                                    - .FVFDetail: 
                                      text: "--"
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.website
                                - .FVFContentView:
                                  children:
                                    - .FVFTitle:
                                      text: "Fax #&nbsp;"
                                    - .FVFDetail: 
                                      text: "--"
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.facilityInfo.fax

                    - type: view
                      style:
                        margin: "auto"
                        width: 40vw
                        height: auto
                        borderBottom: "5px solid #DEDEDE"
                        borderWidth: "8px"
                      children:
                        - type: view
                          style:
                            width: "40vw"
                            height: 2vw
                            fontWeight: 550
                            display: inline-block
                            verticalAlign: middle
                            fontSize: .Nfont.nf0
                            backgroundColor: "0xE9F2FC"
                          children:
                            - type: label
                              text: "Patient Part"
                              style: 
                                color: "0x005795"
                                fontFamily: "Arial"
                                wordBreak: break-all 
                                width: 6vw
                                height: 1vw
                                marginLeft: 1vw
                                borderLeft: "5px solid #005795"
                                borderWidth: "5px"
                                marginTop: 0.5vw
                                lineHeight: 1vw
                                textAlign:
                                  x: center
                        - .FVFContentView:
                          style:
                            marginTop: 1vw
                          children:
                            - .FVFTitle:
                              text: "Exam Date:&nbsp&nbsp"
                            - .FVFDetail: 
                              # text: "loremipsum@dictew.com"
                              text=func: .builtIn.string.formatUnixtime_en
                              dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.examDate
                        
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                            justifyContent: space-between
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Patient Name 
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.patientName
                                  style:
                                    width: 9vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Date of Birth
                                - type: view
                                  style:
                                    display: "inline-block"
                                    boxSizing: border-box
                                    verticalAlign: middle
                                    height: 2.5vw
                                    cursor: "pointer"
                                    backgroundColor: "0xffffff"
                                    width: 9vw
                                    marginTop: 0.5vw
                                    border: "1px solid #DEDEDE"
                                    borderWidth: 1px
                                    borderRadius: 5px
                                  children: 
                                    - type: textField
                                      viewTag: showBirth
                                      isEditable: false
                                      dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.dob
                                      style:
                                        display: "inline-block"
                                        boxSizing: border-box
                                        verticalAlign: middle
                                        height: 2.3vw
                                        cursor: "pointer"
                                        fontSize: .Nfont.h0
                                        backgroundColor: "0xffffff"
                                        width: 7vw
                                        textIndent: 0.5em
                                    - type: image
                                      path: calendarImage.svg
                                      style:
                                        display: "inline-block"
                                        verticalAlign: middle
                                        height: "0.02"
                                  onClick:
                                    - actionType: 'popUp'
                                      popUpView: 'birthDay'
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: "Phone #"
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.phone
                                  style:
                                    width: 9vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Email
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.email
                                  style:
                                    width: 9vw
                        - .VQSecondTitle:
                          text: Patient Address
                          style:
                            fontWeight: 550
                            marginTop: 1.5vw
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Address Line
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.line
                                  style:
                                    width: 19.5vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Address Second Line
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.secondLine
                                  style:
                                    width: 19.5vw
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: City
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.city
                                  style:
                                    width: 9.5vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: county
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.county
                                  style:
                                    width: 9.5vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: State
                                - type: select
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.state
                                  options:
                                    .SelectData.state
                                  style:
                                    height: 2vw
                                    width: 9.5vw
                                    marginTop: 0.5vw
                                    border: "1px solid #DEDEDE"
                                    borderWidth: 1px
                                    borderRadius: 5px
                                    fontSize: .Nfont.h0
                                    fontWeight: 400
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Zip Code
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.address.zipCode
                                  style:
                                    width: 9.5vw
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                            marginBottom: 1vw
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Company Name / Referred By
                                - .NPITextField: 
                                  dataKey: apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.companyName
                                  style:
                                    width: 40vw
                    - type: view
                      style:
                        margin: "auto"
                        marginTop: "0.5vw"
                        # marginLeft: "0.5vw"
                        width: "40vw"
                        # height: "41vw"
                        # backgroundColor: "red"
                      children:  
                        - .FVFTitle:
                          text: "HAVE YOU EVER HAD ANY OF THE FOLLOWING?"
                          style:
                            color: "#333333"
                            fontSize: .Nfont.h0_1
                            fontWeight: "500"
                            width: "27vw"
                            marginTop: 1vw
                            # margin: "auto"
                        - .FVFContentView:
                          children:
                            - .FVFDetail:
                              text: "1) Allergic reaction to chicken eggs"
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.AllergicEggsTemp
                              iteratorVar: itemObject
                              viewTag: isRequiredGeactionTag
                              style:
                                width: "26vw"
                                margin: "auto"
                                marginTop: "0.5vw"
                                marginLeft: "1vw"
                                axis: horizontal
                                # backgroundColor: "red"
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    width: "10vw"
                                    height: "1.5vw"
                                    display: "inline-block"
                                    axis: horizontal
                                  children:
                                    - type: image
                                      style:
                                        height: "1vw"
                                        display: "inline-block"
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                     
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicEggs
                                                    string2: $var.value
                                              - blue.svg
                                              - black.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions: 
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicEggs
                                                      string2: $var.value
                                                - =.builtIn.object.clear:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                - =.builtIn.object.set:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                      value: $var.value
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isRequiredGeactionTag

                                    - type: label
                                      dataKey: itemObject.value
                                      style:
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h0
                                        color: "0x333333"
                                        height: "1.5vw"
                                        marginLeft: "0.5vw"
                                        display: "inline-block"
                                        # textAlign:
                                        #   y: center
                        - .FVFContentView:
                          children:
                            - .FVFDetail:
                              text: "2) Allergic reaction to flu shot or any other type of immunization shot?" 
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.AllergicImmunizationTemp
                              iteratorVar: itemObject
                              viewTag: isRequiredShotTag
                              style:
                                width: "26vw"
                                margin: "auto"
                                marginTop: "0.5vw"
                                marginLeft: "1vw"
                                axis: horizontal
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    width: "10vw"
                                    height: "1.5vw"
                                    display: "inline-block"
                                    axis: horizontal
                                  children:
                                    - type: image
                                      style:
                                        height: "1vw"
                                        display: "inline-block"
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                     
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicImmunization
                                                    string2: $var.value
                                              - blue.svg
                                              - black.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions: 
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicImmunization
                                                      string2: $var.value
                                                - =.builtIn.object.clear:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                - =.builtIn.object.set:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                      value: $var.value
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isRequiredShotTag

                                    - type: label
                                      dataKey: itemObject.value
                                      style:
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h0
                                        color: "0x333333"
                                        height: "1.5vw"
                                        marginLeft: "0.5vw"
                                        display: "inline-block"
                                        # textAlign:
                                        #   y: center
                        - .FVFContentView:
                          children:
                            - .FVFDetail:
                              text: "3) Allergic reaction to any medication or drug?"
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.AllergicMedicationTemp
                              iteratorVar: itemObject
                              viewTag: isRequiredMedicationTag
                              style:
                                width: "26vw"
                                margin: "auto"
                                marginTop: "0.5vw"
                                marginLeft: "1vw"
                                axis: horizontal
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    width: "10vw"
                                    height: "1.5vw"
                                    display: "inline-block"
                                    axis: horizontal
                                  children:
                                    - type: image
                                      style:
                                        height: "1vw"
                                        display: "inline-block"
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                     
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicMedication
                                                    string2: $var.value
                                              - blue.svg
                                              - black.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions: 
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isAllergicMedication
                                                      string2: $var.value
                                                - =.builtIn.object.clear:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                - =.builtIn.object.set:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                      value: $var.value
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isRequiredMedicationTag

                                    - type: label
                                      dataKey: itemObject.value
                                      style:
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h0
                                        color: "0x333333"
                                        height: "1.5vw"
                                        marginLeft: "0.5vw"
                                        display: "inline-block"
                                        # textAlign:
                                        #   y: center
                        - .FVFContentView:
                          children:
                            - .FVFDetail:
                              text: "4) Are you or could you be pregnant?"
                            - type: list
                              contentType: listObject
                              listObject: ..formDataTemp.PregnantTemp
                              iteratorVar: itemObject
                              viewTag: isRequiredPregnantTag
                              style:
                                width: "26vw"
                                margin: "auto"
                                marginTop: "0.5vw"
                                marginLeft: "1vw"
                                axis: horizontal
                              children:
                                - type: listItem
                                  itemObject: 
                                  style:
                                    width: "10vw"
                                    height: "1.5vw"
                                    display: "inline-block"
                                    axis: horizontal
                                  children:
                                    - type: image
                                      style:
                                        height: "1vw"
                                        display: "inline-block"
                                      path:
                                        emit:
                                          dataKey:
                                            var: itemObject
                                          actions:                     
                                            - if:
                                              - =.builtIn.string.equal:
                                                  dataIn:
                                                    string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isPregnant
                                                    string2: $var.value
                                              - blue.svg
                                              - black.svg
                                      onClick:
                                        - emit:
                                            dataKey:
                                              var: itemObject
                                            actions: 
                                              - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isPregnant
                                                      string2: $var.value
                                                - =.builtIn.object.clear:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                - =.builtIn.object.set:
                                                    dataIn:
                                                      object: =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status
                                                      key: $var.key
                                                      value: $var.value
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: isRequiredPregnantTag

                                    - type: label
                                      dataKey: itemObject.value
                                      style:
                                        fontFamily: "Arial"
                                        fontSize: .Nfont.h0
                                        color: "0x333333"
                                        height: "1.5vw"
                                        marginLeft: "0.5vw"
                                        display: "inline-block"
                                        # textAlign:
                                        #   y: center
                        - .FVFContentView:
                          style:
                            display: flex
                            flexDirection: row
                            alignItems: flex-start
                          children:
                            - type: image
                              viewTag: claimsAdstatusSelectTag
                              path: 
                                emit:
                                  actions:                        
                                    - if:
                                      - =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isCertify
                                      - blue.svg
                                      - black.svg
                              style:
                                display: "inline-block"
                                height: "0.8vw"
                                marginTop: "0.5vw"
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - if:
                                      - =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isCertify
                                      - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isCertify@: false
                                      - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isCertify@: true
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: claimsAdstatusSelectTag
                            - .FVFDetail:
                              text: "I certify that the above answers are true and correct to the best of my knowledge. I voluntarily request a flu vaccination from Golden West Medical Center. I understand that there is a remote possibility of adverse reaction or other complications of the flu vaccination. I voluntarily agree to assume any risks associated with the administration of the flu vaccine. I hereby waive and release Golden West Medical Center from any and all liabilities sustained by me while participating in the flu vaccination program."
                              style:
                                display: "inline"
                                wordBreak: keep-all 
                                width: "39vw"  
                                marginLeft: "0.5vw" 
                                marginTop: "0.3vw" 
                                fontSize: .Nfont.h0
                                color: "0x666666"
                                marginBottom: 1vw         
                    - type: view
                      style:
                        width: 40vw
                        height: auto
                        marginTop: 1vw
                        borderBottom: "5px solid #eeeeee"
                        borderWidth: "8px"
                      children:
                        - type: view
                          style:
                            width: "40vw"
                            height: 2vw
                            fontWeight: 550
                            display: inline-block
                            verticalAlign: middle
                            fontSize: .Nfont.nf0
                            backgroundColor: "0xE9F2FC"
                          children:
                            - type: label
                              text: "Admin Part"
                              style: 
                                color: "0x005795"
                                fontFamily: "Arial"
                                wordBreak: break-all 
                                width: 6vw
                                height: 1vw
                                marginLeft: 1vw
                                borderLeft: "5px solid #005795"
                                borderWidth: "5px"
                                marginTop: 0.5vw
                                lineHeight: 1vw
                                textAlign:
                                  x: center
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                            justifyContent: space-between
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: "LOT #"
                                - .NPITextField: 
                                  isEditable: false
                                  dataKey: 
                                  style:
                                    width: 12vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Expriation
                                - .NPITextField: 
                                  isEditable: false
                                  dataKey: 
                                  style:
                                    width: 12vw
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: Nurse
                                - .NPITextField: 
                                  isEditable: false
                                  dataKey: 
                                  style:
                                    width: 12vw
                        - .VQSecondTitle:
                          text: Location
                          style:
                            fontWeight: 550
                            marginTop: 1vw
                        - .ViewRow:
                          style:
                            justifyContent: space-center
                            marginTop: "1vw"
                          children:
                            - .ViewRow:
                              children:
                                - type: image
                                  # viewTag: LeftDeltoidTag
                                  path: gray.svg
                                  style:
                                    # opacity: "0.3"
                                    height: "1vw"
                                    display: "inline-block"
                                  
                                - .FVFTitle:
                                  text: "Left Deltoid"
                                  style: 
                                    marginLeft: "0.3vw"
                                    lineHeight: 1vw
                            - .ViewRow:
                              children:
                                - type: image
                                  # viewTag: LeftDeltoidTag
                                  path: gray.svg
                                  style:
                                    # opacity: "0.3"
                                    height: "1vw"
                                    display: "inline-block"
                                    marginLeft: "1vw"
                                  
                                - .FVFTitle:
                                  text: "Right Deltoid"
                                  style: 
                                    marginLeft: "0.3vw"
                                    lineHeight: 1vw
                        
                        - .ViewRow:
                          style:
                            width: 40vw
                            marginTop: 1vw
                            marginBottom: 1vw
                            justifyContent: space-between
                          children:
                            - .ViewColumn:
                              style: 
                                justifyContent: space-between
                              children:
                                - .VQSecondTitle:
                                  text: MA`s Signature
                                - .NPITextField: 
                                  isEditable: false
                                  dataKey: 
                                  style:
                                    width: 12vw
        - type: view
          style:
            width: "90vw"
            height: 4.5vw
            borderTop: "2px solid #E3E3E3"
            borderWidth: 2px
            margin: auto
            marginTop: 1vw
          children:
            - type: button
              text: Done
              style:
                width: 12.3vw
                height: 2.3vw
                margin: auto
                marginTop: 1.5vw
                borderRadius: 5px
                backgroundColor: "#1263A8"
                color: "#ffffff"
                fontSize: .Nfont.h1
                textAlign:
                  x: center
                  y: center
              onClick:
                - actionType: evalObject
                  object: 
                    - if:
                      - =..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.status.isCertify
                      - continue
                      - actionType: popUp
                        popUpView: agreeView
                        wait: true
                        popUpDismiss: 2000
                - actionType: evalObject
                  object:
                    - =..apiRequest.fluVaccinationConsentFormEnglish.docAPI.store: ""
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: evalObject
                  object:
                    - =.builtIn.array.add:
                        dataIn: 
                          object: =.Global.vaccine
                          value: "Flu Vaccination Consent Form"
                    - =.builtIn.array.elementUnique: 
                        dataIn: 
                          arr: =.Global.vaccine
                        dataOut: FluVaccinationConsentFormEnglishEditPage1.formData.doc
                    - .Global.vaccine@: =..formData.doc
                    - .Global.ProfilePop@: "block"
                    - .Global.editProfile@: true
                - actionType: builtIn
                  funcName: goBack
                  reload: true
        - .NewBaseWarningView:
          viewTag: agreeView
        - type: popUp
          viewTag: birthDay
          style:
            top: "0"
            backgroundColor: "0x1e1e1e20"
            height: "1"
            width: "1"
            zIndex: "1000"
          children:
            - .BaseComponents.calendar:
              children:
                - .BaseComponents.calendarHeader:
                - .BaseComponents.weekView:
                - .BaseComponents.dayView:
                - .BaseComponents.addButton:
                  onClick:
                    - actionType: evalObject
                      object: 
                        - ..apiRequest.fluVaccinationConsentFormEnglish.docReq.name.data.patientInfo.dob@: =.BaseComponents.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: showBirth
                    - actionType: popUpDismiss
                      popUpView: birthDay  
          # message: "You haven't signed the form" 
          # viewTag: BaseWarningView  