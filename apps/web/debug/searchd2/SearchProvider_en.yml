SearchProvider:
  viewPort: top
  pageNumber: '1'
  init: 
    # 设置signin/signUp字体颜色
    - .Global.baseFontColor@: "0x333333"
    - .Global.chooseType@: ""
    # 清除缓存
    - actionType: evalObject
      object: 
        .Global._nonce@: 
          =.builtIn.math.random: "" 
    - actionType: evalObject  
      object: 
        - .BaseDate.calendarDate.year@: ""
        - .BaseDate.calendarDate.month@: ""
        - .BaseDate.calendarDate.day@: ""
        - .BaseDate.calendarDate.monthName@: ""
        - .BaseDate.calendarDate.todayDate@: ""
        - .BaseDate.calendarDate.flag@: ""
        - .BaseDate.calendarDate.dayLable@: []
        - .BaseDate.year@: []
        - .BaseDate.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 80
              next: 10
            dataOut: BaseDate.year
        - =.builtIn.date.getTime:
            dataIn:
            dataOut: BaseDate.calendarDate.nowTimeStamp
    - actionType: evalObject 
      object: 
        .BaseDate.getDate
    - actionType: evalObject
      object: 
        .BaseDate.getShow
    - actionType: evalObject #IOS use calendar init
      object: 
        - =.builtIn.date.getMonth:
            dataIn: 
            dataOut: SearchProvider.calendarDate.month
        - =.builtIn.date.getYear: 
            dataIn: 
            dataOut: SearchProvider.calendarDate.year
        - =.builtIn.date.getDate: 
            dataIn: 
            dataOut: SearchProvider.calendarDate.day   
    - actionType: evalObject  
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.SearchProvider.calendarDate.year
              month: =.SearchProvider.calendarDate.month
              today: =.SearchProvider.calendarDate.day
            dataOut: SearchProvider.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.SearchProvider.calendarDate.month
            dataOut: SearchProvider.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.SearchProvider.calendarDate.year
              month: =.SearchProvider.calendarDate.month
              day: =.SearchProvider.calendarDate.day
              formatType: "Y-M-D"
            dataOut: SearchProvider.calendarDate.todayDate
    
    # 默认账号
    - actionType: evalObject
      object: 
        =.builtIn.string.concat:
          dataIn:
            - =.SearchProvider.formData.countryCode
            - " "
            - =.SearchProvider.formData.phoneNumber
          dataOut: SearchProvider.apiData.phoneNumber 

    - if:
      - =.Global.newCareUser
      - .Global.formData.profile.firstName@: ""
      - continue
    
    - if:
      - =.Global.currentUser.vertex.id
      - actionType: evalObject
        object:
          - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =.Global.currentUser.vertex.id
                  string2: "zgT+cgx7QFopl+JPC2WOeA=="
            - continue
            - actionType: evalObject
              object:
                - if:
                  - =.Global.titleProfile.id
                  - ..profile.patientdocument@: =.Global.titleProfile
                  - actionType: evalObject
                    object:
                      - =..profile.docAPI.get: ""
                      - ..profile.patientdocument@: =..profile.docResponse.doc.0
                      - .Global.titleProfile@: =..profile.patientdocument
                
      - continue
    - .Global.currentUser.vertex.name.fullName@: =.Global.titleProfile.name.data.basicInfo.fullName
    
    - .Global.GoSignUp@: "SearchProvider"
    - =.builtIn.date.getTimeStampOfDate:
        dataIn: 
          date: =.BaseDate.calendarDate.todayDate
        dataOut: BaseDate.calendarDate.todayStamp
    - ..condition.distance@: 50
    - .SearchProvider.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
    - .SearchProvider.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
    - .SearchProvider.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
    
    # 判断是否登录
    - if: 
      - =.Global.isSignIn
      - actionType: evalObject
        object:
          - ..isSignIn@: true
          - ..isPersonal@: false
      - actionType: evalObject
        object:
          - ..isSignIn@: false
          - ..isPersonal@: true
    # 判断第一次注册
    - if:
      - =.Global.newCareUser
      - ..newCare@: false
      - continue
    
  # Store login information locally
  update: 
    - =.SearchProvider.loginUser.edgeAPI.store: ""
    - =.SearchProvider.retrieveVertex.vertexAPI.get: ""
    - .Global.currentUser.vertex@: =..retrieveVertex.response.vertex.0
    - .Global.currentUser.JWT@: =..loginUser.response.jwt
    - .Global.currentUser.vertex.sk@: =.SearchProvider.formData.sk 
    - =.builtIn.storeCredentials:
        dataIn:
          sk: =..formData.sk 
          pk: =.Global.currentUser.vertex.pk
          userId: =.Global.currentUser.vertex.id
          esk: =..loginNewDevice.response.edge.deat.esk
    - .Global.currentUser.dataCache.loadingDateTime@: =.Global.currentDateTime
    - .Global.rootNotebookID@: =.Global.currentUser.vertex.deat.rnb64ID
    - .Global.currentUser.dataCache.loadingDateTime@ : =.Global.currentDateTime
  save:
    - =.builtIn.eccNaCl.decryptAES:
        dataIn:
          key: =..formData.password
          message: =.Global.currentUser.vertex.esk
        dataOut: SearchProvider.formData.sk
    - =.builtIn.eccNaCl.skCheck:
        dataIn:
          pk: =.Global.currentUser.vertex.pk
          sk: =..formData.sk
        dataOut: SearchProvider.formData.pass  
  retrieveVertex:
    response: ""
    vertex:
      .Vertex: ""
      id: =..loginNewDevice.response.edge.deat.user_id
    vertexAPI:
      get:
        api: rv
        dataIn: SearchProvider.retrieveVertex.vertex
        dataOut: SearchProvider.retrieveVertex.response  
  verificationCode:
    response: ""
    edge:
      .Edge: ""
      type: 1010
      name:
        phone_number: =..apiData.phoneNumber
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: SearchProvider.verificationCode.edge
        dataOut: SearchProvider.verificationCode.response
  loginNewDevice:
    response: ""
    edge:
      .Edge: ""
      type: 1040
      _handledCode: 1020
      name:
        phone_number: =..apiData.phoneNumber
        verification_code: ""
      deat:
        UserId: ""
        Pk: ""
        Esk: ""
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: SearchProvider.loginNewDevice.edge
        dataOut: SearchProvider.loginNewDevice.response
  loginUser:
    response: ""
    edge:
      .Edge: ""
      type: 1030
      bvid: =..loginNewDevice.response.edge.deat.user_id
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: SearchProvider.loginUser.edge
        dataOut: SearchProvider.loginUser.response
  apiData:
    phoneNumber: "" 
  

  profile:
    docResponse: ""
    patientdocument:
      type: .DocType.PatientProfile
      eid: .Global.rootNotebookID
      name:
        # .Global.Profile: ""
        data:
          #profile版本
          version: 2
          insuranceId: ""
          basicInfo:
            avatar: ""
            phone: .Global.currentUser.vertex.uid
            firstName: .Global.currentUser.vertex.name.firstName
            middleName: ""
            lastName: .Global.currentUser.vertex.name.lastName
            dateOfBirth: ""
            gender: ""
            socialSecurity: ""
            fullName: ""
            userName: .Global.currentUser.vertex.name.userName
          # 联系信息
          contactInfo:
            alternatePhone: ""
            email: .Global.currentUser.vertex.name.email
            address: 
              fullAddress: ""
              line: ""
              secondLine: ""
              # 市
              city: ""
              # 郡，县
              county: ""
              state: ""
              zipCode: ""
              addressFirstLine: ""
              addressSecondLine: ""
            # 紧急联系人info
          emergencyContact: 
            firstName: ""
            middleName: ""
            lastName: ""
            #与当前用户的关系，如母子等
            relation: ""
            phone: 
              countryCode: "+1"
              fullPhone:
              phoneNumber: 
          # 身份证信息
          identification: 
            type: Drive License
            id: ""
            imageId: ""
          # 雇佣者信息
          employment:
            employerName: ""
            dept: ""
            NatureBusiness: ""
            Occupation: ""
            Telephone: ""
            fax: ""
            email: ""
            address: 
              line: ""
              secondLine: ""
              # 市
              city: ""
              # 郡，县
              county: ""
              state: ""
              zipCode: ""
        type: .SearchProvider.profile.docAPI.store.subtype.mediaType
    docAPI:
      get:
        .DocAPI.get: "" 
        api: rd
        id: .Global.rootNotebookID
        xfname: eid
        type: .DocType.PatientProfile
        obfname: mtime
        dataKey: profile.docResponse
        _nonce: =.Global._nonce 
      store:
        api: cd
        dataIn: profile.patientdocument
        dataOut: profile.response
        subtype:
          mediaType: "application/json"
  
  formData:
    specialty: []
    countryCode: "+1"   
    phoneNumber: "8881307128"
    password: "123456"
    code: ""
    sk: ""
    pass: ""
    showName: ""
    address: ""
    phone: ["+1"]
    searchCond: "" #搜索sym的时候接收相对的spe
    computerPath: how1.png
    show:
      - img: circleFIlled1.png
        text: Search for top-rated providers based on you or your patient’s needs including location, date, and insurance plan
        number: "1" 
      - img: circle2.png
        text: Choose a specialist that best works for you or your patient by matching the symptoms
        number: "2"
      - img: circle3.png
        text: Make an appointment directly with the selected provider 
        number: "3"
      - img: circle4.png
        text: Create an AiTmed account to directly connect with the chosen provider
        number: "4"
  # how It work切换
  patientList:
    First:
      - img: circleFIlled1.png
        text: Search for top-rated providers based on you or your patient’s needs including location, date, and insurance plan 
        number: "1"
      - img: circle2.png
        text: Choose a specialist that best works for you or your patient by matching the symptoms
        number: "2"
      - img: circle3.png
        text: Make an appointment directly with the selected provider 
        number: "3" 
      - img: circle4.png
        text: Create an AiTmed account to directly connect with the chosen provider
        number: "4"
    Second:
      - img: circle1.png
        text: Search for top-rated providers based on you or your patient’s needs including location, date, and insurance plan 
        number: "1"
      - img: circleFIlled2.png
        text: Choose a specialist that best works for you or your patient by matching the symptoms
        number: "2"
      - img: circle3.png
        text: Make an appointment directly with the selected provider  
        number: "3"
      - img: circle4.png
        text: Create an AiTmed account to directly connect with the chosen provider
        number: "4"
    Third:
      - img: circle1.png
        text: Search for top-rated providers based on you or your patient’s needs including location, date, and insurance plan 
        number: "1"
      - img: circle2.png
        text: Choose a specialist that best works for you or your patient by matching the symptoms
        number: "2"
      - img: circleFIlled3.png
        text: Make an appointment directly with the selected provider  
        number: "3"
      - img: circle4.png
        text: Create an AiTmed account to directly connect with the chosen provider
        number: "4"
    Fourth:
      - img: circle1.png
        text: Search for top-rated providers based on you or your patient’s needs including location, date, and insurance plan 
        number: "1"
      - img: circle2.png
        text: Choose a specialist that best works for you or your patient by matching the symptoms
        number: "2"
      - img: circle3.png
        text: Make an appointment directly with the selected provider  
        number: "3"
      - img: circleFIlled4.png
        text: Create an AiTmed account to directly connect with the chosen provider
        number: "4"
  formDataTemp:
    languages:
      - English
      - Spanish
      - Portuguese
      - Chinese
      - Korean
      - German
      - French
      - Japanese
      - Russian
  
  condition:
    cond: ""
    distance: 10000
    carrier: ""
    pos: ""
    stime: ""
    etime: ""
    language: ""
  suggest:
    response: []
  paging: []  
  realInsurance: []
  previousName: ""
  Insurances: []
  popular: []
  all: []
  newCare: true
  suggestAddress: []
  suggestAll: 
    uniqSym_suggestion: []
    symptom_suggestion: []
    speciality_suggestion: 
      - text: "Orthopedic"
      - text: "covid testing"
      - text: "covid vaccine"
      - text: "primary care (family medicine)"
      - text: "Emergency Medicine"
  popularIns:
    - Aetna
    - Blue Cross Blue Shield(BCBS)
    - Cigna
    - EmblemHealth(formerly known as GHI)
    - EmblemHealth(formerly known as HIP)
    - UnitedHealthcare
    - UnitedHealthcare Oxford
  insuranceResponse: []


  components:
    - type: view
      style:
        width: '1'
        margin: 'auto'
        display: flex
        flexDirection: column
        justifyContent: center
      children:
        - type: view
          viewTag: topView
          style: 
            top: 0  
        - .baseTopBar:
          children:
            - .baseTopMenu:
              children:
                - .AitmedLogo
                - .ViewRow:
                  style:
                    height: '6vw'
                    alignItems: center
                    float: right
                  children:
                    - .gotoSearchProviderNew:
                    - .UserBar:
        - type: view
          style:
            width: "1"
            height: "0.907"
            marginTop: '0.092'
          children:
            - type: image
              path: 'photos01.png'
              
              style:
                width: "1"
                height: "0.907"
                zIndex: -1
                top: 0
            - type: view
              style:
                backgroundColor: "0xffffff00"
                width: 76.56vw
                # height: "0.907"
                margin: "auto"
                marginTop: '0.531'
                zIndex: 2
              children:
                - type: label
                  textBoard:
                    - text: 'Welcome to AiTmed'
                    - br:
                    - text: 'Find your&nbsp;'
                    - text: ' Provider&nbsp;'
                      color: '0xFECE55'
                    - text: ' here'
                  style:
                    color: '0xffffff'
                    fontSize: .Nfont.h14
                    fontFamily: 'Arial'
                    fontWeight: 700
                    # marginLeft: '13vw'
                    width: '50vw'
                    textAlign:
                      x: left
                - type: view
                  style:
                    width: 76.56vw
                    margin: auto
                    height: 5.57vw
                    backgroundColor: 'white'
                    boxShadow: '0px 0px 1px 1px #143459'
                    borderRadius: '100'
                    marginTop: 3.48vw
                    display: flex
                    flexDirection: row
                    justifyContent: flex-start
                    alignItems: center
                  viewTag: SearchForm
                  children:
                    - .SPview:
                      style: 
                        width: 23.67vw
                        display: flex
                        flexDirection: row
                        alignItems: center
                        height: 5.57vw
                      children:
                        - type: image
                          path: search.svg
                          style: 
                            width: "1.2vw"
                            marginLeft: 2vw
                            # width: '1'
                        # - .SPlabel1:
                        #   text: Search
                        #   style:
                        #     left: "0.028"
                        #     top: "0.018"
                        - type: textField
                          autocomplete: "off"
                          debounce: 500
                          style:
                            marginLeft: 0.5vw
                            width: 10vw
                            height: 3vw
                            fontSize: .Nfont.h1
                          placeholder: Condition, procedure, doctor…
                          dataKey: condition.cond
                          viewTag: searchTextTag
                          onClick:
                            - actionType: popUp
                              popUpView: searchTag
                              dismissOnTouchOutside: true
                          onInput:
                            - actionType: evalObject
                              object:
                                - .SearchProvider.suggestAll.symptom_suggestion@: []
                                - .SearchProvider.suggestAll.speciality_suggestion@: []
                                - .SearchProvider.suggestAll.uniqSym_suggestion@: []
                                - ..previousName@: =..condition.cond
                                - =.builtIn.search.suggest:
                                    dataIn:
                                      prefix: =..condition.cond
                                    dataOut: SearchProvider.suggestAll
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: searchTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: symTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: speTag
                            - actionType: popUp
                              popUpView: searchTag
                              dismissOnTouchOutside: true
                        - type: popUp
                          viewTag: searchTag
                          onMouseLeave:
                            - actionType: evalObject
                              object:
                                - ..condition.cond@: =..previousName
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: searchTextTag
                            - actionType: popUpDismiss
                              popUpView: searchTag
                          style: 
                            minWidth: "0.28"
                            top: "0.089"   
                            height: 24vw
                            fontFamily: "Arial"
                            border: "1px solid #eeeeee"  
                            borderWidth: "1px" 
                            backgroundColor: '0xffffffff'
                            borderRadius: "5px"
                          children:
                            - type: scrollView
                              style:
                                minWidth: "0.2"
                                height: 24vw
                                margin: "1vw"
                              children:
                                - .SearchProviderView:
                                  viewTag: symTag
                                  children: 
                                    - .SPlabel_c:
                                      text: Symptoms
                                      style:
                                    - type: list
                                      contentType: listObject
                                      listObject: =..suggestAll.uniqSym_suggestion
                                      iteratorVar: itemObject
                                      style:
                                        minWidth: "0.2"
                                        height: "auto"
                                        margin: "0"
                                        marginTop: "0"
                                      children: 
                                        - type: listItem
                                          itemObject: ''
                                          autocomplete: "off"
                                          hover:
                                            backgroundColor: "0xffecf1cd"
                                          onMouseEnter:
                                            - emit: 
                                                dataKey: 
                                                  var: itemObject
                                                actions: 
                                                  - ..condition.cond@: $var
                                                  # - ..condition.cond@: $var
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchTextTag
                                          style: 
                                            backgroundColor: "0xffffff"
                                            minWidth: "0.2"
                                            marginTop: "0.01"
                                          children:
                                            - type: label
                                              highlightKey: condition.cond
                                              highlightStyle:
                                                color: "#FF6666"
                                              dataKey: itemObject
                                              style:
                                                minWidth: "0.2"
                                                textAlign: 
                                                  x: left
                                                  y: center
                                                height: auto
                                                fontSize: .Nfont.h1
                                                color: '0x333333'
                                                fontFamily: 'Arial'
                                                fontWeight: Regular
                                              onClick: 
                                                - emit:
                                                    dataKey:
                                                      var: itemObject
                                                    actions:
                                                      - ..previousName@: $var
                                                      - ..condition.cond@: $var
                                                      # - ..previousName@: $var
                                                      # - ..condition.cond@: $var
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: SearchForm
                                                - actionType: popUpDismiss
                                                  popUpView: searchTag
                                              
                                - .SearchProviderView: 
                                  viewTag: speTag
                                  children: 
                                    - .SPlabel_c:
                                      text: Specialties
                                    - type: list
                                      contentType: listObject
                                      listObject: =..suggestAll.speciality_suggestion
                                      iteratorVar: itemObject
                                      style:
                                        minWidth: "0.2"
                                        height: "auto"
                                        margin: "0"
                                        marginTop: "0"
                                      children: 
                                        - type: listItem
                                          itemObject: ''
                                          hover:
                                            backgroundColor: "0xffecf1cd"
                                          onMouseEnter:
                                            - emit: 
                                                dataKey: 
                                                  var: itemObject
                                                actions: 
                                                  - ..condition.cond@: $var.text
                                                  # - ..condition.cond@: $var
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchTextTag
                                          style: 
                                            minWidth: "0.2"
                                            height: "auto"
                                            backgroundColor: "0xffffff"
                                            marginTop: "0.01"
                                          children:
                                            - type: label
                                              highlightKey: condition.cond
                                              highlightStyle:
                                                color: "#FF6666"
                                              dataKey: itemObject.text
                                              style:
                                                fontFamily: 'Arial'
                                                fontSize: .Nfont.h1
                                                color: '0x333333'
                                                height: auto
                                                minWidth: "0.2"
                                                fontWeight: Regular
                                                textAlign: 
                                                  x: left
                                                  y: center
                                              onClick: 
                                                - emit:
                                                    dataKey:
                                                      var: itemObject
                                                    actions:
                                                      - ..previousName@: $var.text
                                                      - ..condition.cond@: $var.text
                                                      # - ..previousName@: $var
                                                      # - ..condition.cond@: $var
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: SearchForm
                                                - actionType: popUpDismiss
                                                  popUpView: searchTag
                                                
            
                    - .SPview:
                      style:
                        display: flex
                        flexDirection: row
                        alignItems: center
                        height: 5.57vw
                        width: 17.11vw
                      children:
                        - type: image
                          path: location.svg
                          style: 
                            height: 1.5vw
                            marginLeft: 0.5vw
                        - type: textField
                          debounce: 500
                          placeholder: City, state, or zip code
                          dataKey: condition.pos
                          autocomplete: "off"
                          viewTag: searchAddressTag
                          onInput:
                            - actionType: evalObject
                              object:
                                - .SearchProvider.suggestAddress@: []
                                - =.builtIn.search.suggestAddress:
                                    dataIn:
                                      query: =..condition.pos
                                    dataOut: SearchProvider.suggestAddress
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: addressTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: adressListTag
                            - actionType: popUp
                              popUpView: addressTag
                              dismissOnTouchOutside: true
                          onClick:
                            - actionType: popUp
                              popUpView: addressTag
                            - actionType: popUp
                              popUpView: addressTag
                              dismissOnTouchOutside: true
                          style:
                            marginLeft: 0.5vwvw
                            width: "10vw"
                            height: 3vw
                            fontSize: .Nfont.h1
                        - type: popUp
                          viewTag: addressTag
                          onMouseLeave:
                            # - actionType: popUpDismiss
                            #   popUpView: addressTag
                          style:
                            minWidth: "0.15"
                            top: "0.089"   
                            fontFamily: "Arial"
                            border: "1px solid #eeeeee"  
                            borderWidth: "1px" 
                            backgroundColor: 'white'
                            borderRadius: "5px"
                          children:
                            - type: scrollView
                              style:
                                minWidth: "0.10"
                                height: "12vw"
                                margin: "1vw"
                              children:
                                - .SearchProviderView: 
                                  viewTag: adressListTag
                                  children: 
                                    - type: list
                                      contentType: listObject
                                      listObject: =..suggestAddress
                                      iteratorVar: itemObject
                                      style:
                                        minWidth: "0.10"
                                        height: "auto"
                                        margin: "0"
                                        marginTop: "0"
                                      children: 
                                        - type: listItem
                                          itemObject: ''
                                          hover:
                                            backgroundColor: "0xffecf1cd"
                                          onMouseEnter:
                                            - emit: 
                                                dataKey: 
                                                  var: itemObject
                                                actions: 
                                                  - ..condition.pos@: $var.place_name
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchAddressTag
                                          style: 
                                            backgroundColor: "0xffffff"
                                            minWidth: "0.10"
                                            # height: "auto"
                                            marginTop: "0.01"
                                          children:
                                            - type: label
                                              highlightKey: condition.pos
                                              highlightStyle:
                                                    color: "#FF6666"
                                              dataKey: itemObject.place_name
                                              style:
                                                minWidth: "0.2"
                                                textAlign: 
                                                  x: left
                                                  y: center
                                                height: auto
                                                fontSize: .Nfont.h1
                                                color: '0x333333'
                                                fontFamily: 'Arial'
                                                whiteSpace: "nowrap"
                                              onClick: 
                                                - emit:
                                                    dataKey:
                                                      var: itemObject
                                                    actions:
                                                      - ..condition.pos@: $var.place_name
                                                - actionType: builtIn
                                                  funcName: redraw
                                                  viewTag: SearchForm
        
                    - .SPview:
                      onClick:
                        - actionType: 'popUp'
                          popUpView: 'startDateTag'
                      style:
                        display: flex
                        flexDirection: row
                        alignItems: center
                        height: 5.57vw
                        width: 11.29vw
                      children:
                        - type: image
                          path: "calendarCopy.svg"
                          style:
                            width: 1.3vw
                            marginLeft: 0.5vw
                          # style:
                          #   width: "0.015"
                          #   height: "0.015"
                        # - .SPlabel1: 
                        #   text: Date
                        #   style:
                        #     left: "0.025"
                        #     top: "0.02"
                        - type: textField
                          placeholder: Today
                          autocomplete: "off"
                          dataKey: calendarDate.todayDate
                          style:
                            color: '0x143459'
                            width: 5vw
                            marginLeft: 0.5vw
                            height: 3vw
                            fontSize: .Nfont.h1
                      
                    - .SPview:
                      style:
                        display: flex
                        flexDirection: row
                        alignItems: center
                        height: 5.57vw
                        width: 11.29vw
                        
                      children:
                        # insurance代码，暂时注释，不能删除
                        - type: image
                          path: insurance.svg
                          style: 
                            width: 1.5vw
                            marginLeft: 0.5vw
                        - type: textField
                          placeholder: Pay for myself
                          dataKey: condition.carrier
                          autocomplete: "off"
                          viewTag: "Carrier"
                          debounce: 200
                          style:
                            marginLeft: 0.5vw
                            width: 8vw
                            color: "0x143459"
                            fontSize: .Nfont.h1
                            height: 3vw
                          onClick:
                            - actionType: popUp
                              popUpView: insuranceTest
                              dismissOnTouchOutside: true
                          onInput:
                            - actionType: evalObject
                              object:
                                - .SearchProvider.realInsurance@: []
                                - =.builtIn.search.queryIns:
                                    dataIn:
                                      ins: =..condition.carrier
                                    dataOut: SearchProvider.insuranceResponse
                                - ..realInsurance@: =..insuranceResponse.suggest.ins.0.options
                            - actionType: popUpDismiss
                              popUpView: insuranceTest
                            - actionType: popUp
                              popUpView: insurance
                              dismissOnTouchOutside: true
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: newInsurance
                        
                    - .SPview:
                      style:
                        display: flex
                        flexDirection: row
                        alignItems: center
                        height: 5.57vw
                        width: 11.29vw
                        borderWidth: 0
                      children:
                        - type: image
                          path: language.svg
                          style: 
                            width: 1.5vw
                            marginLeft: 0.5vw
                        - type: textField
                          placeholder: Language
                          dataKey: condition.language
                          autocomplete: "off"
                          viewTag: "Carrier"
                          debounce: 200
                          style:
                            marginLeft: 0.5vw
                            width: 8vw
                            color: "0x143459"
                            fontSize: .Nfont.h1
                            height: 3vw
                          onClick:
                            - actionType: popUp
                              popUpView: languageTag
                              dismissOnTouchOutside: true
                    - type: image
                      path: searchicon.svg
                      onClick: 
                        - actionType: evalObject #geust login
                          object:
                            - if: 
                              - =.Global.currentUser.vertex.id
                              - continue
                              - actionType: evalObject
                                object:
                                  - =.SearchProvider.verificationCode.edgeAPI.store: ""
                                  - =.builtIn.string.retainNumber:
                                      dataIn:
                                        value: =.SearchProvider.verificationCode.response.edge.tage
                                      dataOut: SearchProvider.formData.code
                                  - ..loginNewDevice.edge.name.verification_code@: =..formData.code
                                  - ..loginNewDevice.edge.name.phone_number@: =.SearchProvider.apiData.phoneNumber
                                  - =.SearchProvider.loginNewDevice.edgeAPI.store: ""
                                  - =.builtIn.eccNaCl.decryptAES:
                                        dataIn:
                                          key: =..formData.password
                                          message: =..loginNewDevice.response.edge.deat.esk
                                        dataOut: SearchProvider.formData.sk  
                                  - =.builtIn.eccNaCl.skCheck:
                                        dataIn:
                                          pk: =..loginNewDevice.response.edge.deat.pk
                                          sk: =..formData.sk
                                        dataOut: SearchProvider.formData.pass
                            - if:
                              - =.Global.currentUser.vertex.id
                              - continue
                              - actionType: evalObject
                                object: ..update

                        - actionType: evalObject
                          object:
                            # 当insurance为前两项，默认为空
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.carrier
                                    string2: "I'm paying for myself"
                              - ..condition.carrier@: ""
                              - continue
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.carrier
                                    string2: "I'll choose my insurance later"
                              - ..condition.carrier@: ""
                              - continue
                            - if:
                              - =.builtIn.array.judgeListLength:
                                  dataIn:
                                    array: =..suggestAll.symptom_suggestion
                                    len: 0
                              - continue
                              - =.builtIn.string.parseSpliceString:
                                  dataIn:
                                      value: =..condition.cond
                                      objArr: =..suggestAll.symptom_suggestion
                                  dataOut: SearchProvider.formData.searchCond
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.cond
                                    string2: ""
                              - ..condition.cond@: "family"
                              - continue
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - if: 
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..formData.searchCond
                                    string2: ""
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: 1
                                        total: =..paging
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.formData.specialty
                              - actionType: evalObject
                                object:
                                  - =.builtIn.search.queryTotals:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.paging
                                  - =.builtIn.search.queryUsers:
                                      dataIn:
                                        cond: =..formData.searchCond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        pages: 1
                                        total: =..paging
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.suggest.response
                                  - =.builtIn.search.querySpecialty:
                                      dataIn:
                                        cond: =..condition.cond
                                        distance: =..condition.distance
                                        pos: =..condition.pos
                                        stime: =..condition.stime
                                        etime: =..condition.etime
                                        isSplitCurrent: true
                                        lan: =..condition.language
                                        ins: =..condition.carrier
                                      dataOut: SearchProvider.formData.specialty
                        - actionType: evalObject
                          object:
                            # - if:
                            #   - =.builtIn.string.equal:
                            #       dataIn:
                            #         string1: =..condition.cond
                            #         string2: ""
                            #   - actionType: popUp
                            #     popUpView: warningView
                            #     wait: true
                            #   - continue
                            # - if:
                            #   - =.builtIn.string.equal:
                            #       dataIn:
                            #         string1: =..condition.pos
                            #         string2: ""
                            #   - actionType: popUp
                            #     popUpView: warningView
                            #     wait: true
                            #   - continue
                            - .Global.searchCond@: =..formData.searchCond
                            - .Global.condtion@: =.SearchProvider.condition
                            - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                            - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                            - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                            - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                        - actionType: evalObject
                          object: 
                            - .Global.search@: =.EmptyObj
                        - actionType: evalObject
                          object: 
                            - .Global.search@: =.SearchProvider.suggest.response   
                            - .Global.totals@: =.SearchProvider.paging
                            - .Global.specialties@: =.SearchProvider.formData.specialty
                            - goto: AllAppointments
                      style:
                        width: 7.5vw
                        left: 0.5vw
        
                          
        - type: view
          style:
            width: '1'
            height: 36vw
            marginTop: '0'
            display: flex
            flexDirection: column
            alignItems: center
          children: 
            - type: label
              text: 'What we can help with'
              dataKey: 
              style:
                color: "#143459"
                top: 3vw
                width: "1"
                left: "0"
                fontSize: .Nfont.h8
                fontWeight: 650
                textAlign: 
                  x: center
                  y: center
            - type: view
              style:
                marginTop: 5vw
                width: 72vw
                height: 28vw
                display: flex
                flexDirection: row
                justifyContent: space-between
                alignItems: baseline
              children:
                - type: view
                  style: 
                    width: 18vw
                    # height: 26vw
                    marginTop: 2vw
                  children:
                    - type: image
                      path: hassle.png
                      style: 
                        width: 17vw
                        height: "calc(17vw)"
                    - type: label
                      text: Instant hassle-free booking
                      style: 
                        color: "#333333"
                        height: 5vw
                        fontSize: .Nfont.h3
                        fontWeight: 400
                        textAlign: 
                          x: center
                          y: center
                - type: view
                  style: 
                    width: 18vw
                    # height: 26vw
                    marginTop: 2vw
                  children:
                    - type: image
                      path: findDoctor.png
                      style: 
                        width: 17.5vw
                        height: "calc(17.5vw)"
                    - type: label
                      text: Find doctors near you
                      style: 
                        width: 15vw
                        color: "#333333"
                        height: 5vw
                        fontSize: .Nfont.h3
                        fontWeight: 400
                        textAlign: 
                          x: center
                          y: center

                - type: view
                  style: 
                    width: 18vw
                    # height: 26vw
                    marginTop: 2vw
                  children:
                    - type: image
                      path: immediate.png
                      style: 
                        width: 17vw
                        height: "calc(17vw)"
                    - type: label
                      text: immediate access to your health
                      style: 
                        width: "0.16"
                        color: "#333333"
                        height: 5vw
                        fontSize: .Nfont.h3
                        fontWeight: 400
                        textAlign: 
                          x: center
                          y: center
               
        - type: view
          style:
            width: "1"
            height: 24vw
            background-image: 'linear-gradient(#378fcd, #054b90)'   
            display: flex
            flexDirection: column
            justifyContent: center
            alignItems: center
          children:
              - type: label
                text: 'Hot topic search suggestion'
                style:
                  width: "1"
                  height: 8vw
                  fontSize: .Nfont.h8
                  fontWeight: "650"
                  color: '#ffffff'
                  textAlign: 
                    x: center
                    y: center
              - type: view
                style:
                  width: 72vw
                  height: 16vw
                  display: flex
                  flexDirection: row
                  justifyContent: space-between
                  alignItems: flex-start
                children: 
                  - type: image
                    path: primaryCare.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "family medicine"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "family medicine"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
                  - type: image
                    path: toothPain.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "dentistry"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "dentistry"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
                  - type: image
                    path: pregnancy.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "OB/GYN"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "OB/GYN"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
                  - type: image
                    path: skinAllergy.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "dematology"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "dematology"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
                  - type: image
                    path: rapidCovidTest.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "COVID"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "COVID"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
                  - type: image
                    path: backPain.svg
                    style:
                      width: 11.5vw
                    onClick: 
                      - emit:
                          actions:
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..condition.pos
                                    string2: ""
                              - ..condition.pos@: "92805"
                              - continue
                            - =.builtIn.search.queryTotals:
                                dataIn:
                                  cond: "Pain medicine"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.paging
                            - =.builtIn.search.queryUsers:
                                dataIn:
                                  cond: "Pain medicine"
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                  isSplitCurrent: true
                                  pages: 1
                                  total: =..paging
                                dataOut: SearchProvider.suggest.response
                            - =.builtIn.search.querySpecialty:
                                dataIn:
                                  cond: =..condition.cond
                                  distance: =..condition.distance
                                  pos: =..condition.pos
                                  stime: =..condition.stime
                                  etime: =..condition.etime
                                  isSplitCurrent: true
                                  lan: =..condition.language
                                  ins: =..condition.carrier
                                dataOut: SearchProvider.formData.specialty
                      - actionType: evalObject
                        object:
                          - .Global.condtion@: =.SearchProvider.condition
                          - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                          - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                          - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                          - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.EmptyObj
                      - actionType: evalObject
                        object: 
                          - .Global.search@: =.SearchProvider.suggest.response   
                          - goto: AllAppointments
        
        
        - type: view
          viewTag: howItWorkTag
          style:
            width: '1'
            margin: 'auto'
            display: flex
            flexDirection: column
            justifyContent: center
          children:
            - type: view
              style:
                width: "1"
                height: 43vw
              children:
                - type: label
                  text: 'How It Works'
                  style:
                    height: 8vw
                    width: "1"
                    color: "#143459"
                    fontSize: .Nfont.h8
                    fontWeight: "650"
                    textAlign:
                      x: center
                      y: center
                - type: view
                  style:
                    width: "1"
                    height: 29vw
                    marginTop: "0.05"
                    display: flex
                    flexDirection: row
                    justifyContent: center
                  children: 
                    - type: view
                      style:
                        width: 44.5vw
                        height: 29vw
                      viewTag: computerView
                      children:   
                        - type: image
                          path: 
                            emit:
                              actions:
                                - if:
                                  - true
                                  - ..formData.computerPath
                                  - ..formData.computerPath
                          style:
                            marginTop: "0"
                            marginLeft: 14.5vw
                            width: 30vw
                    - type: view
                      style: 
                        width: 44.5vw
                        height: 29vw
                      children:
                        - type: list
                          viewTag: TempList
                          contentType: listObject
                          listObject: ..formData.show
                          iteratorVar: itemObject
                          style:
                            height: 22vw
                            marginLeft: 3vw
                            marginTop: 0
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: 1.5vw
                              onClick: 
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '1'
                                        - ..formData.show@: =..patientList.First
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '2'
                                        - ..formData.show@: =..patientList.Second
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '3'
                                        - ..formData.show@: =..patientList.Third
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '4'
                                        - ..formData.show@: =..patientList.Fourth
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '1'
                                        - ..formData.computerPath@: how1.png
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '2'
                                        - ..formData.computerPath@: how2.png
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '3'
                                        - ..formData.computerPath@: how3.png
                                        - continue
                                      - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: $var.number
                                              string2: '4'
                                        - ..formData.computerPath@: how4.png
                                        - continue

                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: computerView
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: howItWorkTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: TempList
                                
                              children:
                                - type: image
                                  path: 
                                    emit:
                                      dataKey: 
                                        var: itemObject
                                      actions:
                                        - if: 
                                          - true
                                          - $var.img
                                          - $var.img
                                  style:
                                    width: 2.7vw
                                    height: 2.7vw
                                    marginTop: "0.25vw"
                                    marginLeft: "0.25vw"
                                - type: label
                                  dataKey: itemObject.text
                                  style:
                                    fontFamily: "Arial"
                                    display: "inline-block"
                                    width: "0.24"
                                    marginLeft: "0.014"
                                    color: "#333333"
                                    fontSize: .Nfont.h1
        - type: view
          style:
            width: "1"
            height: 26vw
            display: flex
            flexDirection: row
            background-image: 'linear-gradient(#378fcd, #054b90)' 
            justifyContent: center
            fontFamily: "Arial"
          children: 
            - type: view
              style:
                width: 44.5vw
                height: 26vw
                background-image: 'linear-gradient(#378fcd, #054b90)' 
                display: flex
                flexDirection: column
                justifyContent: center
                alignItems: flex-end
              children:
                - type: view
                  style:
                    width: 36vw
                    height: 5vw
                    display: flex
                    flexDirection: row
                    alignItems: center
                  children: 
                    - type: image
                      path: ok.png
                      style:
                        width: 2vw
                    - type: label
                      text: 'AiTmed medical search engine is designed for you to find the right provider to take care of your healthcare needs'
                      dataKey: 
                      style:
                        fontFamily: "Arial"
                        width: 28vw
                        marginLeft: 1vw
                        fontSize: .Nfont.h1
                        color: '#ffffff'
                        fontWeight: '400'
                        lineHeight: "1.5vw"
                - type: view
                  style:
                    width: 36vw
                    height: 5vw
                    display: flex
                    flexDirection: row
                    alignItems: center
                  children: 
                    - type: image
                      path: ok.png
                      style:
                        width: 2vw
                    - type: label
                      text: 'Search for doctors by symptoms, location, dates, and insurance plan'
                      dataKey: 
                      style:
                        fontFamily: "Arial"
                        width: 32vw
                        marginLeft: 1vw
                        fontSize: .Nfont.h1
                        color: '#ffffff'
                        fontWeight: '400'
                - type: view
                  style:
                    width: 36vw
                    height: 5vw
                    display: flex
                    flexDirection: row
                    alignItems: center
                  children: 
                    - type: image
                      path: ok.png
                      style:
                        width: 2vw
                    - type: label
                      text: 'Manage your appointments and see your specialist in the most convenient way possible'
                      dataKey: 
                      style:
                        fontFamily: "Arial"
                        width: 32vw
                        marginLeft: 1vw
                        fontSize: .Nfont.h1
                        color: '#ffffff'
                        fontWeight: '400' 
                        lineHeight: "1.5vw"                        
            - type: view
              style:
                width: 45.5vw
                height: 26vw
                background-image: 'linear-gradient(#378fcd, #054b90)' 
              children:
                - type: image
                  path: medical.png
                  style:
                    left: 7.5vw
                    top: 8vw
                    height: 8vw
                - type: image
                  path: medical1.png
                  style:
                    left: 3vw
                    height: 27vw
                - type: image
                  path: Patients.png
                  style:
                    left: 17vw
                    top: 11vw
                    height: 2.2vw
                - type: image
                  path: addProvider.svg
                  style: 
                    height: 8vw
                    left: 23vw 
                    top: 16vw
      
        - type: view
          style:
            width: "1"
            height: 38vw
            textAlign: 
              y: center
              x: center
          children:
            - type: view
              style:
                width: 44.5vw
              children:
                - type: image
                  path: lock.svg
                  style:
                    marginLeft: 5.5vw
                    width: 28vw
            - type: view
              style:
                width: 44.5vw
                height: 38vw
                marginLeft: 0
                fontFamily: "Arial"
                textAlign:
                  x: left
              children: 
                - type: label
                  text: 'Our Blockchain Technology Secures Documentation Exchange Between Facilities'
                  dataKey: 
                  style:
                    width: 30vw
                    fontSize: .Nfont.h6
                    color: '0x143459'
                    fontFamily: "Arial"
                    fontWeight: "700"
                    marginTop: 11.5vw
                    marginLeft: 3vw
                - type: label
                  text: 'Never let a referral get lost again. AiTmed’s Search & E-Referral platform secures data, making the medical documentation exchange from patient to provider the most convenient, and breaking the barriers of healthcare organizations.'
                  dataKey: 
                  style:
                    width: 33vw
                    height: "10vw"
                    lineHeight: "1.6vw"
                    fontFamily: "Arial"
                    fontSize: .Nfont.h1
                    color: '0x333333'
                    marginTop: 1.74vw
                    marginLeft: 3vw
        - .Bottom:
          style:
            width: "1"
  
        
            
                    
                    
        - type: popUp
          viewTag: languageTag
          style: 
            top: 47vw
            height: 40vw
            width: "1"
          children: 
            - type: view  
              style:
                left: "71vw"
                top: "0.048"
                width: "15vw"
                height: "20vw"  
                zIndex: 10      
                fontFamily: "Arial"
                border: "1px solid #eeeeee"  
                borderWidth: "1px" 
                backgroundColor: 'white'
                borderRadius: "5px"
              children:
                - type: scrollView
                  style:
                    width: "13vw"
                    height: "20vw"
                    margin: "auto"
                    # backgroundColor: red
                  children:
                    - .SearchProviderView: 
                      children: 
                        - .SPlabel_c:
                          text: Popular languages
                        - type: list
                          contentType: listObject
                          listObject: ..formDataTemp.languages
                          iteratorVar: itemObject
                          style:
                            width: "13vw"
                          children: 
                            - type: listItem
                              itemObject: ''
                              hover:
                                backgroundColor: "0xffecf1cd"
                              onMouseEnter:
                                - emit: 
                                    dataKey: 
                                      var: itemObject
                                    actions: 
                                      - ..condition.language@: $var
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: SearchForm
                              style: 
                                left: '0'
                                width: "0.187"
                                marginTop: "0.01"
                              children:
                                - type: label
                                  dataKey: itemObject
                                  style:
                                    width: "0.187"
                                    fontFamily: 'Arial'
                                    fontSize: .Nfont.h0_1
                                    color: '0x333333'
                                  onClick: 
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..condition.language@: $var
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: SearchForm
        
        - type: popUp
          viewTag: insuranceTest
          style: 
            top: 47vw
            height: 40vw
            width: "1"
          children: 
            - type: view  
              style:
                left: "60.2vw"
                top: "0.048"
                width: "20vw"
                height: "22vw"  
                zIndex: 10      
                fontFamily: "Arial"
                border: "1px solid #eeeeee"  
                borderWidth: "1px" 
                backgroundColor: 'white'
                borderRadius: "5px"
              children:
                - type: view
                  style:
                    width: "18vw"
                    fontFamily: 'Arial'
                    fontSize: .Nfont.h0_1
                    color: '0x333333'
                    margin: "auto"
                  children:
                    - type: label
                      text: "I'm paying for myself"
                      style:
                        marginTop: "0.012"
                      hover:
                        backgroundColor: "0xffecf1cd"
                      onMouseEnter:
                        - actionType: evalObject
                          object:
                            - ..condition.carrier@: "I'm paying for myself"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: SearchForm
                    - type: label
                      text: "I'll choose my insurance later"
                      style:
                        marginTop: "0.012"
                      hover:
                        backgroundColor: "0xffecf1cd"
                      onMouseEnter:
                        - actionType: evalObject
                          object:
                            - ..condition.carrier@: "I'll choose my insurance later"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: SearchForm
                - type: scrollView
                  style:
                    width: "18vw"
                    height: "25vw"
                    margin: "auto"
                    # backgroundColor: red
                  children:
                    - .SearchProviderView: 
                      viewTag: newInsurance
                      children: 
                        - .SPlabel_c:
                          text: Popular carriers
                        - type: list
                          contentType: listObject
                          listObject: ..popularIns
                          iteratorVar: itemObject
                          style:
                            width: "18vw"
                          children: 
                            - type: listItem
                              itemObject: ''
                              hover:
                                backgroundColor: "0xffecf1cd"
                              onMouseEnter:
                                - emit: 
                                    dataKey: 
                                      var: itemObject
                                    actions: 
                                      - ..condition.carrier@: $var
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: SearchForm
                              style: 
                                left: '0'
                                marginTop: "0.012"
                              children:
                                - type: label
                                  dataKey: itemObject
                                  style:
                                    fontFamily: 'Arial'
                                    fontSize: .Nfont.h0_1
                                    color: '0x333333'
                                  onClick: 
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..condition.carrier@: $var
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: SearchForm
        - type: popUp
          viewTag: insurance
          style: 
            top: 47vw
            height: 40vw
            width: "1"
          children: 
            - type: view  
              style:
                left: "60.2vw"
                top: "0.048"
                width: "20vw"
                height: "22vw"  
                zIndex: 10      
                fontFamily: "Arial"
                border: "1px solid #eeeeee"  
                borderWidth: "1px" 
                backgroundColor: 'white'
                borderRadius: "5px"
              children:
                - type: scrollView
                  style:
                    width: "18vw"
                    height: "20vw"
                    margin: "auto"
                    # backgroundColor: red
                  children:
                    - .SearchProviderView: 
                      viewTag: newInsurance
                      children: 
                        - type: list
                          contentType: listObject
                          listObject: ..realInsurance
                          iteratorVar: itemObject
                          style:
                            width: "18vw"
                          children: 
                            - type: listItem
                              itemObject: ''
                              hover:
                                backgroundColor: "0xffecf1cd"
                              onMouseEnter:
                                - emit: 
                                    dataKey: 
                                      var: itemObject
                                    actions: 
                                      - ..condition.carrier@: $var.text
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: SearchForm
                              style: 
                                left: '0'
                                marginTop: "0.012"
                              children:
                                - type: label
                                  dataKey: itemObject.text
                                  style:
                                    fontFamily: 'Arial'
                                    fontSize: .Nfont.h0_1
                                    color: '0x333333'
                                  onClick: 
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..condition.carrier@: $var.text
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: SearchForm
                  
        - type: popUp
          viewTag: startDateTag
          style:
            top: "0"
            backgroundColor: "0x00000040"
            height: "1"
            width: "1"
            zIndex: "1000"
            left: "0.052"
            position: fixed
          children:
            - .BaseDate.calendar:
              viewTag: calendarTag
              children:
                - .BaseDate.calendarHeader:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn: 
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - if:
                          - =.builtIn.math.greater:
                              dataIn:
                                num1: =.BaseDate.calendarDate.todayStamp.end
                                num2: =.BaseDate.calendarDate.nowTimeStamp
                          - continue
                          - actionType: popUp
                            popUpView: judgeTime1
                            wait: true
                          
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.date.getTimeStampOfDate:
                            dataIn: 
                              date: =.BaseDate.calendarDate.todayDate
                            dataOut: BaseDate.calendarDate.todayStamp
                        - .SearchProvider.condition.stime@: =.BaseDate.calendarDate.todayStamp.start
                        - .SearchProvider.condition.etime@: =.BaseDate.calendarDate.todayStamp.end
                        - .SearchProvider.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: SearchForm
                    - actionType: evalObject
                      object:
                        - .Global.condtion@: =.SearchProvider.condition
                        - .Global.calendarDate.year@: =.BaseDate.calendarDate.year
                        - .Global.calendarDate.month@: =.BaseDate.calendarDate.month
                        - .Global.calendarDate.day@: =.BaseDate.calendarDate.day
                        - .Global.calendarDate.todayDate@: =.BaseDate.calendarDate.todayDate
                    - actionType: evalObject
                      object: 
                        - .Global.search@: =.EmptyObj
                        - .Global.search@: =.AllAppointments.suggest.response
                        - ..listdata@: =.AllAppointments.suggest.response
                        - ..backup@: =..listdata
                        - =.builtIn.search.GetAllLonAndLat:
                              dataIn:
                                object: =.AllAppointments.listdata
                              dataOut: AllAppointments.format
                        - if:
                            - =.AllAppointments.format
                            - .AllAppointments.mapoption.data@: =.AllAppointments.format
                            - continue
                        - =.builtIn.search.SortBySpeciality:
                            dataIn:
                              object: =.Global.search
                            dataOut: AllAppointments.formData.suggest
                        - =.builtIn.array.getListLength:
                              dataIn:
                                object: =.Global.search
                              dataOut: AllAppointments.providerNumber
                        - if:
                            - =..listdata
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..providerNumber
                                  - " Providers"
                                dataOut: AllAppointments.providerNumberSting
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "0"
                                  - " Providers"
                                dataOut: AllAppointments.providerNumberSting
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: suggestSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: mapTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: providerListTag
                    - actionType: popUpDismiss
                      popUpView: Search
                    - actionType: popUpDismiss
                      popUpView: startDateTag
            

        # 判断时间
        - .BaseWarningViewOne: 
          viewTag: judgeTime1  
          style:
            width: "1"
            height: "1"  
          msg2: "The time before today cannot be selected. Please select the correct time! ! !"
          onClick:
            - actionType: evalObject #IOS use calendar init
              object: 
                - =.builtIn.date.getMonth:
                    dataIn: 
                    dataOut: BaseDate.calendarDate.month
                - =.builtIn.date.getYear: 
                    dataIn: 
                    dataOut: BaseDate.calendarDate.year
                - =.builtIn.date.getDate: 
                    dataIn: 
                    dataOut: BaseDate.calendarDate.day   
            - actionType: evalObject  
              object:
                - =.builtIn.date.calendarArray:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      today: =.BaseDate.calendarDate.day
                    dataOut: BaseDate.calendarDate.dayLable
                - =.builtIn.date.miniWeeklyCalendarArray:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      today: =.BaseDate.calendarDate.day
                      markDay: =.BaseDate.calendarDate.day
                      color: "0x000000"
                      backgroundColor: "0xFFFFFF6f"
                      todayColor: "0xffffff"
                      todayBackgroundColor: "0x2988E6"
                    dataOut: BaseDate.calendarDate.minidayLable
                - =.builtIn.date.transformMonth:
                    dataIn:
                      month: =.BaseDate.calendarDate.month
                    dataOut: BaseDate.calendarDate.monthName
                - =.builtIn.date.ShowDateByNumber:
                    dataIn:
                      year: =.BaseDate.calendarDate.year
                      month: =.BaseDate.calendarDate.month
                      day: =.BaseDate.calendarDate.day
                      formatType: "Y-M-D"
                    dataOut: BaseDate.calendarDate.todayDate
            - actionType: builtIn
              funcName: redraw
              viewTag: startDateTag  
            - actionType: popUpDismiss
              popUpView: judgeTime1
