PatientChart:
  pageNumber: "170"
  title: "Patient Chart"
  init:
    - .SignInCheck
    - ..Chart.docAPI.get
    - actionType: evalObject
      object:
        - .PatientChart.Chart.document@: =..docResponse.doc.0
        - .PatientChart.PatientChartObject@: =..docResponse.doc.0
        - .PatientChartDM.patientChart@: =..docResponse.doc.0.name.data
    - if:
      - =.builtIn.string.equal:
          dataIn:
            string1: =..chart
            string2: ".PatientChart.PatientChartObject.name.data"
      - actionType: evalObject
        object:
          ..chart.pastMedicalHistory@: ""
          ..chart.allergies@: ""
          ..chart.currentMedications@: ""
          ..chart.immunizations@: ""
          ..chart.hospitalizations@: ""
          ..chart.surgicalHistory@: ""
          ..chart.familyHistory@: ""
      - actionType: evalObject
        object: ..convert
  PatientChartObject: ""
  chart: .PatientChart.PatientChartObject.name.data
  save:
    - =.PatientChart.shareDocuments.docAPI.store: ""  
  convert:
    - =.builtIn.array.covertToJsonArray:
        dataIn:
          array: =..chart.pastMedicalHistory
        dataOut: PatientChart.pastMedicalHistoryTemp
    - =.builtIn.array.covertToJsonArray:
        dataIn:
          array: =..chart.familyHistory
        dataOut: PatientChart.familyHistoryTemp
  pastMedicalHistoryTemp: []      
  familyHistoryTemp: []
  Chart:
    document: 
      .Document: ""
      subtype:
        isEncrypted: "1"
        isOnServer: "0"
      eid: .Global.rootNotebookID
      type: .DocType.PatientChart
      name:
        title: ""
        type: "application/json"
        data: ""
      deat:
        sig: ""
        url: "" 
    docAPI: 
      get:
        .DocAPI.get: "" 
        api: rd
        dataKey: docResponse
        ids:
          - .Global.rootNotebookID
        xfname: eid
        type: .DocType.PatientChart #  type: "257"
        obfname: "mtime"
        maxcount: "1"
        _nonce: =.Global._nonce
  docResponse: 
    doc:
      - type: .DocType.PatientChart # - type: "257" # private profile
        eid: .Global.rootNotebookID
        name: ""
    error: ""
    jwt: ""
  shareDocuments:
    document: ""
    docAPI:
      store:
        api: cd
        dataKey: shareDocuments.document
        subtype:
          mediaType: "application/json" 
  sharedDoc: ""
  selectedDoc: "" 
  
  components:
    - .BaseHeader:
    - .HeaderLeftButton:  
    - .HeaderRightButton:
      text: Update
      onClick:
        - goto: PatientChartGeneralInfo
    - type: view
      style:
        top: "0.1"
        left: "0"
        width: "1"
        height: "4.3"
        # position: fixed
      children:
        - type: view
          style:
            top: "0"
            left: "0"
            width: "1"
            # height: "4.3"
          children:
            - .H5:
              text: "Chart Summary"
              style:
                top: "0.02"
                left: "0.05"
                color: "#353535"
                fontStyle: "bold"
                width: "0.9"
                textAlign:
                  x: center
            - type: view
              style:
                width: "0.9"
                height: "0.47"
                left: "0.05"
                top: "0.07"
                border:
                  style: "2"
                borderWidth: "2"
                borderColor: "#bfbfbf"
              children:
                - .H6:
                  text: "General Information"
                  style:
                    top: "0"
                    left: "0"
                - type: view
                  style:
                    top: "0.06"
                    width: "0.9"
                    height: "0.05"
                    left: "0"
                  children:
                    - .PatientChartShowLine:
                      children:
                        - .PatientChartShowTitle:
                          text: First name
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.firstName
                    - .PatientChartShowLine:
                      style:
                        top: "0.04"
                      children:
                        - .PatientChartShowTitle:
                          text: Middle name or initial
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.middleNameAndInitial
                    - .PatientChartShowLine:
                      style:
                        top: "0.08"
                      children:
                        - .PatientChartShowTitle:
                          text: Last name
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.lastName
                    - .PatientChartShowLine:
                      style:
                        top: "0.12"
                      children:
                        - .PatientChartShowTitle:
                          text: Preferred name
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.preferredName
                    - .PatientChartShowLine:
                      style:
                        top: "0.16"
                      children:
                        - .PatientChartShowTitle:
                          text: Gender
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.gender
                    - .PatientChartShowLine:
                      style:
                        top: "0.20"
                      children:
                        - .PatientChartShowTitle:
                          text: Date of birth
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.dateOfBirth
                    - .PatientChartShowLine:
                      style:
                        top: "0.24"
                      children:
                        - .PatientChartShowTitle:
                          text: Occupation
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.occupation
                    - .PatientChartShowLine:
                      style:
                        top: "0.28"
                      children:
                        - .PatientChartShowTitle:
                          text: Relationship status
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.relationshipStatus
                    - .PatientChartShowLine:
                      style:
                        top: "0.32"
                      children:
                        - .PatientChartShowTitle:
                          text: Primary Care Physician
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.primaryCarePhysician
                    - .PatientChartShowLine:
                      style:
                        top: "0.36"
                      children:
                        - .PatientChartShowTitle:
                          text: Primary Care clinic
                        - .PatientChartShowData:
                          style: 
                            width: "0.3"
                          dataKey: chart.generalInfo.primaryCareClinic
            - type: view
              style:
                width: "1"
                top: "0.54"
                left: "0"
                display: "flex"
                # justifyContent: "center"
                flexFlow: "row wrap"
              children: 
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.pastMedicalHistory # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.8" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  text: "- "
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.05"
                                    fontSize: "20"
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "20"
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: "Allergies"
                    - type: view
                      style: 
                        width: "0.9"
                        display: "block"
                        position: "static"
                        marginTop: "5%"
                      children:   
                        - type: label
                          text: Allergen/Irritant
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: What happens       
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.allergies # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.9" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  dataKey: itemObject.allergy
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.45"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.happen
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.45"       
                                    textAlign: 
                                      x: center   
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Current Medications
                    - type: view
                      style: 
                        width: "0.9"
                        display: "block"
                        position: "static"
                        marginTop: "5%"
                      children:   
                        - type: label
                          text: Name
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Strength
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Amount
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Frequency
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.currentMedications # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.9" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  dataKey: itemObject.name
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.225"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.strength
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.225"       
                                    textAlign: 
                                      x: center  
                                - type: label
                                  dataKey: itemObject.amount
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.225"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.frequency
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.225"       
                                    textAlign: 
                                      x: center  
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Immunizations
                    - type: view
                      style: 
                        width: "0.9"
                        display: "block"
                        position: "static"
                        marginTop: "5%"
                      children:   
                        - type: label
                          text: Name
                          style:
                            fontSize: "17"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: 1st Dose
                          style:
                            fontSize: "17"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: 2st Dose
                          style:
                            fontSize: "17"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Recent
                          style:
                            fontSize: "17"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.225"
                            display: "inline-block"
                            position: "static"
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.immunizations # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.9" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  dataKey: itemObject.name
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.225"
                                    fontSize: "14"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.firstDose
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "14"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.225"       
                                    textAlign: 
                                      x: center  
                                - type: label
                                  dataKey: itemObject.secondDose
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.225"
                                    fontSize: "14"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.mostRecent
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "14"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.225"       
                                    textAlign: 
                                      x: center  
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Hospitalizations
                    - type: view
                      style: 
                        width: "0.9"
                        display: "block"
                        position: "static"
                        marginTop: "5%"
                      children:   
                        - type: label
                          text: Date
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Reason
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.hospitalizations # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.9" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  dataKey: itemObject.date
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.45"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.reason
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.45"       
                                    textAlign: 
                                      x: center   
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Surgical History
                    - type: view
                      style: 
                        width: "0.9"
                        display: "block"
                        position: "static"
                        marginTop: "5%"
                      children:   
                        - type: label
                          text: Date
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                        - type: label
                          text: Reason
                          style:
                            fontSize: "18"
                            fontWeight: "500"
                            textAlign: 
                              x: center
                            width: "0.45"
                            display: "inline-block"
                            position: "static"
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.surgicalHistory # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.9" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  dataKey: itemObject.date
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.45"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"    
                                    textAlign: 
                                      x: center   
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject.reason
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "17"
                                    fontWeight: 400
                                    color: "0x373737"            
                                    width: "0.45"       
                                    textAlign: 
                                      x: center   
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Family History
                    - .PatientChartListView:
                      children:   
                        - type: list
                          contentType: listObject
                          listObject: ..chart.familyHistory # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style: 
                            display: block
                            position: "static"
                          children: 
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "5px"
                                width: "0.8" 
                                display: block
                                position: static
                                # flexFlow: "column wrap"
                              children:
                                - type: label
                                  text: "- "
                                  style: 
                                    display: inline-block
                                    position: static
                                    top: "0.06"
                                    width: "0.05"
                                    fontSize: "20"
                                - type: label
                                  # text: badsa fsa 
                                  dataKey: itemObject
                                  style: 
                                    display: inline-block
                                    position: "static"
                                    fontSize: "20"
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Obstetrical History
                    - .PatientChartLittleTitle: 
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.pregnancy.currentlyPregnant
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: How many times have you been pregnant?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.pregnancy.pregnantsTimes
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: How many children?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.pregnancy.children
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: How many abortions? 
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.pregnancy.abortionsTime
                    - .PatientChartLittleTitle: 
                      text: Menses
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: How often?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.menses.howOften
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: For how many days?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.menses.howlong
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Do they occur every month?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.menses.isEveryMonth
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Heavy flow?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.menses.isHeavyFlow
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: Any spotting or clots?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.menses.spottingOrClots
                    - .PatientChartLittleTitle: 
                      text: Mammogram
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Have you had a mammogram?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.mammogram.haveMammogram
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: When was the last one?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.mammogram.lastTime
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Ever have an abnormal result?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.mammogram.abnormalResult
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: If yes, please describe?
                        - .PatientChartLittleData: 
                          dataKey: chart.obstetricalHistory.mammogram.abnormalResultDescribe
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Sexual History
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Are you sexually active?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.sexuallyActive
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: Use condoms for protection?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.useCondom
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: History of STD(s)?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.STDSHistory
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: Are you currently on birth control?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.birthControl
                    - .PatientChartLittleTitle: 
                      text: Pap smear
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Have you had a pap smear?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.papSmear.havePapSmear
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: When was the last one?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.papSmear.lastTime
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: Ever have an abnormal result?
                        - .PatientChartLittleData: 
                          dataKey: chart.sexualHistoryDM.papSmear.abnormalResult
                - .PatientChartView:
                  children: 
                    - .PatientChartLabel:
                      text: Socical History
                    - .PatientChartLittleTitle: 
                      text: Alcohol
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you drink?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.alcohol.drink
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: What type?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.alcohol.types
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: How many drinks per week?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.alcohol.timesPerWeek
                    - .PatientChartLittleTitle: 
                      text: Tobacco
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you currently use tobacco?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.tobacco.currently
                    - .PatientChartLittleTitle: 
                      text: Caffeine
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you have caffeine?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.caffeine.haveCaffeine
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: What type?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.caffeine.types
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: How many drinks per week?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.caffeine.timesPreDay
                    - .PatientChartLittleTitle: 
                      text: Recreational Drugs
                    - .PatientChartLittleView: 
                      style: 
                          marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you use illicit drugs?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.recreationalDrug.haveIllicitDrugs   
                    - .PatientChartLittleTitle: 
                      text: Exerise
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: Do you exercise?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.exercise.haveExercise
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          style: 
                            width: "0.5"
                          text: What type?
                        - .PatientChartLittleData: 
                          style: 
                            marginLeft: "0%"
                          dataKey: chart.socialHistory.exercise.type
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: How many days per week?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.exercise.daysPerWeek
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: How many hours per day?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.exercise.hoursPerDay     
                    - .PatientChartLittleTitle: 
                      text: Nutrition/Diet
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you follow a diet?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.nutrition.haveDiet
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: What type?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.nutrition.type
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: How many meals on average per day?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.caffeine.timesPreDay
                    - .PatientChartLittleTitle: 
                      text: Personal Safety
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Do you live alone?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.personalSafety.liveAlone
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: Do you frequently fall?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.personalSafety.frequentlyFall
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText: 
                          text: Need assistance walking?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.personalSafety.needAssistanceWalking
                    - .PatientChartLittleView: 
                      children: 
                        - .PatientChartLittleText:
                          text: Have you ever been abused?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.personalSafety.abused
                    - .PatientChartLittleView: 
                      style: 
                        marginBottom: "7%"
                      children: 
                        - .PatientChartLittleText:
                          text: Do you wear a seatbelt?
                        - .PatientChartLittleData: 
                          dataKey: chart.socialHistory.personalSafety.seatBelt
                - .PatientChartView:
                  style: 
                    border: 
                      style: "1"
                  children: 
                    - type: button
                      text: Share
                      onClick: 
                        # - actionType: evalObject 
                        #   object:
                        #     .PatientChart.selectedDoc@: =.PatientChart.PatientChartObject
                        - actionType: evalObject     # to download the selected document and using target edge id 
                          object:                    # to encrypt new document with the same content
                            =.builtIn.ecos.shareDoc: 
                              dataIn:                
                                sourceDoc: =.PatientChart.PatientChartObject
                                # targetEdgeID: =.Global.rootRoomInfo.edge.id
                                targetEdgeID: =.Global.roomInfo.edge.id
                              dataOut: =.PatientChart.sharedDoc
                        # - actionType: evalObject    
                        #   object:     
                        #     - ..shareDocuments.document@: =.PatientChart.PatientChartObject
                        #     # - ..shareDocuments.document.id@: "" 
                        #     - ..shareDocuments.document.eid@: =.Global.waitingRoom.edge.id    
                        # - actionType: evalObject    
                        #   object: ..save  
                        # - goto: AppointmentDetail
                        - actionType: builtIn
                          funcName: goBack
                      style:
                        width: "0.6"
                        left: "0.2"
                        fontSize: "16"
                        marginTop: "15%"
                        marginLeft: "15%"
                        display: "block"
                        position: "static"
                        height: "0.05"
                        color: "0xffffff"
                        backgroundColor: "#388ecc"
                        border: 
                          style: "3"
                        borderColor: "0x388ecc"


  