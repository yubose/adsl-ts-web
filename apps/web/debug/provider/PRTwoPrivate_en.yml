PRTwoPrivate:
  title: PR-2
  init:
    - .SignInCheck
    - =.builtIn.date.currentDateTime:
        dataIn:
        dataOut: Global.formData.auditLog.startTime
    - .Global.formData.lastPage@: ProviderNotes
    # 判断是否从PatientAmendmentRequest进入
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.formData.unPageName
              string2: "PatientAmendmentRequest"
        - actionType: evalObject
          object:
            - ..formDataTemp.originalBtnShow@: "none"
            - ..formDataTemp.updateBtnShow@: "block"
        - actionType: evalObject
          object:
            - ..formDataTemp.originalBtnShow@: "block"
            - ..formDataTemp.updateBtnShow@: "none"
    # 判断本地会议是否有diagnoses存在,存在update,否则create
    - if:
        - =.Global.formData.providerDoc.diagnosesDoc.id
        - actionType: evalObject
          object:
            - ..apiRequest.diagnosesDoc.docReq@: =.Global.formData.providerDoc.diagnosesDoc
        - actionType: evalObject
          object:
            - =.PRTwoPrivate.apiRequest.diagnosesDoc.docAPI.store: ""
            - ..apiRequest.diagnosesDoc.docReq@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
            - .Global.formData.providerDoc.diagnosesDoc@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
    - if:
        - =.Global.Note.id
        - actionType: evalObject
          object:
            - ..apiRequest.pRTwo.docReq@: =.Global.Note
            - ..formData.workStatus@: =.Global.Note.name.data.workStatus
            - ..formData.diagnosis.treatmentPlan@: =.Global.Note.name.data.diagnosis.treatmentPlan
            - ..formData.reportList@: =.Global.Note.name.data.submitReport
            - ..formData.other@: =.Global.Note.name.data.other
            - ..apiRequest.pRTwo.docReq.name.data.superbill@: =.Global.formData.superbillComplete
        - continue

    # 判断是否签名
    - if:
        - =..apiRequest.pRTwo.docReq.name.data.whetherSign
        - continue
        # 非空修改显示的标识,刷新签名区域
        - actionType: evalObject
          object:
            # 签名的时间
            - ..formData.signatureTime@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.name.data.signatureCtime
            # 签名的id
            - ..formData.temporarySignature@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.name.data.signatureId
            - ..formData.flag@: "block"

    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
            dataOut: PRTwoPrivate.formData.listDatalength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - continue
            - ..formData.listDataflag@: "block"

    - actionType: evalObject #android use calendar init
      object:
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 121
              next: 10
            dataOut: BaseComponents.year
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getDate
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getShow
    - actionType: evalObject
      object:
        - ..calendarDate@: =.BaseComponents.calendarDate
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.getMonth:
            dataIn:
            dataOut: PRTwoPrivate.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: PRTwoPrivate.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn:
            dataOut: PRTwoPrivate.calendarDate.day
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.PRTwoPrivate.calendarDate.year
              month: =.PRTwoPrivate.calendarDate.month
              today: =.PRTwoPrivate.calendarDate.day
            dataOut: PRTwoPrivate.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.PRTwoPrivate.calendarDate.month
            dataOut: PRTwoPrivate.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.PRTwoPrivate.calendarDate.year
              month: =.PRTwoPrivate.calendarDate.month
              day: =.PRTwoPrivate.calendarDate.day
              formatType: "Y-M-D"
            dataOut: PRTwoPrivate.calendarDate.todayDate

    - actionType: evalObject
      object:
        # 拼接lic
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.MyProfile.name.data.MedicalLicense.0.state
              - "&nbsp;"
              - =.Global.MyProfile.name.data.MedicalLicense.0.medicalLicense
            dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.name.data.providerInfo.license

        # 拼接 provider fullName
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.MyProfile.name.data.fullName
              - ","
              - =.Global.MyProfile.name.data.title
            dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.name.data.providerInfo.physicianName
  calendarDate:
    year: ""
    month: ""
    day: ""
    dayLable: []
    todayDate: ""
    monthName: ""
  apiRequest: #Input data request here
    # provider同意修改的email
    email:
      docCreateResp: ""
      docCreateReq:
        tage: 8
        eid: ""
        type: .DocType.InboxMessage
        reid: .Global.email.esig
        name:
          data:
            # 邮件内容
            content: ""
            # 收件人姓名,provider或admin的fullName
            receiverName: .Global.email.name.data.patientName
            # 固定，为aitmed系统回复
            senderName: automatic-reply@aitmed.com
            # 空，这样可以显示为aitmed-logo
            senderAvatarId: ""
            # 被质疑的记录的名字
            recordName: .Global.email.name.data.recordName
            # 执行这个操作的人员的fullName，可能是admin，也可能是provider
            executorName: .Global.MyProfile.name.data.fullName
            #邮件标题
          title: Patient Amendment Reply Notification
          #收件人头像的id
          user: ""
      docAPI:
        store:
          api: cd
          dataIn: PRTwoPrivate.apiRequest.email.docCreateReq
          dataOut: PRTwoPrivate.apiRequest.email.docCreateResp
    # provider和patient之间的10002
    relation:
      edgeQueryResp: ""
      edgeQueryReq:
        id:
          - .Global.currentUser.vertex.id
          - .Global.email.bsig
        xfname: (bvid,evid)|(evid,bvid)
        obfname: mtime
        type: .EdgeType.Email
        maxcount: 1
      edgeAPI:
        get:
          api: re
          dataIn: PRTwoPrivate.apiRequest.relation.edgeQueryReq
          dataOut: PRTwoPrivate.apiRequest.relation.edgeQueryResp
    pRTwo:
      docResp: ""
      docReq:
        eid: .Global.currentRoom.edge.id
        reid: ""
        type: .DocType.pRTwo
        subtype:
          mediaType: "application/json"
        name:
          title: "PR-2"
          user: .Global.formData.providerTitle
          data:
            classTag:
              name: Provider
              fontColor: "0x30b354"
              backgroundColor: "0xe4f5e9"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            signatureId: ""
            signatureCtime: "" # 签名创建时间
            whetherSign: true
            submitReport: []
            other: ""
            patientInfo: ""
            providerInfo: ""
            administratorInfo: ""
            diagnosis:
              treatmentPlan: ""
              descriptiveList: []
              isInvolved: "" # Diagnoses的Yes or No
            workStatus:
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PRTwoPrivate.apiRequest.pRTwo.docReq
          dataOut: PRTwoPrivate.apiRequest.pRTwo.docResp
    newSign:
      docRes: ""
      docReq: #DOC
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data: ""
        eid: .Global.rootNotebookID
        subtype:
          mediaType: ""
      docAPI: # DOCAPI
        store:
          api: cd
          dataIn: apiRequest.newSign.docReq
          dataOut: PRTwoPrivate.apiRequest.newSign.docRes
    diagnosesDoc:
      docResp: ""
      docReq:
        eid: .Global.currentRoom.edge.id
        reid: .Global.roomInfo.edge.id
        type: .DocType.Diagnoses
        subtype:
          mediaType: "application/json"
        name:
          data:
            diagnosis:
              descriptiveList: []
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PRTwoPrivate.apiRequest.diagnosesDoc.docReq
          dataOut: PRTwoPrivate.apiRequest.diagnosesDoc.docResp
  formData: #Input data here
    searchShow: "none"
    listDatalength: ""
    listDataflag: "none"
    flag: "none"
    reportList: []
    whetherSign: ""
    other:
      isShow: "none"
      value: ""
    signatureTime: ""
    temporarySignature: ""
    diagnosis:
      treatmentPlan: ""
      descriptiveList:
        code: ""
        description: ""
        comment: ""
      isInvolved: ""
    workStatus:
      claimsAd:
        isClaimsAd: none # 控制日期框的display
        ClaimsAdDate: ""
      modifiedWork:
        isModified: none
        modifiedDate: ""
      restrictions: ""
      fullDuty:
        isFullDuty: none
        fullDutyDate: ""
      examDate: ""
      workStatusWay: "0" # work status 三个日期单选框标志
  formDataTemp: #Input data temp here, datatemp should not mix with formData
    # 控制原逻辑按钮显示
    originalBtnShow: "block"
    # 控制更新按钮逻辑显示
    updateBtnShow: "none"
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    checkBoxTemp:
      - text: Periodic Report(Required 45 days after last report)
      - text: Change in treatment plan
      - text: Release Form Care
      - text: Change in work status
      - text: Need for referral consultation
      - text: Response to request for information
      - text: Change in patient's condition
      - text: Need for surgery or hospitalization
      - text: Request for authorization
      - text: Other
    radioDiagnoses:
      - key: isInvolved
        value: "Yes"
      - key: isInvolved
        value: "No"

  components:
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
          leftClick:
            - actionType: evalObject
              object:
                - =.builtIn.utils.createAuditLog:
                    dataIn:
                      actionTypeCode: .ActionTypeCode.edit
                      recordTypeCode: .DocType.pRTwo
                      eid: =.Global.formData.currentFacility.relationEdge.id
                      date: =.Global.formData.auditLog.startTime
                      user: =.Global.MyProfile.name.data.fullName
                      userId: =.Global.currentUser.vertex.id
                      targetUserId: =.Global.formData.auditLog.patientId
                      targetUser: =.Global.formData.auditLog.patientName
                      accessPort: provider
                    dataOut: Global.formData.auditLog.result
                - if:
                    - =.builtIn.string.equal:
                        dataIn:
                          string1: =..formDataTemp.updateBtnShow
                          string2: "block"
                    - actionType: popUp
                      popUpView: judgmentOperation
                    - actionType: builtIn
                      funcName: goBack
                  reload: true
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderRightText:
          onClick:
            # 处理Diagnosis
            - actionType: evalObject
              object:
                - .Global.formData.providerDoc.diagnosesDoc@: =..apiRequest.diagnosesDoc.docReq
            # 签名处理
            - actionType: saveSignature
              dataObject: BLOB
              dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
              isEmpty: PRTwoPrivate.formData.whetherSign
            # 保存签名
            - actionType: evalObject
              object:
                - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

            - actionType: evalObject
              object:
                - if:
                    - =..formData.whetherSign
                    - continue
                    - =..apiRequest.newSign.docAPI.store: ""

            - actionType: evalObject
              object:
                - if:
                    - =..formData.temporarySignature
                    - actionType: evalObject
                      object:
                        - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
                        - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
                        - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
                        - ..formData.whetherSign@: false
                    - actionType: evalObject
                      object:
                        - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                        - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                        - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign
            - actionType: evalObject
              object:
                - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
                - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
                - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList
                - =.PRTwoPrivate.apiRequest.pRTwo.docAPI.store: ""
                - .Global.Note@: =..apiRequest.pRTwo.docResp.doc
                - goto: ProviderMacros
    - type: scrollView
      style:
        width: "1"
        height: "0.846"
        overflow: scroll

      children:
        - type: label
          text: State of California
          dataKey:
          style:
            marginTop: "0.0221"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
            fontWeight: "600"
            textAlign:
              x: "center"
        - type: label
          text: PRIMARY TREATING PHYSICIAN’S PROGRESS REPORT (PR-2)
          dataKey:
          style:
            marginTop: "0.0074"
            marginLeft: "0.1"
            width: "0.8"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h16
            fontWeight: "600"
            textAlign:
              x: "center"
        - type: label
          text: Check the boxes which indicate why you are submitting a report at this time. If the patient is “Permanent and Stationary” (i.e., has reached maximum medical improvement), do not use this form. You may use DWC Forms PR-3 or PR-4.
          dataKey:
          style:
            marginTop: "0.0123"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h12
            wordWrap: break-word
        - type: list
          contentType: listObject
          listObject: ..formDataTemp.checkBoxTemp
          iteratorVar: itemObject
          style:
            width: "0.92"
            margin: "0"
            marginLeft: "0.04"
            height: auto
          children:
            - type: listItem
              viewTag: checkBoxItemTag
              itemObject:
              style:
                width: "0.92"
                height: "auto"
                overflow: hidden
              children:
                - type: view
                  style:
                    marginTop: "0.0123"
                    width: "0.92"
                    height: "auto"
                    overflow: hidden
                  children:
                    - type: image
                      style:
                        display: "inline-block"
                        verticalAlign: top
                        height: "0.0197"
                      path:
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if:
                                - =.builtIn.array.has:
                                    dataIn:
                                      object: =..formData.reportList
                                      value: $var.text
                                - selectOnBlue.svg
                                - selectOffBlue.svg
                      onClick:
                        - emit:
                            dataKey:
                              var: itemObject
                            actions:
                              - if:
                                  - =.builtIn.array.has:
                                      dataIn:
                                        object: =..formData.reportList
                                        value: $var.text
                                  - =.builtIn.array.removeByValue:
                                      dataIn:
                                        object: =..formData.reportList
                                        value: $var.text
                                  - =.builtIn.array.add:
                                      dataIn:
                                        object: =..formData.reportList
                                        value: $var.text
                              - if:
                                  - =.builtIn.array.has:
                                      dataIn:
                                        object: =..formData.reportList
                                        value: "Other"
                                  - ..formData.other.isShow@: "block"
                                  - ..formData.other.isShow@: "none"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: otherTag
                        - actionType: builtIn
                          funcName: redrawCurrent
                          viewTag: checkBoxItemTag
                    - type: label
                      dataKey: itemObject.text
                      style:
                        marginLeft: "0.0213"
                        display: "inline-block"
                        height: "auto"
                        verticalAlign: top
                        fontSize: .Nfont.h14
                        color: "0x333333"
                        fontWeight: "600"
                        wordWrap: break-word
                        width: "0.856"
        - type: textView
          placeholder: Enter here
          dataKey: formData.other.value
          viewTag: otherTag
          style:
            display: ..formData.other.isShow
            left: "0.04"
            marginTop: "0.0123"
            boxSizing: border-box
            height: "0.0874"
            width: "0.92"
            border:
              style: 3
            borderColor: "0xdedede"
            borderWidth: "1.5"
            padding: "6px 12px"
            borderRadius: "4"
            fontSize: .Nfont.h14

        - .DocPublicLine:

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: Patient
              dataKey:
              style:
                marginTop: "0.0221"
                width: "0.92"
                height: "auto"
                fontSize: .Nfont.h14
                color: "0x333333"
                fontWeight: "600"
            - .DocPublicStyleTwoBox:
              style:
                marginTop: "0.0123"
              children:
                - .DocPublicStyleTwoLeft:
                  text: Patient Name
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.name
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Phone #"
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.phone
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Date of Birth
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.dob
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Gender"
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.sex
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Patient Address"
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.address
                  style:
                    height: "auto"
                    width: "0.92"
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    color: "0x333333"
                    fontWeight: "600"
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Date of injury
            - type: view
              viewTag: selectInjuryDateTag
              style:
                marginTop: "0.0061"
                width: "0.6"
                height: "auto"
                border:
                  style: 3
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "#dedede"
                overflow: hidden
                verticalAlign: middle
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: apiRequest.pRTwo.docReq.name.data.patientInfo.injuryDate
                  isEditable: "false"
                  style:
                    marginLeft: "0.032"
                    width: "0.504"
                    height: "0.037"
                    fontSize: .Nfont.h14

                    display: "inline-block"
                    boxSizing: "border-box"
                    border:
                      style: 1
                    verticalAlign: middle
                    backgroundColor: "0xffffff"
                    color: "0x333333"
                - type: image
                  path: dateImg.svg
                  style:
                    display: "inline-block"
                    height: "0.0172"
                    verticalAlign: middle
              onClick:
                - actionType: popUp
                  popUpView: selectInjuryDate
        - .DocPublicLine:
        - type: label
          text: "Claims Administrator"
          dataKey:
          style:
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            fontSize: .Nfont.h16
            color: "0x333333"
            fontWeight: "600"
            marginTop: "0.0221"
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Claims Administrator"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.administrator
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Claims Number"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.claimsNumber
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Address Line"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.line
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Address Second Line"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.secondLine
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicInlineStyleBox:
              children:
                - .DocPublicInlineStyleTitle:
                  text: City
                - .DocPublicInlineStyleInput:
                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.city
            - .DocPublicInlineStyleBox:
              style:
                marginLeft: "0.04"
              children:
                - .DocPublicInlineStyleTitle:
                  text: County
                - .DocPublicInlineStyleInput:
                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.county
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicInlineStyleBox:
              children:
                - .DocPublicInlineStyleTitle:
                  text: State
                - .DocPublicInlineStyleSelect:
                  options: .SelectINformationDM.state
                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.state
            - .DocPublicInlineStyleBox:
              style:
                marginLeft: "0.04"
              children:
                - .DocPublicInlineStyleTitle:
                  text: Zip Code
                - .DocPublicInlineStyleInput:
                  dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.zipCode
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Employer Name"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.employerName
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Employer's Phone #"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.employerPhone
        - .DocPublicStyleFiveBox:
          children:
            - .DocPublicStyleFiveTitle:
              text: "Employer's Fax #"
            - .DocPublicStyleFiveinput:
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.employerFax
        - type: label
          textBoard:
            - text: "Subjective Complaints"
              fontWeight: "600"
            - text: " (The information below must be provided. You may use this form or you may substitute or append a narrative report.)"
          dataKey:
          style:
            marginTop: "0.0221"
            marginLeft: "0.04"
            height: "auto"
            width: "0.92"
            fontSize: .Nfont.h14
            color: "0x333333"
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.subComplaints
          style:
            left: "0.04"
            marginTop: "0.0123"
            borderRadius: "4"
            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderColor: "0xdedede"
            padding: "6px 12px"
            fontSize: .Nfont.h14

        - type: label
          text: "Objective Findings"
          dataKey:
          style:
            marginTop: "0.0221"
            marginLeft: "0.04"
            height: "auto"
            width: "0.92"
            fontSize: .Nfont.h16
            fontWeight: "600"
            color: "0x333333"
        # 文本 Vital Signs
        - type: view
          style:
            ..style.vital:
          children:
            - type: label
              text: "Vital Signs"
              dataKey:
              style:
                width: "0.45"

                fontSize: .Nfont.h14
                fontWeight: "600"
                textAlign:
                  x: "left"
        # Blood
        - type: view
          style:
            ..style.signBox:

          children:
            - type: label
              text: "Blood Pressure (mmHg)"
              style:
                ..style.signTitle:
            - type: label
              text: "Heart Rate (bpm)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.BP
              style:
                width: "0.44"
                height: "0.037"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                borderWidth: "1"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.HR
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Respiratory Rate
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Respiratory Rate (breaths/min)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "Pulse Oximetry (O₂ %)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.RR
              style:
                width: "0.44"
                height: "0.037"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.PO
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Temperature
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Temperature (°F/°C)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "Height (ft/in)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "0.037"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.temperature
              style:
                width: "0.44"
                height: "0.037"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.height
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Weight
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Weight (lb)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "BMI (kg/m²)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.weight
              style:
                width: "0.44"
                height: "0.037"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.vitalSigns.BMI
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"

        - type: label
          text: "Physical Examination"
          dataKey:
          style:
            marginTop: "0.01724"
            marginLeft: "0.04"
            width: "auto"

            fontSize: .Nfont.h14
            fontWeight: "600"
        - type: textView
          placeholder: "Enter here"
          dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.objFindings
          style:
            ..style.objectiveFindings:
        # 文本 Labs
        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.0222"
            marginLeft: "0.04"
          children:
            - type: label
              text: "Labs"
              dataKey:
              style:
                width: "0.45"

                fontSize: .Nfont.h14
                fontWeight: "600"
                textAlign:
                  x: "left"
        # 文本 Blood Glucose
        - type: view
          style:
            width: "0.92"
            height: "0.024"
            marginTop: "0.0135"
            marginLeft: "0.04"
          children:
            - type: label
              text: "Blood Glucose"
              dataKey:
              style:
                width: "0.45"

                fontSize: .Nfont.h12
                fontWeight: "600"
                textAlign:
                  x: "left"
        # 输入单行
        - type: textField
          placeholder: "Enter here"
          dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.bloodGlucose
          style:
            width: "0.92"
            height: "0.037"
            marginTop: "0.01"
            marginLeft: "0.04"
            border:
              style: "3"
            borderWidth: "1"
            borderColor: "#dedede"
            borderRadius: "4"
            boxSizing: "border-box"
            textIndent: "12px"

            fontSize: .Nfont.h14
            color: "0x333333"
        # Object Fidings
        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.0123"
            marginLeft: "0.04"
          children:
            - type: label
              text: "Imaging Studies"
              dataKey:
              style:
                width: "0.92"

                fontSize: .Nfont.h14
                fontWeight: "600"
                textAlign:
                  x: "left"
            - type: textView
              placeholder: "Enter here"
              dataKey: apiRequest.pRTwo.docReq.name.data.administratorInfo.imagingStudies
              style:
                width: "0.92"
                height: "0.087"
                marginTop: "0.01"
                borderRadius: "4"
                borderColor: "#dedede"

                fontSize: .Nfont.h14
                border:
                  style: "3"
                borderWidth: "1"
                boxSizing: "border-box"
                padding: "6px 12px"
        - type: view
          style:
            width: "1"
            height: "auto"
            overflow: "auto"
            marginTop: "0.0221"
          children:
            - type: label
              text: Diagnoses
              dataKey:
              style:
                marginLeft: "0.04"
                width: "0.92"
                height: "auto"
                color: "0x333333"
                fontSize: .Nfont.h14
                fontWeight: "600"

            - type: view
              viewTag: searchBox
              style:
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
              children:
                - type: view
                  style:
                    marginTop: "0.01"
                    width: "0.92"
                    height: "auto"
                    boxSizing: border-box
                  children:
                    - type: view
                      viewTag: selectDateTag
                      style:
                        display: "inline-block"
                        height: "0.037"
                        width: "0.325"
                        boxSizing: border-box
                        border:
                          style: 3
                        borderRadius: "4"
                        borderWidth: "1.5"
                        borderColor: "0xcdcdcd"
                        overflow: hidden
                      children:
                        - type: image
                          path: ICDsearch.svg
                          style:
                            marginLeft: "0.016"
                            display: "inline-block"
                            height: "0.015"
                            verticalAlign: middle
                        - type: textField
                          viewTag: CodeListTag
                          placeholder: Search
                          dataKey: formData.diagnosis.descriptiveList.code
                          style:
                            marginLeft: "0.01"
                            display: "inline-block"
                            height: "0.037"
                            width: "0.24"
                            boxSizing: border-box
                            border:
                              style: 1
                            fontSize: .Nfont.h14
                            verticalAlign: middle

                            color: "0x333333"
                          onInput:
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.diagnosis.descriptiveList.code
                                          string2: ""
                                    - actionType: evalObject
                                      object:
                                        - ..formData.listDataflag@: "block"
                                        - ..formData.searchShow@: "none"
                                    - actionType: evalObject
                                      object:
                                        - ..formData.listDataflag@: "none"
                                        - ..formData.searchShow@: "block"
                            - actionType: evalObject
                              object:
                                - ..formDataTemp.allListInfo@: []
                                - ..formDataTemp.allListString@: []
                            - actionType: evalObject
                              object:
                                - =.builtIn.search.queryCode:
                                    dataIn:
                                      query: =..formData.diagnosis.descriptiveList.code
                                    dataOut: PRTwoPrivate.formDataTemp.allListInfo
                                - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: CodeTag
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: CodeTags
                            - actionType: builtIn
                              funcName: show
                              viewTag: CodeTag
                            # - actionType: builtIn
                            #   funcName: hide
                            #   viewTag: listData
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: listData
                            - actionType: builtIn
                              funcName: show
                              viewTag: ShowTag
                            - actionType: popUp
                              popUpView: CodeTag
                              dismissOnTouchOutside: true
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: searchShowTag
                    - type: textField
                      viewTag: descriptionTag
                      placeholder: Description
                      dataKey: formData.diagnosis.descriptiveList.description
                      style:
                        marginLeft: "0.02"
                        display: "inline-block"
                        height: "0.037"
                        width: "0.573"
                        textIndent: "12px"
                        boxSizing: border-box
                        border:
                          style: 3
                        borderRadius: "4"
                        borderWidth: "1.5"
                        borderColor: "0xcdcdcd"
                        fontSize: .Nfont.h14
                        color: "0x333333"
                - type: textView
                  viewTag: CommentsTag
                  placeholder: Comments
                  dataKey: formData.diagnosis.descriptiveList.comment
                  style:
                    marginTop: "0.01"
                    width: "0.92"
                    height: "0.0874"
                    boxSizing: border-box
                    textIndent: "12px"
                    border:
                      style: 3
                    borderRadius: "4"
                    borderWidth: "1.5"
                    borderColor: "0xcdcdcd"
                    fontSize: .Nfont.h14
                    color: "0x333333"
                    paddingTop: "6px"

            - type: label
              text: + add more
              style:
                marginLeft: "0.76"
                marginTop: "0.0073"
                fontSize: .Nfont.h14
                color: "0x1492e6"
                height: "auto"
                width: "auto"
                fontWeight: "600"
              onClick:
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..formData.diagnosis.descriptiveList.code
                              - =..formData.diagnosis.descriptiveList.description
                        - continue
                        - actionType: popUp
                          popUpView: SearchWarning
                          wait: true
                          popUpDismiss: 2000

                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.containingValue:
                            dataIn:
                              object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                              key: code
                              value: =..formData.diagnosis.descriptiveList.code
                        - actionType: popUp
                          popUpView: repeatWarning
                          wait: true
                          popUpDismiss: 2000
                        - continue

                - emit:
                    actions:
                      - =.builtIn.array.add:
                          dataIn:
                            object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                            value: =..formData.diagnosis.descriptiveList
                - actionType: evalObject
                  object:
                    - ..formData.diagnosis.descriptiveList.code@: ""
                    - ..formData.diagnosis.descriptiveList.description@: ""
                    - ..formData.diagnosis.descriptiveList.comment@: ""
                - actionType: builtIn
                  funcName: redraw
                  viewTag: listData
                - actionType: builtIn
                  funcName: redraw
                  viewTag: CodeListTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: descriptionTag
                - actionType: builtIn
                  funcName: hide
                  viewTag: ShowTag
                - actionType: builtIn
                  funcName: show
                  viewTag: listData
                - actionType: builtIn
                  funcName: redraw
                  viewTag: CommentsTag
                - actionType: builtIn
                  funcName: hide
                  viewTag: CodeTag
            - type: view
              style:
                marginTop: "0.01"
                height: "auto"
                width: "0.92"
              children:
                - type: view
                  viewTag: listData
                  style:
                    marginLeft: "0.04"
                    width: "0.92"
                    height: "auto"
                    marginTop: "0.01477"
                    display: ..formData.listDataflag
                  children:
                    - type: list
                      viewTag: listData
                      contentType: listObject
                      listObject: ..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                      iteratorVar: itemObject
                      style:
                        width: "0.92"
                        marginTop: "0.03"
                        height: "auto"
                        margin: "0"
                      children:
                        - type: listItem
                          itemObject: ""
                          style:
                            marginTop: "0.01"
                            width: "0.92"
                            height: "auto"
                            left: "0"
                            overflow: hidden
                          children:
                            - type: view
                              style:
                                width: "0.92"
                                height: "auto"
                              children:
                                - type: image
                                  path: x.svg
                                  style:
                                    display: "inline-block"
                                    height: "0.025"
                                    zIndex: 10
                                    verticalAlign: top
                                  onClick:
                                    - actionType: popUp
                                      popUpView: BaseDelWarningView
                                    - actionType: updateObject
                                      dataKey: PRTwoPrivate.formData.selectedDiagnosis
                                      dataObject: itemObject
                                - type: label
                                  dataKey: itemObject.code
                                  style:
                                    display: "inline-block"
                                    marginLeft: "0.02"
                                    height: "auto"
                                    width: "0.17"
                                    textAlign:
                                      x: left

                                    backgroundColor: "0xffffff"
                                    wordWrap: break-word
                                    fontSize: .Nfont.h14
                                    fontWeight: "550"
                                    verticalAlign: top
                                    color: "0x333333"
                                - type: label
                                  text: "-"
                                  style:
                                    verticalAlign: middle
                                    display: "inline-block"
                                    width: "auto"
                                    height: "auto"
                                    fontSize: .Nfont.h2
                                - type: label
                                  dataKey: itemObject.description
                                  style:
                                    verticalAlign: top
                                    marginLeft: "0.015"
                                    display: "inline-block"
                                    height: "auto"
                                    width: "0.64"
                                    textAlign:
                                      x: left
                                    backgroundColor: "0xffffff"

                                    wordWrap: break-word
                                    fontSize: .Nfont.h14
                                    color: "0x333333"
                            - type: label
                              dataKey: itemObject.comment
                              style:
                                marginTop: "0.002"
                                marginLeft: "0.07"
                                width: "0.845"
                                height: "auto"
                                color: "0x666666"

                                wordWrap: break-word
                                fontSize: .Nfont.h14

            - type: label
              textBoard:
                - text: "Treatment Plan"
                  fontWeight: "600"
                - text: " (Include treatment rendered to date. List methods, frequency and duration of planned treatment(s).Specify consultation/ referral, surgery, and hospitalization. Identify each physician and non-physician provider. Specify type, frequency and duration of physical medicine services (e.g., physical therapy, manipulation, acupuncture). Use of CPT codes is encouraged. Have there been any changes in treatment plan? If so, why?"
              dataKey:
              style:
                marginTop: "0.0221"
                marginLeft: "0.04"
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
                color: "0x333333"
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pRTwo.docReq.name.data.diagnosis.treatmentPlan
              style:
                left: "0.04"
                marginTop: "0.0123"
                borderRadius: "4"
                height: "0.0874"
                width: "0.92"
                boxSizing: border-box
                border:
                  style: 3
                borderColor: "0xdedede"
                padding: "6px 12px"
                fontSize: .Nfont.h14

            - type: view
              viewTag: searchShowTag
              style:
                top: "0.07"
                left: "0.04"
                display: ..formData.searchShow
                width: "auto"
                height: "auto"
                backgroundColor: "0xffffff"
                borderRadius: "4"
                boxSizing: "border-box"
                boxShadow: "1px 1px 4px 1px #dededf"
                zIndex: "20"
              children:
                - type: view
                  viewTag: CodeTag
                  style:
                    display: "none"
                    width: "0.92"
                    height: "auto"

                    borderRadius: "4"
                    boxSizing: "border-box"
                    backgroundColor: "0xffffff"
                    boxShadow: "1px 1px 4px 1px #dededf"
                    zIndex: 10
                  children:
                    - type: view
                      viewTag: ShowTag
                      style:
                        width: "0.9"
                        height: "0.3"
                        marginLeft: "0.02"
                        overflow: scroll
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..formDataTemp.allListString
                          iteratorVar: itemObject
                          viewTag: CodeTags
                          style:
                            width: "0.9"
                            height: "0.3"
                            margin: "0"
                            marginTop: "0"
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                width: "0.9"
                                marginTop: "0.002"
                                height: "auto"
                                overflow: hidden
                              children:
                                - type: label
                                  dataKey: itemObject.0.2
                                  style:
                                    width: "0.88"
                                    textIndent: 20px
                                    marginTop: "0.005"
                                    textAlign:
                                      x: left
                                      y: center
                                    height: "auto"
                                    fontSize: .Nfont.h14
                                    color: "0x143459"
                                    wordWrap: break-word
                                  onClick:
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                          - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: CodeListTag
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: descriptionTag
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: ShowTag
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: listData
                                    - actionType: builtIn
                                      funcName: show
                                      viewTag: listData
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: CodeTag

        - type: view
          style:
            marginTop: "0.0246"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: "Work Status:"
              dataKey:
              style:
                display: "inline-block"
                width: "auto"
                height: "auto"
                fontSize: .Nfont.h14
                color: "0x333333"
            - type: label
              text: "&nbsp;This patient has been instructed to"
              dataKey:
              style:
                display: "inline-block"
                width: "auto"
                height: "auto"
                fontSize: .Nfont.h14
                color: "0x333333"
            - type: view
              style:
                marginTop: "0.01231"
                width: "auto"
                height: "auto"
              children:
                - type: image
                  viewTag: claimsAdstatusSelectTag
                  style:
                    display: "inline-block"
                    verticalAlign: "middle"
                    height: "0.0197"
                  path:
                    emit:
                      actions:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "1"
                            - radioOn.svg
                            - radioOff.svg
                  onClick:
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "1"
                            - actionType: evalObject
                              object:
                                - ..formData.workStatus.claimsAd.isClaimsAd@: none
                                - ..formData.workStatus.workStatusWay@: "0"
                            - actionType: evalObject
                              object:
                                - ..formData.workStatus.claimsAd.isClaimsAd@: block
                                - ..formData.workStatus.workStatusWay@: "1"
                        - ..formData.workStatus.modifiedWork.isModified@: none
                        - ..formData.workStatus.fullDuty.isFullDuty@: none
                        - ..formData.workStatus.modifiedWork.modifiedDate@: ""
                        - ..formData.workStatus.fullDuty.fullDutyDate@: ""
                        - ..formData.workStatus.restrictions@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: claimsAdstatusSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectClaimsDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkTextViewTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyDateTag
                - type: label
                  text: Remain off-work until
                  style:
                    display: "inline-block"
                    marginLeft: "0.021"
                    fontSize: .Nfont.h14

                    color: "0x333333"
                    verticalAlign: "middle"
            - type: view
              viewTag: selectClaimsDateTag
              style:
                display: ..formData.workStatus.claimsAd.isClaimsAd
                marginTop: "0.01"
                width: "0.6"
                height: "auto"
                border:
                  style: 3
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "#dedede"
                overflow: hidden
                verticalAlign: middle
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: formData.workStatus.claimsAd.ClaimsAdDate
                  isEditable: "false"
                  style:
                    marginLeft: "0.032"
                    width: "0.504"
                    height: "0.037"
                    fontSize: .Nfont.h14

                    display: "inline-block"
                    boxSizing: "border-box"
                    border:
                      style: 1
                    verticalAlign: middle
                    backgroundColor: "0xffffff"
                    color: "0x333333"
                - type: image
                  path: dateImg.svg
                  style:
                    display: "inline-block"
                    height: "0.0172"
                    verticalAlign: middle
              onClick:
                - actionType: popUp
                  popUpView: selectClaimsDate
            - type: view
              style:
                marginTop: "0.01231"
                width: "auto"
                height: "auto"
              children:
                - type: image
                  viewTag: modifiedWorkSelectTag
                  style:
                    display: "inline-block"
                    verticalAlign: "middle"
                    height: "0.0197"
                  path:
                    emit:
                      actions:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "2"
                            - radioOn.svg
                            - radioOff.svg
                  onClick:
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "2"
                            - actionType: evalObject
                              object:
                                - ..formData.workStatus.modifiedWork.isModified@: none
                                - ..formData.workStatus.workStatusWay@: "0"
                            - actionType: evalObject
                              object:
                                - ..formData.workStatus.modifiedWork.isModified@: block
                                - ..formData.workStatus.workStatusWay@: "2"
                        - ..formData.workStatus.claimsAd.isClaimsAd@: none
                        - ..formData.workStatus.fullDuty.isFullDuty@: none
                        - ..formData.workStatus.claimsAd.ClaimsAdDate@: ""
                        - ..formData.workStatus.fullDuty.fullDutyDate@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: claimsAdstatusSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: selectClaimsDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkSelectTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkDateTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedWorkTextViewTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyDateTag
                - type: label
                  text: Return to modified work on
                  style:
                    display: "inline-block"
                    marginLeft: "0.021"
                    fontSize: .Nfont.h14

                    color: "0x333333"
                    verticalAlign: "middle"
            - type: view
              viewTag: modifiedWorkDateTag
              style:
                display: ..formData.workStatus.modifiedWork.isModified
                marginTop: "0.01"
                width: "0.6"
                height: "auto"
                border:
                  style: 3
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "#dedede"
                overflow: hidden
                verticalAlign: middle
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: formData.workStatus.modifiedWork.modifiedDate
                  isEditable: "false"
                  style:
                    marginLeft: "0.032"
                    width: "0.504"
                    height: "0.037"
                    fontSize: .Nfont.h14

                    display: "inline-block"
                    boxSizing: "border-box"
                    border:
                      style: 1
                    verticalAlign: middle
                    backgroundColor: "0xffffff"
                    color: "0x333333"
                - type: image
                  path: dateImg.svg
                  style:
                    display: "inline-block"
                    height: "0.0172"
                    verticalAlign: middle
              onClick:
                - actionType: popUp
                  popUpView: modifiedWorkDate
        - type: view
          viewTag: modifiedWorkTextViewTag
          style:
            width: "auto"
            height: "auto"
            marginTop: "0.0221"
            marginLeft: "0.04"
            display: ..formData.workStatus.modifiedWork.isModified
          children:
            - type: label
              textBoard:
                - text: "with the following limitations or restrictions."
                  fontWeight: "600"
                - text: "(List all specific restrictions re: standing, sitting, bending, use of hands, etc.)"
              dataKey:
              style:
                height: "auto"
                width: "0.92"
                fontSize: .Nfont.h14
                color: "0x333333"
            - type: textView
              placeholder: Enter here
              dataKey: formData.workStatus.restrictions
              style:
                marginTop: "0.0123"
                borderRadius: "4"
                height: "0.0874"
                width: "0.92"
                boxSizing: border-box
                border:
                  style: 3
                borderColor: "0xdedede"
                padding: "6px 12px"
                fontSize: .Nfont.h14

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.01231"
            width: "auto"
            height: "auto"
          children:
            - type: image
              viewTag: fullDutyTag
              style:
                display: "inline-block"
                verticalAlign: "middle"
                height: "0.0197"
              path:
                emit:
                  actions:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.workStatus.workStatusWay
                              string2: "3"
                        - radioOn.svg
                        - radioOff.svg
              onClick:
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.workStatus.workStatusWay
                              string2: "3"
                        - actionType: evalObject
                          object:
                            - ..formData.workStatus.fullDuty.isFullDuty@: none
                            - ..formData.workStatus.workStatusWay@: "0"
                        - actionType: evalObject
                          object:
                            - ..formData.workStatus.fullDuty.isFullDuty@: block
                            - ..formData.workStatus.workStatusWay@: "3"
                    - ..formData.workStatus.claimsAd.isClaimsAd@: none
                    - ..formData.workStatus.modifiedWork.isModified@: none
                    - ..formData.workStatus.claimsAd.ClaimsAdDate@: ""
                    - ..formData.workStatus.modifiedWork.modifiedDate@: ""
                    - ..formData.workStatus.restrictions@: ""
                - actionType: builtIn
                  funcName: redraw
                  viewTag: claimsAdstatusSelectTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: selectClaimsDateTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: modifiedWorkSelectTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: modifiedWorkDateTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: modifiedWorkTextViewTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: fullDutyTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: fullDutyDateTag
            - type: label
              text: Return to full duty with no limitations or restrictions on
              style:
                display: "inline-block"
                marginLeft: "0.021"
                fontSize: .Nfont.h14

                color: "0x333333"
                verticalAlign: "top"
                width: "auto"
        - type: view
          viewTag: fullDutyDateTag
          style:
            display: ..formData.workStatus.fullDuty.isFullDuty
            marginLeft: "0.04"
            marginTop: "0.01"
            width: "0.6"
            height: "auto"
            border:
              style: 3
            borderRadius: "4"
            boxSizing: "border-box"
            borderColor: "#dedede"
            overflow: hidden
            verticalAlign: middle
          children:
            - type: textField
              placeholder: "Select"
              dataKey: formData.workStatus.fullDuty.fullDutyDate
              isEditable: "false"
              style:
                marginLeft: "0.032"
                width: "0.504"
                height: "0.037"
                fontSize: .Nfont.h14

                display: "inline-block"
                boxSizing: "border-box"
                border:
                  style: 1
                verticalAlign: middle
                backgroundColor: "0xffffff"
                color: "0x333333"
            - type: image
              path: dateImg.svg
              style:
                display: "inline-block"
                height: "0.0172"
                verticalAlign: middle
          onClick:
            - actionType: popUp
              popUpView: fullDutyDate
        - type: label
          text: "Primary Treating Physician:"
          dataKey:
          style:
            marginTop: "0.0221"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            fontSize: .Nfont.h14
            color: "0x333333"

        - type: label
          text: Date of Exam
          style:
            marginTop: "0.0123"
            marginLeft: "0.04"
            fontSize: .Nfont.h14

            color: "0x333333"
            verticalAlign: "middle"
            width: "auto"
        - type: view
          viewTag: examDateTag
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            width: "0.6"
            height: "auto"
            border:
              style: 3
            borderRadius: "4"
            boxSizing: "border-box"
            borderColor: "#dedede"
            overflow: hidden
            verticalAlign: middle
          children:
            - type: textField
              placeholder: "Select"
              dataKey: formData.workStatus.examDate
              isEditable: "false"
              style:
                marginLeft: "0.032"
                width: "0.504"
                height: "0.037"
                fontSize: .Nfont.h14

                display: "inline-block"
                boxSizing: "border-box"
                border:
                  style: 1
                verticalAlign: middle
                backgroundColor: "0xffffff"
                color: "0x333333"
            - type: image
              path: dateImg.svg
              style:
                display: "inline-block"
                height: "0.0172"
                verticalAlign: middle
          onClick:
            - actionType: popUp
              popUpView: examDate
        - type: label
          text: I declare under penalty of perjury that this report is true and correct to the best of my knowledge and that I have not violated Labor Code section 139.3.
          dataKey:
          style:
            marginTop: "0.0123"
            marginLeft: "0.04"
            height: "auto"
            width: "0.92"
            wordWrap: break-word
            color: "0x333333"
            fontSize: .Nfont.h14

        - type: label
          text: "Plan And Recommendations"
          dataKey:
          style:
            ..style.thirdInputTitle:
            marginLeft: "0.04"
        - type: label
          text: You can add recommendations after finishing this note
          style:
            ..style.thirdInputTitle:
            margin: "0"
            fontSize: .Nfont.h14
            lineHeight: "2.58vh"
            marginLeft: "0.04"
            fontWeight: "400"
        - type: label
          text: "&#8226 Note"
          style:
            width: "0.92"
            fontSize: .Nfont.h14
            lineHeight: "2.58vh"
            marginLeft: "0.04"
        - type: textView
          placeholder: "Enter here"
          dataKey: apiRequest.pRTwo.docReq.name.data.planAndRecommendations
          style:
            ..style.thirdInput:
            marginLeft: "0.04"

        # - type: view
        #   viewTag: defaultTag
        #   style:
        #     ..style.blockBox:
        #   children:
        #     - type: image
        #       path:
        #         ..event.checkBoxPath:
        #       style:
        #         ..style.img:
        #     - type: label
        #       text: Superbill
        #       onClick:
        #         # 签名处理
        #         - actionType: saveSignature
        #           dataObject: BLOB
        #           dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
        #           isEmpty: PRTwoPrivate.formData.whetherSign
        #         # 保存签名
        #         - actionType: evalObject
        #           object:
        #             - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =..formData.whetherSign
        #                 - continue
        #                 - =..apiRequest.newSign.docAPI.store: ""

        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =..formData.temporarySignature
        #                 - actionType: evalObject
        #                   object:
        #                     - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
        #                     - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
        #                     - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
        #                     - ..formData.whetherSign@: false
        #                 - actionType: evalObject
        #                   object:
        #                     - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
        #                     - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
        #                     - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign
        #         - actionType: evalObject
        #           object:
        #             - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
        #             - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
        #             - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList
        #             - =.PRTwoPrivate.apiRequest.pRTwo.docAPI.store: ""
        #             - .Global.Note@: =..apiRequest.pRTwo.docResp.doc

        #         - actionType: evalObject
        #           object:
        #             # 更新本地
        #             - .Global.formData.providerDoc.diagnosesDoc@: =..apiRequest.diagnosesDoc.docReq
        #             - .Global.formData.parentPage@: PRTwoPrivate
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =..apiRequest.pRTwo.docReq.name.data.superbill
        #                 - goto: SuperbillReview
        #                 - goto: SelectSuperbill
        #       style:
        #         ..style.setLabel:

        - .DocPublicLine:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.03"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              style:
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text: "Signature"
                  style:
                    display: "inline-block"
                    width: "0.816"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0x333333"
                    fontWeight: "600"
                    textAlign:
                      x: left
                - type: label
                  text: "Clear"
                  style:
                    display: "inline-block"
                    width: "auto"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0xfb5051"
                  onClick:
                    - actionType: removeSignature
                      dataObject: BLOB
                      dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                    - actionType: evalObject
                      object:
                        - ..formData.temporarySignature@: ""
                        - ..formData.signatureTime@: ""
                        - ..formData.flag@: "none"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: signatureTimeTag
                    # 显示签名区域隐藏
                    - actionType: builtIn
                      funcName: hide
                      viewTag: signatureShowTag
                    - actionType: builtIn
                      funcName: show
                      viewTag: signatureTag
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.128"
            width: "0.9"
            border:
              style: "4"
              color: "0xa9a9a9"
            borderWidth: "2"
          children:
            - type: label
              text: X
              style:
                .SignLabelStyle:
            - type: canvas
              dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
              viewTag: signatureTag
              style:
                left: "0"
                width: "0.88"
                height: "0.128"
                overflow: scroll
            # 显示暂存的签名
            - type: image
              viewTag: signatureShowTag
              path=func: .builtIn.utils.prepareDocToPath
              # 传入签名文档的id
              dataKey: PRTwoPrivate.formData.temporarySignature
              style:
                # 控制显示
                display: =..formData.flag
                left: "0"
                width: "0.88"
                top: "0"
                height: "0.128"
                overflow: scroll
                zIndex: "1000"

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0146"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              viewTag: signatureTimeTag
              style:
                display: ..formData.flag
                marginTop: "0.01"
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: apiRequest.pRTwo.docReq.name.data.signatureCtime
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
                - type: label
                  text: "Digitally Signed"
                  dataKey:
                  style:
                    marginLeft: "0.02"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
            - type: view
              style:
                marginTop: "0.01"
                width: "auto"
                height: "auto"
              children:
                - type: label
                  text: Date
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x666666"
                    fontSize: .Nfont.h12
                - type: label
                  text=func: .builtIn.string.formatUnixtimeL_en
                  dataKey: apiRequest.pRTwo.docReq.mtime
                  style:
                    marginLeft: "0.0373"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x333333"
                    fontSize: .Nfont.h12
                    fontWeight: "600"
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.physicianName
              style:
                height: "auto"
                width: "0.92"
                color: "0x333333"
                fontSize: .Nfont.h16
                fontWeight: "600"
                wordWrap: break-word
            - type: label
              dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.specialty
              style:
                marginTop: "0.006"
                height: "auto"
                width: "0.92"
                color: "0x666666"
                fontSize: .Nfont.h14
                wordWrap: break-word
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "LIC #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.license
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "NPI #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.npi
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "DEA #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.dea
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Email"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.fax
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.phoneNumber
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Address"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.address
            - .DocPublicLine:
              style:
                marginTop: "0.0246"
                height: "0.00369"
        - type: label
          dataKey: apiRequest.pRTwo.docReq.name.data.providerInfo.website
          style:
            marginTop: "0.01"
            width: "1"
            height: "auto"
            color: "0x666666"
            fontSize: .Nfont.h12
            textAlign:
              x: center
        - type: view
          style:
            marginTop: "0.03"
    - .BasePublicFooter:
      children:
        - type: view
          style:
            display: =..formDataTemp.updateBtnShow
          children:
            - .DocButtonPrivate:
              text: Cancel
              onClick:
                - actionType: popUp
                  popUpView: judgmentOperation

            - .DocButtonRelease:
              text: Update & Send
              onClick:
                # 处理Diagnosis
                - actionType: evalObject
                  object:
                    # 同步线上
                    - =.PRTwoPrivate.apiRequest.diagnosesDoc.docAPI.store: ""
                    # 更新本地
                    - .Global.formData.providerDoc.diagnosesDoc@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
                # 签名处理
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
                  isEmpty: PRTwoPrivate.formData.whetherSign

                # 保存签名
                - actionType: evalObject
                  object:
                    # 签名reid指向 doc 的id
                    - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.whetherSign
                        - continue
                        - =..apiRequest.newSign.docAPI.store: ""

                #  指定 eid 和 reid
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.eid@: =.Global.currentRoom.edge.id
                            - ..apiRequest.pRTwo.docReq.reid@: =.Global.roomInfo.edge.id
                        - continue

                # 签名处理
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.temporarySignature
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
                            - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
                            - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
                            - ..formData.whetherSign@: false
                        - actionType: evalObject
                          object:
                            - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                            - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                            - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign

                # 判断other
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.has:
                            dataIn:
                              object: =..formData.reportList
                              value: "Other"
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.other.value
                                      string2: ""
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                        - continue

                # 判斷Diagnoses
                - actionType: evalObject
                  object:
                    - =.builtIn.array.getListLength:
                        dataIn:
                          object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                        dataOut: PRTwoPrivate.formData.listDatalength
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..apiRequest.pRTwo.docReq.name.data.diagnosis.isInvolved
                              string2: "Yes"
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.listDatalength
                                      string2: "0"
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                        - continue

                # 判断Work Status
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.workStatus.workStatusWay
                              string2: "1"
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.workStatus.claimsAd.ClaimsAdDate
                                      string2: ""
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                        - continue
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.workStatus.workStatusWay
                              string2: "2"
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.workStatus.modifiedWork.modifiedDate
                                      string2: ""
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.workStatus.restrictions
                                      string2: ""
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                        - continue
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.workStatus.workStatusWay
                              string2: "3"
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.workStatus.fullDuty.fullDutyDate
                                      string2: ""
                                - actionType: popUp
                                  popUpView: unCompleteTag
                                  wait: true
                                  popUpDismiss: 2000
                                - continue
                        - continue

                - actionType: evalObject
                  object:
                    - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
                    - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
                    - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList
                # 未签名警告
                - actionType: evalObject
                  object:
                    - if:
                        - =.PRTwoPrivate.formData.whetherSign
                        - actionType: popUp
                          popUpView: BaseWarningView
                          wait: true
                          popUpDismiss: 2000
                        - continue

                #  修改type
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..apiRequest.pRTwo.docReq.type
                          index: 1
                          hex: 1
                        dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.type
                - actionType: evalObject
                  object:
                    - =.builtIn.utils.createAuditLog:
                        dataIn:
                          actionTypeCode: .ActionTypeCode.edit
                          recordTypeCode: .DocType.pRTwo
                          eid: =.Global.formData.currentFacility.relationEdge.id
                          date: =.Global.formData.auditLog.startTime
                          user: =.Global.MyProfile.name.data.fullName
                          userId: =.Global.currentUser.vertex.id
                          targetUserId: =.Global.formData.auditLog.patientId
                          targetUser: =.Global.formData.auditLog.patientName
                          accessPort: provider
                          amendment: Amendment
                          amendmentId: =.Global.email.esig
                        dataOut: Global.formData.auditLog.result

                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""

                # 邮件逻辑
                - actionType: evalObject
                  object:
                    - actionType: evalObject
                      async: true
                      object:
                        - =..apiRequest.pRTwo.docAPI.store: ""
                        # 向patient发送accept的邮件
                        # 获取10002edge
                        - =..apiRequest.relation.edgeAPI.get: ""
                    - =.builtIn.string.concat:
                        dataIn:
                          - "Hello,"
                          - =.Global.MyProfile.name.data.fullName
                          - " has updated the "
                          - =.Global.email.name.data.recordName
                          - "."
                        dataOut: PRTwoPrivate.apiRequest.email.docCreateReq.name.data.content
                    - ..apiRequest.email.docCreateReq.eid@: =..apiRequest.relation.edgeQueryResp.edge.0.id
                    - =..apiRequest.email.docAPI.store: ""
                - actionType: popUp
                  popUpView: successTag
                  wait: 2000

                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""

                - goto: MessageShow
        - type: view
          style:
            display: =..formDataTemp.originalBtnShow
          children:
            - type: view
              style:
                height: auto
                width: "auto"
              children:
                - .DocButtonPrivate:
                  onClick:
                    # 处理Diagnosis
                    - actionType: evalObject
                      object:
                        # 同步线上
                        - =.PRTwoPrivate.apiRequest.diagnosesDoc.docAPI.store: ""
                        # 更新本地
                        - .Global.formData.providerDoc.diagnosesDoc@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
                    # 签名处理
                    - actionType: saveSignature
                      dataObject: BLOB
                      dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
                      isEmpty: PRTwoPrivate.formData.whetherSign

                    # 保存签名
                    - actionType: evalObject
                      object:
                        # 签名reid指向 doc 的id
                        - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

                    - actionType: evalObject
                      object:
                        - if:
                            - =..formData.whetherSign
                            - continue
                            - =..apiRequest.newSign.docAPI.store: ""

                    #  指定 eid 和 reid
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =.Global.formData.unPageName
                                  string2: ""
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.eid@: =.Global.currentRoom.edge.id
                                - ..apiRequest.pRTwo.docReq.reid@: =.Global.roomInfo.edge.id
                            - continue

                    # 签名处理
                    - actionType: evalObject
                      object:
                        - if:
                            - =..formData.temporarySignature
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
                                - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
                                - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
                                - ..formData.whetherSign@: false
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                                - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                                - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign

                    - actionType: evalObject
                      object:
                        - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
                        - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
                        - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList

                    #  修改type
                    - actionType: evalObject
                      object:
                        - =.builtIn.number.inhx:
                            dataIn:
                              intHex: =..apiRequest.pRTwo.docReq.type
                              index: 1
                              hex: 0
                            dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.type

                    # 保存
                    - actionType: evalObject
                      object:
                        - =..apiRequest.pRTwo.docAPI.store: ""

                        - =.builtIn.array.add:
                            dataIn:
                              object: =.Global.currentMeetingDoc
                              value: =..apiRequest.pRTwo.docResp.doc

                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""

                    - actionType: evalObject
                      object:
                        - =.builtIn.utils.createAuditLog:
                            dataIn:
                              actionTypeCode: .ActionTypeCode.edit
                              recordTypeCode: .DocType.pRTwo
                              eid: =.Global.formData.currentFacility.relationEdge.id
                              date: =.Global.formData.auditLog.startTime
                              user: =.Global.MyProfile.name.data.fullName
                              userId: =.Global.currentUser.vertex.id
                              targetUserId: =.Global.formData.auditLog.patientId
                              targetUser: =.Global.formData.auditLog.patientName
                              accessPort: provider
                            dataOut: Global.formData.auditLog.result

                    - actionType: evalObject
                      object:
                        - goto: MoreOptions

                - .DocButtonRelease:
                  onClick:
                    # 处理Diagnosis
                    - actionType: evalObject
                      object:
                        # 同步线上
                        - =.PRTwoPrivate.apiRequest.diagnosesDoc.docAPI.store: ""
                        # 更新本地
                        - .Global.formData.providerDoc.diagnosesDoc@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
                    # 签名处理
                    - actionType: saveSignature
                      dataObject: BLOB
                      dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
                      isEmpty: PRTwoPrivate.formData.whetherSign

                    # 保存签名
                    - actionType: evalObject
                      object:
                        # 签名reid指向 doc 的id
                        - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

                    - actionType: evalObject
                      object:
                        - if:
                            - =..formData.whetherSign
                            - continue
                            - =..apiRequest.newSign.docAPI.store: ""

                    #  指定 eid 和 reid
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =.Global.formData.unPageName
                                  string2: ""
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.eid@: =.Global.currentRoom.edge.id
                                - ..apiRequest.pRTwo.docReq.reid@: =.Global.roomInfo.edge.id
                            - continue

                    # 签名处理
                    - actionType: evalObject
                      object:
                        - if:
                            - =..formData.temporarySignature
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
                                - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
                                - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
                                - ..formData.whetherSign@: false
                            - actionType: evalObject
                              object:
                                - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
                                - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                                - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign

                    # 判断other
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.array.has:
                                dataIn:
                                  object: =..formData.reportList
                                  value: "Other"
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.other.value
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                            - continue

                    # 判斷Diagnoses
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.getListLength:
                            dataIn:
                              object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                            dataOut: PRTwoPrivate.formData.listDatalength
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..apiRequest.pRTwo.docReq.name.data.diagnosis.isInvolved
                                  string2: "Yes"
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.listDatalength
                                          string2: "0"
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                            - continue

                    # 判断Work Status
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "1"
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.workStatus.claimsAd.ClaimsAdDate
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "2"
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.workStatus.modifiedWork.modifiedDate
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.workStatus.restrictions
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                            - continue
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formData.workStatus.workStatusWay
                                  string2: "3"
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..formData.workStatus.fullDuty.fullDutyDate
                                          string2: ""
                                    - actionType: popUp
                                      popUpView: unCompleteTag
                                      wait: true
                                      popUpDismiss: 2000
                                    - continue
                            - continue

                    - actionType: evalObject
                      object:
                        - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
                        - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
                        - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList
                    # 未签名警告
                    - actionType: evalObject
                      object:
                        - if:
                            - =.PRTwoPrivate.formData.whetherSign
                            - actionType: popUp
                              popUpView: BaseWarningView
                              wait: true
                              popUpDismiss: 2000
                            - continue

                    #  修改type
                    - actionType: evalObject
                      object:
                        - =.builtIn.number.inhx:
                            dataIn:
                              intHex: =..apiRequest.pRTwo.docReq.type
                              index: 1
                              hex: 1
                            dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.type
                    - actionType: evalObject
                      object:
                        - =.builtIn.utils.createAuditLog:
                            dataIn:
                              actionTypeCode: .ActionTypeCode.edit
                              recordTypeCode: .DocType.pRTwo
                              eid: =.Global.formData.currentFacility.relationEdge.id
                              date: =.Global.formData.auditLog.startTime
                              user: =.Global.MyProfile.name.data.fullName
                              userId: =.Global.currentUser.vertex.id
                              targetUserId: =.Global.formData.auditLog.patientId
                              targetUser: =.Global.formData.auditLog.patientName
                              accessPort: provider
                            dataOut: Global.formData.auditLog.result

                    - actionType: popUp
                      popUpView: dialogueTag

    - .Normal:
      message: "Do you want the patient to see it?"
      viewTag: dialogueTag
      leftText: "No"
      rightText: "Yes"
      leftButton:
        # 保存
        - actionType: evalObject
          object:
            - ..apiRequest.pRTwo.docReq.tage@: 1
            - =..apiRequest.pRTwo.docAPI.store: ""

            - =.builtIn.array.add:
                dataIn:
                  object: =.Global.currentMeetingDoc
                  value: =..apiRequest.pRTwo.docResp.doc

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: popUpDismiss
          popUpView: dialogueTag

        - actionType: evalObject
          object:
            - goto: MoreOptions

      rightButton:
        # 更新文档状态
        - actionType: evalObject
          object:
            - ..apiRequest.pRTwo.docReq.name.data.statusTag.name@: "Released"
            - ..apiRequest.pRTwo.docReq.name.data.statusTag.fontColor@: "0x2988e6"
            - ..apiRequest.pRTwo.docReq.name.data.statusTag.backgroundColor@: "0xdfedfc"

        # 保存
        - actionType: evalObject
          object:
            - ..apiRequest.pRTwo.docReq.tage@: -1
            - =..apiRequest.pRTwo.docAPI.store: ""

            - =.builtIn.array.add:
                dataIn:
                  object: =.Global.currentMeetingDoc
                  value: =..apiRequest.pRTwo.docResp.doc

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: popUpDismiss
          popUpView: dialogueTag

        - actionType: evalObject
          object:
            - goto: MoreOptions

    - .BaseWarningView:
      message: "Please complete required fields: Search&Description"
      viewTag: SearchWarning

    - .SuccessfulOneLine:
      message: "Update Successfully!"
      viewTag: successTag

    - .BaseWarningView:
      message: "You haven't signed the form"

    - .BaseWarningView:
      viewTag: unCompleteTag
      message: "Please complete the items you selected."

    # 对话弹窗
    - .Normal:
      message: "Cancel the changes?"
      viewTag: judgmentOperation
      leftButton:
        - actionType: popUpDismiss
          popUpView: judgmentOperation
      rightButton:
        # # 处理Diagnosis
        # - actionType: evalObject
        #   object:
        #     # 同步线上
        #     - =.PRTwoPrivate.apiRequest.diagnosesDoc.docAPI.store: ""
        #     # 更新本地
        #     - .Global.formData.providerDoc.diagnosesDoc@: =.PRTwoPrivate.apiRequest.diagnosesDoc.docResp.doc
        # # 签名处理
        # - actionType: saveSignature
        #   dataObject: BLOB
        #   dataKey: PRTwoPrivate.apiRequest.newSign.docReq.name.data
        #   isEmpty: PRTwoPrivate.formData.whetherSign

        # # 保存签名
        # - actionType: evalObject
        #   object:
        #     # 签名reid指向 doc 的id
        #     - ..apiRequest.newSign.docReq.reid@: =.PRTwoPrivate.apiRequest.pRTwo.docReq.id

        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =..formData.whetherSign
        #         - continue
        #         - =..apiRequest.newSign.docAPI.store: ""

        # #  指定 eid 和 reid
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =.builtIn.string.equal:
        #             dataIn:
        #               string1: =.Global.formData.unPageName
        #               string2: ""
        #         - actionType: evalObject
        #           object:
        #             - ..apiRequest.pRTwo.docReq.eid@: =.Global.currentRoom.edge.id
        #             - ..apiRequest.pRTwo.docReq.reid@: =.Global.roomInfo.edge.id
        #         - continue

        # # 签名处理
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =..formData.temporarySignature
        #         - actionType: evalObject
        #           object:
        #             - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..formData.signatureTime
        #             - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..formData.temporarySignature
        #             - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: false
        #             - ..formData.whetherSign@: false
        #         - actionType: evalObject
        #           object:
        #             - ..apiRequest.pRTwo.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docRes.doc.ctime
        #             - ..apiRequest.pRTwo.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
        #             - ..apiRequest.pRTwo.docReq.name.data.whetherSign@: =..formData.whetherSign

        # # 判断other
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =.builtIn.array.has:
        #             dataIn:
        #               object: =..formData.reportList
        #               value: "Other"
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.other.value
        #                       string2: ""
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #         - continue

        # # 判斷Diagnoses
        # - actionType: evalObject
        #   object:
        #     - =.builtIn.array.getListLength:
        #         dataIn:
        #           object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
        #         dataOut: PRTwoPrivate.formData.listDatalength
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =.builtIn.string.equal:
        #             dataIn:
        #               string1: =..apiRequest.pRTwo.docReq.name.data.diagnosis.isInvolved
        #               string2: "Yes"
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.listDatalength
        #                       string2: "0"
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #         - continue

        # # 判断Work Status
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =.builtIn.string.equal:
        #             dataIn:
        #               string1: =..formData.workStatus.workStatusWay
        #               string2: "1"
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.workStatus.claimsAd.ClaimsAdDate
        #                       string2: ""
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #         - continue
        #     - if:
        #         - =.builtIn.string.equal:
        #             dataIn:
        #               string1: =..formData.workStatus.workStatusWay
        #               string2: "2"
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.workStatus.modifiedWork.modifiedDate
        #                       string2: ""
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.workStatus.restrictions
        #                       string2: ""
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #         - continue
        #     - if:
        #         - =.builtIn.string.equal:
        #             dataIn:
        #               string1: =..formData.workStatus.workStatusWay
        #               string2: "3"
        #         - actionType: evalObject
        #           object:
        #             - if:
        #                 - =.builtIn.string.equal:
        #                     dataIn:
        #                       string1: =..formData.workStatus.fullDuty.fullDutyDate
        #                       string2: ""
        #                 - actionType: popUp
        #                   popUpView: unCompleteTag
        #                   wait: true
        #                   popUpDismiss: 2000
        #                 - continue
        #         - continue

        # - actionType: evalObject
        #   object:
        #     - ..apiRequest.pRTwo.docReq.name.data.other@: =..formData.other
        #     - ..apiRequest.pRTwo.docReq.name.data.workStatus@: =..formData.workStatus
        #     - ..apiRequest.pRTwo.docReq.name.data.submitReport@: =..formData.reportList
        # # 未签名警告
        # - actionType: evalObject
        #   object:
        #     - if:
        #         - =.PRTwoPrivate.formData.whetherSign
        #         - actionType: popUp
        #           popUpView: BaseWarningView
        #           wait: true
        #           popUpDismiss: 2000
        #         - continue

        # #  修改type
        # - actionType: evalObject
        #   object:
        #     - =.builtIn.number.inhx:
        #         dataIn:
        #           intHex: =..apiRequest.pRTwo.docReq.type
        #           index: 1
        #           hex: 1
        #         dataOut: PRTwoPrivate.apiRequest.pRTwo.docReq.type
        # - actionType: evalObject
        #   object:
        #     - =.builtIn.utils.createAuditLog:
        #         dataIn:
        #           actionTypeCode: .ActionTypeCode.edit
        #           recordTypeCode: .DocType.pRTwo
        #           eid: =.Global.formData.currentFacility.relationEdge.id
        #           date: =.Global.formData.auditLog.startTime
        #           user: =.Global.MyProfile.name.data.fullName
        #           userId: =.Global.currentUser.vertex.id
        #           targetUserId: =.Global.formData.auditLog.patientId
        # targetUser: =.Global.formData.auditLog.patientName
        #           accessPort: provider
        #         dataOut: Global.formData.auditLog.result

        # - actionType: evalObject
        #   object:
        #     .Global._nonce@:
        #       =.builtIn.math.random: ""

        # # 邮件逻辑
        # - actionType: evalObject
        #   object:
        #     - actionType: evalObject
        #       async: true
        #       object:
        #         - =..apiRequest.pRTwo.docAPI.store: ""
        #         # 向patient发送accept的邮件
        #         # 获取10002edge
        #         - =..apiRequest.relation.edgeAPI.get: ""
        #     - =.builtIn.string.concat:
        #         dataIn:
        #           - "Hello,"
        #           - =.Global.MyProfile.name.data.fullName
        #           - " has updated the "
        #           - =.Global.email.name.data.recordName
        #           - "."
        #         dataOut: PRTwoPrivate.apiRequest.email.docCreateReq.name.data.content
        #     - ..apiRequest.email.docCreateReq.eid@: =..apiRequest.relation.edgeQueryResp.edge.0.id
        #     - =..apiRequest.email.docAPI.store: ""

        # - actionType: popUpDismiss
        #   popUpView: judgmentOperation

        # - actionType: popUp
        #   popUpView: successTag
        #   wait: 2000

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - goto: MessageShow

    - type: popUp
      viewTag: selectInjuryDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pRTwo.docReq.name.data.patientInfo.injuryDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: selectInjuryDateTag
                - actionType: popUpDismiss
                  popUpView: selectInjuryDate

    - type: popUp
      viewTag: selectClaimsDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..formData.workStatus.claimsAd.ClaimsAdDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: selectClaimsDateTag
                - actionType: popUpDismiss
                  popUpView: selectClaimsDate

    - type: popUp
      viewTag: modifiedWorkDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..formData.workStatus.modifiedWork.modifiedDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: modifiedWorkDateTag
                - actionType: popUpDismiss
                  popUpView: modifiedWorkDate

    - type: popUp
      viewTag: fullDutyDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..formData.workStatus.fullDuty.fullDutyDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: fullDutyDateTag
                - actionType: popUpDismiss
                  popUpView: fullDutyDate

    - type: popUp
      viewTag: examDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..formData.workStatus.examDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: examDateTag
                - actionType: popUpDismiss
                  popUpView: examDate

    - .publicDeleteUP:
      viewTag: BaseDelWarningView
      leftButton:
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView
      rightButton:
        - actionType: evalObject
          object:
            - =.builtIn.array.removeByName:
                dataIn:
                  object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                  key: code
                  name: =..formData.selectedDiagnosis.code
            - ..formData.listDataflag@: "block"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView

    - .BaseWarningView:
      message: "Do not add repeatedly"
      viewTag: repeatWarning

  event:
    checkBoxPath:
      emit:
        actions:
          - if:
              - =..apiRequest.pRTwo.docReq.name.data.superbill
              - selectOnBlue.svg
              - selectOffBlue.svg
  style:
    thirdInputTitle:
      marginTop: "0.024630"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.92"
      fontWeight: "600"
    thirdInput:
      marginTop: "0.009852"
      height: "0.087438"
      width: "0.92"
      fontSize: .Nfont.h14
      color: "#333333"
      border:
        style: 3
      borderWidth: "1.5"
      borderColor: "#dededf"
      boxSizing: border-box
      borderRadius: "4"
      padding: "6px 12px"

    signBox:
      width: "auto"
      height: "auto"
      marginTop: "0.0123"
      marginLeft: "0.04"
    signTitle:
      height: "auto"
      width: "0.48"

      fontSize: .Nfont.h12
      display: "inline-block"
      verticalAlign: top
    vital:
      width: "0.92"
      height: "0.02586"
      marginLeft: "0.04"
      marginTop: "0.014778"
    objectiveFindings:
      marginTop: "0.014778"
      marginLeft: "0.04"
      width: "0.92"
      height: "0.087"

      fontSize: .Nfont.h14
      borderRadius: "4"
      borderColor: "#dedede"
      border:
        style: "3"
      borderWidth: "1"
      boxSizing: "border-box"
      padding: "6px 12px"
    blockBox:
      marginTop: "0.024630"
      marginLeft: "0.04"
      width: "0.92"
      height: "auto"
      overflow: hidden
    img:
      display: "inline-block"
      height: "0.01970"
      verticalAlign: middle
    setLabel:
      display: "inline-block"
      marginLeft: "0.026666"
      height: "auto"
      width: "auto"
      fontSize: .Nfont.h14
      color: "#2988e6"
      fontWeight: "700"
      verticalAlign: middle
      textDecoration: underline
