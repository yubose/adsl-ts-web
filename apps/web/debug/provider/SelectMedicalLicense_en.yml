SelectMedicalLicense:
  title: "Select Medical License"
  init:
    - .SignInCheck
    - if:
        - =.Global.MyProfile.id
        - actionType: evalObject
          object:
            - ..selectedMedicalLicense.document.name.data.MedicalLicense@: =.Global.MyProfile.name.data.MedicalLicense
        - continue
    - actionType: evalObject #android use calendar init
      object:
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 121
              next: 10
            dataOut: BaseComponents.year
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getDate
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getShow
    - actionType: evalObject
      object:
        - ..calendarDate@: =.BaseComponents.calendarDate
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.getMonth:
            dataIn:
            dataOut: SelectMedicalLicense.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: SelectMedicalLicense.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn:
            dataOut: SelectMedicalLicense.calendarDate.day
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.SelectMedicalLicense.calendarDate.year
              month: =.SelectMedicalLicense.calendarDate.month
              today: =.SelectMedicalLicense.calendarDate.day
            dataOut: SelectMedicalLicense.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.SelectMedicalLicense.calendarDate.month
            dataOut: SelectMedicalLicense.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.SelectMedicalLicense.calendarDate.year
              month: =.SelectMedicalLicense.calendarDate.month
              day: =.SelectMedicalLicense.calendarDate.day
              formatType: "M/D/Y"
            dataOut: SelectMedicalLicense.calendarDate.todayDate
  formData:
    isOnClick: none
    btnColor: "#c1c1c1"
    docCheck: []
  calendarDate:
    year: ""
    month: ""
    day: ""
    dayLable: []
    todayDate: ""
    monthName: ""
  selectedMedicalLicense:
    document:
      name:
        data:
          MedicalLicense: []
  medicalLicenseObj:
    state: "Select"
    medicalLicense: ""
    expiration: ""
  components:
    - .BaseMessageWarnPopup:
      viewTag: successPopUpView
      imagePath: popUpSuccess.svg
      message: "Save Successfully!"
    - .simplePopup:
      viewTag: changePopUpView
      children:
        - .simplePopupView:
          style:
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: "Do you want to save your changes？"
              dataKey:
              style:
                marginTop: "0.04"
                marginLeft: "0.03"
                width: "0.64"
                height: "auto"
                color: "0x4b4b4b"
                fontSize: .Nfont.h2
                fontFamily: "sans-serif"
                textAlign:
                  x: center
            - type: view
              style:
                marginTop: "0.04"
                height: "0.001"
                width: "0.72"
                backgroundColor: "0x8f8f90"
            - type: view
              style:
                height: "0.06"
                width: "0.72"
              children:
                - type: button
                  text: "No"
                  style:
                    marginTop: "0.01"
                    width: "0.35"
                    height: "0.049"
                    color: "0x007affff"
                    fontSize: .Nfont.h2
                    display: inline-block
                    backgroundColor: "0xe6e6e6"
                    borderRadius: "15"
                    textAlign:
                      x: center
                      y: center
                    border:
                      style: "5"
                      borderRadius: "15"
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: changePopUpView
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.002"
                    height: "0.06"
                    backgroundColor: "0x999999"
                    display: inline-block
                - type: button
                  text: "Yes"
                  style:
                    marginTop: "0.01"
                    width: "0.35"
                    height: "0.049"
                    color: "0x007affff"
                    fontSize: .Nfont.h2
                    display: inline-block
                    backgroundColor: "0xe6e6e6"
                    borderRadius: "15"
                    textAlign:
                      x: center
                      y: center
                    border:
                      style: "5"
                      borderRadius: "15"
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: changePopUpView
                    - actionType: evalObject
                      object:
                        - .Global.MyProfile.name.data.MedicalLicense@: =..selectedMedicalLicense.document.name.data.MedicalLicense
                    - actionType: popUp
                      popUpView: successPopUpView
                    - actionType: evalObject
                      object:
                        .Global._nonce@:
                          =.builtIn.math.random: ""
                    - actionType: builtIn
                      funcName: goBack
                      reload: true
    - .BaseHeader:
    - .HeaderLeftButton:
      onClick:
        - actionType: popUp
          popUpView: changePopUpView
    - type: button
      style:
        top: "0"
        left: "0.85"
        width: "0.15"
        height: "0.1"
        backgroundColor: "0x2988e6"
        zIndex: 100
        textAlign:
          y: center
        border:
          style: "1"
      children:
        - type: label
          text: Save
          style:
            # left: "0.05"
            top: "0.001"
            width: "0.15"
            height: "0.1"
            zIndex: 100
            fontSize: .Nfont.h2
            color: "0xffffffff"
            textAlign:
              x: center
              y: center
      onClick:
        - actionType: evalObject
          object:
            - .Global.MyProfile.name.data.MedicalLicense@: =..selectedMedicalLicense.document.name.data.MedicalLicense
        - actionType: popUp
          popUpView: successPopUpView
        - actionType: builtIn
          funcName: goBack
          wait: 2000
          reload: true
    - type: scrollView
      style:
        top: "0.1"
        width: "1"
        height: "0.9"
        left: "0"
      children:
        - type: label
          textBoard:
            - text: Please add all your Medical License
          style:
            marginTop: "0.02"
            width: "1"
            left: "0"
            fontSize: .Nfont.h14
            height: "0.06"
            fontFamily: "Arial"
            textAlign:
              x: center
            border:
              style: 2
            borderWidth: "2"
            borderColor: "#DEDEDF"
        - type: view
          viewTag: medicineLicenseTag
          style:
            width: "0.9"
            left: "0.05"
            height: "0.1"
            marginTop: "0.01"
          children:
            - type: label
              text: "Medical License #"
              style:
                width: "0.4"
                height: "0.03"
                left: "0"
                fontSize: ".Nfont.h2"
                top: "0"
            - type: label
              text: State
              style:
                width: "0.4"
                height: "0.03"
                left: "0.5"
                top: "0"
                textAlign:
                  x: center
                fontSize: ".Nfont.h2"
            - .MyProfileTextFile:
              onInput:
                # - actionType: popUpDismiss
                #   popUpView: expirationDay
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..medicalLicenseObj.state
                              - =..medicalLicenseObj.medicalLicense
                              - =..medicalLicenseObj.expiration
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#2988e6"
                            - ..formData.isOnClick@: ""
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#c1c1c1"
                            - ..formData.isOnClick@: none
                - actionType: builtIn
                  funcName: redraw
                  viewTag: addBtn
              style:
                top: "0.04"
                width: "0.5"
                left: "0"
                height: "0.05"
              dataKey: medicalLicenseObj.medicalLicense
            - .MyProfileSelect:
              options: .SelectINformationDM.state
              onChange:
                # - actionType: popUpDismiss
                #   popUpView: expirationDay
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..medicalLicenseObj.state
                              - =..medicalLicenseObj.medicalLicense
                              - =..medicalLicenseObj.expiration
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#2988e6"
                            - ..formData.isOnClick@: ""
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#c1c1c1"
                            - ..formData.isOnClick@: none
                - actionType: builtIn
                  funcName: redraw
                  viewTag: addBtn
              style:
                top: "0.04"
                width: "0.35"
                left: "0.55"
                height: "0.05"
                fontSize: .Nfont.h14
              dataKey: medicalLicenseObj.state
        - type: view
          style:
            width: "0.9"
            height: "0.05"
            left: "0.05"
            marginTop: "0"
          children:
            - type: label
              text: License Expiration
              style:
                width: "0.45"
                height: "0.05"
                left: "0"
                top: "0"
                textAlign:
                  y: center
            - type: view
              viewTag: expirationTag
              onClick:
                - actionType: popUp
                  popUpView: expirationDay
              style:
                top: "0"
                height: "0.05"
                width: "0.5"
                left: "0.4"
              children:
                - .MyProfileTextFile:
                  dataKey: medicalLicenseObj.expiration
                  isEditable: "false"
                  style:
                    top: "0"
                    left: "0"
                    height: "0.05"
                    width: "0.5"
                    backgroundColor: "0xffffff"
        - type: button
          viewTag: addBtn
          style:
            pointerEvents: ..formData.isOnClick
            width: "0.9"
            left: "0.05"
            color: "0xFFFFFF"
            marginTop: "0.01"
            height: "0.05"
            border:
              style: "5"
            backgroundColor: ..formData.btnColor
            textAlign:
              x: center
              y: center
          text: "+ Medical License"
          onClick:
            - actionType: evalObject
              object:
                - if:
                    - =.builtIn.string.equal:
                        dataIn:
                          string1: ""
                          string2: =..medicalLicenseObj.medicalLicense
                    - actionType: popUp
                      popUpView: licenseisNullTag
                      wait: true
                    - continue
                - if:
                    - =.builtIn.string.equal:
                        dataIn:
                          string1: ""
                          string2: =..medicalLicenseObj.expiration
                    - actionType: popUp
                      popUpView: ExpirationisNullTag
                      wait: true
                    - continue
                - if:
                    - =.builtIn.array.checkElememtExist:
                        dataIn:
                          objArr: =..selectedMedicalLicense.document.name.data.MedicalLicense
                          values: =..medicalLicenseObj.medicalLicense
                    - actionType: popUp
                      popUpView: licenseRepeatView
                      wait: true
                    - continue
                - if:
                    - =.builtIn.array.checkElememtExist:
                        dataIn:
                          objArr: =..selectedMedicalLicense.document.name.data.MedicalLicense
                          values: =..medicalLicenseObj.state
                    - actionType: popUp
                      popUpView: licenseStateView
                      wait: true
                    - continue
            - actionType: evalObject
              object:
                - =.builtIn.array.add:
                    dataIn:
                      object: =..selectedMedicalLicense.document.name.data.MedicalLicense
                      value: =..medicalLicenseObj
            - actionType: evalObject
              object:
                - ..medicalLicenseObj.state@: ""
                - ..medicalLicenseObj.expiration@: ""
                - ..medicalLicenseObj.medicalLicense@: ""
                - ..formData.btnColor@: "#c1c1c1"
                - ..formData.isOnClick@: none
            - actionType: builtIn
              funcName: redraw
              viewTag: medicineLicenseTag
            - actionType: builtIn
              funcName: redraw
              viewTag: expirationTag
            - actionType: builtIn
              funcName: redraw
              viewTag: specialtyTag
            - actionType: builtIn
              funcName: redraw
              viewTag: addBtn
        - type: view
          style:
            marginTop: "0.02"
            width: "0.9"
            left: "0.05"
            height: "0.04"
          children:
            - type: label
              text: "Medical License #"
              style:
                height: "0.04"
                width: "0.4"
                left: "0"
                top: "0"
            - type: label
              text: state
              style:
                height: "0.04"
                width: "0.2"
                top: "0"
                left: "0.4"
            - type: label
              text: Expiration
              style:
                height: "0.04"
                width: "0.25"
                top: "0"
                left: "0.65"
        - type: list
          viewTag: specialtyTag
          contentType: listObject
          listObject: ..selectedMedicalLicense.document.name.data.MedicalLicense
          iteratorVar: itemObject
          style:
            width: "1"
            margin: "0"
            left: "0"
            height: auto
            marginTop: "0"
          children:
            - type: listItem
              itemObject:
              style:
                width: "1"
                height: "0.04"
                left: "0"
                marginTop: "0"
              children:
                - type: image
                  path: x.svg
                  style:
                    top: "0.01"
                    height: "0.02"
                    left: "0.05"
                  onClick:
                    - emit:
                        dataKey:
                          var: itemObject
                        actions:
                          - =.builtIn.array.removeByName:
                              dataIn:
                                object: =..selectedMedicalLicense.document.name.data.MedicalLicense
                                key: "medicalLicense"
                                name: $var.medicalLicense
                    - actionType: evalObject
                      object:
                        - .Global.MyProfile.name.data.MedicalLicense@: =.SelectMedicalLicense.selectedMedicalLicense.document.name.data.MedicalLicense
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: specialtyTag
                - type: label
                  dataKey: itemObject.medicalLicense
                  style:
                    width: "0.3"
                    height: "0.04"
                    left: "0.15"
                    top: "0"
                    fontSize: .Nfont.h1
                    textAlign:
                      y: center
                - type: label
                  dataKey: itemObject.state
                  style:
                    width: "0.3"
                    height: "0.04"
                    left: "0.45"
                    top: "0"
                    textAlign:
                      y: center
                - type: label
                  dataKey: itemObject.expiration
                  style:
                    width: "0.3"
                    height: "0.04"
                    left: "0.7"
                    top: "0"
                    textAlign:
                      y: center
    - type: popUp
      viewTag: expirationDay
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..medicalLicenseObj.expiration@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: expirationTag
                - actionType: popUpDismiss
                  popUpView: expirationDay
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..medicalLicenseObj.state
                              - =..medicalLicenseObj.medicalLicense
                              - =..medicalLicenseObj.expiration
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#2988e6"
                            - ..formData.isOnClick@: ""
                        - actionType: evalObject
                          object:
                            - ..formData.btnColor@: "#c1c1c1"
                            - ..formData.isOnClick@: none
                - actionType: builtIn
                  funcName: redraw
                  viewTag: addBtn
    - .TipsMultiLine:
      message: "Please input the License!"
      viewTag: licenseisNullTag
    # - .BaseCheckView:
    #   message: "Please input the License!"
    #   viewTag: licenseisNullTag
    #   colorChange: "0xd81e06"
    #   imgPath: delete.svg
    #   children:
    #     - type: view
    #       style:
    #         width: "0.8"
    #         height: "0.3"
    #         top: "0.3"
    #         left: "0.1"
    #         zIndex: "100"
    #         backgroundColor: "0xffffff"
    #         borderRadius: "7"
    #         border:
    #         style: "3"
    #         borderColor: "#f4f8fa"
    #         borderWidth: "3"
    #       children:
    #         - .BaseCheckViewImg:
    #         - .BaseCheckViewLabel:
    #         - .BaseCheckViewButton:
    #           onClick:
    #             - actionType: popUpDismiss
    #               popUpView: ____.viewTag
    #             # - actionType: builtIn
    #             #   funcName: goBack
    #             #   reload: true
    - .TipsMultiLine:
      message: "Please input the Expiration!"
      viewTag: ExpirationisNullTag
    # - .BaseCheckView:
    #   message: "Please input the Expiration!"
    #   viewTag: ExpirationisNullTag
    #   colorChange: "0xd81e06"
    #   imgPath: delete.svg
    #   children:
    #     - type: view
    #       style:
    #         width: "0.8"
    #         height: "0.3"
    #         top: "0.3"
    #         left: "0.1"
    #         zIndex: "100"
    #         backgroundColor: "0xffffff"
    #         borderRadius: "7"
    #         border:
    #         style: "3"
    #         borderColor: "#f4f8fa"
    #         borderWidth: "3"
    #       children:
    #         - .BaseCheckViewImg:
    #         - .BaseCheckViewLabel:
    #         - .BaseCheckViewButton:
    #           onClick:
    #             - actionType: popUpDismiss
    #               popUpView: ____.viewTag
    #             # - actionType: builtIn
    #             #   funcName: goBack
    #             #   reload: true
    - .TipsMultiLine:
      message: "Please set medical license differently."
      viewTag: licenseRepeatView
    # - .BaseCheckView:
    #   message: "Please set License differently!"
    #   viewTag: licenseRepeatView
    #   colorChange: "0xd81e06"
    #   imgPath: delete.svg
    #   children:
    #     - type: view
    #       style:
    #         width: "0.8"
    #         height: "0.3"
    #         top: "0.3"
    #         left: "0.1"
    #         zIndex: "100"
    #         backgroundColor: "0xffffff"
    #         borderRadius: "7"
    #         border:
    #           style: "3"
    #         borderColor: "#f4f8fa"
    #         borderWidth: "3"
    #       children:
    #         - .BaseCheckViewImg:
    #         - .BaseCheckViewLabel:
    #         - .BaseCheckViewButton:
    #           onClick:
    #             - actionType: popUpDismiss
    #               popUpView: ____.viewTag
    - .TipsMultiLine:
      message: "Please set state differently."
      viewTag: licenseStateView
    # - .BackgroundColorGray:
    #   viewTag: licenseStateView
    #   onClick:
    #     - actionType: popUpDismiss
    #       popUpView: licenseStateView
    #   children:
    #     - type: view
    #       style:
    #         width: "0.5"
    #         height: "auto"
    #         backgroundColor: "0xe5e5e5"
    #         borderRadius: "12"
    #         top: "0.43"
    #         left: "0.25"
    #         textAlign:
    #           x: center
    #       children:
    #         - type: image
    #           path: aboutRed.svg
    #           style:
    #             width: "0.105"
    #             marginTop: "0.025"
    #         - type: label
    #           text: "Please set State differently!"
    #           dataKey:
    #           style:
    #             color: "0x555555"
    #             fontSize: .Nfont.h12
    #             fontFamily: "Arial"
    #             word-break: break-word
    #             width: "0.45"
    #             marginLeft: "0.025"
    #             marginTop: "0.009"
    #             textAlign:
    #               x: center
    #         - type: view
    #           style:
    #             width: "0.01"
    #             height: "0.03"
