AbsentNoteShared:
  title: Absence / Excuse Note
  # pageNumber: "184"
  init:
    - .SignInCheck
    - ..formData@: =.Global.Note
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.name.data.statusTag.name
                  string2: "Released"
            - continue
            - ..formDataTemp.downFlag@: "none"

  formData: ""
  formDataTemp:
    downFlag: "inline-block"
    place:
      - key: place
        value: school
      - key: place
        value: work
      - key: place
        value: other
    reason:
      - key: reason
        value: injury
      - key: reason
        value: illness
      - key: reason
        value: other
  components:
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderDownload:
          style:
            display: ..formDataTemp.downFlag
    - type: scrollView
      style:
        width: "1"
        height: "0.94"
        overflow: scroll
        fontFamily: "Arial"
      children:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            height: "auto"
            width: "0.92"
          children:
            - type: image
              path: office-building.svg
              path=func: .builtIn.utils.prepareDocToPath
              dataKey: formData.name.data.facilityInfo.facilityAvatarID
              style:
                verticalAlign: middle
                display: "inline-block"
                height: "0.0578"
                width: "5.78vh"
            - type: view
              style:
                verticalAlign: middle
                marginLeft: "0.08"
                display: "inline-block"
                height: "auto"
                width: "0.71"
                overflow: hidden
              children:
                - type: label
                  dataKey: formData.name.data.facilityInfo.facilityName
                  style:
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h20
                    fontWeight: "600"
                    fontFamily: "Arial"
                    verticalAlign: middle
                    wordWrap: break-word

                - type: label
                  dataKey: formData.name.data.facilityInfo.location
                  style:
                    marginTop: "0.0110"
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h14
                    color: "0x666666"
                    fontFamily: "Arial"
                    verticalAlign: middle
                    wordWrap: break-word

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Email
                - .DocPublicStyleOneRight:
                  dataKey: formData.name.data.facilityInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Website
                - .DocPublicStyleOneRight:
                  dataKey: formData.name.data.facilityInfo.website
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: formData.name.data.facilityInfo.phoneNumber
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: formData.name.data.facilityInfo.fax

        - .DocPublicLine:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Exam Date
                - .DocPublicStyleTwoRight:
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: formData.name.data.patientInfo.examDate
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Patient Name
                - .DocPublicStyleTwoRight:
                  dataKey: formData.name.data.patientInfo.name
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Date of Birth
                - .DocPublicStyleTwoRight:
                  dataKey: formData.name.data.patientInfo.dob
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Phone #"
                - .DocPublicStyleTwoRight:
                  dataKey: formData.name.data.patientInfo.phoneNumber
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Email"
                - .DocPublicStyleTwoRight:
                  dataKey: formData.name.data.patientInfo.email
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Patient Address"
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  dataKey: formData.name.data.patientInfo.address
                  style:
                    height: "auto"
                    width: "0.92"
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    color: "0x333333"
                    fontWeight: "600"
        - .DocPublicLine:
        - type: label
          text: "Leave Of Absence"
          dataKey:
          style:
            marginTop: "0.0222"
            marginLeft: "0.04"
            fontSize: .Nfont.h16
            width: "auto"
            fontFamily: "Arial"
            fontWeight: "700"
        - type: view
          style:
            marginLeft: "0.04"
            width: "0.92"
            height: "0.037"
            marginTop: "0.021"
          children:
            - type: view
              style:
                width: "0.32"
                height: "0.037"
                display: "inline-block"
              children:
                - type: label
                  text: "Please Excuse"
                  dataKey:
                  style:
                    width: "0.32"
                    height: "0.037"
                    textAlign:
                      x: "left"
                      y: "center"
                    fontSize: .Nfont.h14
                    fontFamily: "Arial"
                    fontWeight: "600"
            - type: textField
              placeholder: "No content"
              dataKey: formData.name.data.name
              isEditable: "false"
              style:
                width: "0.6"
                height: "0.037"
                fontSize: .Nfont.h14
                fontFamily: "Arial"
                textIndent: "12px"
                display: "inline-block"
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "#dedede"
                backgroundColor: "0xf4f4f4"
                border:
                  style: 1
        - type: view
          style:
            marginLeft: "0.04"
            width: "0.92"
            height: "0.037"
            marginTop: "0.0148"
          children:
            - type: view
              style:
                width: "0.32"
                height: "0.037"
                display: "inline-block"
              children:
                - type: label
                  text: "As Of"
                  dataKey:
                  style:
                    width: "0.32"
                    height: "0.037"
                    textAlign:
                      x: "left"
                      y: "center"
                    fontSize: .Nfont.h14
                    fontFamily: "Arial"
                    fontWeight: "600"
            - type: view
              viewTag: dateTag
              style:
                width: "0.6"
                height: "auto"
                display: "inline-block"
                border:
                  style: 1
                borderRadius: "4"
                boxSizing: "border-box"
                borderColor: "#dedede"
                backgroundColor: "0xf4f4f4"
                overflow: hidden
              children:
                - type: textField
                  placeholder: "No content"
                  dataKey: formData.name.data.date
                  isEditable: "false"
                  style:
                    marginLeft: "0.032"
                    width: "0.506"
                    height: "0.037"
                    fontSize: .Nfont.h14
                    fontFamily: "Arial"
                    display: "inline-block"
                    boxSizing: "border-box"
                    border:
                      style: 1
                    verticalAlign: middle
                    backgroundColor: "0xf4f4f4"
                    color: "0x333333"
        - type: label
          text: "From"
          dataKey:
          style:
            marginLeft: "0.04"
            marginTop: "0.022"
            fontSize: .Nfont.h14
            fontFamily: "Arial"
            width: "0.92"
            fontWeight: "600"
        - type: view
          style:
            marginTop: "0.0086"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
          children:
            - type: list
              viewTag: "radioViewOne"
              contentType: listObject
              androidGrid: true
              listObject: ..formDataTemp.place
              iteratorVar: itemObject
              style:
                width: "0.92"
                margin: "0"
                axis: horizontal
                height: "auto"
              children:
                - type: listItem
                  itemObject:
                  style:
                    width: "0.234"
                    height: "0.021"
                    display: "inline-block"
                  children:
                    - type: image
                      style:
                        display: "inline-block"
                        marginTop: "0"
                        verticalAlign: middle
                        height: "0.0197"
                      path:
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.name.data.place
                                      string2: $var.value
                                - radioOn.svg
                                - radioGray.svg
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        marginLeft: "0.021"
                        marginTop: "0"
                        fontSize: .Nfont.h12
                        fontFamily: "Arial"
                        display: "inline-block"
                        verticalAlign: "middle"
        # 第二组单选框
        - type: label
          text: "Due To"
          dataKey:
          style:
            marginLeft: "0.04"
            marginTop: "0.022"
            fontSize: .Nfont.h14
            fontFamily: "Arial"
            width: "0.92"
            fontWeight: "600"
        - type: view
          style:
            marginTop: "0.0086"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
          children:
            - type: list
              viewTag: "radioViewTwo"
              contentType: listObject
              listObject: ..formDataTemp.reason
              iteratorVar: itemObject
              style:
                width: "0.92"
                margin: "0"
                height: "auto"
                axis: horizontal
              children:
                - type: listItem
                  itemObject:
                  style:
                    width: "0.234"
                    height: "0.021"
                    display: "inline-block"
                  children:
                    - type: image
                      style:
                        display: "inline-block"
                        marginTop: "0"
                        verticalAlign: middle
                        height: "0.0197"
                      path:
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if:
                                - =.builtIn.string.equal:
                                    dataIn:
                                      string1: =..formData.name.data.reason
                                      string2: $var.value
                                - radioOn.svg
                                - radioGray.svg
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        marginLeft: "0.021"
                        marginTop: "0"
                        fontSize: .Nfont.h12
                        fontFamily: "Arial"
                        display: "inline-block"
                        verticalAlign: "middle"

        # 纯文本:confidentiality Notice
        - type: label
          textBoard:
            - text: "Confidentiality Notice:"
              fontWeight: "600"
            - text: "&nbsp;"
            - text: "the documents accompanying
                this facsimile transmission contain confidential information
                belonging to the sender, which is privilege.the information
                is intended only for the use of the individual or entity
                below.if you are not the intended recipient, you are here
                by notified that any disclosure.copying distribution or the
                taking of any action in reliance of the contents of this
                telescoped information is strictly prohibited. if you have
                received this facsimile in error,please notify us immediately
                by telephone to arrange for the return of said documents."
          style:
            marginTop: "0.025"
            marginLeft: "0.04"
            width: "0.92"
            height: "auto"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            wordBreak: "break-all"
          # Notes
        - type: label
          text: "Notes"
          dataKey:
          style:
            marginTop: "0.0222"
            fontSize: .Nfont.h14
            fontFamily: "Arial"
            marginLeft: "0.04"
            width: "0.92"
            fontWeight: "600"
        # textView
        - type: label
          text: No content
          dataKey: formData.name.data.note
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "auto"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 1
            borderRadius: "4"
            fontSize: .Nfont.h14
            fontFamily: "Arial"
            color: "0x333333"
            padding: "6px 12px"
            backgroundColor: "0xfafafa"
            wordWrap: break-word
        - .DocPublicLine:

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.03"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              style:
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text: "Signature"
                  style:
                    display: "inline-block"
                    width: "0.816"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0x333333"
                    fontWeight: "600"
                    textAlign:
                      x: left
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.128"
            width: "0.9"
            border:
              style: "4"
              color: "0xa9a9a9"
            borderWidth: "2"
          children:
            - type: label
              text: X
              style:
                .SignLabelStyle:
            # 显示暂存的签名
            - type: image
              viewTag: signatureShowTag
              path=func: .builtIn.utils.prepareDocToPath
              # 传入签名文档的id
              dataKey: AbsentNoteShared.formData.name.data.signatureId
              style:
                left: "0"
                width: "0.88"
                top: "0"
                height: "0.128"
                overflow: scroll
                zIndex: "1000"

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0146"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              viewTag: signatureTimeTag
              style:
                display: ..formData.flag
                marginTop: "0.01"
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: formData.name.data.signatureTime
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
                - type: label
                  text: "Digitally Signed"
                  dataKey:
                  style:
                    marginLeft: "0.02"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
            - type: view
              style:
                marginTop: "0.01"
                width: "auto"
                height: "auto"
              children:
                - type: label
                  text: Date
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x666666"
                    fontSize: .Nfont.h12
                - type: label
                  text=func: .builtIn.string.formatUnixtimeL_en
                  dataKey: formData.ctime
                  style:
                    marginLeft: "0.0373"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x333333"
                    fontSize: .Nfont.h12
                    fontWeight: "600"

        - type: view
          style:
            marginTop: "0.03"
    - .HeaderPopUpDownload:
