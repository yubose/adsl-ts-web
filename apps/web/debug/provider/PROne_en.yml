PROne:
  title: PR-1
  init:
    - .SignInCheck

    - .Global.formData.lastPage@: ProviderNoteSelect
    # 判断本地会议是否有diagnoses存在,存在update,否则create
    - if:
        - =.Global.formData.providerDoc.diagnosesDoc.id
        - actionType: evalObject
          object:
            - ..apiRequest.diagnosesDoc.docReq@: =.Global.formData.providerDoc.diagnosesDoc
        - actionType: evalObject
          object:
            - =.PROne.apiRequest.diagnosesDoc.docAPI.store: ""
            - ..apiRequest.diagnosesDoc.docReq@: =.PROne.apiRequest.diagnosesDoc.docResp.doc
            - .Global.formData.providerDoc.diagnosesDoc@: =.PROne.apiRequest.diagnosesDoc.docResp.doc
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.currentMeetingPatientProfile.insuranceId
              string2: ""
        - continue
        - actionType: evalObject
          object:
            - =..apiRequest.insurance.docAPI.get: ""
            - if:
                - =.PROne.apiRequest.insurance.docResp.doc.0.name.data.memberId
                - ..apiRequest.pROne.docReq.name.data.prOneInfo.insurerName@: =.PROne.apiRequest.insurance.docResp.doc.0.name.data.memberId
                - continue
    - if:
        - =.Global.formData.providerDoc.pROne.id
        - actionType: evalObject
          object:
            - ..apiRequest.pROne.docReq@: =.Global.formData.providerDoc.pROne
            - ..formData.selectStatus@: =..apiRequest.pROne.docReq.name.data.selectStatus
            - ..apiRequest.pROne.docReq.name.data.superbill@: =.Global.formData.superbillComplete
        - actionType: evalObject
          object:
            - =..apiRequest.pROne.docAPI.store: ""
            - ..apiRequest.pROne.docReq@: =..apiRequest.pROne.docResp.doc

    # 判断是否签名
    - if:
        - =..apiRequest.pROne.docReq.name.data.whetherSign
        - continue
        - actionType: evalObject
          object:
            - ..formData.signatureTime@: =.PROne.apiRequest.pROne.docReq.name.data.signatureCtime
            - ..formData.temporarySignature@: =.PROne.apiRequest.pROne.docReq.name.data.signatureId
            - ..formData.flag@: "block"

    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
            dataOut: PROne.formData.listDatalength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDatalength
                  string2: "0"
            - continue
            - ..formData.listDataflag@: "block"

    - actionType: evalObject #android use calendar init
      object:
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 121
              next: 10
            dataOut: BaseComponents.year
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getDate
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getShow
    - actionType: evalObject
      object:
        - ..calendarDate@: =.BaseComponents.calendarDate
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.getMonth:
            dataIn:
            dataOut: PROne.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: PROne.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn:
            dataOut: PROne.calendarDate.day
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.PROne.calendarDate.year
              month: =.PROne.calendarDate.month
              today: =.PROne.calendarDate.day
            dataOut: PROne.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.PROne.calendarDate.month
            dataOut: PROne.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.PROne.calendarDate.year
              month: =.PROne.calendarDate.month
              day: =.PROne.calendarDate.day
              formatType: "M/D/Y"
            dataOut: PROne.calendarDate.todayDate
    - actionType: evalObject
      object:
        - =.builtIn.date.LoopToGenerate:
            dataIn:
              span: 60
            dataOut: PROne.formDataTemp.timeSpan
        - ..apiRequest.pROne.docReq.name.data.examTme.date@: =..calendarDate.todayDate

    - actionType: evalObject
      object:
        # 拼接lic
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.MyProfile.name.data.MedicalLicense.0.state
              - "&nbsp;"
              - =.Global.MyProfile.name.data.MedicalLicense.0.medicalLicense
            dataOut: PROne.apiRequest.pROne.docReq.name.data.providerInfo.license

        # 拼接 provider fullName
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.MyProfile.name.data.fullName
              - ","
              - =.Global.MyProfile.name.data.title
            dataOut: PROne.apiRequest.pROne.docReq.name.data.providerInfo.physicianName

    - actionType: evalObject
      object:
        - =.builtIn.array.formatStringFill:
            dataIn:
              strArr: =.Global.MyProfile.name.data.selectedSpecialty
              sfill: ","
            dataOut: PROne.apiRequest.pROne.docReq.name.data.providerInfo.specialty

    # vital sign
    - =..apiRequest.vital.docAPI.get: ""
    - =.builtIn.array.getListLength:
        dataIn:
          object: =..apiRequest.vital.docQueryResp.doc
        dataOut: PROne.vitalNum
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =..vitalNum
              string2: "0"
        - continue
        - actionType: evalObject
          object:
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.BP@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.0.data1
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.HR@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.0.data2
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.RR@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.1.data1
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.PO@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.2.data1
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.temperature@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.3.data1
            - =.builtIn.string.concat:
                dataIn:
                  - =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.5.data1
                  - "'"
                  - =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.5.data2
                  - '"'
                dataOut: PROne.apiRequest.pROne.docReq.name.data.vitalSigns.height
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.weight@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.6.data1
            - .PROne.apiRequest.pROne.docReq.name.data.vitalSigns.BMI@: =..apiRequest.vital.docQueryResp.doc.0.name.data.vitals.7.data1

  calendarDate:
    year: ""
    month: ""
    day: ""
    dayLable: []
    todayDate: ""
    monthName: ""
  vitalNum: "0"
  formData:
    # diagnoses的已选code组成list，为判断是否重复添加diagnoses做铺垫
    diagnosesCodeList: []
    superbillFlag: false
    empty: []
    selectedDiagnosis: ""
    searchShow: "none"
    listDatalength: ""
    listDataflag: "none"
    flag: "none"
    temporarySignature: ""
    specialtyLength: ""
    licenseLength: ""
    whetherSign: ""
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    selectStatus:
      treatment:
        isTreatment: ""
      illness:
        isIllness: ""
        isShow: "none"
      recovery:
        isRecovery: ""
        isShow: "none"
      work:
        isWork: ""
        isShow: "none"
  formDataTemp:
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    treatmentTemp:
      - key: isTreatment
        value: "Yes"
      - key: isTreatment
        value: "No"
    involvedTemp:
      - key: isInvolved
        value: "Yes"
      - key: isInvolved
        value: "No"
    illnessTemp:
      - key: isIllness
        value: "Yes"
      - key: isIllness
        value: "No"
    recoveryTemp:
      - key: isRecovery
        value: "Yes"
      - key: isRecovery
        value: "No"
    workTemp:
      - key: isWork
        value: "Yes"
      - key: isWork
        value: "No"
    timeSpan: []
  apiRequest:
    insurance:
      docResp: ""
      docReq:
        type: .DocType.InsuranceCard
        id: .Global.currentMeetingPatientProfile.insuranceId
        obfname: ctime
      docAPI:
        get:
          api: rd
          dataIn: PROne.apiRequest.insurance.docReq
          dataOut: PROne.apiRequest.insurance.docResp

    vital:
      docQueryResp: ""
      docQueryReq:
        id: .Global.roomInfo.edge.id
        xfname: "reid"
        type: .DocType.VitalSigns
        obfname: ctime
        sCondition: "ctime>1650038400"
        _nonce: =.Global._nonce
      docAPI:
        get:
          api: rd
          dataIn: PROne.apiRequest.vital.docQueryReq
          dataOut: PROne.apiRequest.vital.docQueryResp
    newSign:
      docResp: ""
      docReq: #DOC
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.rootNotebookID
        fid: ""
        reid: ""
        subtype:
          mediaType: "" # mediaType : "image/jpeg"
      docAPI: # DOCAPI
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROne.apiRequest.newSign.docReq
          dataOut: PROne.apiRequest.newSign.docResp

    pROne:
      deleteInfo:
        id:
          - =..apiRequest.pROne.docResp.doc.id
      docResp: ""
      docReq:
        eid: .Global.currentRoom.edge.id
        reid: ""
        type: .DocType.pROne
        subtype:
          mediaType: "application/json"
          isEncrypted: "1"
        name:
          title: "PR-1"
          user: .Global.formData.providerTitle
          data:
            classTag:
              name: Provider
              fontColor: "0x30b354"
              backgroundColor: "0xe4f5e9"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            userInfo:
              patientName: .Global.formData.patientName
              participateName: .Global.formData.providerTitle
            signatureId: ""
            whetherSign: "true"
            signatureCtime: ""
            patientInfo:
              name: .Global.currentMeetingPatientProfile.basicInfo.fullName
              address: .Global.currentMeetingPatientProfile.contactInfo.address.fullAddress
              sex: .Global.currentMeetingPatientProfile.basicInfo.gender
              phone: .Global.currentMeetingPatientProfile.basicInfo.phone
              dob: .Global.currentMeetingPatientProfile.basicInfo.dateOfBirth
              secNumber: .Global.currentMeetingPatientProfile.basicInfo.socialSecurity
            addressOcc: ""
            cityInjuryOcc: ""
            countyInjuryOcc: ""
            injuryTime:
              date: ""
              hour: ""
            workDate: ""
            examTme:
              date: ""
              hour: ""
            accidentDesc: ""
            subComplaint: ""
            vitalSigns:
              BP: ""
              HR: ""
              RR: ""
              PO: ""
              temperature: ""
              height: ""
              weight: ""
              BMI: ""
            objFindings: ""
            bloodGlucose: ""
            imagingStudies: ""
            providerInfo:
              physicianName: ""
              specialty: ""
              license: ""
              npi: .Global.MyProfile.name.data.NPI
              dea: .Global.MyProfile.name.data.DEA
              email: .Global.MyProfile.name.data.email
              fax: .Global.currentFacilityDoc.name.data.basicInfo.fax
              phoneNumber: .Global.currentFacilityDoc.name.data.basicInfo.phoneNumber
              address: .Global.currentFacilityDoc.name.data.basicInfo.location
              date: ""
            prOneInfo:
              insurerName: ""
              employerName: .Global.currentMeetingPatientProfile.employment.employerName
              line: .Global.currentMeetingPatientProfile.employment.address.line
              secondLine: .Global.currentMeetingPatientProfile.employment.address.secondLine
              address: .Global.currentMeetingPatientProfile.employment.address.fullAddress
              city: .Global.currentMeetingPatientProfile.employment.address.city
              county: .Global.currentMeetingPatientProfile.employment.address.county
              state: .Global.currentMeetingPatientProfile.employment.address.state
              zipCode: .Global.currentMeetingPatientProfile.employment.address.zipCode
              business: .Global.currentMeetingPatientProfile.employment.NatureBusiness
              occupation: .Global.currentMeetingPatientProfile.employment.Occupation
            diagnosis:
              descriptiveList: []
              noExplain: ""
              yesExplain: ""
              useReverse: ""
              duration: ""
              location: ""
              dateAdmit: ""
              estStay: ""
              regularWork: ""
              modifiedWork: ""
              restrictions: ""
            selectStatus: ""
            superbill: .Global.formData.superbillComplete
            planAndRecommendations: ""

      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROne.apiRequest.pROne.docReq
          dataOut: PROne.apiRequest.pROne.docResp
        delet:
          api: dx
          dataIn: PROne.apiRequest.pROne.deleteInfo
    diagnosesDoc:
      docResp: ""
      docReq:
        eid: .Global.currentRoom.edge.id
        reid: .Global.roomInfo.edge.id
        type: .DocType.Diagnoses
        subtype:
          mediaType: "application/json"
        name:
          data:
            diagnosis:
              descriptiveList: []
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: PROne.apiRequest.diagnosesDoc.docReq
          dataOut: PROne.apiRequest.diagnosesDoc.docResp
  components:
    - .TipsOneLine:
      viewTag: checkDiagnosesRepeat
      message: "Do not add repeatedly"
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
          leftClick:
            - actionType: evalObject
              object:
                - =..apiRequest.pROne.docAPI.delet: ""
            - actionType: builtIn
              funcName: goBack
              reload: true
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderRightText:
          onClick:
            - ..event.publicClck
            - ..event.macroClick
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: State of California
              style:
                ..style.f14:
            - type: label
              text: DOCTOR’S FIRST REPORT OF OCCU-PATIONAL INJURY OR ILLNESS
              style:
                ..style.f16:
            - type: label
              text: Within 5 days of your initial examination, for every occupational injury or illness, send two copies of this report to the employer’s workers’ compensation insurance carrier or the insured employer. Failure to file a timely doctor’s report may result in assessment of a civil penalty. In the case of diagnosed or suspected pesticide poisoning, send a copy of the report to Department of Industrial Relations, P.O. Box 420603, San Francisco, CA 94142-0603, and notify your local health officer by telephone within 24 hours.
              style:
                ..style.regular14:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: Employer
              style:
                ..style.secondLabel:
            - type: label
              text: Insurer Name / ID
              style:
                ..style.firstInputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.insurerName
              style:
                ..style.input:
            - type: label
              text: Employer Name
              style:
                ..style.inputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.employerName
              style:
                ..style.input:
            - type: label
              text: Address Line
              style:
                ..style.inputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.line
              style:
                ..style.input:
            - type: label
              text: Address Second Line
              style:
                ..style.inputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.secondLine
              style:
                ..style.input:
            - type: view
              style:
                ..style.blockBox:
              children:
                - type: view
                  style:
                    ..style.inlineBlockLeft:
                  children:
                    - type: label
                      text: City
                      style:
                        ..style.inputTitle:
                        marginTop: "0"
                        width: "0.44"
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.city
                      style:
                        ..style.input:
                        width: "0.44"
                - type: view
                  style:
                    ..style.inlineBlockRight:
                  children:
                    - type: label
                      text: County
                      style:
                        ..style.inputTitle:
                        marginTop: "0"
                        width: "0.44"
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.county
                      style:
                        ..style.input:
                        width: "0.44"
            - type: view
              style:
                ..style.blockBox:
              children:
                - type: view
                  style:
                    ..style.inlineBlockLeft:
                  children:
                    - type: label
                      text: State
                      style:
                        ..style.inputTitle:
                        marginTop: "0"
                        width: "0.44"
                    - type: select
                      placeholder: Enter here
                      options: .SelectINformationDM.state
                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.state
                      style:
                        ..style.input:
                        width: "0.44"
                - type: view
                  style:
                    ..style.inlineBlockRight:
                  children:
                    - type: label
                      text: Zip Code
                      style:
                        ..style.inputTitle:
                        marginTop: "0"
                        width: "0.44"
                    - type: textField
                      placeholder: Enter here
                      dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.zipCode
                      style:
                        ..style.input:
                        width: "0.44"
            - type: label
              text: Nature of Business（ e.g. food manufacturing）
              style:
                ..style.inputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.business
              style:
                ..style.input:
            - type: label
              text: Occupation (Specific job title)
              style:
                ..style.inputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.prOneInfo.occupation
              style:
                ..style.input:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: Patient
              style:
                ..style.secondLabel:
            - type: view
              style:
                ..style.blockBox:
                marginTop: "0.01970"
              children:
                - type: label
                  text: Patient Name
                  style:
                    ..style.leftTitle:
                - type: label
                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.name
                  style:
                    ..style.rightValue:
            - type: view
              style:
                ..style.blockBox:
                marginTop: "0.013546"
              children:
                - type: label
                  text: "Phone #"
                  style:
                    ..style.leftTitle:
                - type: label
                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.phone
                  style:
                    ..style.rightValue:
            - type: view
              style:
                ..style.blockBox:
                marginTop: "0.013546"
              children:
                - type: label
                  text: "Date of Birth"
                  style:
                    ..style.leftTitle:
                - type: label
                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.dob
                  style:
                    ..style.rightValue:
            - type: view
              style:
                ..style.blockBox:
                marginTop: "0.013546"
              children:
                - type: label
                  text: "Gender"
                  style:
                    ..style.leftTitle:
                - type: label
                  dataKey: apiRequest.pROne.docReq.name.data.patientInfo.sex
                  style:
                    ..style.rightValue:
            - type: label
              text: "Patient Address"
              style:
                ..style.blockTitle:
            - type: label
              dataKey: apiRequest.pROne.docReq.name.data.patientInfo.address
              style:
                ..style.addressValue:
            - type: label
              text: "Social Security Number (Optional)"
              style:
                ..style.blockTitle:
                width: "0.92"
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.patientInfo.secNumber
              style:
                ..style.input:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: Address No.& Street Where Inj. Occurred
              style:
                ..style.thirdInputTitle:
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.addressOcc
              style:
                ..style.thirdInput:
            - type: label
              text: City Where Injury Occ.
              style:
                ..style.thirdInputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.cityInjuryOcc
              style:
                ..style.input:
                marginTop: "0.009852"
            - type: label
              text: County Where Injury Occ.
              style:
                ..style.thirdInputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.countyInjuryOcc
              style:
                ..style.input:
                marginTop: "0.009852"
            - type: label
              text: Date of injury or onset of illness
              style:
                ..style.thirdInputTitle:
            - type: view
              viewTag: injuryDateTag
              style:
                ..style.dateBox:
              onClick:
                - ..event.injuryDateClick
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: apiRequest.pROne.docReq.name.data.injuryTime.date
                  isEditable: "false"
                  style:
                    ..style.dateFild:
                - type: image
                  path: dateImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Hour of injury or onset of illness
              style:
                ..style.thirdInputTitle:
            - type: view
              style:
                ..style.dateBox:
              children:
                - type: select
                  options: ..formDataTemp.timeSpan
                  dataKey: apiRequest.pROne.docReq.name.data.injuryTime.hour
                  style:
                    ..style.dateFild:
                    appearance: "none"
                - type: image
                  path: hourImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Date last worked
              style:
                ..style.thirdInputTitle:
            - type: view
              viewTag: workDateTag
              style:
                ..style.dateBox:
              onClick:
                - ..event.workDateClick
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: apiRequest.pROne.docReq.name.data.workDate
                  isEditable: "false"
                  style:
                    ..style.dateFild:
                - type: image
                  path: dateImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Date of 1st exam or treatment
              style:
                ..style.thirdInputTitle:
            - type: view
              viewTag: examDateTag
              style:
                ..style.dateBox:
              onClick:
                - ..event.examDateClick
              children:
                - type: textField
                  placeholder: "Select"
                  dataKey: apiRequest.pROne.docReq.name.data.examTme.date
                  isEditable: "false"
                  style:
                    ..style.dateFild:
                - type: image
                  path: dateImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Hour of 1st exam or treatment
              style:
                ..style.thirdInputTitle:
            - type: view
              style:
                ..style.dateBox:
              children:
                - type: select
                  options: ..formDataTemp.timeSpan
                  dataKey: apiRequest.pROne.docReq.name.data.examTme.hour
                  style:
                    ..style.dateFild:
                    appearance: "none"
                - type: image
                  path: hourImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Have you or your office previously rendered treatment?
              style:
                ..style.firstInputTitle:
                marginTop: "0.027093"
                lineHeight: "1.97vh"
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.treatmentTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: isTreatmentTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.raidoPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.renderClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              textBoard:
                - text: Patient please complete this portion, if able to do so.
                  fontWeight: "600"
                - text: Otherwise, doctor please complete immediately, inability or failure of a patient to complete this portion shall not affect his/her rights to workers’ compensation under the California Labor Code .
              style:
                ..style.describeText:
            - type: label
              textBoard:
                - text: Describe how the accident or exposure happened.
                  fontWeight: "600"
                - text: (Give specific object, machinery or chemical.)
              style:
                ..style.describeText:
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.accidentDesc
              style:
                ..style.thirdInput:
            - type: label
              text: SUBJECTIVE COMPLAINTS
              style:
                ..style.thirdInputTitle:
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.subComplaint
              style:
                ..style.thirdInput:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: "Objective Findings"
              dataKey:
              style:
                ..style.secondLabel:
            - type: label
              text: "Vital Signs"
              dataKey:
              style:
                ..style.vital:
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Blood Pressure (mmHg)"
              style:
                ..style.signTitle:
            - type: label
              text: "Heart Rate (bpm)"
              dataKey:
              style:
                ..style.signTitle:
        - type: view
          style:
            ..style.signInputBox:
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.BP
              style:
                ..style.signInput:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.HR
              style:
                ..style.signInput:
                marginLeft: "0.04"
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Respiratory Rate (breaths/min)"
              dataKey:
              style:
                ..style.signTitle:
            - type: label
              text: "Pulse Oximetry (O₂ %)"
              dataKey:
              style:
                ..style.signTitle:
        - type: view
          style:
            ..style.signInputBox:
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.RR
              style:
                ..style.signInput:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.PO
              style:
                ..style.signInput:
                marginLeft: "0.04"
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Temperature (°F/°C)"
              dataKey:
              style:
                ..style.signTitle:
            - type: label
              text: "Height (ft/in)"
              dataKey:
              style:
                ..style.signTitle:
        - type: view
          style:
            ..style.signInputBox:
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.temperature
              style:
                ..style.signInput:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.height
              style:
                ..style.signInput:
                marginLeft: "0.04"
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Weight (lb)"
              dataKey:
              style:
                ..style.signTitle:
            - type: label
              text: "BMI (kg/m²)"
              dataKey:
              style:
                ..style.signTitle:
        - type: view
          style:
            ..style.signInputBox:
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.weight
              style:
                ..style.signInput:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.vitalSigns.BMI
              style:
                ..style.signInput:
                marginLeft: "0.04"
        - type: label
          text: "Physical Examination"
          dataKey:
          style:
            ..style.fourTitle:
        - type: textView
          placeholder: "Enter here"
          dataKey: apiRequest.pROne.docReq.name.data.objFindings
          style:
            ..style.objectiveFindings:
        - type: label
          text: "Labs"
          dataKey:
          style:
            ..style.fourTitle:
        - type: label
          text: "Blood Glucose"
          dataKey:
          style:
            ..style.firstInputTitle:
            fontSize: .Nfont.h12
            marginLeft: "0.04"
        # 输入单行
        - type: textField
          placeholder: "Enter here"
          dataKey: apiRequest.pROne.docReq.name.data.bloodGlucose
          style:
            ..style.input:
            marginLeft: "0.04"
        - type: label
          text: "Imaging Studies"
          dataKey:
          style:
            ..style.fourTitle:
        - type: textView
          placeholder: "Enter here"
          dataKey: apiRequest.pROne.docReq.name.data.imagingStudies
          style:
            ..style.thirdInput:
            marginLeft: "0.04"
        - type: view
          style:
            ..style.searchView:
          children:
            - type: label
              text: Diagnoses
              dataKey:
              style:
                ..style.searchTitle:
            - type: view
              viewTag: searchBox
              style:
                ..style.searchBox:
              children:
                - type: view
                  style:
                    ..style.searchSecondBox:
                  children:
                    - type: view
                      style:
                        ..style.ICDsearch:
                      children:
                        - type: image
                          path: ICDsearch.svg
                          style:
                            ..style.ICDImg:
                        - type: textField
                          viewTag: CodeListTag
                          placeholder: Search
                          dataKey: formData.diagnosis.descriptiveList.code
                          style:
                            ..style.ICDField:
                            fontSize: .Nfont.h14
                          onInput:
                            - ..event.diSearch
                    - type: textField
                      viewTag: descriptionTag
                      placeholder: Description
                      dataKey: formData.diagnosis.descriptiveList.description
                      style:
                        ..style.description:
                        fontSize: .Nfont.h14
                - type: textView
                  viewTag: CommentsTag
                  placeholder: Comments
                  dataKey: formData.diagnosis.descriptiveList.comment
                  style:
                    ..style.commentView:
                    fontSize: .Nfont.h14

            - type: label
              text: + add more
              style:
                ..style.addBox:
              onClick:
                - ..event.addClick
            - type: view
              viewTag: listData
              style:
                height: auto
                width: auto
                display: ..formData.listDataflag
              children:
                - type: list
                  contentType: listObject
                  listObject: ..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                  iteratorVar: itemObject
                  style:
                    ..style.listDataShowList:
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        ..style.listDataShowListItem:
                      children:
                        - type: view
                          style:
                            ..style.showListItemBox:
                          children:
                            - type: image
                              path: x.svg
                              style:
                                ..style.xImg:
                              onClick:
                                - ..event.delClick
                            - type: label
                              dataKey: itemObject.code
                              style:
                                ..style.codeValue:
                            - type: label
                              text: "-"
                              style:
                                ..style.decollator:
                            - type: label
                              dataKey: itemObject.description
                              style:
                                ..style.descriptionValue:
                        - type: label
                          dataKey: itemObject.comment
                          style:
                            ..style.commentValue:

            - type: view
              style:
                ..style.box:
              children:
                - type: label
                  text: Are your findings and diagnosis consistent with patient’s account of injury or onset of illness?
                  style:
                    ..style.firstInputTitle:
                    marginTop: "0.02586"
                    lineHeight: "1.97vh"
                - type: list
                  contentType: listObject
                  listObject: ..formDataTemp.illnessTemp
                  iteratorVar: itemObject
                  androidGrid: true
                  viewTag: isIllnessTag
                  style:
                    ..style.selectList:
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        ..style.selectListItem:
                      children:
                        - type: image
                          path:
                            ..event.illnessRaidoPath:
                          style:
                            ..style.itemImg:
                          onClick:
                            - ..event.illnessClick
                        - type: label
                          text:
                          dataKey: itemObject.value
                          style:
                            ..style.itemValue:

                - type: view
                  viewTag: illnessTag
                  style:
                    display: ..formData.selectStatus.illness.isShow
                    ..style.illnessBox:
                  children:
                    - type: label
                      text: "If “no,” please explain below:"
                      style:
                        ..style.reminderTitle:
                    - type: textView
                      placeholder: Enter here
                      dataKey: apiRequest.pROne.docReq.name.data.diagnosis.noExplain
                      style:
                        ..style.thirdInput:

            - type: view
              style:
                ..style.box:
              children:
                - type: label
                  text: Is there any other current condition that will impede or delay patient’s recovery?
                  style:
                    ..style.firstInputTitle:
                    marginTop: "0.02586"
                    lineHeight: "1.97vh"
                - type: list
                  contentType: listObject
                  listObject: ..formDataTemp.recoveryTemp
                  iteratorVar: itemObject
                  androidGrid: true
                  viewTag: isRecoveryTag
                  style:
                    ..style.selectList:
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        ..style.selectListItem:
                      children:
                        - type: image
                          path:
                            ..event.recoveryRaidoPath:
                          style:
                            ..style.itemImg:
                          onClick:
                            - ..event.recoveryClick
                        - type: label
                          text:
                          dataKey: itemObject.value
                          style:
                            ..style.itemValue:

                - type: view
                  viewTag: recoveryTag
                  style:
                    display: ..formData.selectStatus.recovery.isShow
                    ..style.illnessBox:
                  children:
                    - type: label
                      text: "If “yes,” please explain below:"
                      style:
                        ..style.reminderTitle:
                    - type: textView
                      placeholder: Enter here
                      dataKey: apiRequest.pROne.docReq.name.data.diagnosis.yesExplain
                      style:
                        ..style.thirdInput:

            - type: view
              viewTag: searchShowTag
              style:
                ..style.searchShow:
                display: ..formData.searchShow
              children:
                - type: view
                  viewTag: CodeTag
                  style:
                    ..style.codeView:
                  children:
                    - type: view
                      viewTag: ShowTag
                      style:
                        ..style.scrollShow:
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..formDataTemp.allListString
                          iteratorVar: itemObject
                          viewTag: CodeTags
                          style:
                            ..style.dataList:
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                ..style.dataListItem:
                              children:
                                - type: label
                                  dataKey: itemObject.0.2
                                  style:
                                    ..style.dataListItemValue:
                                  onClick:
                                    - ..event.searchDataClick

        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: TREATMENT RENDERED
              style:
                ..style.thirdInputTitle:
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.useReverse
              style:
                ..style.thirdInput:
            - type: label
              text: If further treatment required, specify treatment plan/estimated duration.
              style:
                ..style.thirdInputTitle:
                lineHeight: "1.97vh"
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.duration
              style:
                ..style.thirdInput:
            - type: label
              text: If hospitalized as inpatient, give hospital name and location
              style:
                ..style.thirdInputTitle:
                lineHeight: "1.97vh"
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.location
              style:
                ..style.thirdInput:
            - type: label
              text: Date admitted
              style:
                ..style.thirdInputTitle:
            - type: view
              viewTag: admitteTag
              style:
                ..style.dateBox:
              onClick:
                - ..event.admitteDateClick
              children:
                - type: textField
                  placeholder: "Select"
                  isEditable: false
                  dataKey: apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit
                  style:
                    ..style.dateFild:
                - type: image
                  path: dateImg.svg
                  style:
                    ..style.dateImg:
            - type: label
              text: Estimated length of stay
              style:
                ..style.thirdInputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.estStay
              style:
                ..style.input:
                marginTop: "0.009852"
            - type: label
              text: WORK STATUS - Is patient able to perform usual work?
              style:
                ..style.firstInputTitle:
                marginTop: "0.02586"
                lineHeight: "1.97vh"
            - type: list
              contentType: listObject
              listObject: ..formDataTemp.workTemp
              iteratorVar: itemObject
              androidGrid: true
              viewTag: isWorkTag
              style:
                ..style.selectList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.selectListItem:
                  children:
                    - type: image
                      path:
                        ..event.workRadioPath:
                      style:
                        ..style.itemImg:
                      onClick:
                        - ..event.workClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.itemValue:

            - type: view
              viewTag: workTag
              style:
                display: ..formData.selectStatus.work.isShow
                ..style.illnessBox:
              children:
                - type: label
                  text: "If “no”, date when patient can return to"
                  style:
                    ..style.reminderTitle:
                - type: view
                  style:
                    ..style.blockBox:
                    marginTop: "0.019704"
                  children:
                    - type: view
                      style:
                        ..style.inlineBlockLeft:
                        width: "0.44"
                      children:
                        - type: label
                          text: Regular work
                          style:
                            ..style.inputTitle:
                            marginTop: "0"
                        - type: view
                          viewTag: regularWorkTag
                          style:
                            ..style.dateBox:
                            width: "0.44"
                          onClick:
                            - ..event.regularWorkClick
                          children:
                            - type: textField
                              placeholder: "Select"
                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.regularWork
                              isEditable: "false"
                              style:
                                ..style.dateFild:
                                width: "0.34133"
                            - type: image
                              path: dateImg.svg
                              style:
                                ..style.dateImg:
                    - type: view
                      style:
                        ..style.inlineBlockRight:
                        width: "0.44"
                      children:
                        - type: label
                          text: Modified work
                          style:
                            ..style.inputTitle:
                            marginTop: "0"
                        - type: view
                          viewTag: modifiedWorkTag
                          style:
                            ..style.dateBox:
                            width: "0.44"
                          onClick:
                            - ..event.modifiedWorkClick
                          children:
                            - type: textField
                              placeholder: "Select"
                              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork
                              isEditable: "false"
                              style:
                                ..style.dateFild:
                                width: "0.34133"
                            - type: image
                              path: dateImg.svg
                              style:
                                ..style.dateImg:

            - type: label
              text: Specify Restrictions
              style:
                ..style.thirdInputTitle:
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.pROne.docReq.name.data.diagnosis.restrictions
              style:
                ..style.input:
                marginTop: "0.009852"

            - type: label
              text: "Plan And Recommendations"
              dataKey:
              style:
                ..style.thirdInputTitle:
            - type: label
              text: You can add recommendations after finishing this note
              style:
                ..style.thirdInputTitle:
                margin: "0"
                fontSize: .Nfont.h14
                lineHeight: "2.58vh"
                fontWeight: "400"
            - type: label
              text: "&#8226 Note"
              style:
                width: "0.92"
                fontSize: .Nfont.h14
                lineHeight: "2.58vh"
            - type: textView
              placeholder: "Enter here"
              dataKey: apiRequest.pROne.docReq.name.data.planAndRecommendations
              style:
                ..style.thirdInput:

            # - type: label
            #   text: "Plan And Recommendations"
            #   dataKey:
            #   style:
            #     ..style.thirdInputTitle:
            # - type: label
            #   text: You can add recommendations after finishing this note
            #   style:
            #     ..style.thirdInputTitle:
            #     margin: "0"
            #     fontSize: .Nfont.h12
            #     lineHeight: "2.58vh"
            # - type: textView
            #   placeholder: "Enter here"
            #   dataKey:
            #   style:
            #     ..style.thirdInput:
            # - type: view
            #   viewTag: defaultTag
            #   style:
            #     ..style.blockBox:
            #   children:
            #     - type: image
            #       path:
            #         ..event.checkBoxPath:
            #       style:
            #         ..style.img:
            #     - type: label
            #       text: Superbill
            #       onClick:
            #         # 签名处理
            #         - actionType: saveSignature
            #           dataObject: BLOB
            #           dataKey: PROne.apiRequest.newSign.docReq.name.data
            #           isEmpty: PROne.formData.whetherSign
            #         # 保存签名
            #         - actionType: evalObject
            #           object:
            #             - ..apiRequest.newSign.docReq.reid@: =.PROne.apiRequest.pROne.docReq.id
            #         - actionType: evalObject
            #           object:
            #             - if:
            #                 - =..formData.whetherSign
            #                 - continue
            #                 - =..apiRequest.newSign.docAPI.store: ""
            #         - actionType: evalObject
            #           object:
            #             - if:
            #                 - =..formData.temporarySignature
            #                 - actionType: evalObject
            #                   object:
            #                     - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..formData.signatureTime
            #                     - ..apiRequest.pROne.docReq.name.data.signatureId@: =..formData.temporarySignature
            #                     - ..apiRequest.pROne.docReq.name.data.whetherSign@: false
            #                     - ..formData.whetherSign@: false
            #                 - actionType: evalObject
            #                   object:
            #                     - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docResp.doc.ctime
            #                     - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
            #                     - ..apiRequest.pROne.docReq.name.data.whetherSign@: =..formData.whetherSign
            #         - actionType: evalObject
            #           object:
            #             - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
            #             - =.PROne.apiRequest.pROne.docAPI.store: ""
            #             - .Global.formData.providerDoc.pROne@: =..apiRequest.pROne.docResp.doc
            #         - actionType: evalObject
            #           object:
            #             - .Global.formData.providerDoc.diagnosesDoc@: =..apiRequest.diagnosesDoc.docReq
            #             - .Global.formData.parentPage@: PROne
            #         - actionType: evalObject
            #           object:
            #             - if:
            #                 - =..apiRequest.pROne.docReq.name.data.superbill
            #                 - goto: SuperbillReview
            #                 - goto: SelectSuperbill
            #       style:
            #         ..style.setLabel:
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: Physician signature(original signature, do not stamp)
              style:
                ..style.secondLabel:
                fontSize: .Nfont.h14
                lineHeight: "1.97vh"
            - type: label
              text: I declare under penalty of perjury that this report is true and correct to the best of my knowledge and that I have not violated Labor Code section 139.3.
              style:
                ..style.regular14:
        - type: view
          style:
            ..style.signatureBox:
          children:
            - type: view
              style:
                ..style.signatureview:
              children:
                - type: label
                  text: "Signature"
                  style:
                    ..style.signatureTitle:
                - type: label
                  text: "Clear"
                  style:
                    ..style.clearTitle:
                  onClick:
                    - ..event.clearClick
        - type: view
          style:
            ..style.canvasBox:
          children:
            - type: label
              text: X
              style:
                .SignLabelStyle:
            - type: canvas
              dataKey: PROne.apiRequest.newSign.docReq.name.data
              viewTag: signatureTag
              style:
                ..style.canvas:
            # 显示暂存的签名
            - type: image
              viewTag: signatureShowTag
              path=func: .builtIn.utils.prepareDocToPath
              # 传入签名文档的id
              dataKey: PROne.formData.temporarySignature
              style:
                ..style.canvasImg:
                display: =..formData.flag
        - type: view
          style:
            ..style.timeBox:
          children:
            - type: view
              viewTag: signatureTimeTag
              style:
                ..style.signatureTimeBox:
                display: ..formData.flag
              children:
                - type: label
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: apiRequest.pROne.docReq.name.data.signatureCtime
                  style:
                    ..style.signatureCtime:
                - type: label
                  text: "Digitally Signed"
                  dataKey:
                  style:
                    ..style.digitally:
            - type: view
              style:
                ..style.dateView:
              children:
                - type: label
                  text: Date
                  style:
                    ..style.dateLabel:
                - type: label
                  text=func: .builtIn.string.formatUnixtimeL_en
                  dataKey: apiRequest.pROne.docReq.ctime
                  style:
                    ..style.dateCtime:
        - type: view
          style:
            ..style.infoBox:
          children:
            - type: label
              dataKey: apiRequest.pROne.docReq.name.data.providerInfo.physicianName
              style:
                ..style.physicianName:
            - type: label
              dataKey: apiRequest.pROne.docReq.name.data.providerInfo.specialty
              style:
                ..style.specialty:
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "LIC #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.license
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "NPI #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.npi
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "DEA #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.dea
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Email"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.fax
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.phoneNumber
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Address"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.pROne.docReq.name.data.providerInfo.address
        - .DocPublicLine:
        - type: view
          style:
            ..style.box:
          children:
            - type: label
              text: Any person who makes or causes to be made any knowingly fraudulent material statement or mater-ial representation for the purpose of obtaining or denying workers’ compensation benefits or pay-ments is guilty of a felony.
              dataKey:
              style:
                ..style.bottomText:
            - type: label
              text: "PRIVACY NOTICE: "
              dataKey:
              style:
                ..style.bottomTitle:
            - type: label
              text: The Administrative Director is authorized to maintain
                the records of the Division of Workers’ Compensation
                (DWC). (Cal. Lab. Code § 126.) The Information Practices
                Act of 1977 and the Federal Privacy Act require the
                Administrative Director to provide this notice to
                individuals who submit information to the DWC
                pertaining to a workers’ compensation claim. (Cal. Civ.
                Code § 1798.17; Public Law 93-579.)
              style:
                ..style.commonText:
                marginTop: "0.014778"
            - type: label
              textBoard:
                - text: The principal purpose for requesting information from
                    injured workers, dependents, lien claimants, physician,
                    employers or their representatives is to administer the
                    California workers’ compensation system. Each form
                    shows which fields are required to be completed for
                    DWC to process the form. If a required field in a form is
                    incomplete or unreadable, the DWC may return the
                    form to the individual for correction or may reject the
                    form. Providing a social security number is required on
                    this form pursuant to Labor Code § 6409. If you do not
                    provide your security number, the DWC may return the
                    form to you for correction or reject the form. If you do
                    not have a social security number, indicate this in the
                    space provided for the injured worker’s social security
                    number. As permitted by law, social security numbers
                    are used to help properly identify injured workers and
                    to conduct statistical research as allowed under the
                    Labor Code.
                - br:
                - br:
                - text: "As authorized by law, information furnished on this form may be given to: you, upon request; the public, pursuant to the Public Records Act; a governmental entity, when required by state or federal law; to any person, pursuant to a subpoena or court order pursuant to any other exception in Civil Code § 1798.24."
                - br:
                - br:
                - text: "An individual has a right of access to records containing his/her personal information that are maintained by the Administrative Director. An individual may also amend, correct, or dispute information in such personal records. (Cal. Civ. Code §§ 1798.34-1798.3.) You may request a copy of the DWC’s policies and procedures for inspection of records at the address below. Copies of the procedures and all records are ten cents ($0.10) per page, payable in advance. (Cal. Civ. Code § 1798.33.) Requests should be sent to: Division of Workers’ Compensation- Medical Unit, P.O. Box 71010, Oakland, CA 94612. Tel: (510) 286-3700 or (800) 794.6900. Fax: (510) 622-3467."
              style:
                ..style.commonText:
        - type: view
          style:
            marginTop: "0.03"
    - .BasePublicFooter:
      children:
        - type: view
          style:
            width: auto
            height: auto
          children:
            - .DocButtonPrivate:
              onClick:
                - ..event.publicClck
                - ..event.privateClick
            - .DocButtonRelease:
              onClick:
                - ..event.publicClck
                - ..event.releaseClick

    # 弹框区域
    - .BaseWarningView:
      message: "Please complete required fields: Search&Description"
      viewTag: SearchWarning

    - .BaseWarningView:
      message: "You haven't signed the form"

    - .BaseWarningView:
      viewTag: unCompleteTag
      message: "Please complete the items you selected."

    - type: popUp
      viewTag: selectInjuryDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.injuryTime.date@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: injuryDateTag
                - actionType: popUpDismiss
                  popUpView: selectInjuryDate

    - type: popUp
      viewTag: selectWorkDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.workDate@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: workDateTag
                - actionType: popUpDismiss
                  popUpView: selectWorkDate

    - type: popUp
      viewTag: selectExamDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.examTme.date@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: examDateTag
                - actionType: popUpDismiss
                  popUpView: selectExamDate

    - type: popUp
      viewTag: selectAdmitteDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.diagnosis.dateAdmit@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: admitteTag
                - actionType: popUpDismiss
                  popUpView: selectAdmitteDate

    - type: popUp
      viewTag: selectRegularWork
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.diagnosis.regularWork@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: regularWorkTag
                - actionType: popUpDismiss
                  popUpView: selectRegularWork

    - type: popUp
      viewTag: selectModifiedWork
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: modifiedWorkTag
                - actionType: popUpDismiss
                  popUpView: selectModifiedWork

    - .publicDeleteUP:
      viewTag: BaseDelWarningView
      leftButton:
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView
      rightButton:
        - actionType: evalObject
          object:
            - =.builtIn.array.removeByName:
                dataIn:
                  object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                  key: code
                  name: =..formData.selectedDiagnosis.code
            - ..formData.listDataflag@: "block"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView

    - .Normal:
      message: "Do you want the patient to see it?"
      viewTag: dialogueTag
      leftText: "No"
      rightText: "Yes"
      leftButton:
        # 保存
        - actionType: evalObject
          object:
            - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
            - ..apiRequest.pROne.docReq.tage@: 1
            - =.PROne.apiRequest.pROne.docAPI.store: ""

            - =.builtIn.array.add:
                dataIn:
                  object: =.Global.currentMeetingDoc
                  value: =..apiRequest.pROne.docResp.doc

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: evalObject
          object:
            - goto: MoreOptions

        - actionType: popUpDismiss
          popUpView: dialogueTag
      rightButton:
        # 更新文档状态
        - actionType: evalObject
          object:
            - ..apiRequest.pROne.docReq.name.data.statusTag.name@: "Released"
            - ..apiRequest.pROne.docReq.name.data.statusTag.fontColor@: "0x2988e6"
            - ..apiRequest.pROne.docReq.name.data.statusTag.backgroundColor@: "0xdfedfc"

        # 保存
        - actionType: evalObject
          object:
            - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
            - ..apiRequest.pROne.docReq.tage@: -1
            - =.PROne.apiRequest.pROne.docAPI.store: ""

            - =.builtIn.array.add:
                dataIn:
                  object: =.Global.currentMeetingDoc
                  value: =..apiRequest.pROne.docResp.doc

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: evalObject
          object:
            - goto: MoreOptions

        - actionType: popUpDismiss
          popUpView: dialogueTag
  event:
    checkBoxPath:
      emit:
        actions:
          - if:
              - =..apiRequest.pROne.docReq.name.data.superbill
              - selectOnBlue.svg
              - selectOffBlue.svg

    raidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.treatment.isTreatment
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    renderClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..formData.selectStatus.treatment.isTreatment
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..formData.selectStatus.treatment
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..formData.selectStatus.treatment
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: isTreatmentTag
    illnessRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.illness.isIllness
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    illnessClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..formData.selectStatus.illness.isIllness
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..formData.selectStatus.illness
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..formData.selectStatus.illness
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.illness.isIllness
                    string2: "No"
              - ..formData.selectStatus.illness.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..formData.selectStatus.illness.isShow@: "none"
                  - ..apiRequest.pROne.docReq.name.data.diagnosis.noExplain@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: illnessTag
      - actionType: builtIn
        funcName: redraw
        viewTag: isIllnessTag
    recoveryRaidoPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.recovery.isRecovery
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    recoveryClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..formData.selectStatus.recovery.isRecovery
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..formData.selectStatus.recovery
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..formData.selectStatus.recovery
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.recovery.isRecovery
                    string2: "Yes"
              - ..formData.selectStatus.recovery.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..formData.selectStatus.recovery.isShow@: "none"
                  - ..apiRequest.pROne.docReq.name.data.diagnosis.yesExplain@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: isRecoveryTag
      - actionType: builtIn
        funcName: redraw
        viewTag: recoveryTag
    workRadioPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.work.isWork
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    workClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..formData.selectStatus.work.isWork
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..formData.selectStatus.work
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..formData.selectStatus.work
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.work.isWork
                    string2: "No"
              - ..formData.selectStatus.work.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..formData.selectStatus.work.isShow@: "none"
                  - ..apiRequest.pROne.docReq.name.data.diagnosis.regularWork@: ""
                  - ..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: workTag
      - actionType: builtIn
        funcName: redraw
        viewTag: isWorkTag
    diSearch:
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.diagnosis.descriptiveList.code
                    string2: ""
              - actionType: evalObject
                object:
                  - ..formData.listDataflag@: "block"
                  - ..formData.searchShow@: "none"
              - actionType: evalObject
                object:
                  - ..formData.listDataflag@: "none"
                  - ..formData.searchShow@: "block"
      - actionType: evalObject
        object:
          - ..formDataTemp.allListInfo@: []
          - ..formDataTemp.allListString@: []
      - actionType: evalObject
        object:
          - =.builtIn.search.queryCode:
              dataIn:
                query: =..formData.diagnosis.descriptiveList.code
              dataOut: PROne.formDataTemp.allListInfo
          - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
      - actionType: builtIn
        funcName: redraw
        viewTag: CodeTag
      - actionType: builtIn
        funcName: redraw
        viewTag: CodeTags
      - actionType: builtIn
        funcName: show
        viewTag: CodeTag
      - actionType: builtIn
        funcName: redraw
        viewTag: listData
      - actionType: builtIn
        funcName: show
        viewTag: ShowTag
      - actionType: popUp
        popUpView: CodeTag
        dismissOnTouchOutside: true
      - actionType: builtIn
        funcName: redraw
        viewTag: searchShowTag
    searchDataClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - ..formData.diagnosis.descriptiveList.code@: $var.0.0
            - ..formData.diagnosis.descriptiveList.description@: $var.0.1
      - actionType: builtIn
        funcName: redraw
        viewTag: CodeListTag
      - actionType: builtIn
        funcName: redraw
        viewTag: descriptionTag
      - actionType: builtIn
        funcName: hide
        viewTag: ShowTag
      - actionType: builtIn
        funcName: redraw
        viewTag: listData
      - actionType: builtIn
        funcName: show
        viewTag: listData
      - actionType: builtIn
        funcName: hide
        viewTag: CodeTag

    addClick:
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.array.allComplete:
                  dataIn:
                    - =..formData.diagnosis.descriptiveList.code
                    - =..formData.diagnosis.descriptiveList.description
              - continue
              - actionType: popUp
                popUpView: SearchWarning
                wait: true
                popUpDismiss: 2000
          - =.builtIn.object.extract:
              dataIn:
                array: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                field: code
              dataOut: PROne.formData.diagnosesCodeList
          - if:
              - =.builtIn.array.has:
                  dataIn:
                    object: =..formData.diagnosesCodeList
                    value: =..formData.diagnosis.descriptiveList.code
              - actionType: popUp
                popUpView: checkDiagnosesRepeat
                wait: true
                popUpDismiss: 2000
              - continue
      - emit:
          actions:
            - =.builtIn.array.add:
                dataIn:
                  object: =..apiRequest.diagnosesDoc.docReq.name.data.diagnosis.descriptiveList
                  value: =..formData.diagnosis.descriptiveList
      - actionType: evalObject
        object:
          - ..formData.diagnosis.descriptiveList.code@: ""
          - ..formData.diagnosis.descriptiveList.description@: ""
          - ..formData.diagnosis.descriptiveList.comment@: ""
          - ..formData.listDataflag@: "block"
      - actionType: builtIn
        funcName: redraw
        viewTag: listData
      - actionType: builtIn
        funcName: redraw
        viewTag: CodeListTag
      - actionType: builtIn
        funcName: redraw
        viewTag: descriptionTag
      - actionType: builtIn
        funcName: hide
        viewTag: ShowTag
      - actionType: builtIn
        funcName: show
        viewTag: listData
      - actionType: builtIn
        funcName: redraw
        viewTag: CommentsTag
      - actionType: builtIn
        funcName: hide
        viewTag: CodeTag
    delClick:
      - actionType: popUp
        popUpView: BaseDelWarningView
      - actionType: updateObject
        dataKey: PROne.formData.selectedDiagnosis
        dataObject: itemObject
    clearClick:
      - actionType: removeSignature
        dataObject: BLOB
        dataKey: PROne.apiRequest.newSign.docReq.name.data
        viewTag: signatureTag
      - actionType: evalObject
        object:
          - ..formData.temporarySignature@: ""
          - ..formData.signatureTime@: ""
          - ..formData.flag@: "none"
      - actionType: builtIn
        funcName: redraw
        viewTag: signatureTimeTag
      # 显示签名区域隐藏
      - actionType: builtIn
        funcName: hide
        viewTag: signatureShowTag
      - actionType: builtIn
        funcName: show
        viewTag: signatureTag
    injuryDateClick:
      - actionType: popUp
        popUpView: selectInjuryDate
    workDateClick:
      - actionType: popUp
        popUpView: selectWorkDate
    examDateClick:
      - actionType: popUp
        popUpView: selectExamDate
    admitteDateClick:
      - actionType: popUp
        popUpView: selectAdmitteDate
    regularWorkClick:
      - actionType: popUp
        popUpView: selectRegularWork
    modifiedWorkClick:
      - actionType: popUp
        popUpView: selectModifiedWork
    publicClck:
      # 签名处理
      - actionType: saveSignature
        dataObject: BLOB
        dataKey: PROne.apiRequest.newSign.docReq.name.data
        isEmpty: PROne.formData.whetherSign
      # 保存签名
      - actionType: evalObject
        object:
          - ..apiRequest.newSign.docReq.reid@: =.PROne.apiRequest.pROne.docReq.id
      - actionType: evalObject
        object:
          - if:
              - =..formData.whetherSign
              - continue
              - =..apiRequest.newSign.docAPI.store: ""
      - actionType: evalObject
        object:
          - if:
              - =..formData.temporarySignature
              - actionType: evalObject
                object:
                  - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..formData.signatureTime
                  - ..apiRequest.pROne.docReq.name.data.signatureId@: =..formData.temporarySignature
                  - ..apiRequest.pROne.docReq.name.data.whetherSign@: false
                  - ..formData.whetherSign@: false
              - actionType: evalObject
                object:
                  - ..apiRequest.pROne.docReq.name.data.signatureCtime@: =..apiRequest.newSign.docResp.doc.ctime
                  - ..apiRequest.pROne.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                  - ..apiRequest.pROne.docReq.name.data.whetherSign@: =..formData.whetherSign
    macroClick:
      - actionType: evalObject
        object:
          - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
          - =.PROne.apiRequest.pROne.docAPI.store: ""
          - .Global.formData.providerDoc.pROne@: =..apiRequest.pROne.docResp.doc
          - goto: ProviderMacros
      - actionType: evalObject
        object:
          - .Global.formData.providerDoc.diagnosesDoc@: =..apiRequest.diagnosesDoc.docReq
    privateClick:
      #  指定 eid 和 reid
      - actionType: evalObject
        object:
          - ..apiRequest.pROne.docReq.eid@: =.Global.currentRoom.edge.id
          - ..apiRequest.pROne.docReq.reid@: =.Global.roomInfo.edge.id
      - actionType: evalObject
        object:
          # 同步线上
          - =.PROne.apiRequest.diagnosesDoc.docAPI.store: ""
          # 更新本地
          - .Global.formData.providerDoc.diagnosesDoc@: =.PROne.apiRequest.diagnosesDoc.docResp.doc
      #  修改type
      - actionType: evalObject
        object:
          - =.builtIn.number.inhx:
              dataIn:
                intHex: =..apiRequest.pROne.docReq.type
                index: 1
                hex: 0
              dataOut: PROne.apiRequest.pROne.docReq.type
      # 保存
      - actionType: evalObject
        object:
          - ..apiRequest.pROne.docReq.name.data.selectStatus@: =..formData.selectStatus
          - =.PROne.apiRequest.pROne.docAPI.store: ""

          - =.builtIn.array.add:
              dataIn:
                object: =.Global.currentMeetingDoc
                value: =..apiRequest.pROne.docResp.doc

      - actionType: evalObject
        object:
          .Global._nonce@:
            =.builtIn.math.random: ""
      - actionType: evalObject
        object:
          - =.builtIn.utils.createAuditLog:
              dataIn:
                actionTypeCode: .ActionTypeCode.create
                recordTypeCode: .DocType.pROne
                eid: =.Global.formData.currentFacility.relationEdge.id

                user: =.Global.MyProfile.name.data.fullName
                userId: =.Global.currentUser.vertex.id
                targetUserId: =.Global.formData.auditLog.patientId
                targetUser: =.Global.formData.auditLog.patientName
                accessPort: provider
              dataOut: Global.formData.auditLog.result
      - actionType: evalObject
        object:
          - goto: MoreOptions
    releaseClick:
      #  指定 eid 和 reid
      - actionType: evalObject
        object:
          - ..apiRequest.pROne.docReq.eid@: =.Global.currentRoom.edge.id
          - ..apiRequest.pROne.docReq.reid@: =.Global.roomInfo.edge.id
      - actionType: evalObject
        object:
          # 同步线上
          - =.PROne.apiRequest.diagnosesDoc.docAPI.store: ""
          # 更新本地
          - .Global.formData.providerDoc.diagnosesDoc@: =.PROne.apiRequest.diagnosesDoc.docResp.doc
      #  修改type
      - actionType: evalObject
        object:
          - =.builtIn.number.inhx:
              dataIn:
                intHex: =..apiRequest.pROne.docReq.type
                index: 1
                hex: 1
              dataOut: PROne.apiRequest.pROne.docReq.type

      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.illness.isIllness
                    string2: "No"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.string.equal:
                          dataIn:
                            string1: =..apiRequest.pROne.docReq.name.data.diagnosis.noExplain
                            string2: ""
                      - actionType: popUp
                        popUpView: unCompleteTag
                        wait: true
                        popUpDismiss: 2000
                      - continue
              - continue

      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.recovery.isRecovery
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.string.equal:
                          dataIn:
                            string1: =..apiRequest.pROne.docReq.name.data.diagnosis.yesExplain
                            string2: ""
                      - actionType: popUp
                        popUpView: unCompleteTag
                        wait: true
                        popUpDismiss: 2000
                      - continue
              - continue
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.work.isWork
                    string2: "No"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.string.equal:
                          dataIn:
                            string1: =..apiRequest.pROne.docReq.name.data.diagnosis.regularWork
                            string2: ""
                      - actionType: popUp
                        popUpView: unCompleteTag
                        wait: true
                        popUpDismiss: 2000
                      - continue
              - continue
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.selectStatus.work.isWork
                    string2: "No"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.string.equal:
                          dataIn:
                            string1: =..apiRequest.pROne.docReq.name.data.diagnosis.modifiedWork
                            string2: ""
                      - actionType: popUp
                        popUpView: unCompleteTag
                        wait: true
                        popUpDismiss: 2000
                      - continue
              - continue
      # 未签名警告
      - actionType: evalObject
        object:
          - if:
              - =.PROne.formData.whetherSign
              - actionType: popUp
                popUpView: BaseWarningView
                wait: true
                popUpDismiss: 2000
              - continue

      - actionType: evalObject
        object:
          - =.builtIn.utils.createAuditLog:
              dataIn:
                actionTypeCode: .ActionTypeCode.create
                recordTypeCode: .DocType.pROne
                eid: =.Global.formData.currentFacility.relationEdge.id

                user: =.Global.MyProfile.name.data.fullName
                userId: =.Global.currentUser.vertex.id
                targetUserId: =.Global.formData.auditLog.patientId
                targetUser: =.Global.formData.auditLog.patientName
                accessPort: provider
              dataOut: Global.formData.auditLog.result

      - actionType: popUp
        popUpView: dialogueTag
  style:
    scrollBox:
      width: "1"
      height: "0.846"
      overflow: scroll

      fontSize: .Nfont.h16
      color: "#333333"
    box:
      marginLeft: "0.04"
      width: "0.92"
      height: "auto"
      overflow: hidden
    f14:
      marginTop: "0.02709"
      fontWeight: "600"
      fontSize: .Nfont.h14
      width: "0.92"
      textAlign:
        x: center
    f16:
      ..style.f14:
      marginTop: "0.011083"
      fontSize: .Nfont.h16
      lineHeight: "2.58vh"
    regular14:
      marginTop: "0.014778"
      width: "0.92"
      fontSize: .Nfont.h14
      lineHeight: "2.58vh"
      wordBreak: break-word
    secondLabel:
      ..style.f16:
      marginTop: "0.024630"
      textAlign:
        x: left
    firstInputTitle:
      ..style.f14:
      marginTop: "0.019704"
      textAlign:
        x: left
    inputTitle:
      ..style.f14:
      marginTop: "0.024630"
      textAlign:
        x: left
    input:
      marginTop: "0.009852"
      height: "0.03694"
      width: "0.92"
      fontSize: .Nfont.h14
      color: "#333333"
      border:
        style: 3
      borderWidth: "1.5"
      borderColor: "#dededf"
      boxSizing: border-box
      borderRadius: "4"
      textIndent: "12px"

    blockBox:
      marginTop: "0.024630"
      width: "0.92"
      height: "auto"
      overflow: hidden
    inlineBlockLeft:
      display: inline-block
      width: "auto"
      height: "auto"
      boxSizing: border-box
    inlineBlockRight:
      display: inline-block
      marginLeft: "0.04"
      width: "auto"
      height: "auto"
      boxSizing: border-box
    blockTitle:
      fontSize: .Nfont.h12
      marginTop: "0.013546"
      color: "#666666"
      height: "auto"
      width: "0.4"
    leftTitle:
      display: "inline-block"
      fontSize: .Nfont.h12
      color: "#666666"
      height: "auto"
      width: "0.4"
    rightValue:
      display: "inline-block"
      height: "auto"
      width: "0.52"
      fontSize: .Nfont.h14
      fontWeight: "600"
      color: "#333333"
      wordBreak: break-word
      textAlign:
        x: right
    addressValue:
      marginTop: "0.01"
      fontSize: .Nfont.h14
      height: "auto"
      width: "0.92"
      wordBreak: break-word
      color: "#333333"
      fontWeight: "600"
    thirdInputTitle:
      marginTop: "0.024630"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.92"
      fontWeight: "600"
    thirdInput:
      marginTop: "0.009852"
      height: "0.087438"
      width: "0.92"
      fontSize: .Nfont.h14
      color: "#333333"
      border:
        style: 3
      borderWidth: "1.5"
      borderColor: "#dededf"
      boxSizing: border-box
      borderRadius: "4"
      padding: "6px 12px"

    dateBox:
      marginTop: "0.009852"
      width: "0.6"
      height: "auto"
      border:
        style: 3
      borderWidth: "1"
      borderRadius: "4"
      boxSizing: "border-box"
      borderColor: "#dedede"
      overflow: hidden
    dateFild:
      marginLeft: "0.032"
      width: "0.504"
      height: "0.037"
      fontSize: .Nfont.h14

      display: "inline-block"
      boxSizing: "border-box"
      border:
        style: 1
      verticalAlign: middle
      backgroundColor: "0xffffff"
      color: "0x333333"

    dateImg:
      display: "inline-block"
      height: "0.0172"
      verticalAlign: middle
    selectList:
      width: "0.92"
      height: "auto"
      margin: "0"
      marginTop: "0.017241"
    selectListItem:
      display: "inline-block"
      width: "0.25333"
      height: "auto"
    itemImg:
      display: "inline-block"
      height: "0.02093"
      width: "0.0442"
      verticalAlign: middle
    itemValue:
      marginLeft: "0.02133"
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "auto"
      height: "auto"
      verticalAlign: middle
    describeText:
      marginTop: "0.02463"
      width: "0.92"
      height: "auto"
      color: "#333333"
      fontSize: .Nfont.h14
      wordBreak: break-word
      lineHeight: "2.58vh"
    signBox:
      width: "auto"
      height: "auto"
      marginTop: "0.017241"
      marginLeft: "0.04"
    signTitle:
      height: "auto"
      width: "0.48"

      fontSize: .Nfont.h12
      display: "inline-block"
      verticalAlign: top
    signInputBox:
      width: "0.92"
      height: "auto"
      marginTop: "0.01"
      marginLeft: "0.04"
    signInput:
      width: "0.44"
      height: "0.037"

      fontSize: .Nfont.h14
      textIndent: "12px"
      border:
        style: "3"
      borderWidth: "1"
      borderColor: "#dedede"
      borderRadius: "4"
      boxSizing: "border-box"
      display: "inline-block"

    vital:
      width: "0.92"
      height: "auto"
      marginTop: "0.014778"

      fontSize: .Nfont.h14
      fontWeight: "600"
    fourTitle:
      marginTop: "0.0221674"
      marginLeft: "0.04"
      width: "auto"

      fontSize: .Nfont.h14
      fontWeight: "600"
    searchTitle:
      marginLeft: "0.04"
      width: "auto"

      fontSize: .Nfont.h14
      fontWeight: "600"
    searchView:
      width: "1"
      height: "auto"
      overflow: "auto"
      marginTop: "0.0221674"
    searchBox:
      marginTop: "0.016009"
      marginLeft: "0.04"
      height: "auto"
      width: "0.92"
    searchSecondBox:
      # marginTop: "0.016009"
      width: "0.92"
      height: "auto"
      boxSizing: border-box
    ICDsearch:
      display: "inline-block"
      height: "0.037"
      width: "0.325"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "4"
      borderWidth: "1.5"
      borderColor: "#dedede"
      overflow: hidden
    ICDImg:
      marginLeft: "0.016"
      display: "inline-block"
      height: "0.015"
      verticalAlign: middle
    ICDField:
      marginLeft: "0.01"
      display: "inline-block"
      height: "0.037"
      width: "0.24"
      boxSizing: border-box
      border:
        style: 1
      fontSize: .Nfont.h12
      verticalAlign: middle

      color: "0x333333"
    objectiveFindings:
      marginTop: "0.014778"
      marginLeft: "0.04"
      width: "0.92"
      height: "0.087"

      fontSize: .Nfont.h14
      borderRadius: "4"
      borderColor: "#dedede"
      border:
        style: "3"
      borderWidth: "1"
      boxSizing: "border-box"
      padding: "6px 12px"
    description:
      marginLeft: "0.02"
      display: "inline-block"
      fontSize: .Nfont.h12
      height: "0.037"
      width: "0.573"
      textIndent: "12px"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "4"
      borderWidth: "1.5"
      borderColor: "#dedede"

      color: "0x333333"
    commentView:
      marginTop: "0.01"
      width: "0.92"
      height: "0.0874"
      boxSizing: border-box
      textIndent: "12px"
      fontSize: .Nfont.h12
      border:
        style: 3
      borderRadius: "4"
      borderWidth: "1.5"
      borderColor: "#dedede"

      color: "0x333333"
      paddingTop: "6px"
    searchShow:
      top: "0.08"
      left: "0.04"
      width: "auto"
      height: "auto"
      backgroundColor: "0xffffff"
      borderRadius: "4"
      boxSizing: "border-box"
      boxShadow: "1px 1px 4px 1px #dededf"
      zIndex: "20"
    codeView:
      display: "none"
      width: "0.92"
      height: "auto"

      borderRadius: "4"
      boxSizing: "border-box"
      backgroundColor: "0xffffff"
      boxShadow: "1px 1px 4px 1px #dededf"
      zIndex: 10
    scrollShow:
      width: "0.9"
      height: "0.3"
      marginLeft: "0.02"
      overflow: scroll
    dataList:
      width: "0.9"
      height: "0.3"
      margin: "0"
    dataListItem:
      width: "0.9"
      marginTop: "0.002"
      height: "auto"
      overflow: hidden
    dataListItemValue:
      width: "0.88"
      textIndent: 20px
      marginTop: "0.005"
      textAlign:
        x: left
        y: center
      height: "auto"
      fontSize: .Nfont.h14
      color: "0x143459"
      wordWrap: break-word
    addBox:
      marginLeft: "0.76"
      marginTop: "0.0073"
      fontSize: .Nfont.h14
      color: "0x1492e6"
      height: "auto"
      width: "auto"
      fontWeight: "600"
    listDataShowList:
      marginLeft: "0.04"
      width: "0.92"
      marginTop: "0.01477"
      height: "auto"
    listDataShowListItem:
      marginTop: "0.01"
      width: "0.92"
      height: "auto"
      left: "0"
      overflow: hidden
    showListItemBox:
      width: "0.92"
      height: "auto"
    xImg:
      display: "inline-block"
      height: "0.025"
      zIndex: 10
      verticalAlign: top
    codeValue:
      display: "inline-block"
      marginLeft: "0.02"
      height: "auto"
      width: "0.17"
      textAlign:
        x: left

      backgroundColor: "0xffffff"
      wordWrap: break-word
      fontSize: .Nfont.h14
      fontWeight: "550"
      verticalAlign: top
      color: "0x333333"
    decollator:
      verticalAlign: middle
      display: "inline-block"
      width: "auto"
      height: "auto"
      fontSize: .Nfont.h2
    descriptionValue:
      verticalAlign: top
      marginLeft: "0.015"
      display: "inline-block"
      height: "auto"
      width: "0.64"
      wordBreak: break-word
      textAlign:
        x: left
      backgroundColor: "0xffffff"

      wordWrap: break-word
      fontSize: .Nfont.h14
      color: "0x333333"
    commentValue:
      marginTop: "0.002"
      marginLeft: "0.07"
      width: "0.845"
      height: "auto"
      color: "0x666666"

      wordWrap: break-word
      fontSize: .Nfont.h14
    signatureBox:
      marginLeft: "0.04"
      marginTop: "0.030788"
      width: "0.92"
      height: "auto"
      overflow: hidden
    signatureview:
      height: "auto"
      width: "0.92"
    signatureTitle:
      display: "inline-block"
      width: "0.816"
      fontSize: .Nfont.h14
      height: "auto"
      color: "0x333333"
      fontWeight: "600"
      textAlign:
        x: left
    clearTitle:
      display: "inline-block"
      width: "auto"
      fontSize: .Nfont.h14
      height: "auto"
      color: "0xfb5051"
    canvasBox:
      marginLeft: "0.04"
      marginTop: "0.01"
      height: "0.128"
      width: "0.9"
      border:
        style: "4"
        color: "0xa9a9a9"
      borderWidth: "2"
    canvas:
      left: "0"
      width: "0.88"
      height: "0.128"
      overflow: scroll
    canvasImg:
      # 控制显示
      left: "0"
      width: "0.88"
      top: "0"
      height: "0.128"
      overflow: scroll
      zIndex: "1000"
    timeBox:
      marginLeft: "0.04"
      marginTop: "0.0146"
      width: "0.92"
      height: "auto"
      overflow: hidden
    signatureTimeBox:
      marginTop: "0.01"
      height: "auto"
      width: "0.92"
    signatureCtime:
      display: "inline-block"
      width: "auto"
      height: "auto"
      fontSize: .Nfont.h12
      color: "0x757575"
      verticalAlign: middle
    digitally:
      marginLeft: "0.02"
      display: "inline-block"
      width: "auto"
      height: "auto"
      fontSize: .Nfont.h12
      color: "0x757575"
      verticalAlign: middle
    dateView:
      marginTop: "0.01"
      width: "auto"
      height: "auto"
    dateLabel:
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x666666"
      fontSize: .Nfont.h12
    dateCtime:
      marginLeft: "0.0373"
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x333333"
      fontSize: .Nfont.h12
      fontWeight: "600"
    infoBox:
      marginLeft: "0.04"
      marginTop: "0.0246"
      width: "0.92"
      height: "auto"
      overflow: hidden
    physicianName:
      height: "auto"
      width: "0.92"
      color: "0x333333"
      fontSize: .Nfont.h16
      fontWeight: "600"
      wordWrap: break-word
    specialty:
      marginTop: "0.006"
      height: "auto"
      width: "0.92"
      color: "0x666666"
      fontSize: .Nfont.h14
      wordWrap: break-word
    bottomText:
      marginTop: "0.024630"
      width: "0.92"
      fontSize: .Nfont.h14
      color: "#333333"
      lineHeight: "2.58vh"
      wordBreak: break-word
    bottomTitle:
      marginTop: "0.02832"
      fontWeight: "600"
      fontSize: .Nfont.h14
    commonText:
      fontSize: .Nfont.h14
      wordBreak: break-word
      lineHeight: "2.58vh"
      width: "0.92"
    illnessBox:
      width: "auto"
      height: "auto"
      overflow: hidden
    reminderTitle:
      marginTop: "0.014778"
      fontSize: .Nfont.h14
      height: "auto"
      width: "0.92"
      color: "#333333"
    img:
      display: "inline-block"
      height: "0.01970"
      verticalAlign: middle
    setLabel:
      display: "inline-block"
      marginLeft: "0.026666"
      height: "auto"
      width: "auto"
      fontSize: .Nfont.h14
      color: "#2988e6"
      fontWeight: "700"
      verticalAlign: middle
      textDecoration: underline
