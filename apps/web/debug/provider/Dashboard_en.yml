Dashboard:
  # api 请求
  # 1. 获取当前provider 与 facility之间的 10002， 没用到 已删除
  # 2. 获取当前facility下的所有的locationid ， 已处理： 第一次进来获取就行 后面不需要获取，（
  #  存在隐患 ， 当facility那边添加 location 这边没办法同步更新， 和 6.1 6.2 同样的问题 需要和 Austin商量 @chenchen.xu  ）
  # 3. 获取邮件,这个不需要实时刷新， 去掉 nonce
  # 4. 获取所有的telemedicine 请求
  # 5. 获取所有office请求
  # 6.1. 获取当前facility下面的room ， 已用cache处理，去掉nonce
  # 6.2. 获取当前facility下面的profile ， 已用cache处理，去掉nonce
  # 7. 获取 public profile，并判断是否正常
  # 8 - 10 获取几个预约， 可以考虑合并
  # 11 获取当前facility文档， 存在 Global.currentFacilityDoc 已优化， 存在不在获取
  # 12. 获取所有好友请求， 去掉 nonce 不需要实时更新
  # 13. 获取所有的reason for visit , 已用cache处理，去掉nonce
  # 14. 获取自己和当前facility的关系边
  title: Dashboard
  pageNumber: "80"
  viewPort: top
  init:
    - .SignInCheck
    - actionType: updateObject
      dataKey: Global.formData.entrancePageName
      dataObject: ""
    - actionType: evalObject
      object:
        # if user on browser, he can not use scan so remove the scan button on the list
        - if:
            - .builtIn.isBrowser
            - ..formDataTemp.switchList@: =..formDataTemp.switchTempOnBrowser
            - ..formDataTemp.switchList@: =..formDataTemp.switchTemp
    # reset MedicalInsurance to empty for fix ios bugs
    - actionType: updateObject
      dataKey: Dashboard.listData.organizations
      dataObject: []
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - actionType: updateObject
      dataKey: Global.formData.currentTabStatusList
      dataObject: []
    # clear meeting roomInfo edge
    - actionType: updateObject
      dataKey: Global.roomInfo.edge
      dataObject: .EmptyObj
    # 获取当前currentFacility的id
    - ..apiRequest.currentFacilityDoc.docReq.id@: =.Global.currentFacility.id
    # judge provider is login in or register in
    - if:
        - =.Global.formData.profile.firstName
        # register in
        - actionType: evalObject
          object:
            - =.builtIn.string.concat:
                dataIn:
                  - =.Global.formData.profile.firstName
                  - " "
                  - =.Global.formData.profile.lastName
                dataOut: Dashboard.formData.fullName
            - ..profile.document.name.data.fullName@: =.Dashboard.formData.fullName
            - actionType: evalObject
              object:
                - actionType: evalObject
                  async: true
                  object:
                    - =..profile.docAPI.store: "" #登录创建profile
                    - =..publicProfile.docAPI.store: "" #登录创建publicProfile
            - .Global.MyProfile@: =..profile.docCreateResp.doc
            - =.builtIn.object.clear:
                dataIn:
                  object: =.Global.formData
                  key: profile
        - continue
    - actionType: evalObject
      object:
        - =.builtIn.date.getMonth:
            dataIn: ""
            dataOut: Dashboard.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn: ""
            dataOut: Dashboard.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn: ""
            dataOut: Dashboard.calendarDate.day
    - actionType: evalObject
      object:
        - =.builtIn.string.concat:
            dataIn:
              - =.Dashboard.calendarDate.year
              - "-"
              - =.Dashboard.calendarDate.month
              - "-"
              - =.Dashboard.calendarDate.day
            dataOut: Dashboard.calendarDate.todayDate
    - actionType: evalObject
      object:
        - =.builtIn.date.getTimeStampOfDate:
            dataIn:
              date: =.Dashboard.calendarDate.todayDate
            dataOut: Dashboard.calendarDate.todayStamp
    # get all the appointment request include telemedicine and office
    - actionType: evalObject
      object:
        #获取room的筛选条件
        - =.builtIn.string.concat:
            dataIn:
              - "E.type=1053 AND E2.subtype in (0x60006,0x60064,0xa0006,0xa0064,0xc0006,0xc0064) AND E2.tage&0x100=0 AND E2.type=40000"
            dataOut: Global.getRoomScondition
        #是否进行获取room，因为tele不需要
        - .Global.isGetRoom@: false
        #获取当前facility下面所有location,并获取当前机构下的所有office的请求
        # 这应该每次用户进来获取一次就可以， 后面如果Global有就不需要获取
        - if:
            - =.Global.formData.currentFacility.alllocationId.0
            - actionType: evalObject
              object:
                - ..formData.locationAndProviderId@: =.Global.formData.currentFacility.currentLocationAndProviderId
            - actionType: evalObject
              object:
                - =..apiRequest.locationAll.docAPI.get: ""
                - if:
                    - =..apiRequest.locationAll.docResp.doc.0.id
                    - actionType: evalObject
                      object:
                        - .Global.formData.currentFacility.locations@: =..apiRequest.locationAll.docResp.doc.0
                        - .Global.formData.currentFacility.allLocationInforMation@: =..apiRequest.locationAll.docResp.doc.0.name.data.allLocation
                        - =.builtIn.array.selectOneToArr:
                            dataIn:
                              arr: =..apiRequest.locationAll.docResp.doc.0.name.data.allLocation
                              key: "id"
                            dataOut: Global.formData.currentFacility.alllocationId
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.formData.currentFacility.alllocationId
                              newMessage: =.Global.currentUser.vertex.id
                            dataOut: Dashboard.formData.locationAndProviderId
                        - .Global.formData.currentFacility.currentLocationAndProviderId@: =..formData.locationAndProviderId
                        - .Global.ids@: []
                        - =.builtIn.array.concat:
                            dataIn:
                              array1: =.Global.ids
                              array2: =..formData.locationAndProviderId
                            dataOut: Global.ids
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.formData.currentFacility.currentLocationAndProviderId
                              newMessage: =.Global.currentUser.vertex.id
                            # dataOut: Dashboard.formData.locationAndProviderId
                        # - .Global.formData.currentFacility.currentLocationAndProviderId@: =..formData.locationAndProviderId

    - actionType: evalObject
      object:
        - actionType: evalObject
          async: true
          object:
            #### all appointment
            - =..apiRequest.telemedicinelistData.get: "" #Telemedicinelist number
            # - =..apiRequest.telemedicinelistData.reportAPI.store: ""
            #获取当前facility & provider下面所有的office
            - =..apiRequest.officelistData.get: "" #officelist number
            #获取当前facility & provider下面所有的room
            - =..apiRequest.listRoomData.get: ""
            ## @ 暂时注释
            - =..newMedical.edgeAPI.get: ""
            # 获取邀请列表
            - =..invite.edgeAPI.get: ""
            #获取邮件列表数量
            - =..apiRequest.unReadEmail.docAPI.get: ""
    # 获取自己和当前facility之间的关系边
    - if:
        - .Global.formData.currentFacility.relationEdge.id
        - continue
        - actionType: evalObject
          object:
            - =..apiRequest.relation.edgeAPI.get: ""
            - .Global.formData.currentFacility.relationEdge@: =..apiRequest.relation.edgeQueryResp.edge.0
    # 获取当前facility doc
    # 如果已经获取过了 可以不再获取
    - if:
        - .Global.currentFacilityDoc
        - continue
        - actionType: evalObject
          object:
            - =..apiRequest.currentFacilityDoc.docAPI.get: ""
            - ..formData.tempData@: =..apiRequest.currentFacilityDoc.docResp.doc.0
            - .Global.currentFacilityDoc@: ""
            - .Global.currentFacilityDoc@: =.Dashboard.formData.tempData

    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.telemedicinelistData.WaitingInRoom.edge
            dataOut: Dashboard.formData.TelemedicineNumber
    - actionType: evalObject
      object:
        - =.builtIn.array.concatArray:
            dataIn:
              array1: =..apiRequest.officelistData.WaitingInRoom.edge
              array2: =..apiRequest.listRoomData.response.edge
              sortby: "stime"
              orders: "asc"
            dataOut: Dashboard.apiRequest.officelistData.WaitingInRoom.edge
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.officelistData.WaitingInRoom.edge
            dataOut: Dashboard.formData.OfficeNumber
    #默认是 false, 第一次进来去 get.
    - if:
        - =.Global.publicProfileViewHidden
        - continue
        - actionType: evalObject
          object:
            - =..apiRequest.publicProfile.docAPI.get: ""
            # get完事之后 应该就不需要get了
            # judge the public profile is normal or not
            - if:
                - =..apiRequest.publicProfile.docQueryResp.doc.0.name.data.userName
                - .Global.publicProfileViewHidden@: true # 如果正常 以后都不显示了
                - actionType: evalObject
                  object:
                    - .Global.publicProfileViewHidden@: false
                    - =.builtIn.object.extract:
                        dataIn:
                          array: =..apiRequest.publicProfile.docQueryResp.doc
                          field: id
                        dataOut: Dashboard.formData.problemPublicProfileIdList
            # if public profile is not normal,delete all bug public profile， 正常就继续，不正常删掉
            - if:
                - =..formData.problemPublicProfileIdList.0
                - actionType: evalObject
                  object:
                    - ..apiRequest.publicProfile.docDeleteReq.id@: =..formData.problemPublicProfileIdList
                    - =..apiRequest.publicProfile.docAPI.delete: ""
                - continue
    # 获取profile  存在MyProfile就不用重新请求
    - if:
        - =.Global.MyProfile.id
        - continue
        - actionType: evalObject
          object:
            - =..profile.docAPI.get: ""
            - .Global.MyProfile@: =..profile.docResponse.doc.0
            - if:
                # judge if user is register from the other platform so that have no provider profile
                - =.Global.MyProfile.name.data.userName
                - continue
                - actionType: evalObject
                  object:
                    - =.builtIn.string.concat:
                        dataIn:
                          - =.Global.currentUser.vertex.name.firstName
                          - " "
                          - =.Global.currentUser.vertex.name.lastName
                        dataOut: Dashboard.formData.fullName
                    - ..profile.document.name.data.fullName@: =.Dashboard.formData.fullName
                    - ..profile.document.name.data.firstName@: =.Global.currentUser.vertex.name.firstName
                    - ..profile.document.name.data.lastName@: =.Global.currentUser.vertex.name.lastName
                    - ..publicProfile.document.name.data.fullName@: =.Dashboard.formData.fullName
                    - ..publicProfile.document.name.data.firstName@: =.Global.currentUser.vertex.name.firstName
                    - ..publicProfile.document.name.data.lastName@: =.Global.currentUser.vertex.name.lastName
                    - =..profile.docAPI.store: "" #登录创建profile
                    - =..publicProfile.docAPI.store: "" #登录创建publicProfile
                    - .Global.MyProfile@: =..profile.docCreateResp.doc
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..newMedical.newConnectionList.edge
            dataOut: Dashboard.formData.newConnectionLength
        - .Global.formData.redDotNum.newConnection@: =..formData.newConnectionLength
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..invite.inviteList.edge
            dataOut: Dashboard.newDashboardLength
        - .Global.formData.redDotNum.newPatient@: =..newDashboardLength
        #控制是否展示邮箱数量
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.unReadEmail.docQueryResp.doc
            dataOut: Dashboard.formData.unReadEmailNum
        - .Global.formData.emailNumber@: =..formData.unReadEmailNum
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.unReadEmailNum
                  string2: "0"
            - ..formData.inboxHidden@: "true"
            - ..formData.inboxHidden@: "false"

    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =..formData.newConnectionLength
              string2: "0"
        - ..connectionHidden@: "true"
        - ..connectionHidden@: "false"
    - actionType: builtIn
      funcName: redraw
      viewTag: connectionTag
    - actionType: evalObject
      object:
        - =.builtIn.string.concat:
            dataIn:
              - "E.type=1060 AND name like 'MedicalFacilityName' OR id="
              - =.Global.currentUser.vertex.id
            dataOut: Dashboard.sCondition
        - ..listData.organizations@: =.Global.organizations
    #检测是否加入facility
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.organizations
            dataOut: Global.organizationsLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =.Global.organizationsLength
                  string2: "0"
            - .Global.hasOrganization@: false
            - .Global.hasOrganization@: true
    # if provider has facility, try to get reason between provider and this facility
    - if:
        - =.Global.hasOrganization
        - actionType: evalObject
          object:
            - =..apiRequest.reasonForVisit.docAPI.get: ""
            - if:
                - =..apiRequest.reasonForVisit.docQueryResp.doc.0
                - ..formData.display_updateReason@: none
                - ..formData.display_updateReason@: ""
        - ..formData.display_updateReason@: none
    - actionType: builtIn
      funcName: redraw
      viewTag: updateReasonView
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Dashboard.newDashboardLength
              string2: "0"
        - continue
        - =.builtIn.checkField:
            dataIn:
              contentType: messageHidden
              wait: 100
    # 测试代码，测试完成后需删除
    # - =.builtIn.date.currentDateTime:
    #     dataIn:
    #     dataOut: Global.formData.auditLog.startTime
    # - =.builtIn.utils.createAuditLog:
    #     dataIn:
    #       actionTypeCode: 1
    #       recordTypeCode: 1
    #       eid: =.Global.rootNotebookID
    #
    #       user: =.Global.MyProfile.name.data.fullName
    #       userId: =.Global.currentUser.vertex.id
    #       targetUserId: =.Global.currentUser.vertex.id
    #       accessPort: provider
    #     dataOut: Global.formData.auditLog.result
  generalInfo:
    value: true
    flag: true
  calendarDate:
    year: ""
    month: ""
    day: ""
    todayDate: ""
    todayStamp: ""
  sCondition: ""
  listData:
    organizations: []
  connectionHidden: "true"
  newDashboardLength: "2"
  scan:
    document:
      name:
        data: ""
  # facility 或者 provider 邀请
  invite:
    inviteList: ""
    edgeAPI:
      get:
        api: re
        type: .EdgeType.InviteInfo
        xfname: evid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: invite.inviteList
        sCondition: subtype in (0x10000) #,0x20000,0x30000,0x40000,0x5000)
        _nonce: =.Global._nonce

  #
  newMedical: #facility number
    newConnectionList:
      edge: ""
    edgeAPI:
      get:
        api: re
        _nonce: =.Global._nonce
        type: .EdgeType.InviteInfo
        xfname: evid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: newMedical.newConnectionList
        sCondition: subtype in (196624,196608,262144,327680)
  save:
    - ..newRoomInfo.edgeAPI.store
  newRoomInfo:
    edge:
      .Edge: ""
      id: ""
      type: 40000
      _nonce: =.Global._nonce
      bvid: .Global.currentUser.vertex.id
      name:
        roomName: ""
        date: ""
        videoProvider: .Global.currentUser.vertex.name.userName
        roomType: "Orthopedic surgeon"
        company: "COMSI"
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: newRoomInfo.edge
        dataOut: createdRoomInfo.edge
  apiRequest:
    relation:
      edgeQueryResp: ""
      edgeQueryReq:
        id:
          - =.Global.currentUser.vertex.id
          - =.Global.currentFacility.id
        xfname: (bvid,evid)|(evid,bvid)
        type: 10002
        obfname: mtime
        sCondition: tage>0
        _nonce: =.Global._nonce
      edgeAPI:
        get:
          api: re
          dataIn: apiRequest.relation.edgeQueryReq
          dataOut: Dashboard.apiRequest.relation.edgeQueryResp
    reasonForVisit:
      docCreateResp: ""
      docCreateReq: ""
      docQueryResp: ""
      docQueryReq:
        ObjType: 8
        id:
          - .Global.currentUser.vertex.id
          - .Global.currentFacility.id
        xfname: E.Bvid,E.Evid
        type: .DocType.VisitReason
        obfname: mtime
        sCondition: E.type=10002 AND E.tage>0
        _nonce: .Global._nonce
      docAPI:
        get:
          api: rd
          dataIn: Dashboard.apiRequest.reasonForVisit.docQueryReq
          dataOut: Dashboard.apiRequest.reasonForVisit.docQueryResp
        store:
          api: cd
          dataIn: Dashboard.apiRequest.reasonForVisit.docCreateReq
          dataOut: Dashboard.apiRequest.reasonForVisit.docCreateResp
    getProviderPublicProfile:
      resp: ""
      doc:
        id: =..formData.providerId
        type: .DocType.DoctorPublicProfile
        xfname: ovid
        maxcount: "1"
        obfname: ctime
      docApi:
        get:
          api: rd
          dataIn: apiRequest.getProviderPublicProfile.doc
          dataOut: Dashboard.apiRequest.getProviderPublicProfile.resp
    publicProfile:
      docDeleteReq:
        id: []
      docQueryResp: ""
      docQueryReq:
        xfname: ovid
        id: .Global.currentUser.vertex.id
        type: 35840
        maxcount: "1"
        obfname: ctime
        _nonce: =.Global._nonce
      docAPI:
        delete:
          api: dx
          dataIn: Dashboard.apiRequest.publicProfile.docDeleteReq
        get:
          api: rd
          dataIn: Dashboard.apiRequest.publicProfile.docQueryReq
          dataOut: Dashboard.apiRequest.publicProfile.docQueryResp
    # rd currentFacilityDoc
    currentFacilityDoc:
      docResp: ""
      docReq:
        id: ""
        xfname: ovid
        obfname: "ctime"
        maxcount: "1"
        type: .DocType.FacilityProfile
      docAPI:
        get:
          api: rd
          dataIn: Dashboard.apiRequest.currentFacilityDoc.docReq
          dataOut: Dashboard.apiRequest.currentFacilityDoc.docResp
    locationAll: # 把所有的location 信息，在schedule那边显示
      docResp: "" # get到的值
      docIn: # for geting all of the location
        type: .DocType.LocationOfFacility
        id: =.Global.currentFacility.id
        xfname: ovid
        obfname: mtime
        _nonce: =.Global._nonce
        maxcount: "1"
        name:
          data:
            allLocation:
      docAPI:
        .DocAPI: ""
        get:
          api: rd
          dataIn: Dashboard.apiRequest.locationAll.docIn
          dataOut: Dashboard.apiRequest.locationAll.docResp
    listRoomData:
      response:
      edge:
        ObjType: "4"
        id:
          - =.Global.currentUser.vertex.id
          - =.Global.currentFacility.id
        xfname: "E.evid,E.bvid"
        sCondition: "E.type=1053 AND E2.subtype in (0x60006,0x60064,0xa0006,0xa0064,0xc0006,0xc0064) AND E2.tage&0x100=0 AND E2.type=40000"
        obfname: "stime"
        asc: true
      get:
        api: re
        dataIn: apiRequest.listRoomData.edge
        dataOut: apiRequest.listRoomData.response
    #获取未读邮件
    unReadEmail:
      docQueryResp: ""
      docQueryReq:
        id: .Global.currentUser.vertex.id
        ObjType: 544
        type: 1281
        sCondition: E.type=10002 AND (D2.Type&0xFF02=0xE00 OR D2.reid IS NULL OR D2.Type = 66561)
        xfname: (E.bvid|E.evid)&!D.ovid
        obfname: ctime
        maxcount: "100"
      docAPI:
        get:
          api: rd
          dataIn: Dashboard.apiRequest.unReadEmail.docQueryReq
          dataOut: Dashboard.apiRequest.unReadEmail.docQueryResp
    telemedicinelistData:
      reportResp: ""
      reportReq:
        name:
          nonce: "{\"objType\":\"2\",\"esqlType\":\"20\",\"id\":\"JkOYuSmSRm0Vs6tZdyzfgg==\",\"xfname\":\"E2.evid\",\"maxcount\":\"10000\",\"sCondition\":\" E2.type=40000 AND E.type=40000 AND E.subtype in (0x30006,0x30064) AND E.tage&0x100 in (0)\"}"
          # nonce: "{\"objType\":\"2\",\"esqlType\":\"20\",\"id\":[\"JkOYuSmSRm0Vs6tZdyzfgg==\",\"XSrZeQAAAAALgwJCrBIABQ==\"],\"xfname\":\"E2.evid,E2.bvid\",\"maxcount\":\"10000\",\"sCondition\":\" E2.type=40000 AND E.type=40000 AND E.subtype in (0x30006,0x30064) AND E.tage&0x100 in (0)\"}"
          title: "test"
        type: 4001
        eid: .Global.rootNotebookID
      WaitingInRoom:
        edge: ""
      reportAPI:
        store:
          api: cd
          dataIn: Dashboard.apiRequest.telemedicinelistData.reportReq
          dataOut: Dashboard.apiRequest.telemedicinelistData.reportResp
      get:
        .EdgeAPI.get: ""
        api: re
        dataIn: Dashboard.apiRequest.telemedicinelistData.edge
        dataOut: Dashboard.apiRequest.telemedicinelistData.WaitingInRoom
      edge:
        ObjType: "20"
        id:
          - =.Global.currentUser.vertex.id
          - =.Global.currentFacility.id
        sCondition: " E2.type=40000 AND E.type=40000 AND E.subtype in (0x30006,0x30064) AND E.tage&0x100 in (0)"
        xfname: "E2.evid,E2.bvid"
        maxcount: "1000"
        obfname: "mtime"
        _nonce: =.Global._nonce
    officelistData:
      WaitingInRoom:
        edge: ""
      get:
        .EdgeAPI.get: ""
        api: re
        dataIn: Dashboard.apiRequest.officelistData.edge
        dataOut: Dashboard.apiRequest.officelistData.WaitingInRoom
      edge:
        ObjType: "20"
        id: =..formData.locationAndProviderId
        sCondition: " E2.type=40000 AND E.type=40000 AND E.subtype in (0x20006,0x20064) AND E.tage&0x100 in (0)"
        xfname: "E2.evid,E2.Bvid"
        maxcount: "1000"
        obfname: "mtime"
        _nonce: =.Global._nonce
  formData:
    display_updateReason: none
    switchFlag: "none"
    problemPublicProfileIdList: []
    newConnectionLength: "0"
    connectionList: []
    showName: ""
    fullName: ""
    unReadEmailNum: "0"
    inboxHidden: "true"
    patientNumber: "0"
    emailNumber: "0"
    TelemedicineNumber: "0"
    OfficeNumber: "0"
    locationAndProviderId: []
    tempData: ""
    providerId: ""
    providerInfo: ""
  formDataTemp:
    # if user on browser, he can not use scan so remove the scan button on the list
    switchList: []
    switchTemp:
      - key: Add Connection
        path: boardAddProvider.svg
        pageName: AddConnect
      - key: Add Patient
        path: boardAddPatient.svg
        pageName: AddPatient
      - key: Scan
        path: boardScan.svg
        pageName: SearchOutProviderInfo
      - key: Switch Facility
        path: boardSwitch.svg
        pageName: SwitchFacility
    switchTempOnBrowser:
      - key: Add Connection
        path: boardAddProvider.svg
        pageName: AddConnect
      - key: Add Patient
        path: boardAddPatient.svg
        pageName: AddPatient
      - key: Switch Facility
        path: boardSwitch.svg
        pageName: SwitchFacility
  newConnection:
    newConnectionList: ""
    edgeAPI:
      get:
        api: re
        type: .EdgeType.Invite
        xfname: evid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: newConnection.newConnectionList
        sCondition: name not like '%"inviterCategory":"Patient"%' AND subtype<65536
        _nonce: =.Global._nonce
  connection1:
    connectionList: ""
    edgeAPI:
      get:
        api: re
        type: .EdgeType.Accept
        xfname: bvid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: connection1.connectionList
        _nonce: =.Global._nonce
  connection2:
    connectionList: ""
    edgeAPI:
      get:
        api: re
        type: .EdgeType.Accept
        xfname: evid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: connection2.connectionList
        _nonce: =.Global._nonce
  profile: #init profile
    docCreateResp: ""
    docResponse:
      doc: ""
    document:
      type: .DocType.DoctorProfile
      eid: .Global.rootNotebookID
      name:
        data:
          firstName: =.Global.formData.profile.firstName
          middleName: ""
          lastName: =.Global.formData.profile.lastName
          title: "D.O." #Title/Training
          userName: =.Global.currentUser.vertex.name.userName
          phone: =.Global.currentUser.vertex.uid
          email: ""
          fullName: .Dashboard.formData.fullName
          address: ""
          languages:
            - English
          gender: ""
          specialty: []
          fax: ""
          selectedSpecialty: []
          description: ""
          education: ""
          cv: ""
          insurance: ""
          NPI: ""
          medicalLicense: ""
          MedicalLicense: []
          DEA: ""
          avatar: ""
    docRequest:
      id: .Global.rootNotebookID
      xfname: eid
      obfname: mtime
      type: .DocType.DoctorProfile
    docAPI:
      get:
        .DocAPI.get: ""
        api: rd
        dataIn: profile.docRequest
        dataOut: Dashboard.profile.docResponse
        _nonce: =.Global._nonce
      store:
        api: cd
        dataIn: profile.document
        dataOut: Dashboard.profile.docCreateResp
        subtype:
          mediaType: "application/json"
  publicProfile:
    docResponse: ""
    document:
      subtype:
        isEncrypted: "0" #
      type: .DocType.DoctorPublicProfile
      eid: .Global.rootNotebookID
      name:
        data:
          firstName: .Global.formData.profile.firstName
          middleName: ""
          lastName: .Global.formData.profile.lastName
          title: ""
          userName: .Global.currentUser.vertex.name.userName
          MedicalLicense: []
          specialty: []
          avatar: ""
          cv: ""
          selectedSpecialty: []
          fullName: .Dashboard.formData.fullName
          phone: .Global.currentUser.vertex.uid
        type: "application/json"
    docAPI:
      store:
        api: cd
        dataKey: publicProfile.document
        subtype:
          mediaType: "application/json"
  # providerFacility: 暂时注释
  #   docResponse: ""
  #   document:
  #     type: .DocType.FacilityProfile
  #     eid: .Global.rootNotebookID
  #     name:
  #       data:
  #         PracticeInfo:
  #           address: ""
  #           city: ""
  #           medicalFacilityName: =.Global.currentUser.vertex.name.userName
  #           phoneNumber: =.Global.currentUser.vertex.uid
  #           state: ""
  #           medicalInsurance: ""
  #   docAPI:
  #     store:
  #       api: cd
  #       dataKey: providerFacility.document
  #       subtype:
  #         mediaType: "application/json"
  components:
    # 背景圆角区域
    - type: view
      style:
        top: "0"
        left: "0"
        width: "1"
        height: "0.25"
      children:
        - type: view
          style:
            top: "0"
            left: "0"
            width: "1"
            height: "0.18"
            backgroundColor: "0x2988e6"
            borderRadius: "0px 0px 50px 0px"
        - type: view
          style:
            top: "0.179"
            left: "0"
            height: "0.07"
            width: "0.88"
            backgroundColor: "0x2988e6"
          children:
            - type: view
              style:
                top: "0"
                left: "0"
                height: "0.08"
                width: "1"
                borderRadius: "50px 0px 0px 0px"
                backgroundColor: "0xffffff"

    - type: view
      style:
        height: "0.18"
        width: "1"
        overflow: hidden
      children:
        - type: view
          viewTag: currentFacilityTag
          style:
            marginTop: "0.05"
            height: "auto"
            width: "1"
          children:
            - type: label
              text: Dashboard
              dataKey: Global.dashboardName
              style:
                marginLeft: "0.16"
                display: "inline-block"

                fontSize: .Nfont.h16
                color: "0xffffff"
                width: "0.7"
                verticalAlign: middle
                overflow: hidden
                text-overflow: ellipsis
                whiteSpace: nowrap
                textAlign:
                  x: center
            - type: image
              path: sideNav.svg
              style:
                display: "inline-block"
                marginLeft: "0.032"
                verticalAlign: middle
                height: "0.029556"
              onClick:
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.switchFlag
                              string2: "none"
                        - ..formData.switchFlag@: "block"
                        - ..formData.switchFlag@: "none"
                - actionType: builtIn
                  funcName: redraw
                  viewTag: selectView0

        - type: view
          style:
            marginTop: "0.02"
            height: "0.06"
            width: "1"
          children:
            - type: label
              text: Hello,
              style:
                top: "0"
                left: "0.1"
                height: "auto"
                fontSize: .Nfont.h1
                color: "0xffffff"
            - type: label
              dataKey: Global.MyProfile.name.data.fullName
              style:
                top: "0.028"
                left: "0.15"
                width: "0.7"
                height: "auto"
                fontSize: .Nfont.h2
                color: "0xffffff"
                textAlign:
                  x: center

    - type: view
      style:
        height: "0.72"
        width: "1"
        overflow: hidden
      children:
        - type: view
          style:
            marginTop: "0.025"
            height: "auto"
            left: "0.05"
            width: "0.9"
          children:
            - type: label
              text: Appointments
              style:
                width: "0.9"
                height: "auto"

                fontSize: .Nfont.h15
                color: "0x2988e6"
            - type: view
              style:
                marginTop: "0.01"
                width: "0.9"
                height: "0.08"
              children:
                - type: view
                  style:
                    display: "inline-block"
                    height: "0.06"
                    width: "0.43"
                    borderRadius: "5"
                    backgroundColor: "0xd4f0dc"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                  children:
                    - type: label
                      dataKey: formData.TelemedicineNumber
                      style:
                        top: "0"
                        left: "0"
                        color: "0x30b354"
                        height: "0.06"
                        width: "0.13"

                        fontSize: .Nfont.h4
                        fontWeight: 600
                        textAlign:
                          x: center
                          y: center
                    - type: label
                      text: "Telemedicine Appointments"
                      style:
                        top: "0"
                        left: "0.13"
                        height: "0.06"
                        width: "0.3"

                        fontSize: .Nfont.h1
                        textAlign:
                          x: left
                          y: center
                  onClick:
                    - actionType: evalObject
                      object:
                        #为后续跳转tele的id做准备
                        - .Global.ids@: []
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.ids
                              newMessage: =.Global.currentFacility.id
                            dataOut: Global.ids
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.ids
                              newMessage: =.Global.currentUser.vertex.id
                            dataOut: Global.ids
                        - =.builtIn.string.concat:
                            dataIn:
                              - " E2.type=40000 AND E.subtype in (0x30006,0x30064) AND E.type=40000 AND E.tage&0x100 in (0)"
                            dataOut: Global.queryScondition
                        - =.builtIn.string.concat:
                            dataIn:
                              - "E.type = 1053 AND E.subtype in (110,120,130,140) AND E2.type=40000 AND E2.tage&0x100 in (0) AND E2.subtype in (0x30006,0x30064)"
                            dataOut: Global.queryScondition_participants
                        - .Global.querySconditionForRelatedRoomInNonScheduled@: "subtype in (0x30006,0x30064) AND tage&0x120 in (0) AND name LIKE '%mainProviderName%' "
                    - goto: WaitingRoom
                - type: view
                  style:
                    display: "inline-block"
                    marginLeft: "0.04"
                    height: "0.06"
                    width: "0.43"
                    borderRadius: "5"
                    backgroundColor: "0xfff5dc"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                  children:
                    - type: label
                      dataKey: formData.OfficeNumber
                      style:
                        top: "0"
                        left: "0"
                        color: "0xf8ae29"
                        height: "0.06"
                        width: "0.13"

                        fontSize: .Nfont.h4
                        fontWeight: 600
                        textAlign:
                          x: center
                          y: center
                    - type: label
                      text: "Office Visits Appointments"
                      style:
                        top: "0"
                        left: "0.13"
                        height: "0.06"
                        width: "0.3"

                        fontSize: .Nfont.h1
                        textAlign:
                          x: left
                          y: center
                  onClick:
                    - actionType: evalObject
                      object:
                        #为后续跳转office的id做准备
                        - .Global.ids@: []
                        - =.builtIn.array.concat:
                            dataIn:
                              array1: =.Global.ids
                              array2: =..formData.locationAndProviderId
                            dataOut: Global.ids
                        - =.builtIn.string.concat:
                            dataIn:
                              - " E2.type=40000 AND E.subtype in (0x20006,0x20064) AND E.type=40000 AND E.tage&0x100 in (0)"
                            dataOut: Global.queryScondition
                        - =.builtIn.string.concat:
                            dataIn:
                              - "E.type = 1053 AND E.subtype in (110,120,130,140) AND E2.type=40000 AND E2.tage&0x100 in (0) AND E2.subtype&0xff in (6,100) AND E2.subtype&0xff0000 in (0x20000,0xa0000,0xc0000,0xe0000,0x100000,0x120000,0x140000)"
                            dataOut: Global.queryScondition_participants
                        - .Global.querySconditionForRelatedRoomInNonScheduled@: "subtype in (0x20006,0x20064) AND tage&0x120 in (0) AND name LIKE '%mainProviderName%' "
                        - .Global.isGetRoom@: true
                    - goto: WaitingRoom
            - type: view
              onClick:
                - actionType: evalObject
                  object:
                    #为后续跳转patient in waiting的id做准备
                    - .Global.ids@: []
                    - =.builtIn.array.concat:
                        dataIn:
                          array1: =.Global.ids
                          array2: =.Global.formData.currentFacility.alllocationId
                        dataOut: Global.ids
                    - =.builtIn.array.push:
                        dataIn:
                          messages: =.Global.ids
                          newMessage: =.Global.currentFacility.id
                        dataOut: Global.ids
                    - =.builtIn.array.push:
                        dataIn:
                          messages: =.Global.ids
                          newMessage: =.Global.currentUser.vertex.id
                        dataOut: Global.ids
                    - =.builtIn.string.concat:
                        dataIn:
                          - " E2.type=40000 AND E.subtype in (0x20006,0x30006,0x20064,0x30064) AND E.type=40000 AND E.tage&0x100 in (0)"
                        dataOut: Global.queryScondition
                    - =.builtIn.string.concat:
                        dataIn:
                          - "E.type = 1053 AND E.subtype in (110,120,130,140) AND E2.type=40000 AND E2.tage&0x100 in (0) AND E2.subtype&0xff in (6,100)"
                        dataOut: Global.queryScondition_participants
                    - .Global.querySconditionForRelatedRoomInNonScheduled@: "subtype in (0x20006,0x30006,0x20064,0x30064) AND tage&0x120 in (0)  AND name LIKE '%mainProviderName%' "
                    - .Global.isGetRoom@: true
                - goto: WaitingRoom
              style:
                marginTop: "0"
                width: "0.9"
                height: "0.12"
                # backgroundColor: "pink"
                borderRadius: "5"
                border:
                  style: "1"
                borderColor: "0xffffff"
                boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                overflow: hidden
              children:
                - type: view
                  style:
                    display: "inline-block"
                    height: "0.12"
                    width: "0.3"
                    backgroundColor: "0xdef1ff"
                  children:
                    - type: image
                      path: patientInWaiting0.svg
                      style:
                        top: "0.02"
                        left: "0.1"
                        height: "0.08"
                - type: view
                  style:
                    display: "inline-block"
                    height: "0.12"
                    width: "0.6"
                  children:
                    - type: label
                      text: Patient-In-Waiting
                      style:
                        top: "0"
                        left: "0"
                        height: "0.12"
                        width: "0.6"

                        fontSize: .Nfont.h2
                        backgroundColor: "0xffffff"
                        textAlign:
                          x: center
                          y: center

            - type: view
              style:
                marginTop: "0.02"
                width: "0.9"
                height: "0.153"
                # backgroundColor: "pink"
                overflow: hidden
              children:
                - type: view
                  onClick:
                    - actionType: evalObject
                      object:
                        - .Global.ids@: []
                        - =.builtIn.array.concat:
                            dataIn:
                              array1: =.Global.ids
                              array2: =.Global.formData.currentFacility.alllocationId
                            dataOut: Global.ids
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.ids
                              newMessage: =.Global.currentFacility.id
                            dataOut: Global.ids
                        - =.builtIn.array.push:
                            dataIn:
                              messages: =.Global.ids
                              newMessage: =.Global.currentUser.vertex.id
                            dataOut: Global.ids
                    # - goto: Unfinished
                    - goto: UnfinishProviderNotes
                  style:
                    display: "inline-block"
                    height: "0.15"
                    width: "0.43"
                    borderRadius: "5"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        top: "0"
                        left: "0"
                        height: "0.1"
                        width: "0.43"
                        backgroundColor: "0xdef1ff"
                      children:
                        - type: image
                          path: medicalRecord0.svg
                          style:
                            top: "0.015"
                            left: "0.15"
                            height: "0.06"

                    - type: label
                      text: Provider Notes
                      dataKey:
                      style:
                        top: "0.1"
                        left: "0"
                        height: "0.05"
                        width: "0.43"

                        fontSize: .Nfont.h15
                        backgroundColor: "0xffffff"
                        color: "0x000000"
                        textAlign:
                          x: center
                          y: center

                - type: view
                  style:
                    display: "inline-block"
                    marginLeft: "0.036"
                    height: "0.15"
                    width: "0.43"
                    borderRadius: "5"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        top: "0"
                        left: "0"
                        height: "0.1"
                        width: "0.43"
                        backgroundColor: "0xdef1ff"
                      children:
                        - type: image
                          path: remoteHealth.svg
                          style:
                            top: "0.015"
                            left: "0.15"
                            height: "0.06"

                    - type: label
                      text: Remote Health
                      dataKey:
                      style:
                        top: "0.1"
                        left: "0"
                        height: "0.05"
                        width: "0.43"

                        backgroundColor: "0xffffff"
                        fontSize: .Nfont.h15
                        color: "0x000000"
                        textAlign:
                          x: center
                          y: center

        - type: view
          style:
            marginTop: "0.02"
            height: "auto"
            left: "0.05"
            width: "0.9"
          children:
            - type: label
              text: Contacts
              style:
                width: "0.9"
                height: "auto"

                fontSize: .Nfont.h15
                color: "0x2988e6"

            - type: view
              style:
                marginTop: "0.02"
                width: "0.9"
                height: "0.153"
                # backgroundColor: "pink"
                overflow: hidden
              children:
                - type: view
                  onClick:
                    - goto: MyConnection
                  style:
                    display: "inline-block"
                    height: "0.15"
                    width: "0.43"
                    borderRadius: "5"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        top: "0"
                        left: "0"
                        height: "0.1"
                        width: "0.43"
                        backgroundColor: "0xdef1ff"
                      children:
                        - type: image
                          path: myConnection0.svg
                          style:
                            top: "0.02"
                            left: "0.16"
                            height: "0.06"

                    - type: label
                      text: My Connection
                      dataKey:
                      style:
                        top: "0.1"
                        left: "0"
                        height: "0.05"
                        width: "0.43"

                        fontSize: .Nfont.h15
                        backgroundColor: "0xffffff"
                        color: "0x000000"
                        textAlign:
                          x: center
                          y: center

                    - .numberMark:
                      viewTag: connectionTag
                      dataKey: formData.newConnectionLength
                      style:
                        left: "0.25"
                        isHidden: ..connectionHidden

                - type: view
                  onClick:
                    - goto: MyPatient
                  style:
                    display: "inline-block"
                    marginLeft: "0.036"
                    height: "0.15"
                    width: "0.43"
                    borderRadius: "5"
                    border:
                      style: "1"
                    borderColor: "0xffffff"
                    boxShadow: "1px 2px 2.5px 1px #e2e9ef"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        top: "0"
                        left: "0"
                        height: "0.1"
                        width: "0.43"
                        backgroundColor: "0xdef1ff"
                      children:
                        - type: image
                          path: myPatient.svg
                          style:
                            top: "0.02"
                            left: "0.16"
                            height: "0.06"

                    - type: label
                      text: My Patient
                      dataKey:
                      style:
                        top: "0.1"
                        left: "0"
                        height: "0.05"
                        width: "0.43"

                        fontSize: .Nfont.h15
                        backgroundColor: "0xffffff"
                        color: "0x000000"
                        textAlign:
                          x: center
                          y: center

                    - .numberMark:
                      contentType: messageHidden
                      dataKey: newDashboardLength
                      style:
                        left: "0.25"
                        isHidden: "true"

    - .footerBox:
      style:
        top: "0.9"
      children:
        - .footerMenuBox:
          onClick:
            - goto: "Dashboard"
          children:
            - .footerMenuImg:
              path: dashboard0Yellow.svg
            - .footerMenuLabel:
              text: Dashboard
              style:
                color: "0xfece55"

        - .footerMenuBox:
          onClick:
            - goto: "InboxDashboard"
          children:
            - .footerMenuImg:
              path: inbox0.svg
            - .footerMenuLabel:
              text: Inbox
            - .numberMark:
              dataKey: Global.formData.emailNumber
              style:
                isHidden: ..formData.inboxHidden

        - .footerMenuBox:
          onClick:
            - goto: AppointmentSchedule
          children:
            - .footerMenuImg:
              path: schedule0.svg
            - .footerMenuLabel:
              text: Schedule
        - .footerMenuBox:
          onClick:
            - goto: MenuBars
          children:
            - .footerMenuImg:
              path: me.svg
            - .footerMenuLabel:
              text: Me
    # - type: view
    #   message: "Please update reason"
    #   viewTag: updateReasonView
    #   colorChange: "0x2988e6"
    #   imgPath: aboutBlue.svg
    #   otherAction:
    #   style:
    #     width: "1"
    #     height: "1"
    #     top: "0"
    #     left: "0"
    #     backgroundColor: "0xffffff00"
    #     zIndex: "10"
    #     display: ..formData.display_updateReason
    #   children:
    #     - type: view
    #       style:
    #         width: "0.8"
    #         height: "0.3"
    #         top: "0.3"
    #         left: "0.1"
    #         zIndex: "10000"
    #         backgroundColor: "0xffffff"
    #         borderRadius: "7"
    #         border:
    #           style: "3"
    #         borderColor: "#f4f8fa"
    #         borderWidth: "3"
    #       children:
    #         - .BaseCheckViewImg:
    #         - .BaseCheckViewLabel:
    #         - .BaseCheckViewButton:
    - type: view
      viewTag: updateReasonView
      updateButton:
        - goto: ReasonForVisit
      style:
        top: "0"
        left: "0"
        width: "1"
        display: ..formData.display_updateReason
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "50"
      onClick:
      children:
        - type: view
          style:
            height: "1"
            width: "1"
            textAlign:
              x: center
              y: center
          children:
            - type: view
              style:
                width: "0.72"
                height: "auto"
                borderRadius: "10"

                backgroundColor: "0xdcdbdc"
                box-sizing: border-box
                overflow: hidden
                textAlign:
                  x: center
              children:
                - type: view
                  style:
                    # marginTop: "0.0295"
                    width: "0.72"
                    height: "0.1133"
                    border:
                      style: 2
                    borderWidth: "1"
                    borderColor: "0x707070"
                    box-sizing: border-box
                    # padding: "0 20px"
                    textAlign:
                      x: center
                      y: center
                  children:
                    - type: view
                      children:
                        - type: label
                          textBoard:
                            - text: "Hello,"
                              fontWeight: "600"
                            - text: "Please update your reason for visit"
                          style:
                            height: "auto"
                            paddingLeft: "0.1"
                            paddingRight: "0.1"
                            width: "auto"
                            textAlign:
                              x: center
                            fontSize: .Nfont.h16
                            fontColor: "0x333333"
                            box-sizing: border-box
                            maxWidth: "0.72"
                - type: button
                  text: Update Now
                  style:
                    color: "0x2988E6"
                    width: "0.72"

                    fontSize: .Nfont.h14
                    height: "0.054"
                    fontColor: "0x333333"
                    fontWeight: "600"
                    backgroundColor: "0xdcdbdc"
                    box-sizing: border-box
                    border:
                      style: "1"
                  onClick:
                    - goto: ReasonForVisit

    - .HelloPerson:
      viewTag: updateProfileView
      updateButton:
        - goto: EditMyProfile
    - type: view
      viewTag: selectView0
      style:
        top: "0.088"
        left: "0.45"
        width: "auto"
        borderWidth: "1"
        borderRadius: "5"
        borderColor: "0xdedede"
        backgroundColor: "0xffffff"
        border:
          style: 3
        display: ..formData.switchFlag
        zIndex: 200
      # 安卓需要这个onClick去消耗点击事件,避免点击到这个视图下面的控价
      onClick:
      children:
        - type: list
          scrollable: "false"
          viewTag: Showcontent
          contentType: listObject
          listObject: ..formDataTemp.switchList
          iteratorVar: itemObject
          style:
            width: "auto"
            marginTop: "0"
            height: "auto"
            boxSizing: "border-box"
            borderRadius: "5"
            backgroundColor: "0xffffff"

            border:
              style: 1
            overflow: hidden
          children:
            - type: listItem
              itemObject:
              style:
                width: "auto"
                height: "0.054"
                left: "0"
                marginTop: "0"
                borderWidth: "1px"
                borderColor: "0xf0f0f0"
                boxSizing: "border-box"
                border:
                  style: 2
                overflow: hidden
              children:
                - type: view
                  style:
                    width: "auto"
                    height: "0.054"
                    textAlign:
                      y: center
                  children:
                    - type: view
                      style:
                        height: "auto"
                        width: "auto"
                      children:
                        - type: image
                          path: itemObject.path
                          style:
                            marginLeft: "0.0426"
                            display: "inline-block"
                            verticalAlign: middle
                            height: "0.0295"
                        - type: label
                          dataKey: itemObject.key
                          style:
                            marginLeft: "0.0213"
                            marginRight: "0.064"
                            display: "inline-block"
                            width: "auto"
                            height: "auto"
                            wordWrap: break-word
                            verticalAlign: middle
                            fontSize: .Nfont.h14
                            color: "0x333333"
                  onClick:
                    - emit:
                        dataKey:
                          var: itemObject
                        actions:
                          - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: $var.key
                                    string2: "Scan"
                              - actionType: evalObject
                                object:
                                  - actionType: scanCamera
                                    dataKey: Dashboard.scan.document.name.data
                                  - actionType: evalObject
                                    object:
                                      - ..formData.providerId@: =..scan.document.name.data.id
                                      - ..formData.providerInfo@: ""
                                      - =..apiRequest.getProviderPublicProfile.docApi.get: ""
                                      - ..formData.providerInfo@: =..apiRequest.getProviderPublicProfile.resp.doc.0
                                      - .Global.temporaryId@: =..formData.providerInfo
                              - continue
                    - emit:
                        dataKey:
                          var: itemObject
                        actions:
                          - ..formData.switchFlag@: "none"
                          - goto: $var.pageName
    # - .DashboardPopUpView:
    #   style:
    #     top: "0"
    #   onClick:
    #     - actionType: popUpDismiss
    #       popUpView: selectView0
    #   children:
    #     - type: view
    #       style:
    #         marginTop: "0.08"
    #         left: "0.5"
    #         width: "0.46"
    #         height: "auto"
    #         zIndex: "10005"
    #         overflow: hidden
    #       children:
    #         - type: image
    #           path: popBackground0.png
    #           style:
    #             top: "0"
    #             left: "0.36"
    #         - type: view
    #           style:
    #             marginTop: "0.02"
    #             width: "0.45"
    #             height: "auto"
    #             borderRadius: "5"
    #             backgroundColor: "0xffffff"
    #             border:
    #               style: "3"
    #             boxShadow: "2px 2px 3px 3px #e2e9ef"
    #           children:
    #             - .DashboardFlexColumnView:
    #               style:
    #                 borderTopLeftRadius: "5px"
    #                 borderTopRightRadius: "5px"
    #                 marginTop: "0"
    #                 height: "auto"
    #               children:
    #                 - .DashboardListBox:
    #                   style:
    #                     marginTop: "0"
    #                   onClick:
    #                     - goto: AddConnect
    #                   children:
    #                     - type: image
    #                       style:
    #                         zIndex: "10006"
    #                         marginTop: "0.01"
    #                         display: "inline-block"
    #                         height: "0.03"
    #                       path: addConnection.svg
    #                     - type: label
    #                       style:
    #                         zIndex: "10007"
    #                         marginLeft: "0.03"
    #                         marginTop: "0.01"
    #                         width: "auto"
    #                         fontSize: .Nfont.h14
    #                         height: "0.03"
    #                         display: "inline-block"
    #                         textAlign:
    #                           y: center
    #                       text: "Add Connection"
    #                 - .DashboardListBox:
    #                   style:
    #                     marginTop: "0"
    #                   onClick:
    #                     - goto: AddPatient
    #                   children:
    #                     - type: image
    #                       style:
    #                         zIndex: "10006"
    #                         marginTop: "0.01"
    #                         display: "inline-block"
    #                         height: "0.03"
    #                       path: addPatient.svg
    #                     - type: label
    #                       text: "Add Patient"
    #                       style:
    #                         zIndex: "10007"
    #                         marginLeft: "0.03"
    #                         marginTop: "0.01"
    #                         width: "auto"
    #                         fontSize: .Nfont.h14
    #                         height: "0.03"
    #                         display: "inline-block"
    #                         textAlign:
    #                           y: center
    #                 - .DashboardListBox:
    #                   style:
    #                     marginTop: "0"
    #                   contentType: scan
    #                   # onClick:
    #                   #   - actionType: scanCamera
    #                   #     dataKey: Dashboard.scan.document.name.data
    #                   #   - actionType: evalObject
    #                   #     object:
    #                   #       - ..formData.providerId@: =..scan.document.name.data.id
    #                   #       - ..formData.providerInfo@: ""
    #                   #       - =..apiRequest.getProviderPublicProfile.docApi.get: ""
    #                   #       - ..formData.providerInfo@: =..apiRequest.getProviderPublicProfile.resp.doc.0
    #                   #       - .Global.temporaryId@: =..formData.providerInfo
    #                   #   - goto: ContactInformation
    #                   children:
    #                     - type: image
    #                       style:
    #                         zIndex: "10006"
    #                         marginTop: "0.01"
    #                         marginLeft: "0.02"
    #                         display: "inline-block"
    #                         height: "0.03"
    #                       path: scan0.svg
    #                     - type: label
    #                       text: "Scan"
    #                       style:
    #                         zIndex: "10007"
    #                         marginLeft: "0.03"
    #                         marginTop: "0.01"
    #                         width: "auto"
    #                         fontSize: .Nfont.h14
    #                         height: "0.03"
    #                         display: "inline-block"
    #                         textAlign:
    #                           y: center
    #             - type: label
    #               text: "Switch Organizations"
    #               style:
    #                 backgroundColor: "0xf0f0f0"
    #                 width: "0.45"
    #                 height: "0.04"
    #                 marginTop: "0"
    #                 textAlign:
    #                   x: center
    #                   y: center
    #             # - .DashboardFlexColumnView:
    #             #   style:
    #             #     height: "auto"
    #             #     marginTop: "0"
    #             #     borderTopLeftRadius: "5px"
    #             #     borderTopRightRadius: "5px"
    #             #   children:
    #             #     - .DashboardListBox:
    #             #       style:
    #             #         marginTop: "0"
    #             #         height: "0.05"
    #             #       onClick:
    #             #         - goto: AddConnect
    #             #       children:
    #             #         - type: image
    #             #           style:
    #             #             zIndex: "10006"
    #             #             marginLeft: "0.04"
    #             #             marginTop: "0.01"
    #             #             display: "inline-block"
    #             #             height: "0.03"
    #             #           path: addFacility.svg
    #             #         - type: label
    #             #           text: "Add Facility"
    #             #           style:
    #             #             zIndex: "10007"
    #             #             marginLeft: "0.03"
    #             #             marginTop: "0.01"
    #             #             width: "auto"
    #             #             fontSize: .Nfont.h14
    #             #             height: "0.03"
    #             #             display: "inline-block"
    #             #             textAlign:
    #             #               y: center
    #             - .BaseList:
    #               viewTag: organizationsSelectTag
    #               listObject: ..listData.organizations
    #               style:
    #                 width: "0.45"
    #                 height: "auto"
    #                 left: "0"
    #                 maxHeight: "0.3"
    #                 marginTop: "0"
    #                 overflow: scroll
    #               children:
    #                 - type: listItem
    #                   itemObject: ""
    #                   style:
    #                     marginTop: "0"
    #                     width: "0.45"
    #                     height: "auto"
    #                   children:
    #                     - type: view
    #                       style:
    #                         width: "auto"
    #                         height: "auto"
    #                         marginTop: "0"
    #                       children:
    #                         - type: image
    #                           style:
    #                             zIndex: "10006"
    #                             marginTop: "0.02"
    #                             height: "0.02"
    #                             marginLeft: "0.06"
    #                             display: "inline-block"
    #                           path:
    #                             emit:
    #                               dataKey:
    #                                 var: itemObject
    #                               actions:
    #                                 - if:
    #                                     - =.builtIn.string.equal:
    #                                         dataIn:
    #                                           string1: =..generalInfo.value
    #                                           string2: $var.isSelected
    #                                     - selectOn.svg
    #                                     - selectOff.svg
    #                           onClick:
    #                             - actionType: evalObject
    #                               object:
    #                                 - if:
    #                                     - =.builtIn.string.equal:
    #                                         dataIn:
    #                                           string1: true
    #                                           string2: itemObject.isSelected
    #                                     - actionType: evalObject
    #                                       object:
    #                                         - =.builtIn.array.toggleStatus:
    #                                             dataIn:
    #                                               object: =..listData.organizations
    #                                               key: isSelected
    #                                               flag: false
    #                                         - =.builtIn.object.set:
    #                                             dataIn:
    #                                               object: =..generalInfo
    #                                               key: flag
    #                                               value: true
    #                                     - actionType: evalObject
    #                                       object:
    #                                         - actionType: updateObject
    #                                           dataKey: Global.currentFacility
    #                                           dataObject: itemObject
    #                                         - =.builtIn.array.toggleStatus:
    #                                             dataIn:
    #                                               object: =..listData.organizations
    #                                               key: isSelected
    #                                               flag: false
    #                                         - =.builtIn.object.set:
    #                                             dataIn:
    #                                               object: =..generalInfo
    #                                               key: flag
    #                                               value: false
    #                             - emit:
    #                                 dataKey:
    #                                   var: itemObject
    #                                 actions:
    #                                   - .Global.formData.location@: $var
    #                                   - .Global.dashboardName@: $var.name.basicInfo.medicalFacilityName
    #                                   - if:
    #                                       - =.builtIn.string.equal:
    #                                           dataIn:
    #                                             string1: =..generalInfo.value
    #                                             string2: =..generalInfo.flag
    #                                       - =.builtIn.array.toggleStatus:
    #                                           dataIn:
    #                                             object: =..listData.organizations
    #                                             key: isSelected
    #                                             flag: false
    #                                       - =.builtIn.object.set:
    #                                           dataIn:
    #                                             object: $var
    #                                             key: isSelected
    #                                             value: true
    #                             - actionType: evalObject
    #                               object:
    #                                 - .Global.organizations@: =..listData.organizations
    #                             - actionType: builtIn
    #                               funcName: redraw
    #                               viewTag: organizationsSelectTag
    #                             - actionType: builtIn
    #                               funcName: redraw
    #                               viewTag: currentFacilityTag
    #                             - actionType: popUpDismiss
    #                               popUpView: selectView0
    #                             - actionType: evalObject
    #                               object:
    #                                 - =.builtIn.goto:
    #                                     dataIn:
    #                                       destination: Dashboard
    #                                       pageReload: true
    #                         - type: label
    #                           dataKey: itemObject.name.basicInfo.medicalFacilityName
    #                           style:
    #                             marginTop: "0.02"
    #                             marginLeft: "0.02"
    #                             zIndex: "10006"
    #                             display: "inline-block"
    #                             width: "auto"
    #                             height: "0.03"
