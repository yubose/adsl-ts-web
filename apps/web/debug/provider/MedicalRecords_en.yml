MedicalRecords:
  pageNumber: "320"
  title: "Medical Records"
  _nonce: 0
  init:
    - .SignInCheck
    - ..listData.get
    - .._nonce@: =.builtIn.math.random
    - if:
        - ..listData.personalDoc.doc.0
        - continue
        - =.builtIn.checkField:
            dataIn:
              contentType: messageHidden
              wait: 100
  listData:
    personalDoc:
      document:
        ""
        # name:
        #   title: "Urgent Care Evaluation Report"
    get:
      .DocAPI.get: ""
      api: rd
      dataKey: listData.personalDoc
      ids:
        - .Global.rootNotebookID
      type: .DocType.UploadFile
      xfname: eid
      obfname: "mtime"
      maxcount: "10"
      _nonce: =.Global._nonce
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - .HeaderRightImg:
      onClick:
        - goto: UploadMedicalRecord
      path: addMeeting.svg
    - type: view
      style:
        left: "0"
        width: "1"
        top: "0.1"
        height: "0.9"
      children:
        - type: label
          contentType: messageHidden
          text: "No current invitations"
          style:
            # left: "0.31"
            top: "0.25"
            width: "1"
            height: "0.04"
            left: "0"
            color: "0x000058"
            fontSize: "18"
            isHidden: "true"
            textAlign:
              x: center
        - type: list
          contentType: listObject
          listObject: ..listData.personalDoc.doc #..SpecialtyList #
          iteratorVar: itemObject
          style:
            left: "0"
            top: "0.1"
            width: "1"
            height: "0.85"
            margin: "0"
          children:
            - type: listItem
              itemObject: ""
              onClick:
                - actionType: updateObject # updateObject(dataKey, dataObject, dataObjectKey)
                  dataKey: Global.DocReference.document
                  dataObject: itemObject # this must be a rootRoom
                # - actionType: evalObject
                #   object: ..save
                - goto: ViewMedicalRecord
              style:
                left: "0"
                width: "1"
                height: "0.1"
                backgroundColor: "0xffffffff"
                border:
                  style: "2"
                  width: "1"
                borderColor: "0x00000033"
              children:
                - type: image
                  path: drImg.png
                  style:
                    left: "0.07"
                    top: "0.01"
                    width: "0.14"
                    height: "0.08"
                    borderRadius: "20"
                - type: label
                  # text: ..itemObject.recordName
                  dataKey: itemObject.name.title #itemObject.text #
                  style:
                    left: "0.25"
                    top: "0.025"
                    width: "0.45"
                    height: "0.03"
                    fontSize: .Nfont.h16
                    textAlign:
                      x: left
                - type: label
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: itemObject.ctime # Mon Day, Year hh:mm:ss
                  # dataKey: itemObject.name.date
                  style:
                    left: "0.26"
                    top: "0.055"
                    width: "0.45"
                    height: "0.02"
                    fontSize: "13"
                    textAlign:
                      x: left

                - type: label
                  text=func: .builtIn.string.formatDurationInSecond
                  dataKey: itemObject.tage # hh:mm'ss"
                  style:
                    left: "0.8"
                    top: "0.055"
                    width: "0.2"
                    height: "0.02"
                    fontSize: "13"
                    textAlign:
                      x: left
