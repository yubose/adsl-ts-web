InitEvalReportPrivate:
  title: Initial Evaluation Report
  pageNumber:
  init: #Page initialization
    - .SignInCheck
    - ..apiRequest.initialEvaluationReport.docReq@: =.Global.Note

    - if:
        - =..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign
        - continue
        # 非空修改显示的标识,刷新签名区域
        - actionType: evalObject
          object:
            # 签名的时间
            - ..formData.signatureTime@: =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.name.data.signatureTime
            # 签名的id
            - ..formData.temporarySignature@: =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.name.data.signatureId
            - ..formData.flag@: "block"

  formData: #Input data here
    signatureTime: ""
    referProviderList: []
    referProvider:
      name: ""
      address: ""
      email: ""
      fax: ""
      phone: ""
    socialHistoryList: []
    socialHistory:
      alcohol: ""
      caffeine: ""
      exercise: ""
      nutrition: ""
      personalSafety: ""
      recreationalDrug: ""
      tobacco: ""
    specialtyLength: ""
    whetherSign: ""
    licenseLength: ""

    flag: "none"
    selectedDiagnosis: ""
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
        diagnosis:
      treatmentPlan: ""
    radioData:
      isRadio: ""

    temporarySignature: ""

  formDataTemp: #Input data temp here, datatemp should not mix with formData
    allListInfo: []
    allListString: []
    vitalTempOne:
      - key: bloodPressure
        value: Blood Pressure
      - key: heartRate
        value: Heart Rate
      - key: resRate
        value: Respiratory Rate
    vitalTempTwo:
      - key: pulseOx
        value: Pulse Oximetry
      - key: temperature
        value: Temperature
      - key: height
        value: Height
    vitalTempThree:
      - key: weight
        value: Weight
      - key: BMI
        value: BMI
    privateTag:
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag:
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"

  apiRequest: #Input data request here
    initialEvaluationReport:
      docResp: ""
      docReq:
        type: .DocType.InitEvalReport
        eid: .Global.currentRoom.edge.id
        reid: ""
        subtype:
          mediaType: "application/json"
        name:
          title: Initial Evaluation Report
          user: .Global.formData.providerTitle
          type: "application/json"
          data:
            classTag:
              name: Provider
              fontColor: "0x30b354"
              backgroundColor: "0xe4f5e9"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            isInvolved: ""
            signatureId: ""
            signatureTime: ""
            fontcolor: "0xFD3A3A"
            whetherSign: "true"
            authority: Private
            referralFrom: ""
            toWhomMayConcern: ""
            reasonForEvaluation:
            historyOfIllness:
            pastMedicalHistory: ""
            pastSurgicalHistory: ""
            allergies: ""
            familyHistory: ""
            socialHistory: ""
            medications: ""
            vitalSigns:
              BP: ""
              HR: ""
              RR: ""
              PO: ""
              temperature: ""
              height: ""
              weight: ""
              BMI: ""
            objectiveFindings: ""
            bloodGlucose: ""
            imageStudies: ""
            diagnosis:
              treatmentPlan: ""
              descriptiveList: []
            planAndRecommendations: ""
      docAPI:
        store:
          api: cd
          dataIn: InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq
          dataOut: InitEvalReportPrivate.apiRequest.initialEvaluationReport.docResp
    newSign:
      docResp: ""
      docReq: #DOC
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data: ""
        eid: .Global.rootNotebookID
        subtype:
          mediaType: ""
      docAPI: # DOCAPI
        store:
          api: cd
          dataIn: apiRequest.newSign.docReq
          dataOut: InitEvalReportPrivate.apiRequest.newSign.docResp

  components:
    - .BaseWarningView:
      message: "Please complete required fields: Search&Description"
      viewTag: SearchWarning
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderRightText:
          onClick:
            # 签名处理
            - actionType: saveSignature
              dataObject: BLOB
              dataKey: InitEvalReportPrivate.apiRequest.newSign.docReq.name.data
              isEmpty: InitEvalReportPrivate.formData.whetherSign
            # 保存签名
            - actionType: evalObject
              object:
                - ..apiRequest.newSign.docReq.reid@: =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.id

            - actionType: evalObject
              object:
                - if:
                    - =..formData.whetherSign
                    - continue
                    - =..apiRequest.newSign.docAPI.store: ""

            - actionType: evalObject
              object:
                - if:
                    - =..formData.temporarySignature
                    - actionType: evalObject
                      object:
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..formData.signatureTime
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..formData.temporarySignature
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: false
                        - ..formData.whetherSign@: false
                    - actionType: evalObject
                      object:
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                        - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: =..formData.whetherSign
            - actionType: evalObject
              object:
                - =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docAPI.store: ""
                - .Global.Note@: =..apiRequest.initialEvaluationReport.docResp.doc
                - goto: ProviderMacros
    - type: scrollView
      style:
        width: "1"
        height: "0.84"
        overflow: scroll
        fontFamily: "Arial"
      children:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            height: "auto"
            width: "0.92"
          children:
            - type: image
              path: office-building.svg
              path=func: .builtIn.utils.prepareDocToPath
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.facilityAvatarID
              style:
                verticalAlign: middle
                display: "inline-block"
                height: "0.0578"
                width: "5.78vh"
            - type: view
              style:
                verticalAlign: middle
                marginLeft: "0.08"
                display: "inline-block"
                height: "auto"
                width: "0.71"
                overflow: hidden
              children:
                - type: label
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.facilityName
                  style:
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h20
                    fontWeight: "600"
                    fontFamily: "Arial"
                    verticalAlign: middle
                    wordBreak: "break-word"
                - type: label
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.address
                  style:
                    marginTop: "0.0110"
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h14
                    color: "0x666666"
                    fontFamily: "Arial"
                    verticalAlign: middle
                    wordBreak: "break-word"
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Email
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Website
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.website
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.phone
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.fax
        - .DocPublicLine:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Exam Date
                - .DocPublicStyleTwoRight:
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.examDate
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Patient Name
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.name
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Date of Birth
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.dob
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Phone
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.phoneNumber
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Email
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.email
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Patient Address
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.patientInfo.address
                  style:
                    height: "auto"
                    width: "0.92"
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    color: "0x333333"
                    fontWeight: "600"
        - .DocPublicLine:
        - type: label
          text: Referral From
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.referralFrom
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"

        - type: label
          text: To Whom It May Concern
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14

        - type: textField
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.toWhomMayConcern
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.0369"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            textIndent: "12px"
        - type: label
          text: Reason For Evaluation
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.reasonForEvaluation
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.087"
            width: "0.92"

            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: History of Present Illness
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.historyOfIllness
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Past Medical History
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.pastMedicalHistory
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.087"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Past Surgical History
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.socialHistory
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Allergies
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.allergies
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.087"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Family History
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.familyHistory
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            # paddingLeft: "12px"
            height: "0.087"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Social History
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.socialHistory
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Medications
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.medications
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: label
          text: Objective Findings
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h16

        # 文本 Vital Signs
        - type: view
          style:
            ..style.vital:
          children:
            - type: label
              text: "Vital Signs"
              dataKey:
              style:
                width: "0.45"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                fontWeight: "600"
                textAlign:
                  x: "left"
        # Blood
        - type: view
          style:
            ..style.signBox:

          children:
            - type: label
              text: "Blood Pressure (mmHg)"
              style:
                ..style.signTitle:
            - type: label
              text: "Heart Rate (bpm)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.BP
              style:
                width: "0.44"
                height: "0.037"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                borderWidth: "1"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.HR
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Respiratory Rate
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Respiratory Rate (breaths/min)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "Pulse Oximetry (O₂ %)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.RR
              style:
                width: "0.44"
                height: "0.037"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.PO
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Temperature
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Temperature (°F/°C)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "Height (ft/in)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "0.037"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.temperature
              style:
                width: "0.44"
                height: "0.037"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.height
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"

                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        #Weight
        - type: view
          style:
            ..style.signBox:
          children:
            - type: label
              text: "Weight (lb)"
              dataKey:
              style:
                ..style.signTitle:

            - type: label
              text: "BMI (kg/m²)"
              dataKey:
              style:
                ..style.signTitle:

        - type: view
          style:
            width: "0.92"
            height: "auto"
            marginTop: "0.01"
            marginLeft: "0.04"
          children:
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.weight
              style:
                width: "0.44"
                height: "0.037"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
            - type: textField
              placeholder: "Enter here"
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.vitalSigns.BMI
              style:
                width: "0.44"
                height: "0.037"
                marginLeft: "0.04"
                fontFamily: "Arial"
                fontSize: .Nfont.h14
                textIndent: "12px"
                border:
                  style: "3"
                  width: "1px"
                borderColor: "#dedede"
                borderRadius: "4"
                boxSizing: "border-box"
                display: "inline-block"
        - type: label
          text: "Physical Examination"
          dataKey:
          style:
            marginTop: "0.01724"
            marginLeft: "0.04"
            width: "auto"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            fontWeight: "600"
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.objectiveFindings
          style:
            ..style.objectiveFindings:

        - type: label
          text: Labs
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "700"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: label
          text: Blood Glucose
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h12
        - type: textField
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.bloodGlucose
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            textIndent: "12px"
            height: "0.0369"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
        - type: label
          text: Imaging Studies
          style:
            marginLeft: "0.04"
            marginTop: "0.0185"
            fontWeight: "600"
            width: "0.92"
            height: "auto"
            color: "0x333333"
            fontSize: .Nfont.h14
        - type: textView
          placeholder: Enter here
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.imageStudies
          style:
            marginLeft: "0.04"
            marginTop: "0.01"

            height: "0.0874"
            width: "0.92"
            boxSizing: border-box
            border:
              style: 3
            borderRadius: "4"
            borderWidth: "1.5"
            borderColor: "0xdedede"
            fontFamily: "Arial"
            fontSize: .Nfont.h14
            color: "0x333333"
            padding: "6px 12px"
        - type: view
          style:
            width: "1"
            height: "auto"
            overflow: "auto"
            marginTop: "0.0185"
          children:
            - type: label
              text: Diagnoses
              style:
                marginLeft: "0.04"
                fontWeight: "600"
                width: "0.92"
                height: "auto"
                color: "0x333333"
                fontSize: .Nfont.h14

            - type: view
              viewTag: diagnosesTag
              style:
                width: "auto"
                height: "auto"
              children:
                - type: view
                  viewTag: searchBox
                  style:
                    marginLeft: "0.04"
                    height: "auto"
                    width: "0.92"
                  children:
                    - type: view
                      style:
                        marginTop: "0.01"
                        width: "0.92"
                        height: "auto"
                        boxSizing: border-box
                      children:
                        - type: view
                          viewTag: selectDateTag
                          style:
                            display: "inline-block"
                            height: "0.037"
                            width: "0.325"
                            boxSizing: border-box
                            border:
                              style: 3
                            borderRadius: "4"
                            borderWidth: "1.5"
                            borderColor: "0xcdcdcd"
                            overflow: hidden
                          children:
                            - type: image
                              path: ICDsearch.svg
                              style:
                                marginLeft: "0.016"
                                display: "inline-block"
                                height: "0.015"
                                verticalAlign: middle
                            - type: textField
                              viewTag: CodeListTag
                              placeholder: Search
                              dataKey: formData.diagnosis.descriptiveList.code
                              style:
                                marginLeft: "0.01"
                                display: "inline-block"
                                height: "0.0333"
                                width: "0.24"
                                boxSizing: border-box
                                border:
                                  style: 1
                                fontSize: .Nfont.h12
                                verticalAlign: middle
                                fontFamily: "Arial"
                                color: "0x333333"
                              onInput:
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.diagnosis.descriptiveList.code
                                              string2: ""
                                        - actionType: evalObject
                                          object:
                                            - ..formData.listDataflag@: "block"
                                            - ..formData.searchShow@: "none"
                                        - actionType: evalObject
                                          object:
                                            - ..formData.listDataflag@: "none"
                                            - ..formData.searchShow@: "block"
                                - actionType: evalObject
                                  object:
                                    - ..formDataTemp.allListInfo@: []
                                    - ..formDataTemp.allListString@: []
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.search.queryCode:
                                        dataIn:
                                          query: =..formData.diagnosis.descriptiveList.code
                                        dataOut: InitEvalReportPrivate.formDataTemp.allListInfo
                                    - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CodeTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CodeTags
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: CodeTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: ShowTag
                                - actionType: popUp
                                  popUpView: CodeTag
                                  dismissOnTouchOutside: true
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: searchShowTag
                        
                        - type: textField
                          viewTag: descriptionTag
                          placeholder: Description
                          dataKey: formData.diagnosis.descriptiveList.description
                          style:
                            marginLeft: "0.02"
                            display: "inline-block"
                            height: "0.037"
                            width: "0.573"
                            textIndent: "12px"
                            boxSizing: border-box
                            border:
                              style: 3
                            borderRadius: "4"
                            borderWidth: "1.5"
                            borderColor: "0xcdcdcd"
                            fontFamily: "Arial"
                            color: "0x333333"
                    - type: textView
                      viewTag: CommentsTag
                      placeholder: Comments
                      dataKey: formData.diagnosis.descriptiveList.comment
                      style:
                        marginTop: "0.01"
                        width: "0.92"
                        height: "0.0874"
                        boxSizing: border-box

                        border:
                          style: 3
                        borderRadius: "4"
                        borderWidth: "1.5"
                        borderColor: "0xcdcdcd"
                        fontFamily: "Arial"
                        color: "0x333333"
                        padding: "6px 12px"

                    
                - type: label
                  text: + add more
                  style:
                    marginLeft: "0.76"
                    marginTop: "0.0073"
                    fontSize: .Nfont.h14
                    color: "0x1492e6"
                    height: "auto"
                    width: "auto"
                    fontWeight: "600"
                  onClick:
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.array.allComplete:
                                dataIn:
                                  - =..formData.diagnosis.descriptiveList.code
                                  - =..formData.diagnosis.descriptiveList.description
                            - continue
                            - actionType: popUp
                              popUpView: SearchWarning
                              wait: true
                    - emit:
                        actions:
                          - =.builtIn.array.add:
                              dataIn:
                                object: =..apiRequest.initialEvaluationReport.docReq.name.data.diagnosis.descriptiveList
                                value: =..formData.diagnosis.descriptiveList
                    - actionType: evalObject
                      object:
                        - ..formData.diagnosis.descriptiveList.code@: ""
                        - ..formData.diagnosis.descriptiveList.description@: ""
                        - ..formData.diagnosis.descriptiveList.comment@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: listData
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: CodeListTag
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: descriptionTag
                    - actionType: builtIn
                      funcName: hide
                      viewTag: ShowTag
                    - actionType: builtIn
                      funcName: show
                      viewTag: listData
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: CommentsTag
                - type: view
                  style:
                    marginTop: "0.01"
                    height: "auto"
                    width: "0.92"
                  children:
                    - type: view
                      viewTag: listData
                      style:
                        marginLeft: "0.04"
                        width: "0.92"
                        height: "auto"
                        marginTop: "0.01477"
                        display: ..formData.listDataflag
                      children:
                        - type: list
                          viewTag: listData
                          contentType: listObject
                          listObject: ..apiRequest.initialEvaluationReport.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                          iteratorVar: itemObject
                          style:
                            width: "0.92"
                            marginTop: "0.03"
                            height: "auto"
                            margin: "0"
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                marginTop: "0.01"
                                width: "0.92"
                                height: "auto"
                                left: "0"
                                overflow: hidden
                              children:
                                - type: view
                                  style:
                                    width: "0.92"
                                    height: "auto"
                                  children:
                                    - type: image
                                      path: x.svg
                                      style:
                                        display: "inline-block"
                                        height: "0.025"
                                        zIndex: 10
                                        verticalAlign: top
                                      onClick:
                                        - actionType: popUp
                                          popUpView: BaseDelWarningView
                                        - actionType: updateObject
                                          dataKey: InitEvalReportPrivate.formData.selectedDiagnosis
                                          dataObject: itemObject
                                    - type: label
                                      dataKey: itemObject.code
                                      style:
                                        display: "inline-block"
                                        marginLeft: "0.02"
                                        height: "auto"
                                        width: "0.17"
                                        textAlign:
                                          x: left
                                        fontFamily: "Arial"
                                        backgroundColor: "0xffffff"
                                        wordWrap: break-word
                                        fontSize: .Nfont.h14
                                        fontWeight: "550"
                                        verticalAlign: top
                                        color: "0x333333"
                                    - type: label
                                      text: "-"
                                      style:
                                        verticalAlign: middle
                                        display: "inline-block"
                                        width: "auto"
                                        height: "auto"
                                        fontSize: .Nfont.h2
                                    - type: label
                                      dataKey: itemObject.description
                                      style:
                                        verticalAlign: top
                                        marginLeft: "0.02"
                                        display: "inline-block"
                                        height: "auto"
                                        width: "0.64"
                                        textAlign:
                                          x: left
                                        backgroundColor: "0xffffff"
                                        fontFamily: "Arial"
                                        wordWrap: break-word
                                        fontSize: .Nfont.h14
                                        color: "0x333333"
                                - type: label
                                  dataKey: itemObject.comment
                                  style:
                                    marginTop: "0.002"
                                    marginLeft: "0.07"
                                    width: "0.845"
                                    height: "auto"
                                    color: "0x666666"
                                    fontFamily: "Arial"
                                    wordWrap: break-word
                                    fontSize: .Nfont.h14
            - type: label
              text: Plan And Recommendations
              style:
                marginLeft: "0.04"
                marginTop: "0.0185"
                fontWeight: "600"
                width: "0.92"
                height: "auto"
                color: "0x333333"
                fontSize: .Nfont.h14
            - type: textView
              placeholder: Enter here
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.planAndRecommendations
              style:
                marginLeft: "0.04"
                marginTop: "0.01"

                height: "0.0874"
                width: "0.92"
                boxSizing: border-box
                border:
                  style: 3
                borderRadius: "4"
                borderWidth: "1.5"
                borderColor: "0xdedede"
                fontFamily: "Arial"
                color: "0x333333"
                padding: "6px 12px"
            - type: view
              viewTag: searchShowTag
              style:
                top: "0.07"
                left: "0.04"
                display: ..formData.searchShow
                width: "auto"
                height: "auto"
                borderRadius: "4"
                boxSizing: "border-box"
                boxShadow: "1px 1px 4px 1px #dededf"
                zIndex: "20"
              children:
                - type: view
                  viewTag: CodeTag
                  style:
                    display: "none"
                    width: "0.92"
                    height: "auto"
                    fontFamily: "Arial"
                    zIndex: 10
                    backgroundColor: "0xffffff"
                    borderRadius: "4"
                    boxSizing: "border-box"
                    boxShadow: "1px 1px 4px 1px #dededf"
                  children:
                    - type: view
                      viewTag: ShowTag
                      style:
                        width: "0.9"
                        height: "0.27"
                        marginLeft: "0.02"
                        overflow: scroll
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..formDataTemp.allListString
                          iteratorVar: itemObject
                          viewTag: CodeTags
                          style:
                            width: "0.9"
                            height: "0.27"
                            margin: "0"
                            marginTop: "0"
                          children:
                            - type: listItem
                              itemObject: ""
                              style:
                                width: "0.9"
                                marginTop: "0.002"
                                height: "auto"
                                overflow: hidden
                              children:
                                - type: label
                                  dataKey: itemObject.0.2
                                  style:
                                    width: "0.88"
                                    textIndent: 20px
                                    marginTop: "0.005"
                                    textAlign:
                                      x: left
                                      y: center
                                    height: "auto"
                                    fontSize: .Nfont.h14
                                    color: "0x143459"
                                    wordBreak: break-word
                                  onClick:
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                          - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: CodeListTag
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: descriptionTag
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: ShowTag
                                    - actionType: builtIn
                                      funcName: show
                                      viewTag: listData
                                    - actionType: builtIn
                                      funcName: hide
                                      viewTag: CodeTag

        - .DocPublicLine:
        - type: view
          style:
            marginTop: "0.02"
            height: "auto"
            width: "0.92"
            marginLeft: "0.04"
          children:
            - type: view
              style:
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text: "Signature"
                  style:
                    display: "inline-block"
                    width: "0.816"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0x333333"
                    fontWeight: "600"
                    textAlign:
                      x: left
                - type: button
                  text: "Clear"
                  style:
                    display: "inline-block"
                    width: "auto"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0xfb5051"
                    backgroundColor: "0xffffff"
                    border:
                      style: 1
                  onClick:
                    - actionType: removeSignature
                      dataObject: BLOB
                      dataKey: InitEvalReportPrivate.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                    - actionType: evalObject
                      object:
                        - ..formData.temporarySignature@: ""
                        - ..formData.signatureTime@: ""
                        - ..formData.flag@: "none"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: signatureTimeTag
                    # 显示签名区域隐藏
                    - actionType: builtIn
                      funcName: hide
                      viewTag: signatureShowTag
                    - actionType: builtIn
                      funcName: show
                      viewTag: signatureTag
            - type: view
              style:
                marginTop: "0.01"
                height: "0.128"
                width: "0.9"
                border:
                  style: "4"
                  color: "0xa9a9a9"
                borderWidth: "2"
              children:
                - type: label
                  text: X
                  style:
                    .SignLabelStyle:
                - type: canvas
                  dataKey: InitEvalReportPrivate.apiRequest.newSign.docReq.name.data
                  viewTag: signatureTag
                  style:
                    left: "0"
                    width: "0.88"
                    height: "0.128"
                    overflow: scroll
                # 显示暂存的签名
                - type: image
                  viewTag: signatureShowTag
                  path=func: .builtIn.utils.prepareDocToPath
                  # 传入签名文档的id
                  dataKey: InitEvalReportPrivate.formData.temporarySignature
                  style:
                    # 控制显示
                    display: =..formData.flag
                    left: "0"
                    width: "0.88"
                    top: "0"
                    height: "0.128"
                    overflow: scroll
                    zIndex: "1000"
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0146"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              viewTag: signatureTimeTag
              style:
                display: =..formData.flag
                marginTop: "0.01"
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text=func: .builtIn.string.formatUnixtimeSecond
                  dataKey: formData.signatureTime
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
                - type: label
                  text: "Digitally Signed"
                  dataKey:
                  style:
                    marginLeft: "0.02"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
            - type: view
              style:
                marginTop: "0.01"
                width: "auto"
                height: "auto"
              children:
                - type: label
                  text: Date
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x666666"
                    fontSize: .Nfont.h12
                - type: label
                  text=func: .builtIn.string.formatUnixtimeL_en
                  dataKey: apiRequest.initialEvaluationReport.docReq.ctime
                  style:
                    marginLeft: "0.0373"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x333333"
                    fontSize: .Nfont.h12
                    fontWeight: "600"

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.providerFullName
              style:
                height: "auto"
                width: "0.92"
                color: "0x333333"
                fontSize: .Nfont.h16
                fontWeight: "600"
                wordBreak: break-word
            - type: label
              dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.specialty
              style:
                marginTop: "0.006"
                height: "auto"
                width: "0.92"
                color: "0x666666"
                fontSize: .Nfont.h14
                wordBreak: break-word
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "LIC #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.lic
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "NPI #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.npi
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "DEA #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.dea
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Email"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.providerInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.fax
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.phone
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Address"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.address
            - .DocPublicLine:
              style:
                marginTop: "0.0246"
                height: "0.00369"
        - type: label
          dataKey: apiRequest.initialEvaluationReport.docReq.name.data.facilityInfo.website
          text: "www.website.com"
          style:
            marginTop: "0.01"
            width: "1"
            height: "auto"
            color: "0x666666"
            fontSize: .Nfont.h12
            textAlign:
              x: center
        - type: view
          style:
            marginTop: "0.03"

    - .BasePublicFooter:
      style:
        top: "0.9"
      children:
        - type: view
          style:
            height: auto
            width: "auto"
          children:
            - .DocButtonPrivate:
              onClick:
                # 签名处理
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: InitEvalReportPrivate.apiRequest.newSign.docReq.name.data
                  isEmpty: InitEvalReportPrivate.formData.whetherSign

                # 保存签名
                - actionType: evalObject
                  object:
                    # 签名reid指向 doc 的id
                    - ..apiRequest.newSign.docReq.reid@: =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.id

                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.whetherSign
                        - continue
                        - =..apiRequest.newSign.docAPI.store: ""

                # #  指定 eid 和 reid
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.eid@: =.Global.currentRoom.edge.id
                            - ..apiRequest.initialEvaluationReport.docReq.reid@: =.Global.roomInfo.edge.id
                        - continue
                # 签名处理
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.temporarySignature
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..formData.signatureTime
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..formData.temporarySignature
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: false
                            - ..formData.whetherSign@: false
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: =..formData.whetherSign

                #  修改type
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..apiRequest.initialEvaluationReport.docReq.type
                          index: 1
                          hex: 0
                        dataOut: InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.type

                # 保存newNote
                - actionType: evalObject
                  object:
                    - =..apiRequest.initialEvaluationReport.docAPI.store: ""
                    - =.builtIn.array.add:
                        dataIn:
                          object: =.Global.currentMeetingDoc
                          value: =..apiRequest.initialEvaluationReport.docResp.doc
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""

                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - goto: ProviderNotes
                        - goto: =.Global.formData.unPageName

            - .DocButtonRelease:
              onClick:
                # 签名处理
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: InitEvalReportPrivate.apiRequest.newSign.docReq.name.data
                  isEmpty: InitEvalReportPrivate.formData.whetherSign

                # # 保存签名
                - actionType: evalObject
                  object:
                    # 签名reid指向 doc 的id
                    - ..apiRequest.newSign.docReq.reid@: =.InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.id

                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.whetherSign
                        - continue
                        - =..apiRequest.newSign.docAPI.store: ""

                #  指定 eid 和 reid
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.eid@: =.Global.currentRoom.edge.id
                            - ..apiRequest.initialEvaluationReport.docReq.reid@: =.Global.roomInfo.edge.id
                        - continue

                # 签名处理
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.temporarySignature
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..formData.signatureTime
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..formData.temporarySignature
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: false
                            - ..formData.whetherSign@: false
                        - actionType: evalObject
                          object:
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureTime@: =..apiRequest.newSign.docResp.doc.ctime
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                            - ..apiRequest.initialEvaluationReport.docReq.name.data.whetherSign@: =..formData.whetherSign

                - actionType: evalObject
                  object:
                    - if:
                        - =.InitEvalReportPrivate.formData.whetherSign
                        - actionType: popUp
                          popUpView: BaseWarningView
                          wait: true
                          popUpDismiss: 2000
                        - continue

                #  修改type
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..apiRequest.initialEvaluationReport.docReq.type
                          index: 1
                          hex: 1
                        dataOut: InitEvalReportPrivate.apiRequest.initialEvaluationReport.docReq.type

                - actionType: evalObject
                  object:
                    # 更新文档状态
                    - ..apiRequest.initialEvaluationReport.docReq.name.data.statusTag.name@: "Released"
                    - ..apiRequest.initialEvaluationReport.docReq.name.data.statusTag.fontColor@: "0x2988e6"
                    - ..apiRequest.initialEvaluationReport.docReq.name.data.statusTag.backgroundColor@: "0xdfedfc"

                - actionType: evalObject
                  object:
                    - =..apiRequest.initialEvaluationReport.docAPI.store: ""
                    - =.builtIn.array.add:
                        dataIn:
                          object: =.Global.currentMeetingDoc
                          value: =..apiRequest.initialEvaluationReport.docResp.doc
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""

                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - goto: ProviderNotes
                        - goto: =.Global.formData.unPageName

    - .BaseWarningView:
      message: "You haven't signed the form"
    # 弹窗区域
    - type: popUp
      viewTag: selectDate
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "1000"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..apiRequest.initialEvaluationReport.docReq.name.data.date@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: dateTag
                - actionType: popUpDismiss
                  popUpView: selectDate

    - .publicDeleteUP:
      viewTag: BaseDelWarningView
      leftButton:
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView
      rightButton:
        - actionType: evalObject
          object:
            - =.builtIn.array.removeByName:
                dataIn:
                  object: =..apiRequest.initialEvaluationReport.docReq.name.data.diagnosis.descriptiveList
                  key: code
                  name: =..formData.selectedDiagnosis.code
            - ..formData.listDataflag@: "block"
            - actionType: builtIn
              funcName: redraw
              viewTag: listData
        - actionType: popUpDismiss
          popUpView: BaseDelWarningView
  style: #Input style fragment here
    signBox:
      width: "auto"
      height: "auto"
      marginTop: "0.0123"
      marginLeft: "0.04"
    signTitle:
      height: "auto"
      width: "0.48"
      fontFamily: "Arial"
      fontSize: .Nfont.h12
      display: "inline-block"
      verticalAlign: top
    vital:
      width: "0.92"
      height: "0.02586"
      marginLeft: "0.04"
      marginTop: "0.014778"
    objectiveFindings:
      marginTop: "0.014778"
      marginLeft: "0.04"
      width: "0.92"
      height: "0.087"
      fontFamily: "Arial"
      fontSize: .Nfont.h14
      borderRadius: "4"
      borderColor: "#dedede"
      border:
        style: "3"
      borderWidth: "1"
      boxSizing: "border-box"
      padding: "6px 12px"
