ShowForShare:
  title: "Preview"
  pageNumber: ""
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - =.builtIn.utils.setTimer:
        dataIn:
          timeUnix: =.Global.timeDelay
    - ..apiRequest.publicProfile.docAPI.get
    - ..apiRequest.publicProfile.document@: =..apiRequest.publicProfile.docResponse.doc.0
    - ..apiRequest.profile.document.name.data@: =..apiRequest.publicProfile.document.name.data
    - =.builtIn.object.getObjKey:
        dataIn:
          objects: =..apiRequest.publicProfile.document.name.data
        dataOut: ShowForShare.showList
    - actionType: evalObject
      object:
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "email"
            - ..emailHidden@: ""
            - ..emailHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "fax"
            - ..faxHidden@: ""
            - ..faxHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "languages"
            - ..languagesHidden@: ""
            - ..languagesHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "gender"
            - ..genderHidden@: ""
            - ..genderHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "address"
            - ..addressHidden@: ""
            - ..addressHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "NPI"
            - ..NPIHidden@: ""
            - ..NPIHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "DEA"
            - ..DEAHidden@: ""
            - ..DEAHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "description"
            - ..descriptionHidden@: ""
            - ..descriptionHidden@: none
        - if:
            - =.builtIn.array.has:
                dataIn:
                  object: =.ShowForShare.showList
                  value: "education"
            - ..educationHidden@: ""
            - ..educationHidden@: none
    - =..apiRequest.connections.docAPI.get: ""
    - ..formData.FacilityData@: =..apiRequest.connections.connectionList.doc
    - if:
        - =..apiRequest.profile.document.name.data.selectedSpecialty
        - =.builtIn.array.formatStringFill:
            dataIn:
              strArr: =..apiRequest.profile.document.name.data.selectedSpecialty
              sfill: ","
            dataOut: ShowForShare.selectedSpecialtyShow
        - continue

    # 是否存在facility
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..formData.FacilityData
            dataOut: ShowForShare.formData.facilityLength

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.facilityLength
                  string2: "0"
            - actionType: evalObject
              object:
                - ..formDataTemp.facilityInfo@: "none"
                - ..formDataTemp.emptyfacility@: "block"
            - actionType: evalObject
              object:
                - ..formDataTemp.facilityInfo@: "block"
                - ..formDataTemp.emptyfacility@: "none"
  selectedSpecialtyShow: ""
  descriptionHidden: "none"
  DEAHidden: "none"
  NPIHidden: "none"
  emailHidden: "block"
  genderHidden: "block"
  faxHidden: "block"
  OrganizationList:
    - ImgPath: urgentCare.png
      Title: A&C Urgentcare
    - ImgPath: comis.png
      Title: Comsi
    - ImgPath: soloPracticeBlue.svg
      Title: Solo Practice
  languagesHidden: "block"
  addressHidden: "none"
  educationHidden: "none"
  showList: ""
  formData:
    facilityLength: ""
    FacilityData: []
  formDataTemp:
    titleData:
      - title: About
        fontColor: "0x2988e6"
        fontWeight: "500"
        # width: "31vw"
        # leftStyle: "11.5vw"
        block: "block"
      - title: Credentials
        fontColor: "0x333333"
        fontWeight: "400"
        # leftStyle: "44vw"
        # width: "33vw"
        block: "none"
      - title: Facility
        fontColor: "0x333333"
        fontWeight: "400"
        # leftStyle: "78vw"
        # width: "35vw"
        block: "none"
    blockAboutInfo: "block"
    blockCredentialsInfo: "none"
    blockFacilityInfo: "none"
    leftStyle: "11.5vw"
    blockMarginTop: "10vh"
    blockHeight: "84vh"
    emptyfacility: "block"
    facilityInfo: "none"
    gender:
      - key: gender
        value: Male
      - key: gender
        value: Female
      - key: gender
        value: Other
  apiRequest:
    #  get all facility profile
    connections:
      connectionList:
        edge: ""
      docAPI:
        get:
          api: rd
          type: 271361
          xfname: E.bvid|E.evid
          id: .Global.currentUser.vertex.id
          ObjType: 12
          _nonce: =.Global._nonce
          dataKey: apiRequest.connections.connectionList
          sCondition: E.type=10002 AND E.tage=1 #AND V.type=1
    publicProfile:
      docResponse: ""
      document:
        type: .DocType.DoctorPublicProfile
        eid: .Global.rootNotebookID
        name:
          data:
      docAPI:
        store:
          api: cd
          dataKey: apiRequest.publicProfile.document
          subtype:
            mediaType: "application/json"
        get:
          .DocAPI.get: ""
          api: rd
          id: .Global.rootNotebookID
          xfname: eid
          type: .DocType.DoctorPublicProfile
          dataKey: apiRequest.publicProfile.docResponse
          maxcount: "1"
          obfname: "ctime"
          _nonce: =.Global._nonce

  components:
    - .BaseHeader:
    - .HeaderLeftButton:
      onClick:
        - actionType: builtIn
          funcName: goBack
    - type: view
      viewTag: blockImageTag
      style:
        width: "1"
        marginTop: "0.1"
        height: "auto"
        overflow: hidden
        fontSize: .Nfont.n2
      children:
        - type: view
          style:
            marginTop: "0.02"
            width: "0.85"
            height: "auto"
            marginLeft: "0.1"
          children:
            - type: view
              style:
                height: "auto"
                width: "0.8"
                border:
                  style: "1"
                borderWidth: "1"
                borderRadius: "5"
                textAlign:
                  x: center
              children:
                - type: image
                  dataKey: apiRequest.profile.document.name.data.avatar
                  path=func: =.builtIn.utils.prepareDocToPath
                  path: ava_Provder.svg
                  viewTag: avatar
                  style:
                    width: "20vw"
                    height: "18vw"
                    textAlign:
                      x: center
                - type: label
                  dataKey: apiRequest.profile.document.name.data.fullName
                  style:
                    fontSize: .Nfont.h4
                    marginTop: "0.01"
                    width: "0.8"
                    textAlign:
                      x: center
                - type: label
                  dataKey: selectedSpecialtyShow
                  style:
                    fontSize: .Nfont.h2
                    marginTop: "0.01"
                    height: "0.035"
                    backgroundColor: "#ffffff"
                    border:
                      style: 1
                    width: "0.8"
                    textAlign:
                      x: center
                    overflow: hidden
                    textOverflow: ellipsis
                    whiteSpace: nowrap
    - type: view
      viewTag: blockMarginTag
      style:
        marginTop: "0.03"
        width: "1"
        height: "0.052"
        zIndex: "100"
        borderTop: "2px solid #dededf"
      children:
        - type: list
          viewTag: profileInfoTag
          contentType: listObject
          listObject: ..formDataTemp.titleData
          iteratorVar: itemObject
          style:
            width: "1"
            margin: "0"
            axis: horizontal
            height: "0.052"
            border:
              style: "2"
              color: "0xdededf"
            borderColor: "0xdededf"
            borderWidth: "2px"
            zIndex: 100
          children:
            - type: listItem
              itemObject:
              style:
                width: "0.333"
                height: "auto"
                marginTop: "0"
              onClick:
                - emit:
                    dataKey:
                      var: itemObject
                    actions:
                      - =.builtIn.object.setProperty:
                          dataIn:
                            obj: =..formDataTemp.titleData
                            label: "title"
                            text: $var.title
                            arr: ["fontColor", "fontWeight", "block"]
                            valueArr: ["0x2988e6", "500", "block"]
                            errorArr: ["0x333333", "400", "none"]
                      # - ..formDataTemp.leftStyle@: $var.leftStyle
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "About"
                          - ..formDataTemp.blockAboutInfo@: "block"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "About"
                          - ..formDataTemp.blockCredentialsInfo@: "none"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "About"
                          - ..formDataTemp.blockFacilityInfo@: "none"

                          - continue
                      # - if:
                      #     - =.builtIn.string.equal:
                      #         dataIn:
                      #           string1: $var.title
                      #           string2: "About"
                      #     # - ..formDataTemp.blockImageStyle@: "none"
                      #     - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "About"
                          - ..formDataTemp.blockMarginTop@: "10vh"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "About"
                          - ..formDataTemp.blockHeight@: "84vh"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Credentials"
                          - ..formDataTemp.blockAboutInfo@: "none"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Credentials"
                          - ..formDataTemp.blockCredentialsInfo@: "block"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Credentials"
                          - ..formDataTemp.blockFacilityInfo@: "none"
                          - - continue
                      # - if:
                      #     - =.builtIn.string.equal:
                      #         dataIn:
                      #           string1: $var.title
                      #           string2: "Credentials"
                      #     # - ..formDataTemp.blockImageStyle@: "none"
                      #     - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Credentials"
                          - ..formDataTemp.blockMarginTop@: "10vh"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Credentials"
                          - ..formDataTemp.blockHeight@: "84vh"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Facility"
                          - ..formDataTemp.blockFacilityInfo@: "block"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Facility"
                          - ..formDataTemp.blockAboutInfo@: "none"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Facility"
                          - ..formDataTemp.blockCredentialsInfo@: "none"
                          - continue
                      # - if:
                      #     - =.builtIn.string.equal:
                      #         dataIn:
                      #           string1: $var.title
                      #           string2: "Facility"
                      #     # - ..formDataTemp.blockImageStyle@: "block"
                      #     - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Facility"
                          - ..formDataTemp.blockMarginTop@: "0vh"
                          - continue
                      - if:
                          - =.builtIn.string.equal:
                              dataIn:
                                string1: $var.title
                                string2: "Facility"
                          - ..formDataTemp.blockHeight@: "59vh"
                          - continue
                - actionType: builtIn
                  funcName: redraw
                  viewTag: leftBlockTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: profileInfoTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: AboutInfoTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: CredentialsInfoTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: FacilityInfoTag
                # - actionType: builtIn
                #   funcName: redraw
                #   viewTag: blockImageTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: blockMarginTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: blockHeightTag

              children:
                - type: label
                  dataKey: itemObject.title
                  style:
                    color: itemObject.fontColor
                    lineHeight: "6vh"
                    height: "0.05"
                    # width: itemObject.width
                    width: "0.333"
                    fontWeight: itemObject.fontWeight
                    display: "inline-block"
                    textAlign:
                      x: center
                    fontSize: .Nfont.n2
                - type: view
                  viewTag: leftBlockTag
                  style:
                    display: itemObject.block
                    top: "0.045"
                    left: "0.12"
                    width: "0.08"
                    height: "0.005"
                    backgroundColor: "0x2988e6"
                    borderRadius: "20"
    - type: scrollView
      viewTag: blockHeightTag
      style:
        marginTop: "0"
        height: "0.51"
        width: "1"
        backgroundColor: "0xffffff"
        # overflow: scroll
      children:
        - type: view
          viewTag: AboutInfoTag
          style:
            width: "1"
            display: ..formDataTemp.blockAboutInfo
            height: "auto"
            fontSize: .Nfont.n2
          children:
            - type: view
              style:
                width: "1"
                height: "auto"
                margin: "0"
                backgroundColor: "0xf0f0f0"
              children:
                - type: label
                  text: Basic Info
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.9"
                    marginLeft: "0.05"
                    lineHeight: "4.5vh"
                    height: "0.045"
            - type: view
              style:
                width: "0.9"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: First Name
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.21"
                    display: "inline-block"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.firstName
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.69"
                    display: "inline-block"
                    textAlign:
                      x: right

            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: Middle Name
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.25"
                    display: "inline-block"
                - type: label
                  placeholder: Enter here
                  dataKey: apiRequest.profile.document.name.data.middleName
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.65"
                    textAlign:
                      x: right
                    display: "inline-block"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: "Last Name"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.21"
                    display: "inline-block"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.lastName
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.69"
                    display: "inline-block"
                    textAlign:
                      x: right
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: Title/Training
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.24"
                    display: "inline-block"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.title
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.66"
                    display: "inline-block"
                    textAlign:
                      x: right
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..languagesHidden
              children:
                - type: label
                  text: "Languages Spoken"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.6"
                    # display: "inline-block"
                - type: label
                  dataKey: ShowForShare.apiRequest.profile.document.name.data.languages
                  style:
                    width: "0.5"
                    height: "auto"
                    marginLeft: "0.05"
                    marginTop: "0.02"
                    fontSize: .Nfont.n2
                    wordWrap: break-word
                    color: "0x333333"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..genderHidden
              children:
                - type: label
                  text: Gender
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.15"
                    display: "inline-block"
                - type: label
                  text: Gender
                  dataKey: apiRequest.profile.document.name.data.gender
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.75"
                    display: "inline-block"
                    textAlign:
                      x: right

            - type: view
              style:
                width: "1"
                height: "auto"
                marginTop: "0.02"
                backgroundColor: "0xf0f0f0"
              children:
                - type: label
                  text: Contact
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.9"
                    marginLeft: "0.05"
                    lineHeight: "4.5vh"
                    height: "0.045"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..emailHidden
              children:
                - type: label
                  text: Email
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.12"
                    display: "inline-block"
                - type: label
                  text: First Name
                  # placeholder: Enter here
                  dataKey: apiRequest.profile.document.name.data.email
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.78"
                    display: "inline-block"
                    textAlign:
                      x: right
            - type: view
              style:
                width: "0.9"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..faxHidden
              children:
                - type: label
                  text: "Fax #"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.11"
                    display: "inline-block"
                - type: label
                  # placeholder: Enter here
                  dataKey: apiRequest.profile.document.name.data.fax
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.79"
                    textAlign:
                      x: right
                    display: "inline-block"

        - type: view
          viewTag: CredentialsInfoTag
          style:
            width: "1"
            height: "0.75"
            fontSize: .Nfont.n2
            display: ..formDataTemp.blockCredentialsInfo
          children:
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: "Specialty and board certified: "
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.8"
                    display: "inline-block"
            - type: list
              scrollable: "false"
              contentType: listObject
              listObject: ..apiRequest.profile.document.name.data.specialty
              iteratorVar: itemObject
              style:
                width: "0.9"
                margin: "0"
                left: "0"
                marginTop: "0.02"
                height: auto
                marginLeft: "0.05"
              children:
                - type: listItem
                  itemObject:
                  style:
                    width: "0.9"
                    left: "0"
                    marginTop: "0"
                  children:
                    - type: label
                      dataKey: itemObject.specialty
                      style:
                        width: "0.8"
                        fontWeight: "600"
                        display: "inline-block"
                        fontSize: .Nfont.h1
                    - type: label
                      dataKey: itemObject.boardCertified
                      style:
                        width: "0.1"
                        fontWeight: "600"
                        marginLeft: "0"
                        display: "inline-block"
                        fontSize: .Nfont.h1
                        textAlign:
                          x: right
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: "Medical License,State and Expiration:"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.8"
                    display: "inline-block"
            - type: list
              scrollable: "false"
              contentType: listObject
              listObject: ..apiRequest.profile.document.name.data.MedicalLicense
              iteratorVar: itemObject
              style:
                width: "0.9"
                margin: "0"
                left: "0"
                marginTop: "0.02"
                height: auto
                marginLeft: "0.05"
              children:
                - type: listItem
                  itemObject:
                  style:
                    width: "0.9"
                    left: "0"
                    marginTop: "0"
                  children:
                    - type: label
                      dataKey: itemObject.medicalLicense
                      style:
                        width: "0.4"
                        fontWeight: "600"
                        fontSize: .Nfont.h1
                        display: "inline-block"
                    - type: label
                      dataKey: itemObject.state
                      style:
                        width: "0.15"
                        fontWeight: "600"
                        display: "inline-block"
                        fontSize: .Nfont.h1
                    - type: label
                      dataKey: itemObject.expiration
                      style:
                        width: "0.35"
                        fontWeight: "600"
                        display: "inline-block"
                        fontSize: .Nfont.h1
                        textAlign:
                          x: right
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..NPIHidden
              children:
                - type: label
                  text: "NPI #"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.11"
                    display: "inline-block"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.NPI
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.79"
                    textAlign:
                      x: right
                    display: "inline-block"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..DEAHidden
              children:
                - type: label
                  text: "DEA #"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.12"
                    display: "inline-block"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.DEA
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    textAlign:
                      x: right
                    width: "0.78"
                    display: "inline-block"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..descriptionHidden
              children:
                - type: label
                  text: "Description"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.9"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.description
                  style:
                    color: "0x333333"
                    marginTop: "0.01"
                    height: "auto"
                    width: "0.9"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
                display: ..educationHidden
              children:
                - type: label
                  text: "Education and training"
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.9"
                - type: label
                  dataKey: apiRequest.profile.document.name.data.education
                  style:
                    olor: "0x333333"
                    height: "0.15"
                    marginTop: "0.01"
                    width: "0.9"
            - type: view
              style:
                width: "0.9"
                height: "auto"
                marginLeft: "0.05"
                marginTop: "0.02"
              children:
                - type: label
                  text: CV
                  style:
                    color: "0x333333"
                    fontWeight: "400"
                    width: "0.7"
            - type: view
              viewTag: cvBox
              style:
                width: "0.9"
                height: "0.1"
                marginLeft: "0.05"
                marginTop: "0.03"
                # backgroundColor: "pink"
              children:
                - type: image
                  viewTag: cvTag
                  path: null.png
                  path=func: =.builtIn.utils.prepareDocToPath
                  dataKey: apiRequest.profile.document.name.data.cv
                  style:
                    left: "0"
                    top: "0"
                    height: "0.1"
                    width: "0.2"
                # - type: image
                #   path: deleteCv.svg
                #   style:
                #     top: "0"
                #     left: "0.2"
                #     height: "0.025"
                #   onClick:

        - type: view
          viewTag: FacilityInfoTag
          style:
            width: "1"
            height: "0.6"
            fontSize: .Nfont.n2
            display: ..formDataTemp.blockFacilityInfo
          children:
            - type: view
              style:
                display: ..formDataTemp.emptyfacility
                width: "1"
                height: "auto"
                overflow: hidden
                textAlign:
                  x: center
              children:
                - type: image
                  path: emptyPage.svg
                  style:
                    marginTop: "0.0911"
                    width: "0.6453"
                - type: label
                  text: "There is no facility now."
                  style:
                    marginTop: "0.0467"
                    width: "1"
                    height: "auto"
                    fontSize: .Nfont.h14
                    textAlign:
                      x: center

            - type: list
              contentType: listObject
              listObject: ..formData.FacilityData
              iteratorVar: itemObject
              style:
                display: ..formDataTemp.facilityInfo
                width: "1"
                margin: "0"
                height: "auto"
              children:
                - type: listItem
                  itemObject:
                  style:
                    width: "1"
                    height: "0.12"
                    margin: "0"
                    boxShadow: "0px 3px 0px 0px #eeeeee"
                  onClick:
                    - actionType: updateObject
                      dataKey: Global.formData.temporaryFacilityId
                      dataObject: itemObject
                    - goto: OrganizationInfo
                  children:
                    - type: view
                      style:
                        height: "16vw"
                        marginLeft: "0.05"
                        top: "0.01"
                        width: "0.9"
                        marginTop: "0.02"
                        border:
                          style: "1"
                        borderWidth: "1"
                        borderColor: "0x333333"
                      children:
                        - type: image
                          path=func: =.builtIn.utils.prepareDocToPath
                          path: ava_Provder.svg
                          dataKey: itemObject.name.data.basicInfo.businessLogo
                          style:
                            height: "16vw"
                            textAlign:
                              x: center
                        - type: label
                          # text: A&C Urgentcare
                          dataKey: itemObject.name.data.basicInfo.medicalFacilityName
                          style:
                            top: "0.005"
                            left: "0.2"
                            width: "0.6"
                            fontSize: .Nfont.n2
                            color: "0x333333"
                            fontWeight: "400"
                        - type: label
                          text: Accepted Insurance
                          # dataKey: itemObject.name.basicInfo.medicalFacilityName
                          style:
                            top: "0.04"
                            fontSize: .Nfont.n2
                            width: "0.6"
                            left: "0.2"
                            height: "0.04"
                            zIndex: "1000"
                            color: "0x2988e6"
                            fontWeight: "400"
                            textDecoration: underline
                            textDecorationColor: "0x2988e6"
                          onClick:
                            - actionType: updateObject
                              dataKey: Global.formData.facilityProfileInfo
                              dataObject: itemObject
                            - goto: AcceptedInsurance
                        - type: view
                          style:
                            top: "0"
                            # height: "0.12"
                            width: "0.05"
                          children:
                            - type: image
                              path: blackRight.svg
                              style:
                                height: "0.025"
                                marginTop: "0.025"
                                left: "0.8"

    - type: view
      style:
        width: "1"
        backgroundColor: "0xffffff"
        height: "0.1"
        top: "0.899"
        left: "0"
        borderTop: "1px solid #EEEEEF"
        borderWidth: "1"
        borderColor: "0xEEEEEF"
    - type: button
      text: Back To My Profile
      style:
        width: "0.9"
        left: "0.05"
        height: "0.05"
        color: "0xffffff"
        position: "fixed"
        top: "0.92"
        backgroundColor: "#2988E6"
        border:
          style: "1"
        borderWidth: "1"
        borderRadius: "5"
        textAlign:
          x: center
          y: center
      onClick:
        - goto: MyProfile
        # - actionType: builtIn
        #   funcName: goBack
    #  头像上传
    - type: popUp
      viewTag: selectView
      style:
        left: "0"
        width: "1"
        top: "0"
        height: "1"
        zIndex: 110
        backgroundColor: "0xa9a9a990"
      children:
        - type: view
          style:
            top: "0.72"
            width: "0.9"
            height: "0.15"
            left: "0.05"
            border:
              style: "1"
            borderRadius: "20"
            backgroundColor: "0xe9e9e9"
            zIndex: 1000
            overflow: hidden
          children:
            - type: button
              text: Camera
              contentType: file
              style:
                top: "0"
                width: "0.9"
                height: "0.07"
                fontSize: .Nfont.h3
                color: "0x1d88fc"
                backgroundColor: "0xe9e9e9"
                textAlign:
                  x: center
                  y: center
                border:
                  style: "2"
                  width: "0.00001"
                borderColor: "0x00000066"
              onClick:
                - actionType: openCamera
                  dataObject: BLOB
                  dataKey: MyProfile.apiRequest.avatar.document.name.data
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..apiRequest.avatar.document.name.data # object
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..apiRequest.avatar.document.name.data
                                  units: mb
                                dataOut: MyProfile.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue
                - actionType: evalObject
                  object:
                    - =..apiRequest.avatar.docAPI.store: ""
                    - .MyProfile.apiRequest.profile.document.name.data.avatar@: =.MyProfile.apiRequest.avatar.resp.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: popUpDismiss
                  popUpView: selectView
                - actionType: builtIn
                  funcName: redraw
                  viewTag: avatar

            - type: button
              text: Photo Library
              contentType: file
              style:
                top: "0.08"
                width: "0.9"
                height: "0.07"
                fontSize: .Nfont.h3
                color: "0x1d88fc"
                backgroundColor: "0xe9e9e9"
                textAlign:
                  x: center
                  y: center
                border:
                  style: "1"
              onClick:
                - actionType: openPhotoLibrary
                  dataObject: BLOB
                  dataKey: MyProfile.apiRequest.avatar.document.name.data
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..apiRequest.avatar.document.name.data # object
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..apiRequest.avatar.document.name.data
                                  units: mb
                                dataOut: MyProfile.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue
                - actionType: evalObject
                  object:
                    - =..apiRequest.avatar.docAPI.store: ""
                    - .MyProfile.apiRequest.profile.document.name.data.avatar@: =.MyProfile.apiRequest.avatar.resp.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: popUpDismiss
                  popUpView: selectView
                - actionType: builtIn
                  funcName: redraw
                  viewTag: avatar

        - type: button
          text: Cancel
          style:
            top: "0.9"
            left: "0.05"
            width: "0.9"
            height: "0.06"
            fontSize: .Nfont.h3
            color: "0x1d88fc"
            backgroundColor: "0xffffff"
            textAlign:
              x: center
            borderRadius: "20"
            border:
              style: 1
          onClick:
            - actionType: popUpDismiss
              popUpView: selectView
    #   cv 上传
    - type: popUp
      viewTag: selectCvUP
      style:
        left: "0"
        width: "1"
        top: "0"
        height: "1"
        zIndex: 110
        backgroundColor: "0xa9a9a990"
      children:
        - type: view
          style:
            top: "0.59"
            width: "0.9"
            height: "0.275"
            left: "0.05"
            border:
              style: "1"
            borderRadius: "10"
            backgroundColor: "0xe9e9e9"
            zIndex: 1000
            overflow: hidden
          children:
            - type: label
              textBoard:
                - text: Medical Records
                  color: "0x00000099"
                - br:
                - text: "Upload an image or document"
                  color: "0x00000066"
              style:
                top: "0.02"
                width: "0.9"
                height: "0.06"
                fontSize: .Nfont.h2
                color: "0x"
                textAlign:
                  x: center
                border:
                  style: "2"
                borderWidth: "1"
                borderColor: "0x00000066"
            - type: button
              text: Camera
              contentType: file
              style:
                top: "0.085"
                width: "0.9"
                height: "0.06"
                fontSize: .Nfont.h3
                color: "0x1d88fc"
                backgroundColor: "0xe9e9e9"
                textAlign:
                  x: center
                border:
                  style: "2"
                borderWidth: "1"
                borderColor: "0x00000066"
              onClick:
                - actionType: openCamera
                  dataObject: BLOB
                  dataKey: MyProfile.apiRequest.cv.docReq.name.data
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..apiRequest.cv.docReq.name.data # obejct
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..apiRequest.cv.docReq.name.data
                                  units: mb
                                dataOut: MyProfile.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue
                - actionType: evalObject
                  object:
                    - =..apiRequest.cv.docAPI.store: ""
                    - .MyProfile.apiRequest.profile.document.name.data.cv@: =..apiRequest.cv.docRes.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: popUpDismiss
                  popUpView: selectCvUP
                - actionType: builtIn
                  funcName: redraw
                  viewTag: cvTag

            - type: button
              text: Photo Library
              contentType: file
              style:
                top: "0.146"
                width: "0.9"
                height: "0.06"
                fontSize: .Nfont.h3
                color: "0x1d88fc"
                backgroundColor: "0xe9e9e9"
                textAlign:
                  x: center
                border:
                  style: "2"
                borderWidth: "1"
                borderColor: "0x00000066"
              onClick:
                - actionType: openPhotoLibrary
                  dataObject: BLOB
                  dataKey: MyProfile.apiRequest.cv.docReq.name.data
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..apiRequest.cv.docReq.name.data # obejct
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..apiRequest.cv.docReq.name.data
                                  units: mb
                                dataOut: MyProfile.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue
                - actionType: evalObject
                  object:
                    - =..apiRequest.cv.docAPI.store: ""
                    - .MyProfile.apiRequest.profile.document.name.data.cv@: =..apiRequest.cv.docRes.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: popUpDismiss
                  popUpView: selectCvUP
                - actionType: builtIn
                  funcName: redraw
                  viewTag: cvTag
            - type: button
              text: Files
              contentType: file
              style:
                top: "0.21"
                width: "0.9"
                height: "0.06"
                fontSize: .Nfont.h3
                color: "0x1d88fc"
                backgroundColor: "0xe9e9e9"
                textAlign:
                  x: center
                border:
                  style: 1
              onClick:
                - actionType: openDocumentManager
                  dataObject: BLOB
                  dataKey: MyProfile.apiRequest.cv.docReq.name.data
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..apiRequest.cv.docReq.name.data # obejct
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..apiRequest.cv.docReq.name.data
                                  units: mb
                                dataOut: MyProfile.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue
                - actionType: evalObject
                  object:
                    - =..apiRequest.cv.docAPI.store: ""
                    - .MyProfile.apiRequest.profile.document.name.data.cv@: =..apiRequest.cv.docRes.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: popUpDismiss
                  popUpView: selectCvUP
                - actionType: builtIn
                  funcName: redraw
                  viewTag: cvTag
        - type: button
          text: Cancel
          style:
            top: "0.9"
            left: "0.05"
            width: "0.9"
            height: "0.06"
            fontSize: .Nfont.h3
            color: "0x007aff"
            backgroundColor: "0xffffff"
            textAlign:
              x: center
            borderRadius: "10"
            border:
              style: 1
          onClick:
            - actionType: popUpDismiss
              popUpView: selectCvUP

    - .simplePopup:
      viewTag: filePopUpView
      children:
        - .simplePopupView:
          style:
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: Are you sure you want to overwrite the original files?
              dataKey:
              style:
                marginTop: "0.04"
                marginLeft: "0.03"
                width: "0.64"
                height: "auto"
                color: "0x4b4b4b"
                fontSize: .Nfont.h2
                fontFamily: "sans-serif"
                # backgroundColor: "pink"
                textAlign:
                  x: center
            - type: view
              style:
                marginTop: "0.04"
                height: "0.001"
                width: "0.72"
                backgroundColor: "0x8f8f90"
            - type: view
              style:
                height: "0.06"
                width: "0.72"
              children:
                - .simplePopupSplit1:
                  style:
                    top: "0"
                    height: "0.06"
                - .simplePopupLeftButton:
                  text: "NO"
                  style:
                    top: "0.01"
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: filePopUpView
                - .simplePopupRightButton:
                  text: "Yes"
                  style:
                    top: "0.01"
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: filePopUpView

    - .BaseoverSize:
