Signature:
  pageNumber: "490" # xd page  43
  viewPort: top
  title: Signature
  init:
    - .SignInCheck
  newSign:
    docRes: ""
    docReq:
      type: .DocType.DocumentSignature
      id: .Global.rootNotebookID
      xfname: eid
    document: #DOC
      .Document: ""
      type: .DocType.DocumentSignature
      name:
        title: ""
        type: ..newSign.document.subtype.mediaType
        data: ""
      eid: .Global.rootNotebookID
      fid: ""
      subtype:
        mediaType: "" # mediaType : "image/jpeg"
    docAPI: # DOCAPI
      .DocAPI: ""
      store:
        api: cd
        dataKey: newSign.document
  components:
    - type: view
      style:
        top: "0"
        height: "0.1"
      children:
        - .BaseHeader:
        - .HeaderLeftButton:
          onClick:
            - actionType: builtIn
              funcName: goBack
    - type: view
      style:
        top: "0.13"
        width: "0.9"
        height: "0.84"
        left: "0.05"
        border:
          style: "3"
          color: "0x9f9f9f"
      children:
        - type: scrollView
          style:
            width: "0.86"
            left: "0"
            top: "0.02"
            height: "0.80"
            overflow: scroll
          children:
            - type: label
              text: "Signature:"
              style:
                left: "0.08"
                top: "0"
                width: "0.43"
                fontSize: .Nfont.h14
                height: auto
                color: "0x000000"
                textAlign:
                  y: center
            - type: label
              text: "clear"
              onClick:
                - actionType: removeSignature
                  dataObject: BLOB
                  dataKey: Signature.newSign.document.name.data
                  viewTag: signatureTag
              style:
                left: "0.76"
                top: "0"
                # width: "0.2"
                fontSize: .Nfont.h14
                height: auto
                color: "0xD53C42"
                textAlign:
                  y: center
            - type: view
              style:
                # top: "0.2"
                width: "0.7"
                height: "0.12"
                # backgroundColor: "0x000000cc"
                border:
                  style: "4"
                  width: "1.5"
                  color: "0xacacac"
                left: "0.1"
                top: "0.06"
              children:
                - type: canvas
                  dataKey: Signature.newSign.document.name.data
                  viewTag: signatureTag
                  style:
                    left: "0"
                    width: "1"
                    top: "0"
                    height: auto
                    overflow: scroll
            - type: button
              text: Save
              onClick:
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: Signature.newSign.document.name.data
                - actionType: popUp
                  popUpView: uploading
              style:
                left: "0.15"
                top: "0.25"
                width: "0.6"
                height: "0.041"
                fontSize: "15"
                fontWeight: "600"
                color: "0x5ea6ec"
                backgroundColor: "0xffffff"
                border:
                  style: "3"
                  color: "#2988e6"
                  width: "5"
                borderRadius: "5"
                textAlign:
                  x: center
    - type: popUp
      viewTag: uploading
      style:
        left: "0"
        width: "1"
        height: "1"
        top: "0"
        backgroundColor: "0x00000033"
        zIndex: "10"
      children:
        - type: view
          style:
            width: "0.76"
            height: "0.2"
            top: "0.3"
            left: "0.12"
            zIndex: "100"
            backgroundColor: "0xe9e9e9"
            borderRadius: "7"
          children:
            - type: label
              text: Upload your signature
              style:
                left: "0.1"
                top: "0.04"
                width: "0.6"
                height: "0.07"
                fontSize: "20"
                fontWeight: "500"
            - type: button
              text: confirm
              onClick:
                - actionType: evalObject
                  object:
                    - =.Signature.newSign.docAPI.store: ""
                - goto: EditMyProfile
              style:
                top: "0.15"
                left: "0.1"
                width: "0.25"
                height: "0.03"
            - type: button
              text: back
              onClick:
                - actionType: popUpDismiss
                  popUpView: uploading
              style:
                top: "0.15"
                left: "0.42"
                width: "0.25"
                height: "0.03"
