BlankNotePrivate:
  title: Blank Note/Form
  init:
    - .SignInCheck
    - =.builtIn.date.currentDateTime:
        dataIn:
        dataOut: Global.formData.auditLog.startTime
    - if:
        - =.Global.Note.id
        - actionType: evalObject
          object:
            - ..apiRequest.blankNote.docReq@: =.Global.Note
        - continue
    # 判断是否签名
    - actionType: evalObject
      object:
        - if:
            - =..apiRequest.blankNote.docReq.name.data.whetherSign
            - continue
            # 非空修改显示的标识,刷新签名区域
            - actionType: evalObject
              object:
                - ..formData.signatureTime@: =.BlankNotePrivate.apiRequest.blankNote.docReq.name.data.signatureTime
                - ..formData.temporarySignature@: =.BlankNotePrivate.apiRequest.blankNote.docReq.name.data.signatureId
                - ..formData.flag@: "block"
  save:
    - =.BlankNotePrivate.apiRequest.blankNote.docAPI.store: ""

  apiRequest:
    newSign:
      docRes: ""
      docReq: #DOC
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data: ""
        eid: .Global.rootNotebookID
        subtype:
          mediaType: ""
      docAPI: # DOCAPI
        store:
          api: cd
          dataIn: apiRequest.newSign.docReq
          dataOut: BlankNotePrivate.apiRequest.newSign.docRes

    blankNote:
      docRes: ""
      docReq:
        eid: .Global.currentRoom.edge.id
        reid: ""
        type: .DocType.MeetingNote # "6" # meeting notes for all participants
        subtype:
          mediaType: "application/json" # mediaType : "image/jpeg"
        name:
          data:
            classTag:
              name: Provider
              fontColor: "0x30b354"
              backgroundColor: "0xe4f5e9"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            signatureTime: ""
            signatureId: ""
            whetherSign: "true"
            note: ""
          title: ""
          user: .Global.formData.providerTitle
          authority: ""
          uploadUserName: .Global.MyProfile.name.data.fullName
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: BlankNotePrivate.apiRequest.blankNote.docReq
          dataOut: BlankNotePrivate.apiRequest.blankNote.docRes

  formData:
    flag: "none"
    temporarySignature: ""
    whetherSign: ""
    signatureTime: ""
  components:
    - .BasePublicHeader:
        children:
          - .BasePublicHeaderLeft:
          - .BasePublicHeaderTitle:
          - .BasePublicHeaderRightText:
            onClick:
              - actionType: saveSignature
                dataObject: BLOB
                dataKey: BlankNotePrivate.apiRequest.newSign.docReq.name.data
                isEmpty: BlankNotePrivate.formData.whetherSign
              # 保存签名
              - actionType: evalObject
                object:
                  - ..apiRequest.newSign.docReq.reid@: =.BlankNotePrivate.apiRequest.blankNote.docReq.id

              - actionType: evalObject
                object:
                  - if:
                      - =..formData.whetherSign
                      - continue
                      - =..apiRequest.newSign.docAPI.store: ""

              - actionType: evalObject
                object:
                  - if:
                      - =..formData.temporarySignature
                      - actionType: evalObject
                        object:
                          - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..formData.signatureTime
                          - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..formData.temporarySignature
                          - ..apiRequest.blankNote.docReq.name.data.whetherSign@: false
                          - ..formData.whetherSign@: false
                      - actionType: evalObject
                        object:
                          - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..apiRequest.newSign.docRes.doc.ctime
                          - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                          - ..apiRequest.blankNote.docReq.name.data.whetherSign@: =..formData.whetherSign

              - actionType: evalObject
                object:
                  - =.BlankNotePrivate.apiRequest.blankNote.docAPI.store: ""
                  - .Global.Note@: =..apiRequest.blankNote.docRes.doc
                  - goto: ProviderMacros
    - type: scrollView
      style:
        width: "1"
        height: "0.846"
        overflow: scroll

      children:
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            height: "auto"
            width: "0.92"
          children:
            - type: image
              path: office-building.svg
              path=func: =.builtIn.utils.prepareDocToPath
              dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.facilityAvatarID
              style:
                verticalAlign: middle
                display: "inline-block"
                height: "0.0578"
                width: "5.78vh"
            - type: view
              style:
                verticalAlign: middle
                marginLeft: "0.08"
                display: "inline-block"
                height: "auto"
                width: "0.71"
                overflow: hidden
              children:
                - type: label
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.facilityName
                  style:
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h20
                    fontWeight: "600"

                    verticalAlign: middle
                    wordWrap: break-word
                - type: label
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.location
                  style:
                    marginTop: "0.0110"
                    width: "0.71"
                    height: "auto"
                    fontSize: .Nfont.h14
                    color: "0x666666"

                    verticalAlign: middle
                    wordWrap: break-word
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Email
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: Website
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.website
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.main
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.fax

        - .DocPublicLine:

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.00738"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Exam Date
                - .DocPublicStyleTwoRight:
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.examDate
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Patient Name
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.patientName
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: Date of Birth
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.dob
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Phone #"
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.phone
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Email"
                - .DocPublicStyleTwoRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.email
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  text: "Patient Address"
            - .DocPublicStyleTwoBox:
              children:
                - .DocPublicStyleTwoLeft:
                  dataKey: apiRequest.blankNote.docReq.name.data.patientInfo.address
                  style:
                    height: "auto"
                    width: "0.92"
                    fontSize: .Nfont.h14
                    wordWrap: break-word
                    color: "0x333333"
                    fontWeight: "600"
        - .DocPublicLine:

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.027093"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: Title
              style:
                fontSize: .Nfont.h14
                color: "#333333"
                fontWeight: "600"
                width: "0.92"
                height: "auto"
            - type: textField
              placeholder: Enter here
              dataKey: apiRequest.blankNote.docReq.name.title
              style:
                marginTop: "0.01108374"
                height: "0.036945"
                width: "0.92"
                border:
                  style: "3"
                borderWidth: "1.5"
                borderColor: "#dededf"
                boxSizing: border-box
                borderRadius: "3"
                textIndent: "12px"
                fontSize: .Nfont.h14
                color: "#333333"

            - type: label
              text: Notes
              style:
                marginTop: "0.027093596"
                fontSize: .Nfont.h14
                color: "#333333"
                fontWeight: "600"
                width: "0.92"
                height: "auto"

            - type: textView
              placeholder: Hello this meeting
              dataKey: apiRequest.blankNote.docReq.name.data.note
              style:
                marginTop: "0.01108374"
                height: "0.087438423"
                width: "0.92"
                border:
                  style: "3"
                borderWidth: "1.5"
                borderColor: "#dededf"
                boxSizing: border-box
                borderRadius: "3"
                textIndent: "12px"
                fontSize: .Nfont.h14
                color: "#333333"

                paddingTop: "0.00738916"

        - .DocPublicLine:

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.03"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              style:
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text: "Signature"
                  style:
                    display: "inline-block"
                    width: "0.816"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0x333333"
                    fontWeight: "600"
                    textAlign:
                      x: left
                - type: label
                  text: "Clear"
                  style:
                    display: "inline-block"
                    width: "auto"
                    fontSize: .Nfont.h14
                    height: "auto"
                    color: "0xfb5051"
                  onClick:
                    - actionType: removeSignature
                      dataObject: BLOB
                      dataKey: BlankNotePrivate.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                    - actionType: evalObject
                      object:
                        - ..formData.temporarySignature@: ""
                        - ..formData.signatureTime@: ""
                        - ..formData.flag@: "none"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: signatureTimeTag
                    # 显示签名区域隐藏
                    - actionType: builtIn
                      funcName: hide
                      viewTag: signatureShowTag
                    - actionType: builtIn
                      funcName: show
                      viewTag: signatureTag
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.01"
            height: "0.128"
            width: "0.9"
            border:
              style: "4"
              color: "0xa9a9a9"
            borderWidth: "2"
          children:
            - type: label
              text: X
              style:
                .SignLabelStyle:
            - type: canvas
              dataKey: BlankNotePrivate.apiRequest.newSign.docReq.name.data
              viewTag: signatureTag
              style:
                left: "0"
                width: "0.88"
                height: "0.128"
                overflow: scroll
            # 显示暂存的签名
            - type: image
              viewTag: signatureShowTag
              path=func: .builtIn.utils.prepareDocToPath
              # 传入签名文档的id
              dataKey: BlankNotePrivate.formData.temporarySignature
              style:
                # 控制显示
                display: =..formData.flag
                left: "0"
                width: "0.88"
                top: "0"
                height: "0.128"
                overflow: scroll
                zIndex: "1000"

        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0146"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: view
              viewTag: signatureTimeTag
              style:
                display: ..formData.flag
                marginTop: "0.01"
                height: "auto"
                width: "0.92"
              children:
                - type: label
                  text=func: .builtIn.string.formatUnixtime_en
                  dataKey: apiRequest.blankNote.docReq.name.data.signatureTime
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
                - type: label
                  text: "Digitally Signed"
                  dataKey:
                  style:
                    marginLeft: "0.02"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    fontSize: .Nfont.h12
                    color: "0x757575"
                    verticalAlign: middle
            - type: view
              style:
                marginTop: "0.01"
                width: "auto"
                height: "auto"
              children:
                - type: label
                  text: Date
                  style:
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x666666"
                    fontSize: .Nfont.h12
                - type: label
                  text=func: .builtIn.string.formatUnixtimeL_en
                  dataKey: apiRequest.blankNote.docReq.ctime
                  style:
                    marginLeft: "0.0373"
                    display: "inline-block"
                    width: "auto"
                    height: "auto"
                    color: "0x333333"
                    fontSize: .Nfont.h12
                    fontWeight: "600"
        - type: view
          style:
            marginLeft: "0.04"
            marginTop: "0.0246"
            width: "0.92"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.physicianName
              style:
                height: "auto"
                width: "0.92"
                color: "0x333333"
                fontSize: .Nfont.h16
                fontWeight: "600"
                wordWrap: break-word
            - type: label
              dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.specialty
              style:
                marginTop: "0.006"
                height: "auto"
                width: "0.92"
                color: "0x666666"
                fontSize: .Nfont.h14
                wordWrap: break-word
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "LIC #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.license
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "NPI #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.npi
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "DEA #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.dea
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Email"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.providerInfo.email
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Fax #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.fax
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Main #"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.main
            - .DocPublicStyleOneBox:
              children:
                - .DocPublicStyleOneLeft:
                  text: "Address"
                - .DocPublicStyleOneRight:
                  dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.location
            - .DocPublicLine:
              style:
                marginTop: "0.0246"
                height: "0.00369"
        - type: label
          dataKey: apiRequest.blankNote.docReq.name.data.facilityInfo.website
          style:
            marginTop: "0.01"
            width: "1"
            height: "auto"
            color: "0x666666"
            fontSize: .Nfont.h12
            textAlign:
              x: center
        - type: view
          style:
            marginTop: "0.03"
    - .BasePublicFooter:
      children:
        - type: view
          style:
            height: auto
            width: "auto"
          children:
            - .DocButtonPrivate:
              onClick:
                # 签名处理
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: BlankNotePrivate.apiRequest.newSign.docReq.name.data
                  isEmpty: BlankNotePrivate.formData.whetherSign

                # 保存签名
                - actionType: evalObject
                  object:
                    # 签名reid指向 doc 的id
                    - ..apiRequest.newSign.docReq.reid@: =.BlankNotePrivate.apiRequest.blankNote.docReq.id

                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.whetherSign
                        - continue
                        - =..apiRequest.newSign.docAPI.store: ""

                #  指定 eid 和 reid
                - actionType: evalObject
                  object:
                    - ..apiRequest.blankNote.docReq.eid@: =.Global.currentRoom.edge.id
                    - ..apiRequest.blankNote.docReq.reid@: =.Global.roomInfo.edge.id

                # title处理
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..apiRequest.blankNote.docReq.name.title
                              string2: ""
                        - ..apiRequest.blankNote.docReq.name.title@: "Blank Note"
                        - continue

                # 签名处理
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.temporarySignature
                        - actionType: evalObject
                          object:
                            # 存放签名的id到blankNote
                            - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..formData.signatureTime
                            - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..formData.temporarySignature
                            - ..apiRequest.blankNote.docReq.name.data.whetherSign@: false
                            - ..formData.whetherSign@: false
                        - actionType: evalObject
                          object:
                            - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..apiRequest.newSign.docRes.doc.ctime
                            - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                            - ..apiRequest.blankNote.docReq.name.data.whetherSign@: "=..formData.whetherSign"

                #  修改type
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..apiRequest.blankNote.docReq.type
                          index: 1
                          hex: 0
                        dataOut: BlankNotePrivate.apiRequest.blankNote.docReq.type

                # 保存newNote
                - actionType: evalObject
                  object:
                    - =..apiRequest.blankNote.docAPI.store: ""

                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""

                - actionType: evalObject
                  object:
                    - =.builtIn.utils.createAuditLog:
                        dataIn:
                          actionTypeCode: .ActionTypeCode.edit
                          recordTypeCode: .DocType.MeetingNote
                          eid: =.Global.formData.currentFacility.relationEdge.id
                          date: =.Global.formData.auditLog.startTime
                          user: =.Global.MyProfile.name.data.fullName
                          userId: =.Global.currentUser.vertex.id
                          targetUserId: =.Global.formData.auditLog.patientId
                          accessPort: provider
                        dataOut: Global.formData.auditLog.result

                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.formData.unPageName
                              string2: ""
                        - goto: ProviderNotes
                        - goto: =.Global.formData.unPageName

            - .DocButtonRelease:
              onClick:
                # 签名处理
                - actionType: saveSignature
                  dataObject: BLOB
                  dataKey: BlankNotePrivate.apiRequest.newSign.docReq.name.data
                  isEmpty: BlankNotePrivate.formData.whetherSign

                # 保存签名
                - actionType: evalObject
                  object:
                    # 签名reid指向 doc 的id
                    - ..apiRequest.newSign.docReq.reid@: =.BlankNotePrivate.apiRequest.blankNote.docReq.id
                    # - =..apiRequest.newSign.docAPI.store: ""

                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.whetherSign
                        - continue
                        - =..apiRequest.newSign.docAPI.store: ""

                #  指定 eid 和 reid
                - actionType: evalObject
                  object:
                    - ..apiRequest.blankNote.docReq.eid@: =.Global.currentRoom.edge.id
                    - ..apiRequest.blankNote.docReq.reid@: =.Global.roomInfo.edge.id

                # title处理
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..apiRequest.blankNote.docReq.name.title
                              string2: ""
                        - ..apiRequest.blankNote.docReq.name.title@: "Blank Note"
                        - continue

                # 签名处理
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.temporarySignature
                        - actionType: evalObject
                          object:
                            # 存放签名的id到newNote
                            - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..formData.signatureTime
                            - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..formData.temporarySignature
                            - ..apiRequest.blankNote.docReq.name.data.whetherSign@: false
                            - ..formData.whetherSign@: false
                        - actionType: evalObject
                          object:
                            - ..apiRequest.blankNote.docReq.name.data.signatureTime@: =..apiRequest.newSign.docRes.doc.ctime
                            - ..apiRequest.blankNote.docReq.name.data.signatureId@: =..apiRequest.newSign.docRes.doc.id
                            - ..apiRequest.blankNote.docReq.name.data.whetherSign@: =..formData.whetherSign

                #  签名弹窗
                - actionType: evalObject
                  object:
                    - if:
                        - =.BlankNotePrivate.formData.whetherSign
                        - actionType: popUp
                          popUpView: BaseWarningView
                          wait: true
                          popUpDismiss: 2000
                        - continue

                #  修改type
                - actionType: evalObject
                  object:
                    - =.builtIn.number.inhx:
                        dataIn:
                          intHex: =..apiRequest.blankNote.docReq.type
                          index: 1
                          hex: 1
                        dataOut: BlankNotePrivate.apiRequest.blankNote.docReq.type

                - actionType: evalObject
                  object:
                    - =.builtIn.utils.createAuditLog:
                        dataIn:
                          actionTypeCode: .ActionTypeCode.edit
                          recordTypeCode: .DocType.MeetingNote
                          eid: =.Global.formData.currentFacility.relationEdge.id
                          date: =.Global.formData.auditLog.startTime
                          user: =.Global.MyProfile.name.data.fullName
                          userId: =.Global.currentUser.vertex.id
                          targetUserId: =.Global.formData.auditLog.patientId
                          accessPort: provider
                        dataOut: Global.formData.auditLog.result

                - actionType: popUp
                  popUpView: dialogueTag

    - .BaseWarningView:
      message: "You haven't signed the form"

    - .SuccessfulOneLine:
      message: "Successfully"
      viewTag: successTag

    - .Normal:
      message: "Do you want the patient to see it?"
      viewTag: dialogueTag
      leftText: "No"
      rightText: "Yes"
      leftButton:
        # 保存newNote
        - actionType: evalObject
          object:
            # 修改tage
            - ..apiRequest.blankNote.docReq.tage@: 1
            - =..apiRequest.blankNote.docAPI.store: ""

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: popUpDismiss
          popUpView: dialogueTag

        - actionType: popUp
          popUpView: successTag

        - actionType: evalObject
          object:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =.Global.formData.unPageName
                      string2: ""
                - goto: ProviderNotes
                - goto: =.Global.formData.unPageName

      rightButton:
        # 更新文档状态
        - actionType: evalObject
          object:
            - ..apiRequest.blankNote.docReq.name.data.statusTag.name@: Released
            - ..apiRequest.blankNote.docReq.name.data.statusTag.fontColor@: "0x2988e6"
            - ..apiRequest.blankNote.docReq.name.data.statusTag.backgroundColor@: "0xdfedfc"

        # 保存newNote
        - actionType: evalObject
          object:
            # 修改tage
            - ..apiRequest.blankNote.docReq.tage@: -1
            - =..apiRequest.blankNote.docAPI.store: ""

        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""

        - actionType: popUpDismiss
          popUpView: dialogueTag

        - actionType: popUp
          popUpView: successTag

        - actionType: evalObject
          object:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =.Global.formData.unPageName
                      string2: ""
                - goto: ProviderNotes
                - goto: =.Global.formData.unPageName
