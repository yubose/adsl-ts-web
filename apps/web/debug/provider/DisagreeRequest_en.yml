DisagreeRequest:
  pageNumber: "140"
  dataObject: .Global.appoinment.request
  title: "Approve successful"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - actionType: evalObject
      object:
        - .DisagreeRequest.dataObject.subtype@: "7"
    - =.DisagreeRequest.updateE2Edge.edgeAPI.store: ""
    # - =.builtIn.string.concat:
    #     dataIn:
    #       - your appointment
    #       - " "
    #       - =..newAppointment2.response.edge.name.visitType
    #       - " "
    #       - with
    #       - " "
    #       - =..newAppointment2.response.edge.name.providerName
    #       - " "
    #       - at
    #       - " "
    #       # - =.AgreeRequest.time #todo get time
    #       - had been approved
    #     dataOut: DisagreeRequest.sendNotification.document.name.notification.context
    # your appointment (telemedicine or office visit) with dr. provider at 11:40 had been (approved or denied)
    #      - =.builtIn.FCM.getAPPID:
    #          dataIn:
    #            appName: =.TargetApp.patient
    #          dataOut: FirebaseToken.edge.evid
    #      - actionType: evalObject
    #        object: .Global.updateJwt
    #      - =.Global.jwt.edgeAPI.store: ""
    - ..sendNotification.document.fid@: =.Global.patdAPPID
    - ..sendNotification.document.eid@: =..updateE2Edge.response.edge.id
    - =..sendNotification.docAPI.store: ""
    #      - =.builtIn.FCM.getAPPID:
    #          dataIn:
    #            appName: =.AppName
    #          dataOut: FirebaseToken.edge.evid
    #      - actionType: evalObject
    #        object: .Global.updateJwt
    # - =.Global.jwt.edgeAPI.store: ""
  save:
    - =.DisagreeRequest.updateE2Edge.edgeAPI.store: ""
  getAvailability:
    response:
    edge:
      id: .Global.appoinment.request.refid
      xfname: "id"
      type: 40000
    get:
      api: re
      dataIn: getAvailability.edge
      dataOut: getAvailability.response
  updateE2Edge:
    response: ""
    edge:
      # .DisagreeRequest.dataObject: ""
      .Global.appoinment.request: ""
      subtype: 7
      bvid: .Global.appoinment.request.evid
      evid: .Global.appoinment.request.bvid
      refid: .Global.appoinment.request.id
      id: ""
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: updateE2Edge.edge
        dataOut: DisagreeRequest.updateE2Edge.response
sendNotification:
  document:
    .Document: ""
    eid: =..newAppointment2.response.edge.id
    subtype:
      isOnServer: 1
      isZipped: 0
      isBinary: 0
      isEncrypted: 0
      isExtraKeyNeeded: 0
      isEditable: 0
      applicationDataType: 0
      # 7 th bit
      notification: 1
      ringToneNotify: 0
      sendtoSelf: 0
      # 10 bit
      textMessage: 0
      mediaType: 8
    type: .DocType.Notification
    tage: 5
    name:
      data: ""
      notification:
        title: AiTmed Connection Request
        context: Your appointment had been denied
        body: Your appointment had been denied
        landingPage: WaitingRoom
        targetApp: =.FirebaseToken.response.edge.evid
  docAPI:
    store:
      api: cd
      dataIn: sendNotification.document
  components:
    - type: view
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
      children:
        - .BaseHeader:
        - type: view
          style:
            left: "0"
            top: "0.15"
            width: "1"
            height: "0.85"
          #for loop through listObject, we got each itemObject
          children:
            - type: image
              path: popUpSuccess.svg
              style:
                left: "0.35"
                top: "0.15"
                width: "0.3"
                # height: "0.21"
            - type: label
              text: "You have deny this request."
              style:
                left: "0.1"
                top: "0.35"
                width: "0.8"
                height: "0.03"
                fontSize: "20"
                fontStyle: "bold"
                color: "0x000000bb"
                display: "inline"
                textAlign:
                  x: center
                  y: center
            - type: label
              text: "Patient will receive your consent notice"
              style:
                left: "0.1"
                top: "0.42"
                width: "0.8"
                height: "0.03"
                fontSize: .Nfont.h16
                color: "0x00000088"
                display: "inline"
                textAlign:
                  x: center
                  y: center
            # - type: label
            #   dataKey: dataObject.name.firstName
            #   #text: "John"
            #   style:
            #     left: "0.1"
            #     top: "0.48"
            #     width: "0.8"
            #     height: "0.03"
            #     fontSize: .Nfont.h16
            #     color: "0x00000088"
            #     display: "inline"
            #     textAlign:
            #       x: center
            #       y: center
            # - type: label
            #   dataKey: dataObject.name.phoneNumber
            #   #text: "+1 7148397253"
            #   style:
            #     left: "0.1"
            #     top: "0.54"
            #     width: "0.8"
            #     height: "0.03"
            #     fontSize: .Nfont.h16
            #     color: "0x00000088"
            #     display: "inline"
            #     textAlign:
            #       x: center
            #       y: center
            - type: button
              onClick:
                # - actionType: evalObject
                #   object: ..save
                - actionType: builtIn
                  funcName: goBack
              text: Okay
              style:
                left: "0.1"
                top: "0.65"
                width: "0.8"
                height: "0.06"
                fontSize: "18"
                color: "0xffffffff"
                backgroundColor: "0x2988e6ff"
                textAlign:
                  x: center
                border:
                  style: "1"
