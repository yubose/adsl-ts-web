MedicalRecordsEdit:
  title: Medical Documents
  init: #Page initialization
    - .SignInCheck
    - ..apiRequest.medicalRecords.docAPI.get
  dataTemp: #Input data temp here

  formData: #Input data here
    flag: "block"
    docLength: ""
    tempTitle: ""
  formDataTemp:
    titleData:
      - title: All
        fontColor: "0x2988e6"
        borderColor: "0x2988e6"
        backgroundColor: "0xe6effc"
        tagCategory: ""
      - title: Patient
        fontColor: "0xf88f00"
        borderColor: "0xfff4e0"
        backgroundColor: "0xfff4e0"
        tagCategory: classTag
      - title: Provider
        fontColor: "0xf8ae29"
        borderColor: "0xe4f5e9"
        backgroundColor: "0xfff4e0"
        tagCategory: classTag
      - title: Admin
        fontColor: "0x005795"
        borderColor: "0xe9f2fc"
        backgroundColor: "0xe9f2fc"
        tagCategory: classTag
  apiRequest:
    # get all documents which create by patient
    medicalRecords:
      docQueryResp: ""
      docQueryReq:
        ObjType: 12
        id: .Global.currentUser.vertex.id
        xfname: E.bvid&D.ovid
        obfname: ctime
        _nonce: =.Global._nonce
        sCondition: D.type in (1025,153601) AND D.reid is not null
      docAPI:
        get:
          api: rd
          dataIn: MedicalRecordsEdit.apiRequest.medicalRecords.docQueryReq
          dataOut: MedicalRecordsEdit.apiRequest.medicalRecords.docQueryResp

  style: #Input style fragment here

  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - type: view
      style:
        marginTop: "0.09"
        width: "1"
        height: "auto"
        backgroundColor: "0x2887e5"
        overflow: hidden

      children:
        - type: view
          style:
            marginTop: "0.01"
            marginLeft: "0.04"
            width: "0.92"
            height: "0.0418"
            boxSizing: "border-box"

          children:
            - type: view
              style:
                display: "inline-block"
                width: "0.768"
                height: "0.0418"
                backgroundColor: "0xffffff"
                borderRadius: "4"
                boxSizing: "border-box"
                overflow: hidden
                verticalAlign: middle
              children:
                - type: image
                  path: search.svg
                  style:
                    marginLeft: "0.04"
                    display: "inline-block"
                    height: "0.02"
                    verticalAlign: middle

                - type: textField
                  placeholder: Search
                  dataKey:
                  style:
                    marginLeft: "0.02"
                    verticalAlign: middle
                    display: "inline-block"
                    border:
                      style: 1
                    height: "0.0418"
                    boxSizing: "border-box"
                    width: "0.65"
            - type: label
              text: Finish
              style:
                marginLeft: "0.04"
                verticalAlign: middle
                display: "inline-block"
                fontSize: .Nfont.h14
                width: "auto"
                height: "auto"
                color: "0xffffff"
                fontWeight: "700"
        - type: view
          style:
            marginTop:
              "0.0147"
              # - selectOnBlue.svg
              # - selectOffBlue.svg
    - type: view
      style:
        width: "1"
        height: "0.069"
        overflow: hidden
        backgroundColor: "0xffffff"
        boxShadow: "1px 1px 4px 1px #dededf"
      children:
        - type: image
          path: selectOffBlue.svg
          style:
            verticalAlign: middle
            display: "inline-block"
            marginLeft: "0.04"
            height: "4.5vw"
            width: "4.5vw"
        - type: label
          text: All
          style:
            display: "inline-block"
            marginLeft: "0.032"
            verticalAlign: middle
        - type: view
          style:
            marginLeft: "0.048"
            width: "0.75"
            display: "inline-block"
            verticalAlign: middle
            height: "0.069"
          children:
            - type: image
              path: deleteImg.svg
              style:
                marginTop: "0.02"
                display: "inline-block"
                height: "0.038"
            - type: image
              path: downloadImg.svg
              style:
                marginTop: "0.02"
                display: "inline-block"
                marginLeft: "0.02"
                height: "0.038"
            - type: image
              path: mailImg.svg
              style:
                marginTop: "0.02"
                display: "inline-block"
                marginLeft: "0.02"
                height: "0.038"

    - type: view
      viewTag: filterTag
      style:
        marginTop: "0"
        width: "1"
        height: " 0.0628"
        border:
          style: 2
        borderWidth: "1"
        borderColor: "0xdedede"
        boxSizing: "border-box"
        overflow: hidden
      children:
        - type: list
          androidGrid: true
          contentType: listObject
          listObject: ..formDataTemp.titleData
          iteratorVar: itemObject
          style:
            margin: "0"
            width: "1"
            height: "auto"
            boxSizing: "border-box"
            overflow: hidden
          children:
            - type: listItem
              itemObject:
              style:
                width: "0.16"
                height: "auto"
                marginLeft: "0.04"
                display: "inline-block"
                boxSizing: "border-box"
                overflow: hidden
              onClick:
                - emit:
                    dataKey:
                      var: itemObject
                    actions:
                      - =.builtIn.object.setProperty:
                          dataIn:
                            obj: =..formDataTemp.titleData
                            label: "title"
                            text: $var.title
                            arr: ["borderColor"]
                            valueArr: $var.fontColor
                            errorArr: ["0x00000000"]
                - actionType: builtIn
                  funcName: redraw
                  viewTag: filterTag
              children:
                - type: label
                  dataKey: itemObject.title
                  style:
                    marginTop: "0.02"
                    height: "0.025"
                    width: "0.16"
                    fontSize: .Nfont.h12
                    color: itemObject.fontColor
                    border:
                      style: 3
                    borderColor: itemObject.borderColor
                    backgroundColor: itemObject.backgroundColor
                    fontWeight: "700"
                    boxSizing: "border-box"
                    borderRadius: "3"
                    textAlign:
                      x: center
                      y: center
    - type: list
      contentType: listObject
      listObject: ..apiRequest.medicalRecords.docQueryResp.doc
      iteratorVar: itemObject
      style:
        width: "1"
        margin: "0"
        height: "0.7"
      children:
        - type: listItem
          itemObject:
          style:
            width: "1"
            height: "auto"
            left: "0"
            marginTop: "0"
            border:
              style: 2
            borderWidth: "1"
            borderColor: "0xdedede"
            boxSizing: "border-box"
            overflow: hidden
          children:
            - type: image
              path: selectOffBlue.svg
              style:
                marginTop: "0.022"
                verticalAlign: top
                display: "inline-block"
                marginLeft: "0.04"
                height: "4.5vw"
                width: "4.5vw"
            - type: view
              style:
                marginTop: "0.0173"
                verticalAlign: top
                display: "inline-block"
                width: "0.88"
                height: "auto"
              children:
                - type: view
                  style:
                    marginLeft: "0.02"
                    width: "0.88"
                    height: "auto"
                    overflow: hidden
                  children:
                    - type: label
                      dataKey: itemObject.name.title
                      style:
                        display: "inline-block"
                        width: "0.62"
                        height: "auto"
                        fontSize: .Nfont.h16
                        fontWeight: "700"
                        verticalAlign: top
                        wordBreak: break-word
                    - type: view
                      style:
                        marginLeft: "0.058"
                        display: "inline-block"
                        verticalAlign: top
                        width: "0.16"
                        height: "auto"
                      children:
                        - type: label
                          dataKey: itemObject.name.data.classTag.name
                          style:
                            height: "0.025"
                            width: "0.16"
                            fontSize: .Nfont.h12
                            color: itemObject.name.data.classTag.fontColor
                            border:
                              style: 1
                            backgroundColor: itemObject.name.data.classTag.backgroundColor
                            fontWeight: "700"
                            boxSizing: "border-box"
                            borderRadius: "3"
                            textAlign:
                              x: center
                              y: center
                - type: view
                  style:
                    marginTop: "0.001"
                    marginLeft: "0.02"
                    width: "0.88"
                    height: "auto"
                    overflow: hidden
                  children:
                    - type: label
                      dataKey: itemObject.name.user
                      style:
                        display: "inline-block"
                        width: "0.4"
                        height: "auto"
                        fontSize: .Nfont.h14
                        verticalAlign: middle
                        wordBreak: break-word
                        color: "0x666666"
                    - type: label
                      text=func: .builtIn.string.formatDurationInMicroSecond
                      dataKey: itemObject.mtime
                      style:
                        marginLeft: "0.04"
                        display: "inline-block"
                        width: "0.4"
                        height: "auto"
                        fontSize: .Nfont.h14
                        verticalAlign: middle
                        wordBreak: break-word
                        color: "0x999999"
                        textAlign:
                          x: right
                - type: view
                  style:
                    marginTop: "0.0173"
