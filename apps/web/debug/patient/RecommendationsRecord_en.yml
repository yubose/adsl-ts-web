RecommendationsRecord:
  title: Recommendations
  pageNumber:
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    # 控制商品清单是否显示地址入口
    - .Global.formData.medicalStatus@: false
    - =..apiRequest.recommendation.docAPI.get: ""
  formData: ""
  apiRequest:
    appointment:
      edgeQueryResp: ""
      edgeQueryReq:
        id: ""
        _nonce: .Global._nonce
      edgeAPI:
        get:
          api: re
          dataIn: RecommendationsRecord.apiRequest.appointment.edgeQueryReq
          dataOut: RecommendationsRecord.apiRequest.appointment.edgeQueryResp
    recommendation:
      docQueryResp: ""
      docQueryReq:
        ObjType: 28
        id: .Global.currentUser.vertex.id
        xfname: bvid|evid
        sfname: "{\"join\":\"INNER JOIN Edge E ON E.id=D.reid\",\"result\":\"D.*\"}"
        sCondition: "E.type=40000"
        type: .DocType.MedicalRecommend
        obfname: mtime
        _nonce: .Global._nonce
      docAPI:
        get:
          api: rd
          dataIn: RecommendationsRecord.apiRequest.recommendation.docQueryReq
          dataOut: RecommendationsRecord.apiRequest.recommendation.docQueryResp
  components:
    - .BasePublicHeader:
        children:
          - .BasePublicHeaderLeft:
          - .BasePublicHeaderTitle:
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: list
          contentType: listObject
          listObject: ..apiRequest.recommendation.docQueryResp.doc
          iteratorVar: itemObject
          style:
            ..style.dataList:
          children:
            - type: listItem
              itemObject:
              onClick:
                - ..event.itemClick
              style:
                ..style.listItem:
              children:
                - type: view
                  style:
                    ..style.firstBox:
                  children:
                    - type: label
                      dataKey: itemObject.name.title
                      style:
                        ..style.title:
                    - type: label
                      text=func: .builtIn.string.formatUnixtimeL_en
                      dataKey: itemObject.ctime
                      style:
                        ..style.stime:
                - type: view
                  style:
                    ..style.seocndLine:
                - type: view
                  style:
                    ..style.secondBox:
                  children:
                    - type: label
                      text: "&nbsp;"
                      dataKey: itemObject.name.data.goodNameList
                      style:
                        ..style.description:
                    - type: image
                      path: appLeft.svg
                      style:
                        ..style.leftImg:
        - type: view
          style:
            marginTop: "0.03"
  event:
    itemClick:
      - actionType: evalObject
        object:
          .Global._nonce@:
            =.builtIn.math.random: ""
      - emit:
          dataKey:
            var: itemObject
          actions:
            - ..apiRequest.appointment.edgeQueryReq.id@: $var.esig
            - =..apiRequest.appointment.edgeAPI.get: ""
            - .Global.roomInfo.edge@: =..apiRequest.appointment.edgeQueryResp.edge.0
            - .Global.currentRoomInfo.edge@: =..apiRequest.appointment.edgeQueryResp.edge.0
            - .Global.Note.name.data.goodsList@: $var.name.data.goodsList
            - .Global.formData.backPageName@: "RecommendationsRecord"
            # 查询当前项会议信息带入,进入会议商品清单界面
            - goto: MedicalRecommendation
  style:
    scrollBox:
      width: "1"
      height: "0.945"
      boxSizing: "border-box"
      overflow: "scroll"
      backgroundColor: "#f5f5f5"
    dataList:
      width: "1"
      margin: "0"
      padding: "0"
      height: "auto"
    listItem:
      marginTop: "0.015"
      width: "0.9"
      height: "auto"
      marginLeft: "0.05"
      boxShadow: "0px 0px 5px #80808044"
      backgroundColor: "0xffffff"
      border:
        style: 3
      borderColor: "#dededf"
      borderWidth: "1.5"
      borderRadius: "5"
    firstBox:
      width: "0.85"
      height: "0.04"
      marginLeft: "0.025"
    title:
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.609333"
      fontWeight: "600"
      verticalAlign: middle
      overflow: hidden
      text-overflow: ellipsis
      whiteSpace: nowrap
    stime:
      display: "inline-block"
      fontSize: .Nfont.h12
      color: "#999999"
      width: "0.24"
      lineHeight: "4vh"
      verticalAlign: middle
      textAlign:
        x: center
    seocndLine:
      width: "0.85"
      borderTop: "1px solid #dedede"
      marginLeft: "0.025"
    secondBox:
      marginTop: "0.01"
      width: "0.9"
      height: "auto"
    description:
      display: "inline-block"
      marginLeft: "0.025"
      width: "0.744"
      height: "auto"
      overflow: hidden
      text-overflow: ellipsis
      whiteSpace: nowrap
      fontSize: .Nfont.h14
      verticalAlign: middle
      color: "#333333"
    leftImg:
      display: "inline-block"
      height: "0.06"
      verticalAlign: middle
