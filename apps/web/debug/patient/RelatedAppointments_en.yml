RelatedAppointments:
  title: Related Appointments List
  pageNumber:
  init:
    - .SignInCheck
    # 从global获取 当前所有的 related appointment
    - actionType: evalObject
      object:
        - ..formData.appointmentList@: =.Global.currentRoomrelatedAppointment
    - ..apiRequest.appList.edgeAPI.get
    # 获取related appointment
  formData:
    appointmentList: ""
  formDataTemp: ""
  apiRequest:
    appList:
      edgeReq:
        id: =..formData.appointmentList
      edgeRes: ""
      edgeAPI:
        get:
          api: re
          dataIn: apiRequest.appList.edgeReq
          dataOut: RelatedAppointments.apiRequest.appList.edgeRes
  components:
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: list
          viewTag: ListTag
          contentType: listObject
          listObject: ..apiRequest.appList.edgeRes.edge
          iteratorVar: itemObject
          style:
            ..style.dataList:
          children:
            - type: listItem
              itemObject:
              onClick:
                - ..event.itemClick
              style:
                ..style.listItem:
              children:
                - type: view
                  style:
                    ..style.firstBox:
                  children:
                    - type: view
                      style:
                        ..style.timeBox:
                      children:
                        - type: image
                          path: waitTime.svg
                          style:
                            ..style.waitTimeImg:
                        - type: label
                          text=func: .builtIn.date.ShowTimeSpan
                          dataKey: itemObject
                          style:
                            ..style.ShowTimeSpan:
                        - type: label
                          text=func: .builtIn.string.formatUnixtimeL_en
                          dataKey: itemObject.stime
                          style:
                            ..style.stime:
                        - type: image
                          style:
                            ..style.statusImg:
                          path:
                            ..event.statusPath:
                - type: view
                  style:
                    ..style.seocndLine:
                - type: view
                  style:
                    ..style.secondBox:
                  children:
                    - type: view
                      style:
                        ..style.secondTop:
                      children:
                        - type: label
                          dataKey: itemObject.name.Reason
                          style:
                            ..style.reasonBox:
                        - type: label
                          dataKey: itemObject.name.providerFullInfo
                          style:
                            ..style.infoLabel:
                    - type: image
                      path: appLeft.svg
                      style:
                        ..style.leftImg:
                - type: view
                  style:
                    marginTop: "0"
                  children:
                    - type: label
                      style:
                        width: "auto"
                        height: "0.015"
  event:
    statusPath:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: $var.name.visitType
                    string2: Telemedicine
              - video.svg
              - videoTele.svg
    itemClick:
      - actionType: updateObject # updateObject(dataKey, dataObject, dataObjectKey)
        dataKey: Global.currentRleatedRoomInfo.edge
        dataObject: itemObject
      - goto: RelatedAppointmentDetail
  style:
    scrollBox:
      width: "1"
      height: "0.94"
      boxSizing: "border-box"
      overflow: "scroll"
    viewBox:
      width: "1"
      height: "auto"
      boxSizing: border-box
    dataList:
      width: "1"
      margin: "0"
      padding: "0"
      height: "auto"
    listItem:
      marginTop: "0.015"
      width: "0.9"
      height: "auto"
      left: "0.05"
      boxShadow: "0px 0px 5px #80808044"
      backgroundColor: "0xffffff"
      border:
        style: 3
      borderColor: "#00000000"
      borderWidth: "1.5"
      borderRadius: "5"
    firstBox:
      width: "0.85"
      height: "0.04"
      left: "0.025"
    timeBox:
      display: "inline-block"
      height: "0.04"
      width: "0.85"
    waitTimeImg:
      height: "0.017"
      display: "inline-block"
      verticalAlign: middle
    ShowTimeSpan:
      marginLeft: "0.025"
      display: "inline-block"
      fontSize: .Nfont.h12
      fontWeight: "700"
      color: "#333333"
      width: "0.35"
      height: "0.04"
      lineHeight: "4vh"
      verticalAlign: middle
      textAlign:
        x: left
    stime:
      display: "inline-block"
      fontSize: .Nfont.h12
      color: "#333333"
      width: "0.24"
      lineHeight: "4vh"
      verticalAlign: middle
      textAlign:
        x: center

    statusImg:
      marginLeft: "0.144"
      display: "inline-block"
      height: "0.016"
      verticalAlign: middle
    seocndLine:
      width: "0.85"
      height: "0.001"
      left: "0.025"
      backgroundColor: "0xf0f0f0"
    secondBox:
      marginTop: "0.01"
      width: "0.9"
      height: "auto"
    secondTop:
      width: "0.8"
      height: "auto"
      left: "0.025"
    reasonBox:
      fontSize: .Nfont.h16
      fontWeight: "700"
      color: "#333333"
      height: "auto"
      width: "auto"
    infoLabel:
      marginTop: "0.01"
      fontSize: .Nfont.h12
      color: "#333333"
      height: "auto"
      width: "0.8"
      overflow: hidden
      whiteSpace: nowrap
      text-overflow: ellipsis
    leftImg:
      top: "0"
      left: "0.8"
      height: "0.06"
