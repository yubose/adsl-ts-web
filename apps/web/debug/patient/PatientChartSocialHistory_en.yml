PatientChartSocialHistory:
  title: Patient Chart
  pageNumber: "181"
  init:
    - .SignInCheck
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.flag.isMeetingPatientchart
              string2: true
        - actionType: evalObject
          object:
            - ..apiRequest.newChart.docReq.eid@: =.Global.roomInfo.edge.id
        - actionType: evalObject
          object:
            - ..apiRequest.newChart.docReq.eid@: =.Global.rootNotebookID

    - ..socialHistory@: =.Global.formData.PatientchartInfo.name.data.socialHistory #引用用户总表单对象
    - =.builtIn.string.equal:
        dataIn:
          string1:
          string2:
    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.tobacco.currently
                  string2: "Yes"
            - ..socialHistory.tobacco.isShow@: "block"
            - ..socialHistory.tobacco.isShow@: "none"
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.caffeine.haveCaffeine
                  string2: "Yes"
            - ..socialHistory.caffeine.isShow@: "block"
            - ..socialHistory.caffeine.isShow@: "none"

        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                  string2: "Yes"
            - ..socialHistory.recreationalDrug.isShow@: "block"
            - ..socialHistory.recreationalDrug.isShow@: "none"

        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.exercise.haveExercise
                  string2: "Yes"
            - ..socialHistory.exercise.isShow@: "block"
            - ..socialHistory.exercise.isShow@: "none"

        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.nutrition.haveDiet
                  string2: "Yes"
            - ..socialHistory.nutrition.isShow@: "block"
            - ..socialHistory.nutrition.isShow@: "none"
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..socialHistory.alcohol.drink
                  string2: "Yes"
            - ..socialHistory.alcohol.isShow@: "block"
            - ..socialHistory.alcohol.isShow@: "none"
  apiRequest:
    newChart:
      docResp: ""
      docReq:
        id: ""
        eid: .Global.rootNotebookID
        tage: 0
        type: .DocType.PatientChart
        name:
          data: ""
          title: ""
          user: .Global.Profile.name.data.basicInfo.fullName
          type: "application/json"
      docAPI:
        store:
          api: cd
          dataIn: PatientChartSocialHistory.apiRequest.newChart.docReq
          dataOut: PatientChartSocialHistory.apiRequest.newChart.docResp
  formData:
    flag: false
  socialHistory:
    alcohol:
      drink: ""
      types: ""
      timesPerWeek: ""
      isShow: "none"
    tobacco:
      currently: ""
      types: ""
      packs: ""
      timesPerWeek: ""
      isShow: "none"
    caffeine:
      haveCaffeine: ""
      types: ""
      timesPreDay: ""
      isShow: "none"
    recreationalDrug:
      haveIllicitDrugs: ""
      drugsType: ""
      isShow: "none"
    exercise:
      haveExercise: ""
      type: ""
      daysPerWeek: ""
      hoursPerDay: ""
      isShow: "none"
    nutrition:
      haveDiet: ""
      type: ""
      mealsPerDay: ""
      isShow: "none"
    personalSafety:
      liveAlone: ""
      frequentlyFall: ""
      needAssistanceWalking: ""
      abused: ""
      seatBelt: ""
  socialHistoryTemp:
    alcohol:
      drink:
        - key: drink
          value: "Yes"
        - key: drink
          value: "No"
      input:
        - key: types
          value: "What type?"
        - key: timesPerWeek
          value: "How many drinks per week?"
    tobacco:
      yesNo:
        - key: currently
          value: "Yes"
        - key: currently
          value: "No"
      input:
        - key: types
          value: "What type?"
        - key: packs
          value: "How many packs per day?"
        - key: timesPerWeek
          value: "Number of years using?"
    caffeine:
      yesNo:
        - key: haveCaffeine
          value: "Yes"
        - key: haveCaffeine
          value: "No"
      input:
        - key: types
          value: "What type?"
        - key: timesPreDay
          value: "How many drinks per day?"
    recreationalDrugs:
      yesNo:
        - key: haveIllicitDrugs
          value: "Yes"
        - key: haveIllicitDrugs
          value: "No"
      input:
        - key: drugsType
          value: "What type?"
    exercise:
      yesNo:
        - key: haveExercise
          value: "Yes"
        - key: haveExercise
          value: "No"
      input:
        - key: type
          value: "What type?"
        - key: daysPerWeek
          value: "How many days per week?"
        - key: hoursPerDay
          value: "How many hours per day?"
    nutrition:
      yesNo:
        - key: haveDiet
          value: "Yes"
        - key: haveDiet
          value: "No"
      input:
        - key: type
          value: "What type?"
        - key: mealsPerDay
          value: "How many meals on average per day?"
    personalSafety:
      liveAlone:
        - key: liveAlone
          value: "Yes"
        - key: liveAlone
          value: "No"
      frequentlyFall:
        - key: frequentlyFall
          value: "Yes"
        - key: frequentlyFall
          value: "No"
      needAssistanceWalking:
        - key: needAssistanceWalking
          value: "Yes"
        - key: needAssistanceWalking
          value: "No"
      abused:
        - key: abused
          value: "Yes"
        - key: abused
          value: "No"
      seatBelt:
        - key: seatBelt
          value: "Yes"
        - key: seatBelt
          value: "No"

  components:
    - .BasePublicHeader:
      children:
        - type: view
          style:
            ..style.backLeft:
          children:
            - type: image
              path: arrowLeftgrey.svg
              style:
                ..style.backLeftImg:
              onClick:
                - ..event.backClick
        - .BasePublicHeaderTitle:
    - type: view
      style:
        ..style.bodyBox:
      children:
        - type: view
          style:
            ..style.viewBox:
          children:
            - type: view
              style:
                ..style.titleBox:
              children:
                - type: label
                  text: Social History
                  dataKey:
                  style:
                    ..style.titlelabel:
                    width: "0.744"
                - type: label
                  text: "11&nbsp;/&nbsp;11"
                  dataKey:
                  style:
                    ..style.pageNum:
        - type: scrollView
          style:
            ..style.scrollBox:
          children:
            - type: label
              text: Please answer honestly so we may better assist you
              style:
                ..style.secondLabel:
            - type: label
              text: "Alcohol"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you drink?"
              style:
                ..style.text:
            - type: list
              viewTag: drinkTag
              contentType: listObject
              listObject: ..socialHistoryTemp.alcohol.drink
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.oneRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.oneClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: view
              viewTag: drinkTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.alcohol.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.alcohol.types
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many drinks per week?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.alcohol.timesPerWeek
                  style:
                    ..style.blockInput:

            - type: label
              text: "Tobacco"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you currently use tobacco?"
              style:
                ..style.text:
            - type: list
              viewTag: tobaccoYesNoTag
              contentType: listObject
              listObject: ..socialHistoryTemp.tobacco.yesNo
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.twoRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.twoClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:
            - type: view
              viewTag: tobaccoTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.tobacco.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.tobacco.types
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many packs per day?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.tobacco.packs
                  style:
                    ..style.blockInput:
                - type: label
                  text: Number of years using?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.tobacco.timesPerWeek
                  style:
                    ..style.blockInput:

            - type: label
              text: "Caffeine"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you have caffeine?"
              style:
                ..style.text:
            - type: list
              viewTag: caffeineYesNoTag
              contentType: listObject
              listObject: ..socialHistoryTemp.caffeine.yesNo
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.threeRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.threeClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:
            - type: view
              viewTag: caffeineTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.caffeine.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.caffeine.types
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many drinks per day?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.caffeine.timesPreDay
                  style:
                    ..style.blockInput:

            - type: label
              text: "Recreational Drugs"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you use illcit drugs?"
              style:
                ..style.text:
            - type: list
              viewTag: recreationalDrugsTag
              contentType: listObject
              listObject: ..socialHistoryTemp.recreationalDrugs.yesNo
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.fourRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.fourClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:
            - type: view
              viewTag: recreationalTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.recreationalDrug.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.recreationalDrug.drugsType
                  style:
                    ..style.blockInput:

            - type: label
              text: "Exercise"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you exercise?"
              style:
                ..style.text:
            - type: list
              viewTag: exerciseYesNoTag
              contentType: listObject
              listObject: ..socialHistoryTemp.exercise.yesNo
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.fiveRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.fiveClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:
            - type: view
              viewTag: exerciseYesNoTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.exercise.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.exercise.type
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many days per week?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.exercise.daysPerWeek
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many hours per day?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.exercise.hoursPerDay
                  style:
                    ..style.blockInput:

            - type: label
              text: "Nutrition/Diet"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you follow a diet?"
              style:
                ..style.text:
            - type: list
              viewTag: nutritionYesNoTag
              contentType: listObject
              listObject: ..socialHistoryTemp.nutrition.yesNo
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.sixRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.sixClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:
            - type: view
              viewTag: nutritionYesNoTag
              style:
                width: "auto"
                height: "auto"
                display: ..socialHistory.nutrition.isShow
              children:
                - type: label
                  text: What type?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.nutrition.type
                  style:
                    ..style.blockInput:
                - type: label
                  text: How many meals on average per day?
                  dataKey:
                  style:
                    ..style.regularLabel:
                - type: textField
                  placeholder: Enter here
                  dataKey: socialHistory.nutrition.mealsPerDay
                  style:
                    ..style.blockInput:

            - type: label
              text: "Personal Safety"
              style:
                ..style.secondLabel:
            - type: label
              text: "Do you live alone?"
              style:
                ..style.text:
            - type: list
              viewTag: liveAloneTag
              contentType: listObject
              listObject: ..socialHistoryTemp.personalSafety.liveAlone
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.sevenRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.sevenClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: label
              text: "Do you frequently fall?"
              style:
                ..style.text:
            - type: list
              viewTag: frequentlyFallTag
              contentType: listObject
              listObject: ..socialHistoryTemp.personalSafety.frequentlyFall
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.eightRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.eightClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: label
              text: "Need assistance walking?"
              style:
                ..style.text:
            - type: list
              viewTag: needAssistanceWalkingTag
              contentType: listObject
              listObject: ..socialHistoryTemp.personalSafety.needAssistanceWalking
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.nineRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.nineClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: label
              text: "Have you ever been abused?"
              style:
                ..style.text:
            - type: list
              viewTag: abusedTag
              contentType: listObject
              listObject: ..socialHistoryTemp.personalSafety.abused
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.tenRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.tenClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: label
              text: "Do you wear a seatbelt?"
              style:
                ..style.text:
            - type: list
              viewTag: seatBeltTag
              contentType: listObject
              listObject: ..socialHistoryTemp.personalSafety.seatBelt
              iteratorVar: itemObject
              style:
                ..style.radioList:
              children:
                - type: listItem
                  itemObject:
                  style:
                    ..style.radioListItem:
                  children:
                    - type: image
                      path:
                        ..event.elevenRadio:
                      style:
                        ..style.radioItemImg:
                      onClick:
                        - ..event.elevenClick
                    - type: label
                      text:
                      dataKey: itemObject.value
                      style:
                        ..style.radioItemValue:

            - type: view
              style:
                marginTop: "0.03"

    #底部
    - type: view
      style:
        ..style.btnBox:
      children:
        - type: view
          style:
            width: auto
            height: auto
          children:
            - type: view
              style:
                ..style.leftBox:
              onClick:
                - ..event.lastStep
              children:
                - type: image
                  path: leftStep.svg
                  style:
                    ..style.leftImg:
                - type: label
                  text: Last Step
                  style:
                    ..style.leftlabel:
            - type: button
              text: Done
              dataKey:
              style:
                ..style.nextBtn:
              onClick:
                - ..event.btnClick

    # 弹窗区域
    - .SuccessfulOneLine:
      message: Save Successfully!
      viewTag: saveSuccess
    - .TipsMultiLine:
      viewTag: warningView
      message: "Please complete the blank fields."
    - .Normal:
      message: "Do you want to save your changes?"
      viewTag: judgmentOperation
      leftButton:
        - actionType: evalObject
          object:
            - ..apiRequest.newChart.docReq@: =.Global.formData.PatientchartInfo

            - =.PatientChartSocialHistory.apiRequest.newChart.docAPI.store: ""
        - actionType: popUpDismiss
          popUpView: judgmentOperation
        - goto: PatientChart
      rightButton:
        - actionType: evalObject
          object:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.alcohol.drink
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.alcohol.types
                              - =..socialHistory.alcohol.timesPerWeek
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.alcohol.drink
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Alcohol Use:"
                      - =..socialHistory.alcohol.drink
                      - " "
                      - =..socialHistory.alcohol.types
                      - " "
                      - =..socialHistory.alcohol.timesPerWeek
                      - " per week"
                    dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Alcohol Use:"
                      - =..socialHistory.alcohol.drink
                    dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.tobacco.currently
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.tobacco.types
                              - =..socialHistory.tobacco.packs
                              - =..socialHistory.tobacco.timesPerWeek
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.tobacco.currently
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Tobacco Use:"
                      - =..socialHistory.tobacco.currently
                      - " "
                      - =..socialHistory.tobacco.types
                      - " "
                      - =..socialHistory.tobacco.packs
                      - " per day for "
                      - =..socialHistory.tobacco.timesPerWeek
                      - " years"
                    dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Tobacco Use:"
                      - =..socialHistory.tobacco.currently
                    dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.caffeine.haveCaffeine
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.caffeine.types
                              - =..socialHistory.caffeine.timesPreDay
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.caffeine.haveCaffeine
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Caffeine Use:"
                      - =..socialHistory.caffeine.haveCaffeine
                      - " "
                      - =..socialHistory.caffeine.types
                      - " "
                      - =..socialHistory.caffeine.timesPreDay
                      - " per day"
                    dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Caffeine Use:"
                      - =..socialHistory.caffeine.haveCaffeine
                    dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.recreationalDrug.drugsType
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Recreational Drug Use:"
                      - =..socialHistory.recreationalDrug.haveIllicitDrugs
                      - " "
                      - =..socialHistory.recreationalDrug.drugsType
                    dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Recreational Drug Use:"
                      - =..socialHistory.recreationalDrug.haveIllicitDrugs
                    dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.exercise.haveExercise
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.exercise.type
                              - =..socialHistory.exercise.hoursPerDay
                              - =..socialHistory.exercise.daysPerWeek
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.exercise.haveExercise
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Exercise Use:"
                      - =..socialHistory.exercise.haveExercise
                      - " "
                      - =..socialHistory.exercise.type
                      - " "
                      - =..socialHistory.exercise.hoursPerDay
                      - " hours per day for "
                      - =..socialHistory.exercise.daysPerWeek
                      - " day per week"
                    dataOut: PatientChartSocialHistory.socialHistory.exercise.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Exercise Use:"
                      - =..socialHistory.exercise.haveExercise
                    dataOut: PatientChartSocialHistory.socialHistory.exercise.display
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.nutrition.haveDiet
                      string2: "Yes"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.array.allComplete:
                            dataIn:
                              - =..socialHistory.nutrition.type
                              - =..socialHistory.nutrition.mealsPerDay
                        - ..formData.flag@: false
                        - ..formData.flag@: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.nutrition.haveDiet
                      string2: "Yes"
                - =.builtIn.string.concat:
                    dataIn:
                      - "Nutrition/Diet Use:"
                      - =..socialHistory.nutrition.haveDiet
                      - " "
                      - =..socialHistory.nutrition.type
                      - " "
                      - =..socialHistory.nutrition.mealsPerDay
                      - " per day"
                    dataOut: PatientChartSocialHistory.socialHistory.nutrition.display
                - =.builtIn.string.concat:
                    dataIn:
                      - "Nutrition/Diet Use:"
                      - =..socialHistory.nutrition.haveDiet
                    dataOut: PatientChartSocialHistory.socialHistory.nutrition.display

        - actionType: popUpDismiss
          popUpView: judgmentOperation
        - actionType: evalObject
          object:
            - if:
                - =..formData.flag
                - actionType: popUp
                  popUpView: warningView
                  wait: true
                - continue
        - actionType: evalObject
          object:
            - .Global.formData.PatientchartInfo.name.data.socialHistory@: =..socialHistory
            - ..apiRequest.newChart.docReq@: =.Global.formData.PatientchartInfo

            - =.PatientChartSocialHistory.apiRequest.newChart.docAPI.store: ""
        - goto: PatientChart
  event:
    oneRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    oneClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.alcohol.drink
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.alcohol
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.alcohol
                      key: $var.key
                      value: $var.value

      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: "Yes"
              - ..socialHistory.alcohol.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.alcohol.isShow@: "none"
                  - ..socialHistory.alcohol.types@: ""
                  - ..socialHistory.alcohol.timesPerWeek@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: drinkTag
    twoRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    twoClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.tobacco.currently
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.tobacco
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.tobacco
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: "Yes"
              - ..socialHistory.tobacco.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.tobacco.isShow@: "none"
                  - ..socialHistory.tobacco.types@: ""
                  - ..socialHistory.tobacco.packs@: ""
                  - ..socialHistory.tobacco.timesPerWeek@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: tobaccoYesNoTag
      - actionType: builtIn
        funcName: redraw
        viewTag: tobaccoTag
    threeRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    threeClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.caffeine.haveCaffeine
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.caffeine
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.caffeine
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: "Yes"
              - ..socialHistory.caffeine.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.caffeine.isShow@: "none"
                  - ..socialHistory.caffeine.types@: ""
                  - ..socialHistory.caffeine.timesPreDay@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: caffeineYesNoTag
      - actionType: builtIn
        funcName: redraw
        viewTag: caffeineTag
    fourRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    fourClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.recreationalDrug
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.recreationalDrug
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: "Yes"
              - ..socialHistory.recreationalDrug.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.recreationalDrug.isShow@: "none"
                  - ..socialHistory.recreationalDrug.drugsType@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: recreationalDrugsTag
      - actionType: builtIn
        funcName: redraw
        viewTag: recreationalTag
    fiveRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    fiveClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.exercise.haveExercise
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.exercise
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.exercise
                      key: $var.key
                      value: $var.value

      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: "Yes"
              - ..socialHistory.exercise.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.exercise.isShow@: "none"
                  - ..socialHistory.exercise.type@: ""
                  - ..socialHistory.exercise.daysPerWeek@: ""
                  - ..socialHistory.exercise.hoursPerDay@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: exerciseYesNoTag
    sixRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    sixClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.nutrition.haveDiet
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.nutrition
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.nutrition
                      key: $var.key
                      value: $var.value
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: "Yes"
              - ..socialHistory.nutrition.isShow@: "block"
              - actionType: evalObject
                object:
                  - ..socialHistory.nutrition.isShow@: "none"
                  - ..socialHistory.nutrition.type@: ""
                  - ..socialHistory.nutrition.mealsPerDay@: ""
      - actionType: builtIn
        funcName: redraw
        viewTag: nutritionYesNoTag
    sevenRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.personalSafety.liveAlone
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    sevenClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.personalSafety.liveAlone
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: liveAloneTag
    eightRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.personalSafety.frequentlyFall
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    eightClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.personalSafety.frequentlyFall
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: frequentlyFallTag
    nineRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.personalSafety.needAssistanceWalking
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    nineClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.personalSafety.needAssistanceWalking
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: needAssistanceWalkingTag
    tenRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.personalSafety.abused
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    tenClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.personalSafety.abused
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: abusedTag
    elevenRadio:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.personalSafety.seatBelt
                    string2: $var.value
              - radioOn.svg
              - radioOff.svg
    elevenClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..socialHistory.personalSafety.seatBelt
                      string2: $var.value
                - =.builtIn.object.clear:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                - =.builtIn.object.set:
                    dataIn:
                      object: =..socialHistory.personalSafety
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: seatBeltTag

    backClick:
      - actionType: popUp
        popUpView: judgmentOperation
        wait: true

    lastStep:
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.alcohol.types
                            - =..socialHistory.alcohol.timesPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Alcohol Use:"
                    - =..socialHistory.alcohol.drink
                    - " "
                    - =..socialHistory.alcohol.types
                    - " "
                    - =..socialHistory.alcohol.timesPerWeek
                    - " per week"
                  dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Alcohol Use:"
                    - =..socialHistory.alcohol.drink
                  dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.tobacco.types
                            - =..socialHistory.tobacco.packs
                            - =..socialHistory.tobacco.timesPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Tobacco Use:"
                    - =..socialHistory.tobacco.currently
                    - " "
                    - =..socialHistory.tobacco.types
                    - " "
                    - =..socialHistory.tobacco.packs
                    - " per day for "
                    - =..socialHistory.tobacco.timesPerWeek
                    - " years"
                  dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Tobacco Use:"
                    - =..socialHistory.tobacco.currently
                  dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.caffeine.types
                            - =..socialHistory.caffeine.timesPreDay
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Caffeine Use:"
                    - =..socialHistory.caffeine.haveCaffeine
                    - " "
                    - =..socialHistory.caffeine.types
                    - " "
                    - =..socialHistory.caffeine.timesPreDay
                    - " per day"
                  dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Caffeine Use:"
                    - =..socialHistory.caffeine.haveCaffeine
                  dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.recreationalDrug.drugsType
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Recreational Drug Use:"
                    - =..socialHistory.recreationalDrug.haveIllicitDrugs
                    - " "
                    - =..socialHistory.recreationalDrug.drugsType
                  dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Recreational Drug Use:"
                    - =..socialHistory.recreationalDrug.haveIllicitDrugs
                  dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.exercise.type
                            - =..socialHistory.exercise.hoursPerDay
                            - =..socialHistory.exercise.daysPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Exercise Use:"
                    - =..socialHistory.exercise.haveExercise
                    - " "
                    - =..socialHistory.exercise.type
                    - " "
                    - =..socialHistory.exercise.hoursPerDay
                    - " hours per day for "
                    - =..socialHistory.exercise.daysPerWeek
                    - " day per week"
                  dataOut: PatientChartSocialHistory.socialHistory.exercise.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Exercise Use:"
                    - =..socialHistory.exercise.haveExercise
                  dataOut: PatientChartSocialHistory.socialHistory.exercise.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.nutrition.type
                            - =..socialHistory.nutrition.mealsPerDay
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Nutrition/Diet Use:"
                    - =..socialHistory.nutrition.haveDiet
                    - " "
                    - =..socialHistory.nutrition.type
                    - " "
                    - =..socialHistory.nutrition.mealsPerDay
                    - " per day"
                  dataOut: PatientChartSocialHistory.socialHistory.nutrition.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Nutrition/Diet Use:"
                    - =..socialHistory.nutrition.haveDiet
                  dataOut: PatientChartSocialHistory.socialHistory.nutrition.display
      - actionType: evalObject
        object:
          - .Global.formData.PatientchartInfo.name.data.socialHistory@: =..socialHistory
      - actionType: builtIn
        funcName: goBack
        reload: true

    btnClick:
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.alcohol.types
                            - =..socialHistory.alcohol.timesPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.alcohol.drink
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Alcohol Use:"
                    - =..socialHistory.alcohol.drink
                    - " "
                    - =..socialHistory.alcohol.types
                    - " "
                    - =..socialHistory.alcohol.timesPerWeek
                    - " per week"
                  dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Alcohol Use:"
                    - =..socialHistory.alcohol.drink
                  dataOut: PatientChartSocialHistory.socialHistory.alcohol.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.tobacco.types
                            - =..socialHistory.tobacco.packs
                            - =..socialHistory.tobacco.timesPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.tobacco.currently
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Tobacco Use:"
                    - =..socialHistory.tobacco.currently
                    - " "
                    - =..socialHistory.tobacco.types
                    - " "
                    - =..socialHistory.tobacco.packs
                    - " per day for "
                    - =..socialHistory.tobacco.timesPerWeek
                    - " years"
                  dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Tobacco Use:"
                    - =..socialHistory.tobacco.currently
                  dataOut: PatientChartSocialHistory.socialHistory.tobacco.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.caffeine.types
                            - =..socialHistory.caffeine.timesPreDay
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.caffeine.haveCaffeine
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Caffeine Use:"
                    - =..socialHistory.caffeine.haveCaffeine
                    - " "
                    - =..socialHistory.caffeine.types
                    - " "
                    - =..socialHistory.caffeine.timesPreDay
                    - " per day"
                  dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Caffeine Use:"
                    - =..socialHistory.caffeine.haveCaffeine
                  dataOut: PatientChartSocialHistory.socialHistory.caffeine.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.recreationalDrug.drugsType
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.recreationalDrug.haveIllicitDrugs
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Recreational Drug Use:"
                    - =..socialHistory.recreationalDrug.haveIllicitDrugs
                    - " "
                    - =..socialHistory.recreationalDrug.drugsType
                  dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Recreational Drug Use:"
                    - =..socialHistory.recreationalDrug.haveIllicitDrugs
                  dataOut: PatientChartSocialHistory.socialHistory.recreationalDrug.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.exercise.type
                            - =..socialHistory.exercise.hoursPerDay
                            - =..socialHistory.exercise.daysPerWeek
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.exercise.haveExercise
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Exercise Use:"
                    - =..socialHistory.exercise.haveExercise
                    - " "
                    - =..socialHistory.exercise.type
                    - " "
                    - =..socialHistory.exercise.hoursPerDay
                    - " hours per day for "
                    - =..socialHistory.exercise.daysPerWeek
                    - " day per week"
                  dataOut: PatientChartSocialHistory.socialHistory.exercise.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Exercise Use:"
                    - =..socialHistory.exercise.haveExercise
                  dataOut: PatientChartSocialHistory.socialHistory.exercise.display
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: "Yes"
              - actionType: evalObject
                object:
                  - if:
                      - =.builtIn.array.allComplete:
                          dataIn:
                            - =..socialHistory.nutrition.type
                            - =..socialHistory.nutrition.mealsPerDay
                      - continue
                      - actionType: popUp
                        popUpView: warningView
                        wait: true
              - continue
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..socialHistory.nutrition.haveDiet
                    string2: "Yes"
              - =.builtIn.string.concat:
                  dataIn:
                    - "Nutrition/Diet Use:"
                    - =..socialHistory.nutrition.haveDiet
                    - " "
                    - =..socialHistory.nutrition.type
                    - " "
                    - =..socialHistory.nutrition.mealsPerDay
                    - " per day"
                  dataOut: PatientChartSocialHistory.socialHistory.nutrition.display
              - =.builtIn.string.concat:
                  dataIn:
                    - "Nutrition/Diet Use:"
                    - =..socialHistory.nutrition.haveDiet
                  dataOut: PatientChartSocialHistory.socialHistory.nutrition.display
      - actionType: evalObject
        object:
          - .Global.formData.PatientchartInfo.name.data.socialHistory@: =..socialHistory
          - ..apiRequest.newChart.docReq@: =.Global.formData.PatientchartInfo

      - actionType: evalObject
        object:
          - =.PatientChartSocialHistory.apiRequest.newChart.docAPI.store: ""
      - actionType: popUp
        popUpView: saveSuccess
        wait: 1000
      - actionType: evalObject
        object:
          .Global._nonce@:
            =.builtIn.math.random: ""
      - goto: PatientChart

  style: #Input style fragment here
    formatting:
      margin: "0"
      padding: "0"
      height: "1"
      width: "1"
      overflow: hidden
      boxSizing: border-box

      color: "0x333333"
      fontSize: .Nfont.h16
    bodyBox:
      width: "auto"
      height: "0.84729"
    backLeft:
      marginLeft: "0.04"
      display: "inline-block"
      verticalAlign: middle
      height: "0.055"
      boxSizing: border-box
    backLeftImg:
      marginTop: "0.012"
      height: "0.0295"
    viewBox:
      marginLeft: "0.04"
      height: "auto"
      width: "0.92"
      overflow: hidden

    titleBox:
      marginTop: "0.0270"
      paddingBottom: "1.23vh"
      width: "0.92"
      height: "auto"
      border:
        style: 2
      borderWidth: "1"
      borderColor: "#dedede"
    titlelabel:
      display: "inline-block"
      fontSize: .Nfont.h16
      color: "0x333333"
      width: "0.753125"
      height: "auto"
      fontWeight: "700"
      verticalAlign: top
      lineHeight: "2.95vh"
    regularLabel:
      marginTop: "0.027093"
      color: "0x333333"
      width: "0.753125"
      height: "auto"
      fontSize: .Nfont.h14
    dateBox:
      display: "inline-block"
      width: "0.4986"
      height: "0.0369"
      border:
        style: 3
      borderColor: "#dededf"
      boxSizing: border-box
      borderWidth: "1.5"
      borderRadius: "3"
    dateInput:
      display: "inline-block"
      border:
        style: 1
      boxSizing: border-box
      color: "#333333"
      fontSize: .Nfont.h14
      height: "0.03078"
      verticalAlign: middle
      textIndent: "12px"
      width: "0.4266"
      backgroundColor: "#ffffff"
    dateImg:
      display: "inline-block"
      verticalAlign: middle
      height: "0.02"
    pageNum:
      marginLeft: "0.05"
      display: "inline-block"
      height: "0.0221"
      width: "auto"
      backgroundColor: "0x2988e6"
      color: "0xffffff"
      fontSize: .Nfont.h14
      fontWeight: "700"
      borderRadius: "3"
      verticalAlign: top
      textAlign:
        x: center
    scrollBox:
      marginLeft: "0.04"
      width: "0.92"
      height: "0.7832"
      boxSizing: border-box
      overflow: scroll
    blockBox:
      marginTop: "0.01"
      height: "auto"
      width: "0.92"
    blockBoxTitle:
      display: "inline-block"
      width: "0.42"
      height: "auto"
      verticalAlign: middle
      color: "#333333"
      fontSize: .Nfont.h14
    blockBoxLeft:
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x666666"
      fontSize: .Nfont.h12
      verticalAlign: middle
    blockBoxRight:
      marginLeft: "0.0373"
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x333333"
      fontSize: .Nfont.h14
      fontWeight: "600"
      verticalAlign: middle
    secondLabel:
      width: "0.92"
      fontSize: .Nfont.h14
      fontWeight: "700"
      color: "0x333333"
      marginTop: "0.0246"
      lineHeight: "2.58vh"
    text:
      marginTop: "0.0172"
      height: "auto"
      width: "0.92"
      fontSize: .Nfont.h14
      lineHeight: "2.58vh"
      wordWrap: break-word
    list:
      width: "0.92"
      margin: "0"
      height: auto
      boxSizing: border-box
      overflow: hidden
    listItem:
      display: "inline-block"
      width: "0.425"
      height: "auto"
      marginTop: "0.01724"
      boxSizing: border-box
    itemImg:
      left: "0.082"
      display: "inline-block"
      width: "0.0442"
      verticalAlign: middle

    contentBox:
      # display: "none"
      width: "auto"
      height: "auto"
      overflow: hidden
    describeInput:
      marginTop: "0.0197"
      height: "0.1"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
    blockInput:
      marginTop: "0.01108"
      height: "0.0369"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
    radioList:
      margin: "0"
      marginTop: "0.01477"
      width: "0.9"
      axis: horizontal
      height: auto
      boxSizing: border-box
      overflow: hidden
    radioListItem:
      display: "inline-block"
      width: "0.2666"
      height: "auto"
      boxSizing: border-box
    radioItemImg:
      display: "inline-block"
      width: "0.0442"
      verticalAlign: middle
    radioItemValue:
      marginLeft: "0.032"
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "auto"
      height: "auto"
      verticalAlign: middle
    itemValue:
      marginLeft: "0.108"
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "auto"
      height: "auto"
      verticalAlign: middle
    btnBox:
      height: "0.0972"
      width: "1"
      backgroundColor: "0xffffff"
      boxSizing: border-box

      boxShadow: "1px 1px 4px 1px #dededf"
      overflow: hidden
    leftBox:
      marginLeft: "0.05"
      display: "inline-block"
      verticalAlign: middle
      height: "auto"
      width: "auto"
      marginTop: "0.0123"
    leftImg:
      verticalAlign: middle
      display: "inline-block"
      height: "0.02955"
    leftlabel:
      marginLeft: "0.02"
      verticalAlign: middle
      display: "inline-block"
      width: "auto"
      height: "auto"
      fontSize: .Nfont.h14
      color: "0x2988e6"
      fontWeight: "600"
    nextBtn:
      marginTop: "0.0123"
      marginLeft: "0.156"
      display: "inline-block"
      verticalAlign: middle
      height: "0.045"
      width: "0.45333"
      border:
        style: 1
      borderRadius: "5"
      backgroundColor: "0x2988e6"
      color: "0xffffff"
      fontSize: .Nfont.h14
      fontWeight: 600
      textAlign:
        x: center
