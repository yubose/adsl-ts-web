FluVaccinationConsentFormSpanishPrivate:
  title: Flu Vaccination Consent Form 2020-2021(Spanish)
  appointmentInfo: .Global.roomInfo.edge
  init: #Page initialization
    - .SignInCheck
    # 判断是否签名
    - actionType: evalObject
      object:
        - if:
            - =.FluVaccinationConsentFormSpanishPrivate.apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.whetherSign
            - continue
            # 非空修改显示的标识,刷新签名区域
            - actionType: evalObject
              object:
                # 签名的时间
                - ..formData.temporarySignature@: =.FluVaccinationConsentFormSpanishPrivate.apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.signatureId
                - ..formData.flag@: "block"
                - actionType: builtIn
                  funcName: redraw
                  viewTag: signatureTag
    - =.builtIn.string.concat:
        dataIn:
          - =.Global.MyProfile.name.data.fullName
          - ","
          - =.Global.MyProfile.name.data.title
        dataOut: FluVaccinationConsentFormSpanishPrivate.apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.providerInfo.providerFullName
    - actionType: evalObject
      object:
        - ..formData.selectStatusOne.Vaccination.isRequired@: .Global.DocReference.document.name.data.fluVaccinationInfo.VaccinationConsentOne.isRequired
        - ..formData.selectStatusTwo.Vaccination.isRequired@: .Global.DocReference.document.name.data.fluVaccinationInfo.VaccinationConsentTwo.isRequired
        - ..formData.selectStatusThree.Vaccination.isRequired@: .Global.DocReference.document.name.data.fluVaccinationInfo.VaccinationConsentThree.isRequired
        - ..formData.selectStatusFour.Vaccination.isRequired@: .Global.DocReference.document.name.data.fluVaccinationInfo.VaccinationConsentFour.isRequired
        - ..formData.isClaimsAd@: .Global.DocReference.document.name.data.fluVaccinationInfo.certifyCheck
        - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.companyName@: .Global.DocReference.document.name.data.fluVaccinationInfo.companyName
  formData: #Input data here
    whetherSign: ""
    flag: "none"
    temporarySignature: ""
    isClaimsAd: ""
    companyName: ""
    selectStatusOne:
      Vaccination:
        isRequired: ""
    selectStatusTwo:
      Vaccination:
        isRequired: ""
    selectStatusThree:
      Vaccination:
        isRequired: ""
    selectStatusFour:
      Vaccination:
        isRequired: ""
    selectStatusInjection:
      # isRequired: false
      isRequired: ""

  formDataTemp: #Input data temp here, datatemp should not mix with formData
    isClaimsAd: false
    VaccinationConsentOne:
      - key: isRequired
        value: "Yes"
      - key: isRequired
        value: "No"
    VaccinationConsentTwo:
      - key: isRequired
        value: "Yes"
      - key: isRequired
        value: "No"
    VaccinationConsentThree:
      - key: isRequired
        value: "Yes"
      - key: isRequired
        value: "No"
    VaccinationConsentFour:
      - key: isRequired
        value: "Yes"
      - key: isRequired
        value: "No"
  apiRequest: #Input data request here
    # 签名文档
    newSign:
      docResp: ""
      docReq: #DOC
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.rootNotebookID
        fid: ""
        subtype:
          mediaType: "" # mediaType : "image/jpeg"
      docAPI: # DOCAPI
        .DocAPI: ""
        store:
          api: cd
          dataIn: FluVaccinationConsentFormSpanish.apiRequest.newSign.docReq
          dataOut: FluVaccinationConsentFormSpanish.apiRequest.newSign.docResp

    # FluVaccinationConsentFormSpanish文档
    FluVaccinationConsentFormSpanish:
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.roomInfo.edge.id
        type: .DocType.FluVaccinationConsentFormSpanish
        name:
          title: "Flu Vaccination Consent Form 2020-2021(Spanish)"
          user: .Global.currentUser.vertex.name.userName
          type: "text/plain"
          subtype: "0" #0是未完成，1是完成
          data:
            signatureId: ""
            whetherSign: ""
            fontcolor: ""
            authority: ""
            facilityInfo:
              facilityName: .Global.currentFacility.name.data.basicInfo.medicalFacilityName
              location: .Global.currentFacility.name.data.basicInfo.location
              email: .Global.currentFacility.name.data.basicInfo.email
              aiTmedID: .Global.currentFacility.name.data.basicInfo.locationID
              phone: .Global.currentFacility.name.data.basicInfo.phoneNumber
              fax: ""
            providerInfo:
              providerFullName: ""
              signDate: ""
            patientInfo:
              examDate: .FluVaccinationConsentFormSpanish.appointmentInfo.stime
              patientName: .Global.currentMeetingPatientProfile.fullName
              dob: .Global.currentMeetingPatientProfile.birth
              aiTmedID: .Global.currentMeetingPatientProfile.userName
              phone: .Global.currentMeetingPatientProfile.phone
              email: .Global.currentMeetingPatientProfile.email
            fluVaccinationInfo:
              officeUseDescription:
                Lot: ""
                Exp: ""
                Nurse: ""
                locationOfInjection: ""
              companyName: ""
              VaccinationConsentOne: ""
              VaccinationConsentTwo: ""
              VaccinationConsentThree: ""
              VaccinationConsentFour: ""
              certifyCheck: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: FluVaccinationConsentFormSpanish.apiRequest.FluVaccinationConsentFormSpanish.docReq
          dataOut: FluVaccinationConsentFormSpanish.apiRequest.FluVaccinationConsentFormSpanish.docResp
          subtype:
            mediaType: "text/plain"
        get:
          api: rd
          dataKey: FluVaccinationConsentFormSpanish.docResp
          id: .Global.Note.id
          xfname: eid
          type: .DocType.FluVaccinationConsentFormSpanish
          maxcount: "1"
        delete:
          api: dx
          dataIn: FluVaccinationConsentFormSpanish.apiRequest.FluVaccinationConsentFormSpanish.docReq

  components:
    - .BaseHeader:
    - .HeaderLeftButton:
    - type: scrollView
      style:
        top: "0.1"
        left: "0"
        width: "1"
        height: "0.8"
        overflow: scroll
      children:
        - type: view
          style:
            height: "auto"
            width: "0.9"
            left: "0.05"
          children:
            - type: view
              style:
                marginTop: "0.04"
                height: "0.15"
                width: "0.9"
              children:
                - type: view
                  style:
                    top: "0"
                    left: "0.25"
                    height: "auto"
                    width: "0.65"
                    overflow: hidden
                  children:
                    - type: label
                      # text: A&C Urgent Care
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.facilityName
                      style:
                        height: "auto"
                        width: "0.65"
                        color: "0x0f0f0f"
                        fontSize: .Nfont.h4

                    - type: label
                      # text: 1000 S Anaheim Blvd Ste 200 Anaheim, CA 92805
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.location
                      style:
                        marginTop: "0.01"
                        height: "auto"
                        width: "0.63"
                        color: "0x0f0f0f"
                        fontSize: .Nfont.h1

                    - type: label
                      text: www.website.com
                      dataKey:
                      style:
                        marginTop: "0.01"
                        height: "auto"
                        width: "0.65"
                        color: "0x0f0f0f"
                        fontSize: .Nfont.h1

                - type: view
                  style:
                    top: "0"
                    left: "0"
                    height: "0.1"
                    width: "0.22"
                  children:
                    - type: image
                      path: hospital.png
                      dataKey:
                      style:
                        height: "0.1"
                        width: "0.22"
            - type: view
              style:
                height: "auto"
                width: "0.9"
                left: "0"
                # backgroundColor: 'pink'
              children:
                - type: view
                  style:
                    marginTop: "0"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      # text: loremipsum@dictew.com
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.email
                      style:
                        left: "0.13"
                        width: "0.72"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Email
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.12"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      # text: A&Curgentcare
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.aiTmedID
                      style:
                        left: "0.21"
                        width: "0.6"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: AiTmed ID
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.2"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.phone
                      style:
                        left: "0.15"
                        width: "0.65"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Phone
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.15"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.facilityInfo.fax
                      style:
                        left: "0.1"
                        width: "0.7"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Fax
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.1"
                        fontSize: .Nfont.h1

                        color: "0x757575"
            - type: view
              style:
                marginTop: "0.03"
                left: "0"
                width: "0.9"
                height: "0.01"
                backgroundColor: "0x707070"
        - type: view
          style:
            height: "auto"
            width: "0.9"
            left: "0.05"
          children:
            - type: view
              style:
                marginTop: "0.02"
                height: "auto"
                width: "0.9"
                left: "0"
                # backgroundColor: 'pink'
              children:
                - type: view
                  style:
                    marginTop: "0"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      text=func: .builtIn.string.formatUnixtime_en
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.examDate
                      style:
                        left: "0.23"
                        width: "0.6"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Exam Date
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.22"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      # text: Melissa L. West
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.patientName
                      style:
                        left: "0.3"
                        width: "0.55"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Patient Name
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.27"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.dob
                      # text: 02/13/1994
                      style:
                        left: "0.15"
                        width: "0.65"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: DOB
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.15"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.aiTmedID
                      style:
                        left: "0.26"
                        width: "0.59"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: AiTmed ID
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.25"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.phone
                      style:
                        left: "0.16"
                        width: "0.75"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Phone
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.15"
                        fontSize: .Nfont.h1

                        color: "0x757575"
                - type: view
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.85"
                    height: "0.03"
                  children:
                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.patientInfo.email
                      style:
                        left: "0.14"
                        width: "0.71"
                        fontSize: .Nfont.h1
                        wordWrap: break-word

                        color: "0x0f0f0f"
                    - type: label
                      text: Email
                      style:
                        top: "0"
                        left: "0"
                        height: "auto"
                        width: "0.13"
                        fontSize: .Nfont.h1

                        color: "0x757575"
            - type: view
              style:
                marginTop: "0.03"
                left: "0"
                width: "0.9"
                height: "0.01"
                backgroundColor: "0x707070"
        - type: view
          style:
            marginTop: "0.04"
            height: "auto"
            width: "0.9"
            left: "0.05"
          children:
            - type: label
              text: "Company Name/Referred by"
              dataKey:
              style:
                height: "auto"
                width: "0.9"
                color: "0x0f0f0f"
                fontSize: .Nfont.h1
                fontStyle: bold

            - type: view
              style:
                marginTop: "0.02"
                height: "0.05"
                width: "0.9"
              children:
                - .BaseTextField:
                  placeholder: "Enter here"
                  dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.companyName
                  style:
                    top: "0"
                    left: "0"
                    width: "0.885"
                    height: "0.03"
                    fontSize: .Nfont.h1

                    color: "0x0f0f0f"
                    borderRadius: "3"
        - type: view
          style:
            marginTop: "0.02"
            left: "0.05"
            width: "0.9"
            height: "0.01"
            backgroundColor: "0x707070"
        - type: view
          style:
            marginTop: "0.02"
            width: "0.9"
            height: "auto"
            left: "0.05"
          children:
            - type: label
              text: "FORMA DE CONSENTIMIENTO PARA VACUNARSE CONTRA LA GRIPA"
              style:
                width: "0.8"
                left: "0.05"
                height: "auto"
                fontSize: .Nfont.h15

                fontStyle: bold
                color: "0x0f0f0f"
                textAlign:
                  x: center
                  y: center
            - type: view
              style:
                left: "0"
                width: "0.9"
                marginTop: "0.02"
              children:
                - type: view
                  style:
                    left: "0"
                    width: "0.9"
                  children:
                    - type: label
                      text: "HAS TENDO ALGUNO DE LO SIGUIENTE?"
                      style:
                        fontSize: .Nfont.h1

                        fontWeight: "550"
                        color: "0x0f0f0f"
                - type: view
                  style:
                    left: "0"
                    width: "0.9"
                    marginTop: "0.01"
                  children:
                    - type: label
                      text: "1) REACCION ALERGICA A HUEVOS DE GALLINA?"
                      style:
                        fontSize: .Nfont.h1

                        color: "0x0f0f0f"
                    - type: list
                      contentType: listObject
                      listObject: ..formDataTemp.VaccinationConsentOne
                      iteratorVar: itemObject
                      viewTag: isRequiredGeactionTag
                      style:
                        left: "0.045"
                        width: "0.35"
                        height: "0.04"
                        axis: horizontal
                      children:
                        - type: listItem
                          itemObject:
                          style:
                            width: "0.175"
                            height: "0.06"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                left: "0"
                                height: "0.025"
                              path:
                                emit:
                                  dataKey:
                                    var: itemObject
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusOne.Vaccination.isRequired
                                              string2: $var.value
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg
                              onClick:
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =..formData.selectStatusOne.Vaccination.isRequired
                                                string2: $var.value
                                          - =.builtIn.object.clear:
                                              dataIn:
                                                object: =..formData.selectStatusOne.Vaccination
                                                key: $var.key
                                          - =.builtIn.object.set:
                                              dataIn:
                                                object: =..formData.selectStatusOne.Vaccination
                                                key: $var.key
                                                value: $var.value
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: isRequiredGeactionTag

                            - type: label
                              dataKey: itemObject.value
                              style:
                                top: "0"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.1"
                                textAlign:
                                  y: center

                - type: view
                  style:
                    left: "0"
                    width: "0.9"
                    marginTop: "0"
                  children:
                    - type: label
                      text: "2) REACCION ALERGICA A LA VACUNA DE LAGRIPA O CUALQUIER OTRO TIPO DE INMUNIZACION?"
                      style:
                        fontSize: .Nfont.h1

                        color: "0x0f0f0f"
                    - type: list
                      contentType: listObject
                      listObject: ..formDataTemp.VaccinationConsentTwo
                      iteratorVar: itemObject
                      viewTag: isRequiredShotTag
                      style:
                        # top: "0.01"
                        left: "0.045"
                        width: "0.35"
                        height: "0.04"
                        axis: horizontal
                      children:
                        - type: listItem
                          itemObject:
                          style:
                            width: "0.175"
                            height: "0.06"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                left: "0"
                                height: "0.025"
                              path:
                                emit:
                                  dataKey:
                                    var: itemObject
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusTwo.Vaccination.isRequired
                                              string2: $var.value
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg
                              onClick:
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =..formData.selectStatusTwo.Vaccination.isRequired
                                                string2: $var.value
                                          - =.builtIn.object.clear:
                                              dataIn:
                                                object: =..formData.selectStatusTwo.Vaccination
                                                key: $var.key
                                          - =.builtIn.object.set:
                                              dataIn:
                                                object: =..formData.selectStatusTwo.Vaccination
                                                key: $var.key
                                                value: $var.value
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: isRequiredShotTag

                            - type: label
                              dataKey: itemObject.value
                              style:
                                top: "0"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.1"
                                textAlign:
                                  y: center

                - type: view
                  style:
                    left: "0"
                    width: "0.9"
                    marginTop: "0"
                  children:
                    - type: label
                      text: "3) REACCION ALERGICA A CUALQUER MEDICAMIENTOO DROGA?"
                      style:
                        fontSize: .Nfont.h1

                        wordWrap: break-word
                        # width: "0.9"
                        color: "0x0f0f0f"
                    - type: list
                      contentType: listObject
                      listObject: ..formDataTemp.VaccinationConsentThree
                      iteratorVar: itemObject
                      viewTag: isRequiredMedicationTag
                      style:
                        # top: "0.01"
                        left: "0.045"
                        width: "0.35"
                        height: "0.04"
                        axis: horizontal
                      children:
                        - type: listItem
                          itemObject:
                          style:
                            width: "0.175"
                            height: "0.06"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                left: "0"
                                height: "0.025"
                              path:
                                emit:
                                  dataKey:
                                    var: itemObject
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusThree.Vaccination.isRequired
                                              string2: $var.value
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg
                              onClick:
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =..formData.selectStatusThree.Vaccination.isRequired
                                                string2: $var.value
                                          - =.builtIn.object.clear:
                                              dataIn:
                                                object: =..formData.selectStatusThree.Vaccination
                                                key: $var.key
                                          - =.builtIn.object.set:
                                              dataIn:
                                                object: =..formData.selectStatusThree.Vaccination
                                                key: $var.key
                                                value: $var.value
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: isRequiredMedicationTag

                            - type: label
                              dataKey: itemObject.value
                              style:
                                top: "0"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.1"
                                textAlign:
                                  y: center

                - type: view
                  style:
                    left: "0"
                    width: "0.9"
                    marginTop: "0"
                  children:
                    - type: label
                      text: "4) ESTAS O PUEDES ESTAR EMBARAZADA?"
                      style:
                        fontSize: .Nfont.h1

                        wordWrap: break-word
                        # width: "0.9"
                        color: "0x0f0f0f"
                    - type: list
                      contentType: listObject
                      listObject: ..formDataTemp.VaccinationConsentFour
                      iteratorVar: itemObject
                      viewTag: isRequiredPregnantTag
                      style:
                        # top: "0.01"
                        left: "0.045"
                        width: "0.35"
                        height: "0.04"
                        axis: horizontal
                      children:
                        - type: listItem
                          itemObject:
                          style:
                            width: "0.175"
                            height: "0.06"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                left: "0"
                                height: "0.025"
                              path:
                                emit:
                                  dataKey:
                                    var: itemObject
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusFour.Vaccination.isRequired
                                              string2: $var.value
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg
                              onClick:
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - if:
                                          - =.builtIn.string.equal:
                                              dataIn:
                                                string1: =..formData.selectStatusFour.Vaccination.isRequired
                                                string2: $var.value
                                          - =.builtIn.object.clear:
                                              dataIn:
                                                object: =..formData.selectStatusFour.Vaccination
                                                key: $var.key
                                          - =.builtIn.object.set:
                                              dataIn:
                                                object: =..formData.selectStatusFour.Vaccination
                                                key: $var.key
                                                value: $var.value
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: isRequiredPregnantTag

                            - type: label
                              dataKey: itemObject.value
                              style:
                                top: "0"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.1"
                                textAlign:
                                  y: center

            - type: view
              style:
                width: "0.9"
                height: "auto"
                left: "0"
                marginTop: "0.02"
              children:
                - type: image
                  viewTag: claimsAdstatusSelectTag
                  style:
                    top: "0.003"
                    height: "0.025"
                  path:
                    emit:
                      actions:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formDataTemp.isClaimsAd
                                  string2: true
                            - selectOnBlue.svg
                            - selectOffBlue.svg
                  onClick:
                    - actionType: evalObject
                      object:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: =..formDataTemp.isClaimsAd
                                  string2: true
                            - ..formDataTemp.isClaimsAd@: false
                            - ..formDataTemp.isClaimsAd@: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: claimsAdstatusSelectTag

                - type: label
                  text: "Certifico que todas las repuestas son
                    verdadera y correctas en mi mejor conocimiento.
                    Voluntariamente pido una vacuna contra la gripa
                    de Golden West Medical Center. Comprendo que hay
                    posibilidades remotas de una reaccion adversa o
                    cualquier otras complicaciones de la vacuna de la
                    gripa. Voluntariamente estoy de acuerdo de asumir
                    cualquier riesgo asociado con la administacion de
                    la inyeccion contra la gripa. No hago responsable
                    a Golden West Medical Center de cualquier
                    responsabilidad, por culaquier dano que pudiera
                    pasarme mientras participo en el programa de
                    vacunacion contra la gripa."
                  style:
                    width: "0.8"
                    height: "auto"

                    fontSize: .Nfont.h0
                    left: "0.07"

            - type: view
              style:
                left: "0"
                width: "0.9"
                marginTop: "0.03"

              children:
                - type: label
                  text: "Signature / Firma"
                  style:
                    height: "auto"
                    width: "0.4"
                    fontSize: .Nfont.h1
                    fontStyle: "bold"

                    display: "inline-block"
                # 清除签名
                - type: label
                  text: Clear
                  style:
                    # top: "0"
                    # left: "0"
                    float: "right"

                    fontSize: .Nfont.h1
                    height: auto
                    width: "0.1"
                    color: "0xff0000"
                    zIndex: "1000"
                  onClick:
                    - actionType: removeSignature
                      dataObject: BLOB
                      dataKey: FluVaccinationConsentFormSpanish.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                - type: view
                  style:
                    marginTop: "0.01"
                    width: "0.88"
                    height: "0.15"
                    #  backgroundColor: "pink"
                    border:
                      style: 4
                    borderColor: "0xababab"
                    borderWidth: "2"
                  children:
                    # 签名区域
                    - type: canvas
                      dataKey: FluVaccinationConsentFormSpanish.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                      style:
                        .SignCanvasStyle:
                    - type: label
                      text: X
                      style:
                        top: "0.1"
                        .SignLabelStyle:

                - type: view
                  style:
                    width: "0.9"
                    left: "0"
                    marginTop: "0.01"

                  children:
                    - type: label
                      text: "PT: "
                      style:
                        display: inline-block
                        color: "0x0f0f0f"
                        fontSize: .Nfont.h15

                    - type: label
                      dataKey: apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.providerInfo.providerFullName
                      style:
                        left: "0.01"
                        display: inline-block
                        color: "0x0f0f0f"
                        fontSize: .Nfont.h15

                - type: view
                  style:
                    width: "0.9"
                    left: "0"
                    marginTop: "0.01"
                    color: "0x0f0f0f"
                    fontSize: .Nfont.h15

                  children:
                    - type: label
                      text: "Date: "
                      style:
                        display: inline-block
                    - type: label
                      text: "09/30/2021"
                      dataKey:
                      style:
                        left: "0.01"
                        display: inline-block

            - type: view
              style:
                marginTop: "0.02"
                left: "0"
                width: "0.9"
                height: "0.01"
                backgroundColor: "0x707070"

            - type: view
              style:
                width: "0.9"
                left: "0"
                marginTop: "0.01"
              children:
                - type: label
                  text: "Office use only"
                  style:
                    height: "auto"
                    width: "0.9"
                    color: "0x0f0f0f"
                    fontSize: .Nfont.h1
                    # fontStyle: bold

                - type: view
                  style:
                    marginTop: "0.01"
                    height: "0.08"
                    width: "0.9"
                    # backgroundColor: "pink"
                  children:
                    - type: view
                      style:
                        top: "0"
                        left: "0"
                        width: "0.6"
                        # display: "inline-block"
                        height: "auto"
                      children:
                        - type: label
                          text: "LOT #"
                          dataKey:
                          style:
                            height: "auto"
                            width: "0.3"
                            color: "0x9e9e9e"
                            fontSize: .Nfont.h1
                            # fontStyle: bold

                        - type: view
                          style:
                            marginTop: "0.01"
                            width: "0.25"
                            height: "0.04"
                          children:
                            - .BaseTextField:
                              isEditable: false
                              placeholder: "Enter here"
                              style:
                                top: "0"
                                left: "0"
                                width: "0.25"
                                height: "0.03"
                                fontSize: .Nfont.h1

                                color: "0x0f0f0f"
                                borderRadius: "3"
                    - type: view
                      style:
                        top: "0"
                        left: "0.3"
                        width: "0.3"
                        height: "auto"
                      children:
                        - type: label
                          text: "EXP"
                          dataKey:
                          style:
                            height: "auto"
                            width: "0.3"
                            color: "0x9e9e9e"
                            fontSize: .Nfont.h1

                        - type: view
                          style:
                            marginTop: "0.01"
                            width: "0.25"
                            height: "0.04"
                          children:
                            - .BaseTextField:
                              isEditable: false
                              placeholder: "Enter here"
                              style:
                                top: "0"
                                left: "0"
                                width: "0.25"
                                height: "0.03"
                                fontSize: .Nfont.h1

                                color: "0x0f0f0f"
                                borderRadius: "3"
                    - type: view
                      style:
                        top: "0"
                        left: "0.6"
                        width: "0.3"
                        height: "auto"
                      children:
                        - type: label
                          text: "Nurse"
                          dataKey:
                          style:
                            height: "auto"
                            width: "0.3"
                            color: "0x9e9e9e"
                            fontSize: .Nfont.h1

                        - type: view
                          style:
                            marginTop: "0.01"
                            width: "0.25"
                            height: "0.04"
                          children:
                            - .BaseTextField:
                              isEditable: false
                              placeholder: "Enter here"
                              style:
                                top: "0"
                                left: "0"
                                width: "0.25"
                                height: "0.03"
                                fontSize: .Nfont.h1

                                color: "0x0f0f0f"
                                borderRadius: "3"
                - type: view
                  style:
                    width: "0.9"
                    left: "0"
                    height: "0.2"
                  children:
                    - type: label
                      text: "Location of injection"
                      style:
                        color: "0x9e9e9e"
                        fontSize: .Nfont.h1

                    - type: view
                      viewTag: isRequiredTagFive
                      style:
                        left: "0"
                        width: "0.9"
                        height: "0.04"
                        axis: horizontal
                      children:
                        - type: view
                          style:
                            width: "0.3"
                            height: "0.06"
                            left: "0"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                opacity: "0.3"
                                left: "0"
                                height: "0.025"
                              path:
                                emit:
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusInjection.isRequired
                                              string2: true
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg

                            - type: label
                              text: "Right Deltoid"
                              style:
                                top: "0.021"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.3"
                                color: "0x9e9e9e"

                        - type: view
                          style:
                            width: "0.3"
                            height: "0.06"
                            left: "0.015"
                            marginTop: "0"
                          children:
                            - type: image
                              style:
                                top: "0.02"
                                left: "0"
                                opacity: "0.3"
                                height: "0.025"
                              path:
                                emit:
                                  actions:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.selectStatusInjection.isRequired
                                              string2: false
                                        - selectOnBlue.svg
                                        - selectOffBlue.svg

                            - type: label
                              text: "left Deltoid"
                              style:
                                top: "0.021"
                                left: "0.07"

                                fontSize: .Nfont.h1
                                height: "0.06"
                                width: "0.3"
                                color: "0x9e9e9e"

    - .NextButtonView:
      children:
        - .SignButton:
          onClick:
            # - actionType: evalObject
            #   object:
            #     - =..apiRequest.FluVaccinationConsentFormEnglish.docAPI.delete: ""
            # 签名处理
            - actionType: saveSignature
              dataObject: BLOB
              dataKey: FluVaccinationConsentFormSpanish.apiRequest.newSign.docReq.name.data
              isEmpty: FluVaccinationConsentFormSpanish.formData.whetherSign

            # 保存签名
            - actionType: evalObject
              object:
                - =..apiRequest.newSign.docAPI.store: ""
            - actionType: evalObject
              object:
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.eid@: =.Global.rootRoomInfo.edge.id #=.AppointmentLobby.roomInfo.response.edge.id
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.id@: ""
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.authority@: "Shared"
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fontcolor@: "0x2FB355"
                # - if:
                #   - =.FluVaccinationConsentFormSpanish.formData.whetherSign
                #   - actionType: popUp
                #     popUpView: BaseWarningView
                #     wait: true
                #   - continue
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.VaccinationConsentOne@: =..formData.selectStatusOne.Vaccination
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.VaccinationConsentTwo@: =..formData.selectStatusTwo.Vaccination
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.VaccinationConsentThree@: =..formData.selectStatusThree.Vaccination
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.VaccinationConsentFour@: =..formData.selectStatusFour.Vaccination
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.certifyCheck@: =..formDataTemp.isClaimsAd
                - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.fluVaccinationInfo.officeUseDescription.locationOfInjection@: =..formData.selectStatusInjection.isRequired
                # 存放签名的id
                # - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                # - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.whetherSign@: =..formData.whetherSign
            # 暂存签名处理
            - actionType: evalObject
              object:
                - if:
                    - =..formData.temporarySignature
                    - actionType: evalObject
                      object:
                        - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.signatureId@: =..formData.temporarySignature
                        - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.whetherSign@: false
                        - ..formData.whetherSign@: false
                    - actionType: evalObject
                      object:
                        - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                        - ..apiRequest.FluVaccinationConsentFormSpanish.docReq.name.data.whetherSign@: =..formData.whetherSign
            # 保存FluVaccinationConsentForm
            - actionType: evalObject
              object:
                - =..apiRequest.FluVaccinationConsentFormSpanish.docAPI.store: ""
            - actionType: evalObject
              object:
                .Global._nonce@:
                  =.builtIn.math.random: ""
            - goto: ProviderNotes
    - .BaseWarningView:
      message: "You haven't signed the form"
