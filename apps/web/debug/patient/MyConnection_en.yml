MyConnection:
  title: "My Health Network"
  init:
    - .SignInCheck
    - actionType: updateObject
      dataKey: Global.formData.connectionFromFacility
      dataObject: ""
    - actionType: updateObject
      dataKey: Global.formData.pageName
      dataObject: ""
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - actionType: evalObject
      object:
        - actionType: evalObject
          async: true
          object:
            - =..connections.docAPI.get: ""
            - =..apiRequest.facilityConnections.docAPI.get: ""
            - =..newConnection.edgeAPI.get: "" #邀请connections
    - actionType: evalObject #邀请的数量
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..newConnection.newConnectionList.edge
            dataOut: MyConnection.formData.newConnectionLength

    - =.builtIn.number.addition:
        dataIn:
          num: =..formData.newConnectionLength
          step: 0
        dataOut: MyConnection.formData.allConnectionLength
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =..formData.allConnectionLength
              string2: "0"
        - ..connectionHidden@: "true"
        - ..connectionHidden@: "false"
    - =.builtIn.object.setProperty:
        dataIn:
          obj: =..formDataTemp.titleData
          label: "title"
          text: .Global.providerProfileVar
          arr: ["fontColor", "fontWeight", "block"]
          valueArr: ["0x2988e6", "600", "block"]
          errorArr: ["0x666666", "400", "none"]
        dataOut: MyConnection.formDataTemp.titleData
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.providerProfileVar
              string2: "Providers"
        - actionType: evalObject
          object:
            - ..showList@: =..connections.connectionList.doc
            - ..searchArray@: =..formDataTemp.searchArray.provider
            - ..formDataTemp.providerDisplayView@: "block"
            - ..formDataTemp.facilityDisplayView@: "none"
        - continue
    - if:
        - =.builtIn.string.equal:
            dataIn:
              string1: =.Global.providerProfileVar
              string2: "Medical Facilities"
        - actionType: evalObject
          object:
            - ..showList@: =..apiRequest.facilityConnections.connectionList.doc
            - ..searchArray@: =..formDataTemp.searchArray.Facility
            - ..formDataTemp.providerDisplayView@: "none"
            - ..formDataTemp.facilityDisplayView@: "block"
        - continue
    # 对provider列表进行除重
    - =.builtIn.array.keepLatestDoc:
        dataIn:
          docList: =..connections.connectionList.doc
          path: bsig
        dataOut: MyConnection.connections.connectionList.doc
  connectionHidden: "true"
  facilitiesHidden: "true"
  flagForDocument: ""
  showList: []
  searchArray: []
  search:
    content: ""
  apiRequest:
    isDocument:
      docOut: ""
      docIn:
        type: .DocType.PatientProfile
        id: ""
        xfname: eid
        _nonce: =.Global._nonce
      docAPI:
        get:
          api: rd
          dataIn: MyConnection.apiRequest.isDocument.docIn
          dataOut: MyConnection.apiRequest.isDocument.docOut
    isContact: # 判断是否为好友
      response: ""
      edge:
        id: []
        xfname: bvid,evid
        type: 10002
        _nonce: =.Global._nonce
      edgeAPI:
        get:
          api: re
          dataIn: MyConnection.apiRequest.isContact.edge
          dataOut: MyConnection.apiRequest.isContact.response
    facilityConnections:
      connectionList: ""
      docQueryReq:
        type: 271361
        xfname: E.bvid|E.evid
        id: .Global.currentUser.vertex.id
        ObjType: 12
        _nonce: =.Global._nonce
        sCondition: E.type=10002 AND E.tage>0 AND E.subtype&0xff0000=0x20000
      docAPI:
        get:
          api: rd
          dataIn: apiRequest.facilityConnections.docQueryReq
          dataOut: apiRequest.facilityConnections.connectionList
          
  newConnection:
    newConnectionList:
      edge: ""
    edgeAPI:
      get:
        api: re
        type: .EdgeType.InviteInfo
        xfname: evid
        id: .Global.currentUser.vertex.id
        maxcount: "10000"
        dataKey: newConnection.newConnectionList
        sCondition: subtype in (131088,131072,65536)
        _nonce: =.Global._nonce


  formDataTemp:
    searchArray:
      provider:
        - name.data.phone
        - name.data.fullName
      Facility:
        - name.data.basicInfo.medicalFacilityName
        - name.data.basicInfo.businessType
        - name.data.basicInfo.phoneNumber
    searchCancel: "true"
    providerDisplayView: "block"
    providerProfileVar: "Providers"
    facilityDisplayView: "none"
    titleData:
      - title: Providers
        fontColor: "0x2988e6"
        fontWeight: "600"
        block: "block"
      - title: Medical Facilities
        fontColor: "0x666666"
        fontWeight: "400"
        block: "none"
  formData:
    connectionInfo: ""
    connectionList: []
    facililityList: []
    allProviders: []
    searchContent: ""
    providerInfo: ""
    providerId: ""
    subtypeFlage: ""
    newConnectionLength: "0"
    allConnectionLength: "0"
    newFacilitiesLength: "0"
  connection:
    edge:
      id: ""
    edgeAPI:
      get:
        api: re
        dataIn: connection.edge
        dataOut: connection.edge
      store:
        api: ce
        dataIn: connection.edge.edge.0
  # get all provider profile
  connections:
    connectionList:
      edge: ""
    request: 
      # 新的查询方式还没完成 回头等austin改完继续修改
      maxcount: "1000"
      type: .DocType.DoctorPublicProfile
      xfname: E.bvid|E.evid
      id: .Global.currentUser.vertex.id
      ObjType: 28
      sCondition: E.type=10002 AND E.tage>0 AND E.subtype&0xff0000=0x10000 #and D.size>10 #accept tage=1
      sfname: '{"join":"INNER JOIN Edge E ON E.evid=D.ovid OR E.bvid=D.ovid INNER JOIN Vertex V ON V.id=D.ovid","result":"D.*"}'
    docAPI:
      get:
        api: rd
        maxcount: "1000"
        type: .DocType.DoctorPublicProfile
        xfname: (E.bvid|E.evid)&!(D.ovid)
        id: .Global.currentUser.vertex.id
        ObjType: 12
        dataKey: connections.connectionList
        sCondition: E.type=10002 AND E.tage>0 AND E.subtype&0xff0000=0x10000 #and D.size>10 #accept tage=1
        _nonce: =.Global._nonce
      get1:
        api: rd
        dataIn: connections.request
        dataOut: MyConnection.connections.connectionList
  isDocument:
    docOut: ""
    docIn:
      type: .DocType.PatientProfile
      id: ""
      xfname: eid
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: MyConnection.isDocument.docIn
        dataOut: MyConnection.isDocument.docOut

  components:
    - .BaseCheckView:
      viewTag: isShareView
      message: "Do you want to share your profile?"
      colorChange: "0xd81e06"
      imgPath: select.svg
      children:
        - type: view
          style:
            width: "0.8"
            height: "0.3"
            top: "0.3"
            left: "0.1"
            zIndex: "100"
            backgroundColor: "0xffffff"
            borderRadius: "7"
            border:
              style: "3"
            borderColor: "#f4f8fa"
            borderWidth: "3"
          children:
            - .BaseCheckViewImg:
            - .BaseCheckViewLabel:
            - .BaseCheckViewButton:
              text: "cancel"
              style:
                width: "0.3"
                left: "0.05"
              onClick:
                - actionType: popUpDismiss
                  popUpView: ____.viewTag
            - .BaseCheckViewButton:
              text: "share"
              style:
                width: "0.3"
                left: "0.45"
                color: "#2fb355"
                border:
                  style: 3
                  width: "2"

                  color: "#2fb355"
              onClick:
                - actionType: evalObject
                  object:
                    - =.builtIn.ecos.shareDoc:
                        dataIn:
                          sourceDoc: =.Global.Profile
                          targetEdgeID: =.MyConnection.apiRequest.isContact.response.edge.0.id

                - actionType: popUpDismiss
                  popUpView: ____.viewTag
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderRightIcon:
          path: addContacts.svg
          onClick:
            - goto: AddHealthNetWork
    - type: view
      style:
        width: "1"
        height: "0.08"
        backgroundColor: "0x2988e6"
        textAlign:
          y: center
      children:
        - type: view
          style:
            height: "0.042"
            backgroundColor: "0xffffff"
            width: "0.92"
            marginLeft: "0.04"
            boxSizing: border-box
            borderRadius: 5px
          children:
            - type: image
              path: search.svg
              style:
                height: "0.018"
                marginLeft: "0.021"
                display: inline-block
                verticalAlign: "middle"
            - type: textField
              viewTag: "searchContentVT"
              dataKey: formData.searchContent
              placeholder: Search the name, phone number…
              style:
                height: "0.042"
                fontSize: ".Nfont.h14"
                width: "0.62"
                border:
                  style: "1"
                marginLeft: "0.023"
                verticalAlign: "middle"
                display: inline-block
              onInput:
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - ..formDataTemp.searchCancel@: "true"
                        - ..formDataTemp.searchCancel@: "false"
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - actionType: builtIn
                          funcName: hide
                          viewTag: searchResultVT
                        - continue
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - actionType: builtIn
                          funcName: hide
                          viewTag: facilityTag
                        - continue
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - actionType: builtIn
                          funcName: hide
                          viewTag: providerListTag
                        - continue
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - actionType: builtIn
                          funcName: hide
                          viewTag: emptyTag
                        - continue
                - actionType: builtIn
                  funcName: redraw
                  viewTag: searchVT
            - type: image
              viewTag: "searchVT"
              path: searchCancel.svg
              style:
                height: "0.018"
                marginLeft: "0.012"
                isHidden: ..formDataTemp.searchCancel
                display: inline-block
                verticalAlign: "middle"
              onClick:
                - actionType: evalObject
                  object:
                    - ..formData.searchContent@: ""
                    - ..formDataTemp.searchCancel@: "true"
                - actionType: builtIn
                  funcName: hide
                  viewTag: searchResultVT
                - actionType: builtIn
                  funcName: hide
                  viewTag: facilityTag
                - actionType: builtIn
                  funcName: hide
                  viewTag: providerListTag
                - actionType: builtIn
                  funcName: hide
                  viewTag: emptyTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: searchContentVT
                - actionType: builtIn
                  funcName: redraw
                  viewTag: searchVT
            - type: label
              text: Search
              style:
                height: auto
                fontSize: ".Nfont.h14"
                width: auto
                color: "0x2988E6"
                marginLeft: "0.032"
                verticalAlign: "middle"
                display: inline-block
              onClick:
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =..formData.searchContent
                              string2: ""
                        - actionType: popUp
                          popUpView: errorVT
                          wait: true
                        - continue
                - actionType: popUp
                  popUpView: searchingTag
                - actionType: evalObject
                  object:
                    - =.builtIn.object.matchSearchValue:
                        dataIn:
                          objArr: =..showList
                          paths: =..searchArray
                          value: =..formData.searchContent
                        dataOut: MyConnection.formData.allProviders
                    - =.builtIn.array.uniqueByObjectKey:
                        dataIn:
                          objArr: =..formData.allProviders
                          path: "id"
                        dataOut: MyConnection.formData.allProviders
                - actionType: builtIn
                  funcName: show
                  viewTag: searchResultVT
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.providerProfileVar
                              string2: "Providers"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: providerListTag
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: facilityTag
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.providerProfileVar
                              string2: "Providers"
                        - actionType: builtIn
                          funcName: show
                          viewTag: providerListTag
                        - actionType: builtIn
                          funcName: hide
                          viewTag: providerListTag
                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.string.equal:
                            dataIn:
                              string1: =.Global.providerProfileVar
                              string2: "Medical Facilities"
                        - actionType: builtIn
                          funcName: show
                          viewTag: facilityTag
                        - actionType: builtIn
                          funcName: hide
                          viewTag: facilityTag
                    - if:
                        - =.builtIn.array.judgeListLength:
                            dataIn:
                              array: =.MyConnection.formData.allProviders
                              len: 0
                        - actionType: builtIn
                          funcName: show
                          viewTag: emptyTag
                        - actionType: builtIn
                          funcName: hide
                          viewTag: emptyTag
                - actionType: popUpDismiss
                  popUpView: searchingTag
    - type: view
      style:
        marginTop: "0"
        width: "1"
        height: "0.82"
      children:
        - type: label
          contentType: messageHidden
          text: "No contacts added"
          style:
            # left: "0.32"
            textAlign:
              x: center
            top: "0.25"
            width: "1"
            height: "0.04"
            fontSize: .Nfont.h3
            isHidden: "true"
        - type: view
          style:
            width: "1"
            height: "0.77"
          children:
            - type: view
              style:
                left: "0"
                width: "1"
                height: "0.08"
                marginTop: "0"
                backgroundColor: "#ffffff"
              onClick:
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - goto: NewConnections
              children:
                - type: image
                  path: newConnection.svg
                  style:
                    top: "0.018"
                    left: "0.04"
                    height: "0.0431034"
                    width: "0.093333"
                    zIndex: 100
                - type: label
                  dataKey: formData.allConnectionLength
                  style:
                    top: "0.00738"
                    left: "0.122666"
                    zIndex: 100
                    width: "5vw"
                    height: "5vw"
                    color: "0xffffff"
                    fontSize: .Nfont.h12

                    backgroundColor: "0xff0000"
                    borderRadius: "2.5vw"
                    textAlign:
                      x: center
                      y: center
                    isHidden: ..connectionHidden
                - type: label
                  text: "New Connections"
                  style:
                    left: "0.2"
                    top: "0.025"
                    width: "0.5"
                    fontSize: .Nfont.h16
                    zIndex: 100
                    color: "#333333"
                    fontWeight: "600"
                - type: image
                  path: dateRight.svg
                  style:
                    top: "0.018"
                    left: "0.88"
                    # height: "0.0431034"
                    width: "0.093333"
                    zIndex: 100
            - type: view
              style:
                width: "1"
                height: "0.78"
              children:
                - type: view
                  style:
                    backgroundColor: "#f0f0f0"
                    width: "1"
                    height: "0.05"
                  children:
                    - type: label
                      text: "Connections"
                      style:
                        marginLeft: "0.05"
                        color: "0x666666"
                        height: "0.05"
                        width: "0.45"
                        lineHeight: 5vh

                        fontSize: .Nfont.h14
                        fontWeight: "600"
                        textAlign:
                          x: left
                - type: list
                  viewTag: profileInfoTag
                  contentType: listObject
                  listObject: ..formDataTemp.titleData
                  iteratorVar: itemObject
                  style:
                    ..style.tabList:
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        ..style.tabListItem:
                      children:
                        - type: label
                          dataKey: itemObject.title
                          style:
                            ..style.title:
                        - type: view
                          style:
                            ..style.line:
                        - type: view
                          viewTag: leftBlockTag
                          style:
                            ..style.tabBar:
                      onClick:
                        - ..event.tabChange

                - type: view
                  style:
                    height: "0.67"
                    width: "1"
                    # marginTop: "0.01"
                  children:
                    - type: view
                      viewTag: listInfoView1
                      style:
                        marginTop: "0"
                        height: "0.67"
                        width: "1"
                        margin: "0"
                        display: ..formDataTemp.providerDisplayView
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..connections.connectionList.doc #..formData.connectionList
                          iteratorVar: itemObject
                          style:
                            # backgroundColor: "pink"
                            width: "1"
                            height: "auto"
                            margin: "0"
                            marginTop: "0"
                          children:
                            - type: listItem
                              itemObject: ""
                              onClick:
                                - actionType: updateObject
                                  dataKey: Global.temporaryId
                                  dataObject: itemObject
                                - goto: ContactInformation
                              style:
                                left: "0"
                                width: "1"
                                height: "auto"
                                border:
                                  style: "2"
                                borderWidth: "1"
                                borderColor: "0x00000011"
                                overflow: hidden
                              children:
                                - type: view
                                  style:
                                    marginTop: "0.01"
                                    width: "1"
                                    height: "auto"
                                    overflow: hidden
                                  children:
                                    - type: image
                                      path: providerImage.svg
                                      path=func: .builtIn.utils.prepareDocToPath
                                      dataKey: itemObject.name.data.avatar
                                      style:
                                        verticalAlign: middle
                                        display: "inline-block"
                                        marginLeft: "0.05"
                                        width: "12vw"
                                        height: "12vw"
                                        border:
                                          style: 3
                                        borderRadius: "5"
                                        borderWidth: "1"
                                        borderColor: "0xdededf"
                                        overflow: hidden
                                    - type: view
                                      style:
                                        verticalAlign: middle
                                        display: "inline-block"
                                        marginLeft: "0.05"
                                      children:
                                        - type: view
                                          style:
                                            verticalAlign: middle
                                            # display: "inline-block"
                                          children:
                                            - type: label
                                              dataKey: itemObject.name.data.fullName
                                              style:
                                                display: "inline-block"
                                                verticalAlign: middle
                                                width: "auto"
                                                height: "auto"
                                                fontWeight: "600"
                                                fontSize: .Nfont.h16
                                                color: "#333333"
                                            - type: label
                                              text: "&nbsp;-&nbsp;"
                                              style:
                                                display: "inline-block"
                                                verticalAlign: middle
                                                width: "auto"
                                                height: "auto"
                                                fontWeight: "600"
                                                fontSize: .Nfont.h16
                                                color: "#333333"
                                            - type: label
                                              dataKey: itemObject.name.data.title
                                              style:
                                                display: "inline-block"
                                                verticalAlign: middle
                                                width: "auto"
                                                height: "auto"
                                                fontWeight: "600"
                                                fontSize: .Nfont.h16
                                                color: "#333333"
                                        - type: label
                                          dataKey: itemObject.name.data.specialty.0.specialty
                                          style:
                                            verticalAlign: middle
                                            width: "0.7"
                                            height: "auto"
                                            fontSize: .Nfont.h14
                                            color: "#666666"
                                - type: view
                                  style:
                                    height: "0.01"
                                    width: "1"
                    - type: view
                      viewTag: listInfoView
                      style:
                        marginTop: "0"
                        height: "0.67"
                        width: "1"
                        margin: "0"
                        display: ..formDataTemp.facilityDisplayView
                      children:
                        - type: list
                          contentType: listObject
                          listObject: ..apiRequest.facilityConnections.connectionList.doc
                          iteratorVar: itemObject
                          style:
                            backgroundColor: "#ffffff"
                            width: "1"
                            height: "auto"
                            margin: "0"
                          children:
                            - type: listItem
                              itemObject: ""
                              onClick:
                                - actionType: evalObject
                                  object:
                                    .Global._nonce@:
                                      =.builtIn.math.random: ""
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - .Global.currentFacility@: $var
                                - goto: FacilityInfomationShow
                              style:
                                left: "0"
                                width: "1"
                                height: "0.09"
                                border:
                                  style: "2"
                                borderWidth: "1"
                                oveflow: hidden
                                borderColor: "0x00000011"
                              children:
                                - type: image
                                  path: office-building.png
                                  path=func: .builtIn.utils.prepareDocToPath
                                  dataKey: itemObject.name.data.basicInfo.businessLogo
                                  style:
                                    left: "0.05"
                                    top: "0.015394"
                                    height: "12vw"
                                    width: "12vw"
                                    border:
                                      style: 3
                                    borderRadius: "5"
                                    borderWidth: "1"
                                    borderColor: "0xdededf"
                                    overflow: hidden
                                    textAlign:
                                      x: center
                                    zIndex: 100
                                - type: label
                                  dataKey: itemObject.name.data.basicInfo.medicalFacilityName
                                  style:
                                    left: "0.22"
                                    top: "0.02"
                                    width: "0.7"

                                    fontWeight: "600"
                                    fontSize: .Nfont.h16
                                    color: "#333333"
                                    zIndex: 100
                                - type: label
                                  dataKey: itemObject.name.data.basicInfo.businessType
                                  style:
                                    left: "0.22"
                                    top: "0.05"
                                    width: "0.4"
                                    fontSize: .Nfont.h14
                                    color: "#666666"
                                    zIndex: 100
    - type: view
      viewTag: searchResultVT
      style:
        height: "0.864"
        backgroundColor: "0xffffff"
        display: none
        top: "0.136"
        width: "1"
        zIndex: "100"
      children:
        - type: view
          viewTag: emptyTag
          style:
            margin: "0"
            height: "auto"
            width: "1"
            display: none
          children:
            - type: image
              path: emptyPage.svg
              style:
                width: "0.8"
                marginLeft: "0.1"
                marginTop: "0.15"
            - type: label
              text: "There is no result now."
              style:
                fontSize: .Nfont.n2
                width: "0.9"
                marginTop: "0.03"
                marginLeft: "0.05"
                height: "0.05"
                color: "#666666"
                textAlign:
                  x: center
                  y: center
        - type: list
          viewTag: facilityTag
          contentType: listObject
          listObject: ..formData.allProviders
          iteratorVar: itemObject
          style:
            width: "1"
            margin: "0"
            left: "0"
            height: "0.864"
            marginTop: "0"
            overflowY: scroll
            overflowX: hidden
          children:
            - type: listItem
              itemObject: ""
              onClick:
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - emit:
                    dataKey:
                      var: itemObject
                    actions:
                      - .Global.currentFacility@: $var
                - goto: FacilityInfomationShow
              style:
                left: "0"
                width: "1"
                height: "0.09"
                border:
                  style: "2"
                borderWidth: "1"
                borderColor: "0x00000011"
              children:
                - type: image
                  path: office-building.png
                  path=func: .builtIn.utils.prepareDocToPath
                  dataKey: itemObject.name.data.basicInfo.businessLogo
                  style:
                    left: "0.1"
                    top: "0.022"
                    height: "0.045"
                    width: "0.1"

                    fontSize: "15"
                    textAlign:
                      x: center
                    zIndex: 100
                - type: label
                  dataKey: itemObject.name.data.basicInfo.medicalFacilityName
                  style:
                    left: "0.27"
                    top: "0.02"
                    width: "0.7"

                    fontWeight: "600"
                    fontSize: "15"
                    color: "#333333"
                    zIndex: 100
                - type: label
                  dataKey: itemObject.name.data.basicInfo.businessType
                  style:
                    left: "0.27"
                    top: "0.05"
                    width: "0.4"

                    fontWeight: "600"
                    fontSize: .Nfont.h12
                    color: "#333333"
                    zIndex: 100
        - type: list
          viewTag: providerListTag
          contentType: listObject
          listObject: ..formData.allProviders
          iteratorVar: itemObject
          style:
            width: "1"
            margin: "0"
            left: "0"
            height: "0.864"
            marginTop: "0"
            overflowY: scroll
            overflowX: hidden
          children:
            - type: listItem
              itemObject:
              style:
                width: "1"
                height: "auto"
                marginTop: "0"
                overflow: hidden
              onClick:
                - actionType: updateObject
                  dataKey: Global.temporaryId
                  dataObject: itemObject
                - goto: ContactInformation
              children:
                - type: view
                  style:
                    marginTop: "0.0198"
                    marginLeft: "0.04" #16.01px
                    height: "auto"
                    width: "0.92"
                  children:
                    - type: image
                      path: providerImage.svg
                      path=func: .builtIn.utils.prepareDocToPath
                      dataKey: itemObject.name.data.avatar
                      style:
                        verticalAlign: middle
                        display: "inline-block"
                        marginLeft: "0.05"
                        width: "12vw"
                        height: "12vw"
                    - type: view
                      style:
                        verticalAlign: middle
                        display: "inline-block"
                        marginLeft: "0.05"
                      children:
                        - type: view
                          style:
                            verticalAlign: middle
                          children:
                            - type: label
                              dataKey: itemObject.name.data.fullName
                              style:
                                display: "inline-block"
                                verticalAlign: middle
                                width: "auto"
                                height: "auto"
                                fontWeight: "600"
                                fontSize: .Nfont.h14
                                color: "#333333"
                            - type: label
                              text: "&nbsp;-&nbsp;"
                              style:
                                display: "inline-block"
                                verticalAlign: middle
                                width: "auto"
                                height: "auto"
                                fontWeight: "600"
                                fontSize: .Nfont.h14
                                color: "#333333"
                            - type: label
                              dataKey: itemObject.name.data.title
                              style:
                                display: "inline-block"
                                verticalAlign: middle
                                width: "auto"
                                height: "auto"
                                fontWeight: "600"
                                fontSize: .Nfont.h14
                                color: "#333333"
                        - type: label
                          dataKey: itemObject.name.data.specialty.0.specialty
                          style:
                            verticalAlign: middle
                            width: "0.7"
                            height: "auto"
                            fontSize: .Nfont.h12
                            color: "#333333"
                - type: view
                  style:
                    height: "0.0198" #16.08px
                    width: "1"
                    borderBottom: "1px solid #dededf"
                # - type: view
                #   style:
                #     width: "1"
                #     height: "0.001"
                #     background: "0xdededf"
    - type: popUp
      viewTag: searchingTag
      style:
        height: "1"
        width: "1"
        zIndex: "10000"
        backgroundColor: "0x33333366"
        top: "0"
      children:
        - type: view
          style:
            backgroundColor: "0xffffff"
            height: "0.2"
            width: "0.6"
            left: "0.2"
            top: "0.3"
            border:
              style: ""
            borderWidth: "1"
            borderColor: ""
            borderRadius: "10"
          children:
            - type: image
              path: zhuanquan.gif
              style:
                width: "0.4"
                left: "0.1"
    - .SoftTips:
      message: You need to write before search next
      style:
        zIndex: "100"
      viewTag: errorVT
  event:
    tabChange:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - =.builtIn.object.setProperty:
                dataIn:
                  obj: =..formDataTemp.titleData
                  label: "title"
                  text: $var.title
                  arr: ["fontColor", "fontWeight", "block"]
                  valueArr: ["0x2988e6", "600", "block"]
                  errorArr: ["0x666666", "400", "none"]
                dataOut: MyConnection.formDataTemp.titleData
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Providers"
                - ..showList@: =..connections.connectionList.doc
                - ..showList@: =..apiRequest.facilityConnections.connectionList.doc
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Providers"
                - ..searchArray@: =..formDataTemp.searchArray.provider
                - ..searchArray@: =..formDataTemp.searchArray.Facility
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Providers"
                - ..formDataTemp.providerDisplayView@: "block"
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Providers"
                - ..formDataTemp.facilityDisplayView@: "none"
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Providers"
                - .Global.providerProfileVar@: "Providers"
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Medical Facilities"
                - ..formDataTemp.facilityDisplayView@: "block"
                - continue

            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Medical Facilities"
                - ..formDataTemp.providerDisplayView@: "none"
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: $var.title
                      string2: "Medical Facilities"
                - .Global.providerProfileVar@: "Medical Facilities"
                - continue

      - actionType: builtIn
        funcName: redraw
        viewTag: profileInfoTag
      - actionType: builtIn
        funcName: redraw
        viewTag: listInfoView
      - actionType: builtIn
        funcName: redraw
        viewTag: listInfoView1
  style:
    tabList:
      width: "1"
      margin: "0"
      axis: horizontal
      height: "auto"
      overflow: hidden
      marginTop: "0.02"
    tabListItem:
      width: "0.5"
      height: "auto"
      boxSizing: border-box
    title:
      color: itemObject.fontColor
      height: "auto"
      width: "0.5"
      fontWeight: itemObject.fontWeight
      textAlign:
        x: center
      fontSize: .Nfont.h16
    line:
      marginTop: "0.005"
      height: "0.0025" #2.03px
      width: "0.5"
      backgroundColor: "0xdededf"
    tabBar:
      display: itemObject.block
      top: "0.03"
      left: "0.21"
      width: "0.08"
      height: "0.0025"
      backgroundColor: "0x2988e6"
      zIndex: 10
