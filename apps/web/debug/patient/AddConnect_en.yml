AddConnect:
  title: Add Connect
  init:
    - .SignInCheck
  up:
    - key: Country
    - key: First Name
    - key: Category
  biaoqian:
    - key: qRCode.svg
      value1: Scan QR Code
      value2: Scan a friend's QR code
    - key: mobileContacts.svg
      value1: Mobile Contacts
      value2: Add from mobile address book
  countryCode: "+1"
  firstName: ""
  inviteMessage: ""
  invite:
    edge:
      .Edge: ""
      type: .EdgeType.Invite
      bvid: .Global.currentUser.vertex.id
      subtype: "2"
      name:
        inviteePhoneNumber: ""
        inviterPhoneNumber: .Global.currentUser.vertex.uid
        inviteeName: ""
        inviterName: .Global.currentUser.vertex.name.userName
        inviterPk: .Global.currentUser.vertex.pk 
        inviterCategory: "Patient"
        inviteeCategory: "Provider"
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: invite.edge
  components:
    - type: popUp
      viewTag: inviteView
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000033"
        zIndex: "1000"
      children:
        - type: view
          style:
            left: "0.15"
            top: "0.3"
            width: "0.7"
            height: "0.25"
            backgroundColor: "0xefefef"
            borderRadius: "10"
          children:
            - type: label
              text: Send Invite Link
              style:
                left: "0"
                top: "0.05"
                width: "0.7"
                height: "0.05" 
                fontSize: "16"
                fontWeight: "500"
                textAlign: 
                  x: center
            - type: label
              text: Send invite link to
              style:
                left: "0"
                top: "0.1"
                width: "0.7"
                height: "0.05" 
                fontSize: "13"
                fontWeight: "500"
                textAlign: 
                  x: center
            - type: label
              viewTag: inviteLabel
              dataKey: inviteMessage
              style:
                left: "0"
                top: "0.15"
                width: "0.7"
                height: "0.05" 
                fontSize: "13"
                fontWeight: "500"
                textAlign: 
                  x: center
            - type: view
              style:
                left: "0"
                top: "0.188"
                width: "0.7"
                height: "0.002"
                backgroundColor: "0xbebebf"
            - type: view
              style:
                left: "0.348"
                top: "0.19"
                width: "0.004"
                height: "0.06"
                backgroundColor: "0xbebebf"
            - type: button
              text: Cancel
              onClick: 
                - actionType: popUpDismiss
                  popUpView: inviteView
              style:
                left: "0"
                top: "0.19"
                width: "0.348"
                height: "0.06"
                borderRadius: "10"
                borderWidth: "0"
                fontSize: "17"
                fontWeight: "500"
                color: "0x3a96f9"
                textAlign: 
                  x: center
            - type: button
              text: Confirm
              onClick: 
                - actionType: evalObject
                  object:
                    - =.AddConnect.invite.edgeAPI.store: ""
                - actionType: popUpDismiss
                  popUpView: inviteView
                - actionType: popUp
                  popUpView: finalView
              style:
                left: "0.352"
                top: "0.19"
                width: "0.348"
                height: "0.06"
                borderRadius: "10"
                borderWidth: "0"
                fontSize: "17"
                fontWeight: "500"
                color: "0x3a96f9"
                textAlign: 
                  x: center
   
    - type: popUp
      onClick:
        - actionType: popUpDismiss
          popUpView: finalView
        - goto: MyConnection
      viewTag: finalView
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000033"
        zIndex: "1000"
      children:
        - type: view
          style:
            left: "0.15"
            top: "0.3"
            width: "0.7"
            height: "0.25"
            backgroundColor: "0xefefef"
            borderRadius: "10"
          children:
            - type: image
              path: popUpSuccess.svg
              style:
                top: "0"
                height: "0.15"
                width: "0.15"
                left: "0.27"
            - type: label
              text: Success!
              style:
                left: "0"
                top: "0.125"
                width: "0.7"
                height: "0.05"
                fontSize: "23"
                fontWeight: "350"
                textAlign:
                  x: center
            - type: label
              text: Your invite link has been sent to
              style:
                left: "0"
                top: "0.18"
                width: "0.7"
                fontSize: "15"
                fontWeight: "330"
                textAlign:
                  x: center
            - type: label
              viewTag: inviteLabel
              dataKey: inviteMessage
              style:
                left: "0"
                top: "0.22"
                width: "0.7"
                height: "0.05" 
                fontSize: "13"
                fontWeight: "500"
                textAlign: 
                  x: center
    - .BaseHeader:
    - .HeaderLeftButton:
    - type: view
      style:
        left: "0"
        top: "0.1"
        width: "1"
        height: "0.9"
      children:
        - type: view
          style: 
            left: "0"
            top: "0"
            width: "1"
            height: "0.043"
            backgroundColor: "0xf0f0f0"
          children:
            - type: label
              text: Quickly Invite
              style:
                style:
                left: "0.08"
                top: "0.01"
                width: "0.9"
                height: "0.03"
                fontSize: "16"
                fontWeight: "500"
                textAlign:
                  x: left
        - type: view
          style: 
            left: "0"
            top: "0.043"
            width: "1"
            height: "0.385"
            # backgroundColor: "0x1aad19"
          children:
            - type: list
              contentType: listObject
              listObject: ..up
              iteratorVar: itemObject
              style:
                left: "0.08"
                top: "0.01"
                width: "0.2"
                height: "0.228"
              children:
                - type: listItem
                  itemObject: ""
                  style:
                    left: "0"
                    width: "0.2"
                    height: "0.076"
                  children:
                    - type: label
                      dataKey: itemObject.key
                      style:
                        left: "0"
                        top: "0"
                        width: "0.2"
                        height: "0.076"
                        fontSize: "12"
                        fontWeight: "450"
                        #backgroundColor: "0xec303a"
                        textAlign:
                          x: left
            - type: select
              dataKey: countryCode
              options:
                .SelectINformationDM.countryCode
              style:
                left: "0.08"
                top: "0.06"
                width: "0.2"
                height: "0.04"
                border:
                  style: "3"
                borderColor: "0xefefef"
                borderWidth: "1"
                textIndent: "10px"
                fontSize: "15"
            - type: label
              text: Phone Number
              style:
                left: "0.35"
                top: "0.031"
                width: "0.3"
                height: "0.03"
                fontSize: "12"
                fontWeight: "450"
                textAlign:
                  x: left
            - type: textField
              dataKey: firstName
              placeholder: Enter here
              style:
                left: "0.08"
                top: "0.135"
                width: "0.375"
                height: "0.04"
                border:
                  style: "3"
                borderColor: "0xdededf" 
                borderWidth: "1"
                textIndent: "10px"
                fontSize: "15"
            - type: textField
              placeholder: "000-000-0000"
              dataKey: invite.edge.name.inviteePhoneNumber
              style:
                left: "0.35"
                top: "0.06"
                width: "0.56"
                height: "0.04"
                border: 
                  style: "3"
                borderColor: "0xdededf" 
                borderWidth: "1"
                textIndent: "10px"
                fontSize: "15"
            - type: label
              text: Last Name
              style:
                left: "0.525"
                top: "0.108"
                width: "0.35"
                height: "0.03"
                fontSize: "12"
                fontWeight: "450"
                textAlign:
                  x: left
            - type: textField
              dataKey: invite.edge.name.inviteeName
              placeholder: Enter here
              style:
                left: "0.525"
                top: "0.135"
                width: "0.385"
                height: "0.04"
                border:
                  style: "3"
                borderColor: "0xdededf" 
                borderWidth: "1"
                textIndent: "10px"
                fontSize: "15"
            - type: button
              text: Invite
              onClick:
                - actionType: evalObject
                  object:
                    - =.builtIn.string.concat:
                        dataIn:
                          - =..firstName
                          - =..invite.edge.name.inviteeName
                        dataOut: AddConnect.invite.edge.name.inviteeName
                    - =.builtIn.string.concat:
                        dataIn:
                          - =..countryCode
                          - " "
                          - =..invite.edge.name.inviteePhoneNumber
                        dataOut: AddConnect.invite.edge.name.inviteePhoneNumber
                - actionType: evalObject
                  object:
                    - =.builtIn.string.concat:
                        dataIn: 
                          - =..invite.edge.name.inviteeName
                          - " "
                          - (
                          - =..invite.edge.name.inviteePhoneNumber
                          - )
                        dataOut: AddConnect.inviteMessage
                - actionType: evalObject
                  object:
                    - if:
                      - =.builtIn.array.isExist:
                          dataIn:
                            array: =.Global.formData.connectionList
                            phoneNumber: =..invite.edge.name.inviteePhoneNumber
                      - actionType: popUp
                        popUpView: phoneRepeat
                      - actionType: builtIn
                        funcName: redraw
                        viewTag: inviteLabel
                - actionType: evalObject
                  object:
                    - if:
                      - =.builtIn.array.isExist:
                          dataIn:
                            array: =.Global.formData.connectionList
                            phoneNumber: =..invite.edge.name.inviteePhoneNumber
                      - continue    
                      - actionType: builtIn
                        funcName: redraw
                        viewTag: phoneNumber
                - actionType: evalObject
                  object:
                    - if:
                      - =.builtIn.array.isExist:
                          dataIn:
                            array: =.Global.formData.connectionList
                            phoneNumber: =..invite.edge.name.inviteePhoneNumber
                      - continue      
                      - actionType: popUp
                        popUpView: inviteView
              style:
                left: "0.08"
                top: "0.3"
                width: "0.84"
                height: "0.05"
                fontSize: "15"
                fontWeight: "600"
                color: "0x5ea6ec"
                border: 
                  style: "3"
                borderColor: "0x2988e6"
                borderWidth: "1"
                backgroundColor: "0xffffff"
                textAlign:
                  x: center
            - type: select
              dataKey: invite.edge.name.inviteeCategory
              options:
                - "Seclect option"
                - "Provider"
                - "Colleague"
                - "Medical Staff"
                - "Friend"
              style:
                left: "0.08"
                top: "0.215"
                width: "0.84"
                height: "0.05"
                fontSize: "15"
                textIndent: "10px"
                borderWidth: "1"
                border:
                  style: "3"
                borderColor: "0xdededf" 
        - type: view
          style: 
            left: "0"
            top: "0.428"
            width: "1"
            height: "0.043"
            backgroundColor: "0xf0f0f0"
          children:
            - type: label
              text: More Ways to Invite
              style:
                style:
                left: "0.08"
                top: "0.005"
                width: "0.9"
                height: "0.03"
                fontSize: "16"
                fontWeight: "500"
                textAlign:
                  x: left
        - type: view
          style:
            left: "0"
            top: "0.471"
            width: "1"
            height: "0.429"
          children:
            - type: list
              contentType: listObject
              listObject: ..biaoqian
              iteratorVar: itemObject
              style:
                top: "0"
                left: "0"
                width: "1"
                height: "0.174"
                display: "flex"
              children:
                - type: listItem
                  itemObject: ""
                  style:
                    left: "0"
                    width: "1"
                    height: "0.087"
                  children:
                    - type: image
                      path: 
                        emit:
                          dataKey:
                            var: itemObject
                          actions:
                            - if:
                              - =$var.key
                              - $var.key
                              - $var.key
                      style:
                        left: "0.07"
                        top: "0.012"
                        width: "0.057"
                        height: "0.04"
                    - type: label
                      dataKey: itemObject.value1
                      style:
                        left: "0.18"
                        top: "0.01"
                        width: "0.6"
                        height: "0.03"
                        fontSize: "15"
                        fontWeight: "500"
                        textAlign:
                          x: left
                    - type: label
                      dataKey: itemObject.value2
                      style:
                        left: "0.18"
                        top: "0.038"
                        width: "0.6"
                        fontSize: "12"
                        fontWeight: "400"
                        textAlign:
                          x: left
            - type: divider
              style:
                left: "0"
                top: "0.085"
                width: "1"
                height: "0.002"
                backgroundColor: "0xdbdbdb"
            - type: divider
              style:
                left: "0"
                top: "0.173"
                width: "1"
                height: "0.003"
                backgroundColor: "0xdbdbdb"
