Cov19TestFormEditPage3:
  title: "COVID-19 Testing Consent Form"

  pageNumber: "" # PageNumber

  init:
    - .SignInCheck
    # 获取facility name
    - .Global.formData.cov19TestForm.name.data.signatureIsolation.facilityName@: =.Global.currentFacility.name.data.basicInfo.medicalFacilityName
    # 判断是否签名
    - if:
        - =.Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature
        - continue
        # 非空修改显示的标识,刷新签名区域
        - actionType: evalObject
          object:
            # 签名的时间
            - ..formData.signatureTime@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.signatureTime
            # 签名的id
            - ..formData.temporarySignature@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.id
            - ..formData.flag@: "block"
    # 判断是否Name of Recipient/Healthcare Proxy存在
    - actionType: evalObject
      object:
        - if:
            - =.Global.formData.cov19TestForm.name.data.signatureIsolation.recipientName
            - ..formData.recipientName@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.recipientName
            - continue
  formData:
    recipientName: ""
    # 获取暂存的签名的id
    temporarySignature: ""
    # 签名的显示,默认为none
    flag: "none"
    # 是否签名 true 表示未签 false 表示已签
    whetherIsolationSignature: ""
    signatureTime: ""
  formDataTemp: #Input data temp here, datatemp should not mix with formData

  apiRequest:
    newSign:
      docRes: ""
      docReq: #DOC
        type: .DocType.UserSignature
        eid: .Global.rootNotebookID
        reid: .Global.formData.cov19TestForm.id
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data: ""
        subtype:
          isEncrypted: "1"
          mediaType: "0" # 0 others
      docAPI: # DOCAPI
        store:
          api: cd
          dataIn: Cov19TestFormEditPage3.apiRequest.newSign.docReq
          dataOut: Cov19TestFormEditPage3.apiRequest.newSign.docRes
    cov19TestForm:
      docResp: ""
      docReq:
        id: ""
        eid: .Global.rootNotebookID
        type: .DocType.Cov19TestForm
        name:
          data: ""
          title: "COVID-19 Testing Consent Form"
          user: .Global.Profile.name.data.basicInfo.fullName
      docAPI:
        store:
          api: cd
          dataIn: Cov19TestFormEditPage3.apiRequest.cov19TestForm.docReq
          dataOut: Cov19TestFormEditPage3.apiRequest.cov19TestForm.docResp
  components:
    - type: view
      style:
        ..style.formatting:
      children:
        - .BasePublicHeader:
          children:
            - type: view
              style:
                ..style.backLeft:
              children:
                - type: image
                  path: arrowLeftgrey.svg
                  style:
                    ..style.backLeftImg:
                  onClick:
                    - ..event.publicClick
                    - ..event.backClick
            - .BasePublicHeaderTitle:
              style:
                fontSize: .Nfont.h14
        - type: view
          style:
            ..style.bodyBox:
          children:
            - type: view
              style:
                ..style.viewBox:
              children:
                - type: view
                  style:
                    ..style.titleBox:
                  children:
                    - type: label
                      text: Agreement For Self-Isolation
                      dataKey:
                      style:
                        ..style.titlelabel:
                    - type: label
                      text: "3&nbsp;/&nbsp;3"
                      dataKey:
                      style:
                        ..style.pageNum:
            - type: scrollView
              style:
                ..style.scrollBox:
              children:
                - type: label
                  text: "The local health jurisdiction has determined that if you are under suspicion for having COVID-19 due to symptoms and testing request, that it is necessary to be placed in isolation in order to prevent the transmission of this infection. It is important for you to comply with this Isolation Agreement in order to protect the public’s health. Thank you for agreeing to cooperate."
                  style:
                    ..style.text:

                - type: label
                  text: "Please Carefully Read The Following Informed Consent:"
                  dataKey:
                  style:
                    ..style.secondLabel:
                - type: label
                  textBoard:
                    - text: "a. I understand that I may be infected with the virus causing COVID-19 and that I meet criteria for isolation."
                    - br:
                    - br:
                    - text: "b. I agree that while I wait for my COVID-19 test results, I will remain in self-isolation."
                    - br:
                    - br:
                    - text: "c. I agree that if my COVID-19 test results are positive, I will remain isolated for 7 days from this day of testing OR until at least 72 hours after my symptoms have resolved, whichever is longer."
                    - br:
                    - br:
                    - text: "d. I agree that if my COVID-19 test results are negative, I will remain isolated until at least 72 hours after my symptoms have resolved."
                    - br:
                    - br:
                    - text: "e. I understand that if I am not isolated while ill, I could pose a substantial threat to the health of other persons"
                    - br:
                    - br:
                    - text: "f. I agree that I will not come into contact with any other person who is not isolated or ill due to potential COVID- 19 infection."
                    - br:
                    - br:
                    - text: "g. I understand that if I test positive for IgM antibody, I may need to take a COVID-19 swab test for active virus confirmation. "
                    - br:
                    - br:
                    - text: "h. I understand that testing positive for antibody does not mean immunity to COVID-19."
                    - br:
                    - br:
                    - text: "I, the undersigned, have been informed about the test purpose, procedures, possible benefits and risks, and I have received a copy of this Informed consent. I have been given the opportunity to ask questions before I sign, and I have been told that I can ask other questions at any time. I voluntarily agree to testing for COVID-19 and to self-isolation.  If "
                      color: "#666666"

                    - text: "Medical Facility Name"
                      dataKey: Global.formData.cov19TestForm.name.data.signatureIsolation.facilityName
                      color: "#666666"

                    - text: " does not accept my insurance I consent to being financially responsible for the testing. If my insurance denies covering the cost of the testing I consent to being financially responsible for the testing."
                      color: "#666666"

                  style:
                    ..style.text:

                - type: label
                  text: "Name Of Recipient/Healthcare Proxy"
                  dataKey:
                  style:
                    ..style.secondLabel:
                    marginTop: "0.0197"
                - type: textField
                  placeholder: Enter here
                  dataKey: formData.recipientName
                  style:
                    ..style.blockInput:

                - type: label
                  text: "Signature"
                  dataKey:
                  style:
                    ..style.secondLabel:

                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Click on the signature box below to finger sign
                      dataKey:
                      style:
                        ..style.signTips:
                    - type: label
                      text: Clear
                      dataKey:
                      style:
                        ..style.signClear:
                      onClick:
                        - ..event.signReset

                - type: view
                  style:
                    marginTop: "0.01"
                    height: "0.128"
                    width: "0.9"
                    border:
                      style: "4"
                      color: "0xa9a9a9"
                    borderWidth: "2"
                  children:
                    - type: label
                      text: X
                      style:
                        .SignLabelStyle:
                    - type: canvas
                      dataKey: Cov19TestFormEditPage3.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                      style:
                        left: "0"
                        width: "0.88"
                        height: "0.128"
                        overflow: scroll
                    - type: image
                      viewTag: signatureShowTag
                      path=func: .builtIn.utils.prepareDocToPath
                      dataKey: Cov19TestFormEditPage3.formData.temporarySignature
                      style:
                        display: ..formData.flag
                        left: "0"
                        width: "0.88"
                        top: "0"
                        height: "0.128"
                        overflow: scroll
                        zIndex: "1000"

                - type: view
                  style:
                    width: "0.92"
                    height: "auto"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        ..style.blockBox:
                        marginTop: "0.02216"
                      children:
                        - type: label
                          text: Patient Name
                          style:
                            ..style.blockBoxLeft:
                        - type: label
                          text:
                          dataKey: Global.formData.cov19TestForm.name.data.patientInfo.fullName
                          style:
                            ..style.blockBoxRight:
                    - type: view
                      style:
                        ..style.blockBox:
                      children:
                        - type: label
                          text: Date
                          style:
                            ..style.blockBoxLeft:
                        - type: label
                          text=func: .builtIn.string.formatUnixtimeL_en
                          dataKey: Global.formData.cov19TestForm.ctime
                          style:
                            ..style.blockBoxRight:
                - type: view
                  style:
                    marginTop: "0.03"

        - type: view
          style:
            ..style.btnBox:
          children:
            - type: button
              text: Done
              dataKey:
              style:
                ..style.btn:
              onClick:
                - ..event.publicClick
                - ..event.btnClick

    - .BaseWarningView:
      viewTag: BaseWarningView
      message: "You haven't signed the form"
  event:
    signReset:
      # 移除签名
      - actionType: removeSignature
        dataObject: BLOB
        dataKey: Cov19TestFormEditPage3.apiRequest.newSign.docReq.name.data
        viewTag: signatureTag
      # 重置临时签名
      - actionType: evalObject
        object:
          - ..formData.temporarySignature@: ""
          - ..formData.signatureTime@: ""
      # 显示签名区域隐藏
      - actionType: builtIn
        funcName: hide
        viewTag: signatureShowTag
      - actionType: builtIn
        funcName: show
        viewTag: signatureTag
    publicClick:
      # 签名处理
      - actionType: saveSignature
        dataObject: BLOB
        dataKey: Cov19TestFormEditPage3.apiRequest.newSign.docReq.name.data
        isEmpty: Cov19TestFormEditPage3.formData.whetherIsolationSignature
      - actionType: evalObject
        object:
          - if:
              - =..formData.whetherIsolationSignature
              - continue
              - =..apiRequest.newSign.docAPI.store: ""

      - actionType: evalObject
        object:
          - if:
              - =..formData.temporarySignature
              - actionType: evalObject
                object:
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.signatureTime@: =..formData.signatureTime
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.id@: =..formData.temporarySignature
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature@: false
                  - ..formData.whetherIsolationSignature@: false
              - actionType: evalObject
                object:
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.signatureTime@: =..apiRequest.newSign.docRes.doc.ctime
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.id@: =..apiRequest.newSign.docRes.doc.id
                  - .Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature@: =..formData.whetherIsolationSignature

      - actionType: evalObject
        object:
          - .Global.formData.cov19TestForm.name.data.signatureIsolation.recipientName@: =..formData.recipientName

    btnClick:
      - actionType: evalObject
        object:
          - if:
              - =..formData.whetherIsolationSignature
              - actionType: popUp
                popUpView: BaseWarningView
                wait: true
                popUpDismiss: 2000
              - continue
      - actionType: evalObject
        object:
          - ..apiRequest.cov19TestForm.docReq@: =.Global.formData.cov19TestForm
          - =..apiRequest.cov19TestForm.docAPI.store: ""
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.vaccine
                value: "COVID-19 Testing Consent Form"
          - =.builtIn.array.elementUnique:
              dataIn:
                arr: =.Global.vaccine
              dataOut: Cov19TestFormEditPage3.formData.doc
          - .Global.vaccine@: =..formData.doc
      - actionType: evalObject
        object:
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.roomInfo.edge.name.finishDoc
                value: COVID-19 Testing Consent Form
      - goto: =.Global.formData.selectCategory
    backClick:
      - actionType: builtIn
        funcName: goBack
        reload: true

  style: #Input style fragment here
    formatting:
      margin: "0"
      padding: "0"
      height: "1"
      width: "1"
      overflow: hidden
      boxSizing: border-box

      color: "0x333333"
      fontSize: .Nfont.h16
    bodyBox:
      width: "auto"
      height: "0.84852"
    backLeft:
      marginLeft: "0.04"
      display: "inline-block"
      verticalAlign: middle
      height: "0.055"
      boxSizing: border-box
    backLeftImg:
      marginTop: "0.012"
      height: "0.0295"
    viewBox:
      marginLeft: "0.04"
      height: "auto"
      width: "0.92"
      overflow: hidden

    titleBox:
      marginTop: "0.0270"
      paddingBottom: "1.23vh"
      width: "0.92"
      height: "auto"
      border:
        style: 2
      borderWidth: "1"
      borderColor: "#dedede"
    titlelabel:
      display: "inline-block"
      fontSize: .Nfont.h16
      color: "0x333333"
      width: "0.753125"
      height: "auto"
      fontWeight: "700"
      verticalAlign: top
      lineHeight: "2.95vh"
    pageNum:
      marginLeft: "0.064"
      display: "inline-block"
      height: "0.0221"
      width: "0.1013"
      backgroundColor: "0x2988e6"
      color: "0xffffff"
      fontSize: .Nfont.h14
      fontWeight: "700"
      borderRadius: "3"
      verticalAlign: top
      textAlign:
        x: center
    scrollBox:
      marginLeft: "0.04"
      width: "0.92"
      height: "0.7832"
      boxSizing: border-box
      overflow: scroll
    secondLabel:
      width: "0.92"
      fontSize: .Nfont.h14
      fontWeight: "700"
      color: "0x333333"
      marginTop: "0.0246"
      lineHeight: "2.58vh"
    text:
      marginTop: "0.0172"
      height: "auto"
      width: "0.92"
      fontSize: .Nfont.h14
      lineHeight: "2.58vh"
      wordWrap: break-word
      color: "#333333"
    blockInput:
      marginTop: "0.01"
      height: "0.0369"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
    blockBox:
      marginTop: "0.01"
      height: "auto"
      width: "0.92"
    blockBoxLeft:
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x666666"
      fontSize: .Nfont.h12
      verticalAlign: middle
    blockBoxRight:
      marginLeft: "0.0373"
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x333333"
      fontSize: .Nfont.h14
      fontWeight: "600"
      verticalAlign: middle
    signTips:
      display: "inline-block"
      color: "#666666"
      fontSize: .Nfont.h12
      verticalAlign: middle
      width: "0.8266"
      height: "auto"
    signClear:
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#e24445"
      verticalAlign: middle
      width: "auto"
      height: "auto"
    canvasBox:
      marginTop: "0.01"
      height: "0.128"
      width: "0.9"
      border:
        style: "4"
        color: "0xa9a9a9"
      borderWidth: "2"
    btnBox:
      height: "0.0972"
      width: "1"
      backgroundColor: "0xffffff"
      boxSizing: border-box

      boxShadow: "1px 1px 4px 1px #dededf"
      overflow: hidden
      textAlign:
        x: center
    btn:
      marginTop: "0.0123"
      height: "0.0443"
      width: "0.84"
      border:
        style: 1
      borderRadius: "5"
      backgroundColor: "#2988e6"
      color: "#ffffff"
      fontSize: .Nfont.h14
      boxSizing: border-box
      fontWeight: "600"
      textAlign:
        x: center

  #   # 判断是否签名
  #   - actionType: evalObject
  #     object:
  #       - if:
  #           - =.Global.formData.cov19TestForm.name.data.signatureIsolation.id
  #           - actionType: evalObject
  #             object:
  #               - ..recipientName@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.recipientName
  #               - ..temporarySignature@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.id
  #               - ..whetherSignature@: =.Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature
  #           - continue

  #   # 判断显示签名的id是否为空
  #   - if:
  #       - =.builtIn.string.equal:
  #           dataIn:
  #             string1: =..temporarySignature
  #             string2: ""
  #       - continue
  #       # 非空修改显示的标识,刷新签名区域
  #       - actionType: evalObject
  #         object:
  #           - ..flag@: "block"
  #           - actionType: builtIn
  #             funcName: redraw
  #             viewTag: signatureShowTag
  # # 签名文档
  # newSign:
  #   docRes: ""
  #   docReq:
  #     type: .DocType.DocumentSignature
  #     id: .Global.rootNotebookID
  #     xfname: eid
  #   document: #DOC
  #     type: .DocType.DocumentSignature
  #     name:
  #       title: ""
  #       type: ..newSign.document.subtype.mediaType
  #       data: ""
  #     eid: .Global.rootNotebookID
  #     reid: .Global.formData.cov19TestForm.id
  #     subtype:
  #       mediaType: "" # mediaType : "image/jpeg"
  #   docAPI: # DOCAPI
  #     store:
  #       api: cd
  #       dataIn: Cov19TestFormEditPage3.newSign.document
  #       dataOut: Cov19TestFormEditPage3.newSign.docRes
  # cov19TestForm:
  #   docResp: ""
  #   docReq:
  #     id: ""
  #     eid: .Global.rootNotebookID
  #     type: .DocType.Cov19TestForm
  #     name:
  #       data: ""
  #       title: "COVID-19 Testing Consent Form"
  #       user: .Global.Profile.name.data.basicInfo.fullName
  #   docAPI:
  #     store:
  #       api: cd
  #       dataIn: Cov19TestFormEditPage3.cov19TestForm.docReq
  #       dataOut: Cov19TestFormEditPage3.cov19TestForm.docResp
  # recipientName: ""
  # # 获取暂存的签名的id
  # temporarySignature: ""
  # # 签名的显示,默认为none
  # flag: "none"
  # # 是否签名 true 表示未签 false 表示已签
  # whetherSignature: ""

  # formData: # Input data here
  #   doc: []
  #   cov19TestForm: ""
  # formDataTemp: # Input data temp here
  #   informedConsent:
  #     textA: a. I understand that I may be infected with the virus causing COVID-19 and that I meet criteria for isolation.
  #     textB: b. I agree that while I wait for my COVID-19 test results, I will remain in self-isolation.
  #     textC: c. I agree that if my COVID-19 test results are positive, I will remain isolated for 7 days from this day of testing OR until at least 72 hours after my symptoms have resolved, whichever is longer.
  #     textD: d. I agree that if my COVID-19 test results are negative, I will remain isolated until at least 72 hours after my symptoms have resolved.
  #     textE: e. I understand that if I am not isolated while ill, I could pose a substantial threat to the health of other persons.
  #     textF: f. I agree that I will not come into contact with any other person who is not isolated or ill due to potential COVID- 19 infection.
  #     textG: g. I understand that if I test positive for IgM antibody, I may need to take a COVID-19 swab test for active virus confirmation.
  #     textH: h. I understand that testing positive for antibody does not mean immunity to COVID-19
  # apiRequest: # Input data request here
  # style: # Input style fragment here
  #   listText:
  #     type: label
  #     style:
  #       marginTop: "0.02"
  #       width: "0.86"
  #       fontSize: "12"
  #       lineHeight: "1.7"
  #       height: "auto"
  #       textAlign:
  #         y: center
  # components:
  #   - .BaseHeader:
  #   - .HeaderLeftButton:
  #     style:
  #       backgroundColor: "0x2988e6"
  #   - type: scrollView
  #     style:
  #       height: "0.8"
  #       width: "1"
  #       top: "0.1"
  #       left: "0"
  #     children:
  #       - type: image
  #         path: newPatientForms3_3.svg
  #         style:
  #           marginTop: "0.02"
  #           left: "10vw"
  #           width: "78vw"
  #       - type: label
  #         text: AGREEMENT FOR SELF-ISOLATION
  #         style:
  #           width: "0.86"
  #           left: "0.07"
  #           marginTop: "0.03"
  #           fontSize: "16"
  #           fontWeight: "400"
  #           height: "0.04"
  #           border:
  #             style: "2"
  #           borderColor: "#DEDEDF"
  #           borderWidth: "1"
  #           #
  #       - type: label
  #         text: The local health jurisdiction has determined that if you are under suspicion for having COVID-19 due to symptoms and testing request, that it is necessary to be placed in isolation in order to prevent the transmission of this infection. It is important for you to comply with this Isolation Agreement in order to protect the public’s health. Thank you for agreeing to cooperate.
  #         style:
  #           width: "0.86"
  #           left: "0.07"
  #           marginTop: "0.02"
  #           fontSize: "12"
  #           fontWeight: "400"
  #           lineHeight: "1.7"
  #       - type: label
  #         text: "Please carefully read the following informed consent:"
  #         style:
  #           width: "0.86"
  #           left: "0.07"
  #           marginTop: "0.06"
  #           fontSize: "14"
  #           fontWeight: "400"
  #           lineHeight: "1.7"
  #       - type: view
  #         style:
  #           width: "0.86"
  #           left: "0.07"
  #           marginTop: "0.022"
  #           height: "auto"
  #         children:
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textA
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textB
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textC
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textD
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textE
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textF
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textG
  #           - ..style.listText:
  #             dataKey: formDataTemp.informedConsent.textH
  #       - type: label
  #         text: "I the undersigned, have been informed about the test purpose, procedures, possible benefits and risks, and I have received a copy of this Informed consent. I have been given the opportunity to ask questions before I sign, and I have been told that I can ask other questions at any time. I voluntarily agree to testing for COVID-19 and to self-isolation.  If A&C Urgent Care does not accept my insurance I consent to being financially responsible for the testing. If my insurance denies covering the cost of the testing I consent to being financially responsible for the testing."
  #         style:
  #           marginTop: "0.02"
  #           left: "0.06"
  #           width: "0.84"
  #           fontSize: "12"
  #           lineHeight: "1.7"
  #           color: "0x707070"
  #       - type: view
  #         style:
  #           width: "0.86"
  #           left: "0.07"
  #           marginTop: "0.02"
  #           height: auto
  #         children:
  #           - .RecipientName:
  #             children:
  #               - .RecipientNameLabel:
  #               - .RecipientNameTextField:
  #                 dataKey: recipientName
  #               - .RecipientNameClickText:
  #       - type: view
  #         style:
  #           marginTop: "0.02"
  #           left: "0.05"
  #           height: "auto"
  #           width: "0.9"
  #           overflow: hidden
  #           # backgroundColor: "pink"
  #         children:
  #           # - type: label
  #           #   text: Signature
  #           #   style:
  #           #     display: "inline-block"
  #           #     height: "auto"
  #           #     width: "0.4"
  #           #     fontSize: .Nfont.h15
  #           #     fontStyle: bold
  #           # 清除签名
  #           - type: label
  #             text: Clear
  #             style:
  #               marginLeft: "0.73"
  #               display: "inline-block"
  #
  #               fontSize: .Nfont.h1
  #               height: "auto"
  #               width: "0.15"
  #               color: "0x1492e6"
  #               textAlign:
  #                 x: right
  #             onClick:
  #               # 移除签名
  #               - actionType: removeSignature
  #                 dataObject: BLOB
  #                 dataKey: Cov19TestFormEditPage3.newSign.document.name.data
  #                 viewTag: signatureTag
  #               # 重置临时签名
  #               - actionType: evalObject
  #                 object:
  #                   - ..temporarySignature@: ""
  #               # 显示签名区域隐藏
  #               - actionType: builtIn
  #                 funcName: hide
  #                 viewTag: signatureShowTag
  #               - actionType: builtIn
  #                 funcName: show
  #                 viewTag: signatureTag
  #           - type: view
  #             style:
  #               marginTop: "0.01"
  #               width: "0.88"
  #               height: "0.15"
  #               #  backgroundColor: "pink"
  #               border:
  #                 style: 4
  #               borderColor: "0xababab"
  #               borderWidth: "2"
  #             children:
  #               - type: label
  #                 text: X
  #                 style:
  #                   top: "0.1"
  #                   .SignLabelStyle:
  #               - type: canvas
  #                 dataKey: Cov19TestFormEditPage3.newSign.document.name.data
  #                 viewTag: signatureTag
  #                 style:
  #                   .SignCanvasStyle:
  #               # 显示暂存的签名
  #               - type: image
  #                 viewTag: signatureShowTag
  #                 path=func: .builtIn.utils.prepareDocToPath
  #                 # 传入签名文档的id
  #                 dataKey: Cov19TestFormEditPage3.temporarySignature
  #                 style:
  #                   # 控制显示
  #                   display: ..flag
  #                   left: "0"
  #                   width: "0.88"
  #                   top: "0"
  #                   height: "0.15"
  #                   overflow: scroll
  #                   zIndex: "110"
  #           # PatientName & Date
  #           - .PatNameAndDate:
  #             style:
  #               left: "0"
  #             children:
  #               - .PatName:
  #               - .PatNameValue:
  #                 dataKey: Global.formData.cov19TestForm.name.user
  #                 style:
  #                   color: "0x000000"
  #               - .PatDate:
  #               - .PatDateValue:
  #                 dataKey: Global.formData.cov19TestForm.ctime
  #                 style:
  #                   color: "0x000000"

  #   - .NextButtonView:
  #     message: Done
  #     children:
  #       - .NextButton:
  #         onClick:
  #           # 签名处理
  #           - actionType: saveSignature
  #             dataObject: BLOB
  #             dataKey: Cov19TestFormEditPage3.newSign.document.name.data
  #             isEmpty: Cov19TestFormEditPage3.whetherSignature
  #           - actionType: evalObject
  #             object:
  #               - =..newSign.docAPI.store: ""
  #               # 存放签名的id
  #               - if:
  #                   # - =..newSign.docRes.doc.id
  #                   - =..whetherSignature
  #                   # 保存签名判断状态
  #                   - .Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature@: =..whetherSignature
  #                   - actionType: evalObject
  #                     object:
  #                       - .Global.formData.cov19TestForm.name.data.signatureIsolation.recipientName@: =..recipientName
  #                       - .Global.formData.cov19TestForm.name.data.signatureIsolation.id@: =..newSign.docRes.doc.id
  #                       # 保存签名判断状态
  #                       - .Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature@: =..whetherSignature
  #               - if:
  #                   - =..temporarySignature
  #                   - actionType: evalObject
  #                     object:
  #                       - .Global.formData.cov19TestForm.name.data.signatureIsolation.id@: =..temporarySignature
  #                       # 保存签名判断状态
  #                       - .Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature@: false
  #                   - continue
  #               - if:
  #                   - =.Global.formData.cov19TestForm.name.data.signatureIsolation.whetherIsolationSignature
  #                   - actionType: popUp
  #                     popUpView: warningView
  #                     wait: true
  #                   - continue
  #               - ..cov19TestForm.docReq@: =.Global.formData.cov19TestForm
  #               - =..cov19TestForm.docAPI.store: ""
  #               - =.builtIn.array.add:
  #                   dataIn:
  #                     object: =.Global.vaccine
  #                     value: "COVID-19 Testing Consent Form"
  #               - =.builtIn.array.elementUnique:
  #                   dataIn:
  #                     arr: =.Global.vaccine
  #                   dataOut: Cov19TestFormEditPage3.formData.doc
  #               - .Global.vaccine@: =..formData.doc
  #           - actionType: evalObject
  #             object:
  #               - =.builtIn.array.add:
  #                   dataIn:
  #                     object: =.Global.roomInfo.edge.name.finishDoc
  #                     value: COVID-19 Testing Consent Form
  #               - goto: =.Global.formData.selectCategory
  #   - .BaseWarningView:
