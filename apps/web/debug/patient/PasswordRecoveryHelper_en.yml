PasswordRecoveryHelper:
  title: "Password Reset Helper"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - ..userData.docAPI.get: ""
  dataObject: ""
  docObject: ""
  my16Dkey: ""
  refuse:
    edge:
      .Edge: ""
      type: .EdgeType.Accept
      bvid: .Global.currentUser.vertex.id
      name: ""
    edgeAPI:
      store:
        api: ce
        dataIn: refuse.edge
  newPasswordRecovery:
    docResp: ""
    docReq:
      id: =.PasswordRecoveryHelper.emailList.email.edge.0.id
      type: .DocType.PasswordRecovery
      xfname: "eid"
      # sfname: "{\"result\":\"D.*\", \"join\": \"inner join Vertex V ON V.id=D.ovid\"}"
      # ObjType: 28
    document:
      type: .DocType.PasswordRecovery
      eid: =.PasswordRecoveryHelper.emailList.email.edge.0.id
      name:
        title: ""
        type: "application/json"
        sesk: ""
        data: ""
    docAPI:
      .DocAPI: ""
      store:
        api: cd
        dataIn: newPasswordRecovery.document
        dataOut: PasswordRecoveryHelper.newPasswordRecovery.document
        subtype:
          mediaType: "application/json"
      get:
        api: rd
        dataIn: newPasswordRecovery.docReq
        dataOut: PasswordRecoveryHelper.newPasswordRecovery.docResp
      delete:
        api: dx
        dataIn: PasswordRecoveryHelper.docObject
  newPasswordHelper:
    document:
      type: .DocType.PasswordHelper
      # esig: .inviteHelper.response.edge.evid # Helpers.id
      _nonce: .Global._nonce
      eid: =.PasswordRecoveryHelper.emailList.email.edge.0.id
      name:
        title: "test2"
        type: "application/json"
        aesk: ""
        data: ""
    docAPI:
      .DocAPI: ""
      store:
        api: cd
        dataIn: newPasswordHelper.document
        dataOut: PasswordRecoveryHelper.newPasswordHelper.document
        subtype:
          mediaType: "application/json"
  emailList:
    email:
      edge:
    request:
      id:
        - =.PasswordRecoveryHelper.dataObject.id
        - .Global.currentUser.vertex.id
      xfname: "evid,bvid|bvid,evid"
      type: .EdgeType.Email
      _nonce: =.Global._nonce
      sCondition: "subtype=8"
    get:
      api: re
      dataIn: emailList.request
      dataOut: PasswordRecoveryHelper.emailList.email
  userData:
    docResp:
    docReq:
      ids:
        - .Global.currentUser.vertex.id
      xfname: ovid
      type: .DocType.PasswordRecovery
      obfname: "mtime"
      maxcount: "20"
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: userData.docReq
        dataOut: PasswordRecoveryHelper.userData.docResp
  helperData:
    userVertex:
      vertex:
    request:
      id: =.PasswordRecoveryHelper.inviteHelper.response.edge.evid
      xfname: id
      type: 1
    get:
      api: rv
      dataIn: helperData.request
      dataOut: PasswordRecoveryHelper.helperData.userVertex
  inviteHelper:
    response: ""
    edge:
      .Edge: ""
      type: 1053
      _handledCode: 23010
      refid: ""
      subtype: 8 # invite special people
      bvid: .Global.currentUser.vertex.id
      name:
        phoneNumber: ""
        inviterName: .Global.currentUser.vertex.name.firstName
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: inviteHelper.edge
        dataOut: inviteHelper.response
  getVertex:
    response: ""
    vertex:
      .Vertex: ""
      xfname: none
      type: 1
      sCondition: =..rvCondition
    vertexAPI:
      get:
        api: rv
        dataIn: getVertex.vertex
        dataOut: PasswordRecoveryHelper.getVertex.response
  save:
    - =..inviteHelper.edgeAPI.store: ""
  rvCondition: ""
  formData:
    countryCode: "+1"
    phoneNumber: ""
    checkOk: ""
  components:
    - .BaseWarningView: ""
      message: "Please add one friend"
      viewTag: NoPhoneNum
    - .BaseWarningView:
      message: "Invalid Phone Number"
      viewTag: wrongPhoneNum
    - .BaseWarningView:
      message: "User doesn't exist"
      viewTag: noUser
    - .BaseWarningView:
      message: "You cannot use your own phone number"
      viewTag: ownPhoneNum
      onClick:
        - actionType: evalObject
          object:
            - ..inviteHelper.edge.name.phoneNumber@: ""
        - actionType: builtIn
          funcName: redraw
          viewTag: phoneTag
        - actionType: popUpDismiss
          popUpView: ownPhoneNum
    - .BaseWarningView:
      message: "This friend has been invited"
      viewTag: samePhoneNum
      onClick:
        - actionType: evalObject
          object:
            - ..inviteHelper.edge.name.phoneNumber@: ""
        - actionType: builtIn
          funcName: redraw
          viewTag: phoneTag
        - actionType: popUpDismiss
          popUpView: samePhoneNum
    - .BasePublicHeader:
      children:
        - .BasePublicHeaderLeft:
        - .BasePublicHeaderTitle:
        - .BasePublicHeaderRightIcon:
          path: help.png
          onClick:
            - goto: Help
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: view
          style:
            ..style.segmentationBox:
          children:
            - type: label
              text: Add/Invite/Remove PR Helpers
              style:
                ..style.titleLabel:
        - type: view
          viewTag: phoneNumber
          style:
            ..style.blockBox:
          children:
            - type: view
              style:
                ..style.inlineBox:
                marginLeft: "0.04"
              children:
                - type: label
                  text: Country
                  style:
                    ..style.inlineTitle:
                - type: select
                  contentType: countryCode
                  placeholder: ..formData.countryCode
                  dataKey: formData.countryCode
                  options: .CountryCode
                  required: "true"
                  style:
                    ..style.inputBox:
            - type: view
              style:
                ..style.inlineBox:
                marginLeft: "0.032"
              children:
                - type: label
                  textBoard:
                    - text: Phone Number
                    - text: "*"
                      color: "0xff0000"
                  style:
                    ..style.inlineTitle:
                - type: textField
                  viewTag: phoneTag
                  placeholder: "000-000-0000"
                  dataKey: inviteHelper.edge.name.phoneNumber
                  style:
                    ..style.inputBox:
                    width: "0.48"
            - type: button
              text: Add
              style:
                ..style.btn:
              onClick:
                - ..event.addClick
        - type: view
          style:
            ..style.segmentationBox:
            marginTop: "0.0492"
          children:
            - type: label
              text: PR Helper List
              style:
                ..style.titleLabel:
        - type: list
          viewTag: helpList
          contentType: listObject
          listObject: ..userData.docResp.doc
          iteratorVar: itemObject
          style:
            ..style.dataList:
          children:
            - type: listItem
              itemObject:
              style:
                ..style.dataListItem:
              children:
                - type: view
                  style:
                    ..style.itemBox:
                  children:
                    - type: image
                      path: accompany.png
                      style:
                        ..style.listImg:
                    - type: view
                      style:
                        ..style.itemValueBox:
                      children:
                        - type: label
                          dataKey: itemObject.name.user
                          style:
                            ..style.fullLabel:
                        - type: label
                          text: ""
                          dataKey: itemObject.name.title
                          style:
                            ..style.specialty:
                    - type: button
                      text: Delete
                      style:
                        ..style.delBtn:
                      onClick:
                        - ..event.delClick
                - type: view
                  style:
                    marginTop: "0.0198"

    - .publicDeleteUP:
      viewTag: confirm
      message: "Do you want to remove this PS helper"
      leftButton:
        - actionType: popUpDismiss
          popUpView: confirm
      rightButton:
        - actionType: popUpDismiss
          popUpView: confirm
        - actionType: evalObject
          object:
            - =..newPasswordRecovery.docAPI.delete: ""
        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""
        - actionType: evalObject
          object:
            - =..userData.docAPI.get: ""
            - ..inviteHelper.edge.name.phoneNumber@: ""
        # - actionType: refresh
        - actionType: builtIn
          funcName: redraw
          viewTag: helpList
        # - actionType: builtIn
        #   funcName: redraw
        #   viewTag: helpList
        # - actionType: evalObject
        #   object:
        #     - =.builtIn.goto:
        #         dataIn:
        #           destination: 'NewConnections'
        #           pageReload: true
        # - if:
        #   - =..invite.inviteList.edge.0
        #   - continue
        #   - =.builtIn.checkField:
        #       dataIn:
        #         contentType: messageHidden
        #         wait: 100
        # - actionType: popUpDismiss
        #   popUpView: confirm

    - .SuccessfulOneLine:
      viewTag: finalView
      imagePath: popUpSuccess.svg
      message: "Successfully!"
      onClick:
        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""
        - actionType: evalObject
          object:
            - =..userData.docAPI.get: ""
            - ..inviteHelper.edge.name.phoneNumber@: ""
        - actionType: builtIn
          funcName: redraw
          viewTag: phoneTag
        - actionType: builtIn
          funcName: redraw
          viewTag: helpList
        - actionType: popUpDismiss
          popUpView: finalView

    - .Warning:
      viewTag: confirm
      message: "Do you want to remove this PS helper?"
      leftButton:
        - actionType: popUpDismiss
          popUpView: confirm
      rightButton:
        - actionType: popUpDismiss
          popUpView: confirm
        - actionType: evalObject
          object:
            - =..newPasswordRecovery.docAPI.delete: ""
        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""
        - actionType: evalObject
          object:
            - =..userData.docAPI.get: ""
            - ..inviteHelper.edge.name.phoneNumber@: ""
        # - actionType: refresh
        - actionType: builtIn
          funcName: redraw
          viewTag: helpList
    # - .ConfirmWarningPopup:
    #   # viewTag: confirm
    #   children:
    #     - .ConfirmWarningPopupView:
    #       style:
    #         height: "auto"
    #         width: "0.6"
    #         left: "0.2"
    #         borderRadius: "10"
    #         overflow: hidden
    #       children:
    #         - type: view
    #           style:
    #             height: "0.045"
    #             width: "0.6"
    #             backgroundColor: "0xb62929"
    #           children:
    #             - type: image
    #               path: aboutWhite.svg
    #               style:
    #                 left: "0.21"
    #                 top: "0.011"
    #                 width: "5vw"
    #             - type: label
    #               text: Warning
    #               style:
    #                 left: "0.27"
    #                 width: "0.1"
    #                 height: "0.045"
    #
    #                 top: "0.005"
    #                 fontSize: .Nfont.n3
    #                 color: "0xffffff"
    #                 textAlign:
    #                   x: left
    #                   y: center
    #         - type: view
    #           style:
    #             width: "0.6"
    #             height: "auto"
    #             overflow: hidden
    #           children:
    #             - type: label
    #               text: Do you want to remove this PS helper?
    #               style:
    #                 marginTop: "0.04"
    #                 height: "auto"
    #                 width: "0.58"
    #                 left: "0.01"
    #                 textAlign:
    #                   x: center
    #                 fontSize: "4.2vw"
    #                 fontWeight: "500"
    #         - type: view
    #           style:
    #             marginTop: "0.04"
    #             height: "0.001"
    #             width: "0.6"
    #             backgroundColor: "0x999999"
    #         - type: view
    #           style:
    #             height: "0.045"
    #             width: "0.6"
    #           children:
    #             - type: view
    #               style:
    #                 top: "0"
    #                 left: "0.3"
    #                 height: "0.045"
    #                 width: "0.002"
    #                 backgroundColor: "0x999999"
    #             - type: button
    #               text: Cancel
    #               style:
    #                 top: "0.005"
    #                 left: "0.07"
    #                 height: "0.04"
    #                 width: "0.15"
    #                 fontSize: "5vw"
    #                 color: "0x007aff"
    #                 border:
    #                   style: "1"
    #                 backgroundColor: "0xe5e5e5"
    #                 textAlign:
    #                   x: center
    #                   y: center
    #               onClick:
    #                 - actionType: popUpDismiss
    #                   popUpView: confirm
    #             - type: button
    #               text: OK
    #               style:
    #                 top: "0.005"
    #                 left: "0.375"
    #                 height: "0.04"
    #                 width: "0.15"
    #                 fontSize: "5vw"
    #                 color: "0x007aff"
    #                 border:
    #                   style: "1"
    #                 backgroundColor: "0xe5e5e5"
    #                 textAlign:
    #                   x: center
    #                   y: center
    #               onClick:
    #                 - actionType: popUpDismiss
    #                   popUpView: confirm
    #                 - actionType: evalObject
    #                   object:
    #                     - =..newPasswordRecovery.docAPI.delete: ""
    #                 - actionType: evalObject
    #                   object:
    #                     .Global._nonce@:
    #                       =.builtIn.math.random: ""
    #                 - actionType: refresh
    #                 # - actionType: builtIn
    #                 #   funcName: redraw
    #                 #   viewTag: helpList
    #                 # - actionType: evalObject
    #                 #   object:
    #                 #     - =.builtIn.goto:
    #                 #         dataIn:
    #                 #           destination: 'NewConnections'
    #                 #           pageReload: true
    #                 # - if:
    #                 #   - =..invite.inviteList.edge.0
    #                 #   - continue
    #                 #   - =.builtIn.checkField:
    #                 #       dataIn:
    #                 #         contentType: messageHidden
    #                 #         wait: 100

    - type: popUp
      viewTag: confirmView
      # message: "Add as Password Reset Helper"
      style:
        top: "0"
        left: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "50"
        textAlign:
          y: center
      leftButton:
        - actionType: popUpDismiss
          popUpView: confirmView
      rightButton:
        - actionType: evalObject
          object: ..save
        - actionType: popUpDismiss
          popUpView: confirmView
        - actionType: evalObject
          object:
            # get the user by phone number
            - =..getVertex.vertexAPI.get: ""
            - if:
                - =..getVertex.response.vertex.0.id
                - ..inviteHelper.response.edge.evid@: =..getVertex.response.vertex.0.id
                - continue
        - actionType: evalObject
          object:
            - if:
                - =..getVertex.response.vertex.0.id
                - continue
                - actionType: popUp
                  popUpView: noUser
                  wait: true
        - actionType: evalObject
          object:
            - .Global._nonce@:
                =.builtIn.math.random: ""
            - =.builtIn.eccNaCl.generate16Dkey:
                #dataIn:
                dataOut: PasswordRecoveryHelper.my16Dkey
            - .PasswordRecoveryHelper.dataObject.id@: =..inviteHelper.response.edge.evid
            - =..helperData.get: ""
            - =..emailList.get: ""
        - actionType: evalObject
          object:
            - if:
                - =..helperData.userVertex.vertex.0.pk
                - continue
                - actionType: popUp
                  popUpView: inviteView
                  wait: true
            - =.builtIn.eccNaCl.encryptAES:
                dataIn:
                  key: =..my16Dkey
                  message: =.Global.currentUser.vertex.sk # user_sk
                dataOut: PasswordRecoveryHelper.newPasswordRecovery.document.name.sesk #sesk
            - =.builtIn.eccNaCl.encryptASK:
                dataIn:
                  data: =..my16Dkey
                  sendSk: =.Global.currentUser.vertex.sk
                  recvPk: =..helperData.userVertex.vertex.0.pk
                dataOut: PasswordRecoveryHelper.newPasswordHelper.document.name.aesk
        - actionType: evalObject
          object:
            - ..newPasswordRecovery.document.name.user@: =..helperData.userVertex.vertex.0.name.firstName
            - ..newPasswordRecovery.document.name.title@: =..helperData.userVertex.vertex.0.name.phoneNumber
            - =..newPasswordRecovery.docAPI.get: ""
        - actionType: evalObject
          object:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..newPasswordRecovery.docResp.doc.0.bsig
                      string2: =.Global.currentUser.vertex.id
                - actionType: popUp
                  popUpView: samePhoneNum
                  wait: true
                - continue
            - =.PasswordRecoveryHelper.newPasswordRecovery.docAPI.store: ""
            - ..newPasswordHelper.document.fid@: =..newPasswordRecovery.document.doc.id
        - actionType: evalObject
          object:
            - =.PasswordRecoveryHelper.newPasswordHelper.docAPI.store: ""
        - actionType: popUp
          popUpView: finalView

      children:
        - type: view
          style:
            width: "0.7"
            marginLeft: "0.15"
            backgroundColor: "0xE6E6E6"
            borderRadius: "14px"
            overflow: hidden
          children:
            - type: view
              style:
                width: "0.7"
                height: "0.04"
                backgroundColor: "0xd81e06"
                borderRadius: "14px 14px 0 0"
                overflow: hidden
              children:
                - type: view
                  style:
                    marginTop: "0.006"
                    width: "0.7"
                    height: "auto"
                  children:
                    - type: image
                      path: aboutWhite.svg
                      style:
                        display: inline-block
                        verticalAlign: middle
                        marginLeft: "0.23"
                        width: "0.045"
                    - type: label
                      text: Warning
                      style:
                        fontSize: .Nfont.h14
                        marginLeft: "0.02"
                        color: "0xFFFFFF"
                        display: inline-block
                        verticalAlign: middle
                        fontFamily: "Arial"
            - type: label
              # text: ___.message
              textBoard:
                - text: Add as Password Reset Helper
                - br:
                - text: Send invite link to
                - br:
                - text: +1
                  dataKey: inviteHelper.edge.name.phoneNumber
              style:
                width: "0.576"
                marginLeft: "0.062"
                marginTop: "0.027"
                fontSize: .Nfont.h14

                textAlign:
                  x: center
                color: "0x333333"
            - type: view
              style:
                height: "0.027"
                width: "0.7"
                border:
                  style: 2
                  color: "0x919192"
                borderWidth: "1"
            - type: view
              style:
                width: "0.7"
              children:
                - type: button
                  text: "Cancel"
                  style:
                    color: "0x007AFF"
                    display: inline-block
                    width: "0.349"
                    borderRadius: "0 0 0 14px"
                    height: "0.054"
                    backgroundColor: "0xE6E6E6"
                    border:
                      style: "1"
                  onClick: ____.leftButton
                - type: view
                  style:
                    width: "0.002"
                    backgroundColor: "0x919192"
                    display: inline-block
                    height: "0.054"
                    zIndex: "50"
                - type: button
                  text: "Confirm"
                  style:
                    color: "0x007AFF"
                    fontWeight: "850"
                    display: inline-block
                    width: "0.349"
                    borderRadius: "0 0 14px 0"
                    height: "0.054"
                    backgroundColor: "0xE6E6E6"
                    border:
                      style: "1"
                  onClick: ____.rightButton
    # - .ConfirmWarningPopup:
    #   viewTag: confirmView
    #   children:
    #     - .ConfirmWarningPopupView:
    #       style:
    #         height: "auto"
    #         width: "0.8"
    #         left: "0.1"
    #         borderRadius: "10"
    #         overflow: hidden
    #       children:
    #         - type: view
    #           style:
    #             height: "0.045"
    #             width: "0.8"
    #             backgroundColor: "0xb62929"
    #           children:
    #             - type: image
    #               path: aboutWhite.svg
    #               style:
    #                 left: "0.29"
    #                 top: "0.011"
    #                 width: "5vw"
    #             - type: label
    #               text: Warning
    #               style:
    #                 left: "0.36"
    #                 width: "0.11"
    #                 height: "0.045"
    #
    #                 top: "0.005"
    #                 fontSize: .Nfont.n3
    #                 color: "0xffffff"
    #                 textAlign:
    #                   x: left
    #                   y: center
    #         - type: view
    #           style:
    #             width: "0.8"
    #             height: "auto"
    #             overflow: hidden
    #           children:
    #             - type: label
    #               text: Add as Password Reset Helper
    #               style:
    #                 marginTop: "0.005"
    #                 height: "auto"
    #                 width: "0.76"
    #                 left: "0.02"
    #                 textAlign:
    #                   x: center
    #                 fontSize: "4.5vw"
    #                 fontWeight: "500"
    #             - type: label
    #               text: Send invite link to
    #               style:
    #                 marginTop: "0.005"
    #                 height: "auto"
    #                 width: "0.8"
    #                 textAlign:
    #                   x: center
    #                 fontSize: "4vw"
    #             - type: label
    #               dataKey: inviteHelper.edge.name.phoneNumber
    #               style:
    #                 marginTop: "0.015"
    #                 height: "auto"
    #                 width: "0.74"
    #                 left: "0.03"
    #                 textAlign:
    #                   x: center
    #                 fontSize: "4vw"
    #         - type: view
    #           style:
    #             marginTop: "0.01"
    #             height: "0.001"
    #             width: "0.8"
    #             backgroundColor: "0x999999"
    #         - type: view
    #           style:
    #             height: "0.045"
    #             width: "0.8"
    #           children:
    #             - type: view
    #               style:
    #                 top: "0"
    #                 left: "0.4"
    #                 height: "0.045"
    #                 width: "0.002"
    #                 backgroundColor: "0x999999"
    #             - type: button
    #               text: Cancel
    #               style:
    #                 top: "0.005"
    #                 left: "0.1"
    #                 height: "0.04"
    #                 width: "0.2"
    #                 fontSize: "5vw"
    #                 color: "0x007aff"
    #                 border:
    #                   style: "1"
    #                 backgroundColor: "0xe5e5e5"
    #                 textAlign:
    #                   x: center
    #                   y: center
    #               onClick:
    #                 - actionType: popUpDismiss
    #                   popUpView: confirmView
    #             - type: button
    #               text: Confirm
    #               style:
    #                 top: "0.005"
    #                 left: "0.5"
    #                 height: "0.04"
    #                 width: "0.2"
    #                 fontSize: "5vw"
    #                 color: "0x007aff"
    #                 border:
    #                   style: "1"
    #                 backgroundColor: "0xe5e5e5"
    #                 textAlign:
    #                   x: center
    #                   y: center
    #               onClick:
    #                 - actionType: evalObject
    #                   object: ..save
    #                 - actionType: popUpDismiss
    #                   popUpView: confirmView
    #                 - actionType: evalObject
    #                   object:
    #                     # get the user by phone number
    #                     - =..getVertex.vertexAPI.get: ""
    #                     - if:
    #                       - =..getVertex.response.vertex.0.id
    #                       - ..inviteHelper.response.edge.evid@: =..getVertex.response.vertex.0.id
    #                       - continue
    #                 - actionType: evalObject
    #                   object:
    #                     - if:
    #                         - =..getVertex.response.vertex.0.id
    #                         - continue
    #                         - actionType: popUp
    #                           popUpView: noUser
    #                           wait: true
    #                 - actionType: evalObject
    #                   object:
    #                     - .Global._nonce@:
    #                         =.builtIn.math.random: ""
    #                     - =.builtIn.eccNaCl.generate16Dkey:
    #                         #dataIn:
    #                         dataOut: PasswordRecoveryHelper.my16Dkey
    #                     - .PasswordRecoveryHelper.dataObject.id@: =..inviteHelper.response.edge.evid
    #                     - =..helperData.get: ""
    #                     - =..emailList.get: ""
    #                 - actionType: evalObject
    #                   object:
    #                     - if:
    #                         - =..helperData.userVertex.vertex.0.pk
    #                         - continue
    #                         - actionType: popUp
    #                           popUpView: inviteView
    #                           wait: true
    #                     - =.builtIn.eccNaCl.encryptAES:
    #                         dataIn:
    #                           key: =..my16Dkey
    #                           message: =.Global.currentUser.vertex.sk # user_sk
    #                         dataOut: PasswordRecoveryHelper.newPasswordRecovery.document.name.sesk #sesk
    #                     - =.builtIn.eccNaCl.encryptASK:
    #                         dataIn:
    #                           data: =..my16Dkey
    #                           sendSk: =.Global.currentUser.vertex.sk
    #                           recvPk: =..helperData.userVertex.vertex.0.pk
    #                         dataOut: PasswordRecoveryHelper.newPasswordHelper.document.name.aesk
    #                 - actionType: evalObject
    #                   object:
    #                     - ..newPasswordRecovery.document.name.user@: =..helperData.userVertex.vertex.0.name.firstName
    #                     - ..newPasswordRecovery.document.name.title@: =..helperData.userVertex.vertex.0.name.phoneNumber
    #                     - =..newPasswordRecovery.docAPI.get: ""
    #                 - actionType: evalObject
    #                   object:
    #                     - if:
    #                         - =.builtIn.string.equal:
    #                             dataIn:
    #                               string1: =..newPasswordRecovery.docResp.doc.0.bsig
    #                               string2: =.Global.currentUser.vertex.id
    #                         - actionType: popUp
    #                           popUpView: samePhoneNum
    #                           wait: true
    #                         - continue
    #                     - =.PasswordRecoveryHelper.newPasswordRecovery.docAPI.store: ""
    #                     - ..newPasswordHelper.document.fid@: =..newPasswordRecovery.document.doc.id
    #                 - actionType: evalObject
    #                   object:
    #                     - =.PasswordRecoveryHelper.newPasswordHelper.docAPI.store: ""
    #                 - actionType: popUp
    #                   popUpView: finalView
    - type: popUp
      viewTag: inviteView
      message: "Sorry, this phone number"
      style:
        top: "0"
        left: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "50"
        textAlign:
          y: center
      leftButton:
        - actionType: popUpDismiss
          popUpView: confirmView
        - actionType: popUpDismiss
          popUpView: inviteView
        - actionType: evalObject
          object:
            - ..inviteHelper.edge.name.phoneNumber@: ""
        - actionType: builtIn
          funcName: redraw
          viewTag: phoneTag
      rightButton:
        - actionType: popUpDismiss
          popUpView: confirmView
        - actionType: popUpDismiss
          popUpView: inviteView
        - actionType: evalObject
          object:
            - ..inviteHelper.edge.name.phoneNumber@: ""
        - actionType: builtIn
          funcName: redraw
          viewTag: phoneTag
      children:
        - type: view
          style:
            width: "0.75"
            marginLeft: "0.125"
            backgroundColor: "0xE6E6E6"
            borderRadius: "14px"
          children:
            - type: label
              text: ___.message
              style:
                width: "0.636"
                marginLeft: "0.052"
                marginTop: "0.029"
                fontWeight: "600"
                fontSize: .Nfont.h14

                color: "0x4B4B4B"
                textAlign:
                  x: center
            - type: label
              dataKey: inviteHelper.edge.name.phoneNumber
              style:
                width: "0.636"
                marginLeft: "0.052"
                marginTop: "0.014"
                fontSize: .Nfont.h14

                color: "0x4B4B4B"
                textAlign:
                  x: center
            - type: label
              text: is not inside our system, please enter another phone number or let this user sign up first.
              style:
                width: "0.636"
                marginLeft: "0.052"
                marginTop: "0.014"
                fontWeight: "600"
                fontSize: .Nfont.h14

                color: "0x4B4B4B"
                textAlign:
                  x: center
            - type: view
              style:
                height: "0.02"
                border:
                  style: 2
                  color: "0x919192"
                borderWidth: "1"
                width: "0.75"
            - type: view
              style:
                width: "0.75"
              children:
                - type: button
                  text: "Cancel"
                  style:
                    color: "0x007AFF"
                    backgroundColor: "0xE6E6E6"
                    display: inline-block
                    width: "0.374"
                    borderRadius: "0 0 0 14px"
                    fontSize: .Nfont.h14
                    height: "0.054"
                    border:
                      style: "1"
                  onClick: ____.leftButton
                - type: view
                  style:
                    width: "0.002"
                    backgroundColor: "0x919192"
                    display: inline-block
                    height: "0.054"
                    zIndex: "50"
                - type: button
                  text: "Confirm"
                  style:
                    color: "0x007AFF"
                    fontWeight: "800"
                    backgroundColor: "0xE6E6E6"
                    display: inline-block
                    width: "0.374"
                    fontSize: .Nfont.h14
                    borderRadius: "0 0 14px 0"
                    height: "0.054"
                    border:
                      style: "1"
                  onClick: ____.rightButton
    # - type: view
    #   viewTag: inviteView
    #   style:
    #     left: "0"
    #     top: "0"
    #     width: "1"
    #     height: "1"
    #     backgroundColor: "0x00000033"
    #     zIndex: "1000"
    #   children:
    #     - type: view
    #       style:
    #         left: "0.15"
    #         top: "0.3"
    #         width: "0.7"
    #         height: "0.25"
    #         backgroundColor: "0xefefef"
    #         borderRadius: "10"
    #       children:
    #         - type: label
    #           text: Sorry, this phone number
    #           style:
    #             left: "0"
    #             marginTop: "0.04"
    #             width: "0.7"
    #             fontSize: "16"
    #             fontWeight: "500"
    #             textAlign:
    #               x: center
    #         - type: label
    #           dataKey: inviteHelper.edge.name.phoneNumber
    #           style:
    #             left: "0"
    #             marginTop: "0.02"
    #             width: "0.7"
    #             fontSize: "13"
    #             fontWeight: "500"
    #             textAlign:
    #               x: center
    #         - type: label
    #           text: is not inside our system, please enter another phone number or let this user sign up first.
    #           style:
    #             left: "0"
    #             marginTop: "0.02"
    #             width: "0.7"
    #             fontSize: "14"
    #             fontWeight: "500"
    #             textAlign:
    #               x: center
    #         - type: view
    #           style:
    #             left: "0"
    #             top: "0.19"
    #             width: "0.7"
    #             height: "0.0002"
    #             backgroundColor: "0xbebebf"
    #         - type: divider
    #           style:
    #             left: "0.348"
    #             top: "0.18"
    #             width: "0.001"
    #             height: "0.057"
    #             backgroundColor: "0xbebebf"
    #         - type: button
    #           text: Cancel
    #           onClick:
    #             - actionType: popUpDismiss
    #               popUpView: confirmView
    #             - actionType: popUpDismiss
    #               popUpView: inviteView
    #             - actionType: evalObject
    #               object:
    #                 - ..inviteHelper.edge.name.phoneNumber@: ""
    #             - actionType: builtIn
    #               funcName: redraw
    #               viewTag: phoneTag
    #           style:
    #             left: "0"
    #             top: "0.195"
    #             width: "0.348"
    #             height: "0.05"
    #             borderRadius: "10"
    #             borderWidth: "0"
    #             fontSize: "17"
    #             fontWeight: "500"
    #             color: "0x3a96f9"
    #             textAlign:
    #               x: center
    #         - type: button
    #           text: Confirm
    #           onClick:
    #             - actionType: popUpDismiss
    #               popUpView: confirmView
    #             - actionType: popUpDismiss
    #               popUpView: inviteView
    #             - actionType: evalObject
    #               object:
    #                 - ..inviteHelper.edge.name.phoneNumber@: ""
    #             - actionType: builtIn
    #               funcName: redraw
    #               viewTag: phoneTag
    #           style:
    #             left: "0.352"
    #             top: "0.195"
    #             width: "0.348"
    #             height: "0.05"
    #             borderRadius: "10"
    #             borderWidth: "0"
    #             fontSize: "17"
    #             fontWeight: "500"
    #             color: "0x3a96f9"
    #             textAlign:
    #               x: center
  event:
    addClick:
      - actionType: evalObject
        object:
          - if:
              - =..inviteHelper.edge.name.phoneNumber
              - continue
              - actionType: popUp
                popUpView: NoPhoneNum
                wait: true
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =.Global.phoneNumber
                    string2: =..inviteHelper.edge.name.phoneNumber
              - actionType: popUp
                popUpView: ownPhoneNum
                wait: true
              - continue
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.countryCode
                    string2: "+965" # Kuwait
              - ..formData.checkOk@: true
              - =.builtIn.string.phoneVerification:
                  dataIn:
                    phoneNumber: =..inviteHelper.edge.name.phoneNumber
                    countryCode: =..formData.countryCode
                  dataOut: PasswordRecoveryHelper.formData.checkOk
          - if:
              - =..formData.checkOk
              - continue
              - actionType: popUp
                popUpView: wrongPhoneNum
                wait: true
          - =.builtIn.string.concat:
              dataIn:
                - "uid like '%"
                - =..formData.countryCode
                - " "
                - =..inviteHelper.edge.name.phoneNumber
                - "'"
              dataOut: PasswordRecoveryHelper.rvCondition
      - actionType: builtIn
        funcName: redraw
        viewTag: confirmView
      - actionType: popUp
        popUpView: confirmView
    delClick:
      - actionType: updateObject # updateObject(dataKey, dataObject, dataObjectKey)
        dataKey: PasswordRecoveryHelper.docObject
        dataObject: itemObject
      - actionType: popUp
        popUpView: confirm
  style:
    scrollBox:
      width: "1"
      height: "0.94"
      overflow: scroll
    segmentationBox:
      width: "1"
      height: "auto"
      backgroundColor: "0xf0f0f0"
    titleLabel:
      marginLeft: "0.04"
      color: "0x666666"
      height: "0.05"
      width: "auto"
      lineHeight: 5vh

      fontSize: .Nfont.h14
      fontWeight: "600"
    blockBox:
      marginTop: "0.0246"
      width: "1"
      height: "auto"
      oveflow: hidden
    inlineBox:
      display: "inline-block"
      width: "auto"
      height: "auto"
      oveflow: hidden
      verticalAlign: middle
    inlineTitle:
      color: "#333333"
      fontSize: .Nfont.h14
      height: "auto"
      width: "auto"
    inputBox:
      marginTop: "0.009852"
      height: "0.0443"
      width: "0.2"
      fontSize: .Nfont.h14
      color: "#333333"
      border:
        style: 3
      borderWidth: "1.5"
      borderColor: "#dededf"
      boxSizing: border-box
      borderRadius: "4"
      textIndent: "8px"

    btn:
      # marginTop: "0.029556"
      marginLeft: "0.032"
      height: "0.0443"
      width: "0.16"
      border:
        style: 1
      borderRadius: "5"
      backgroundColor: "#2988e6"
      color: "#ffffff"
      fontSize: .Nfont.h12
      boxSizing: border-box
      display: inline-block
      verticalAlign: bottom
      fontWeight: "600"
      textAlign:
        x: center
    dataList:
      margin: "0"
      padding: "0"
      width: "1"
      height: "0.683497"
      oveflow: scroll
      boxSizing: border-box
    dataListItem:
      width: "1"
      height: "auto"
      margin: "0"
      border:
        style: "2"
      borderWidth: "1"
      borderColor: "0xdededf"
      overflow: hidden
    listImg:
      verticalAlign: middle
      display: "inline-block"
      height: "0.04926"
      width: "0.10666"
      boxSizing: border-box
      borderRadius: "4"
    itemBox:
      marginTop: "0.0198"
      marginLeft: "0.0427"
      height: "auto"
      width: "0.91"
    itemValueBox:
      verticalAlign: middle
      marginLeft: "0.03733"
      display: "inline-block"
      height: "auto"
      width: "0.6"
      overflow: hidden
    fullLabel:
      width: "0.6"
      height: "auto"

      verticalAlign: middle
      fontSize: .Nfont.h16
      fontWeight: "600"
      wordWrap: break-word
    specialty:
      marginTop: "0.005"
      width: "0.6"
      height: "auto"
      fontSize: .Nfont.h14
      color: "#666666"

      verticalAlign: middle
      wordWrap: break-word
    delBtn:
      marginLeft: "0.01"
      border:
        style: 1
      color: "#ffffff"
      fontSize: .Nfont.h12
      display: inline-block
      borderRadius: "4"
      backgroundColor: "#dc153c"
      verticalAlign: middle
      fontWeight: "600"
      width: "0.14"
      height: "0.028"
      boxSizing: border-box
