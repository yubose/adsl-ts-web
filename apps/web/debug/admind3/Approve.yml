Approve:
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        - =..invite.edgeAPI.get: ""
        - =.builtIn.object.findTrue:
            dataIn:
              object: =..invite.list.edge.0.name.auth
            dataOut: Approve.formData.auth
  invite:
    list: ""
    getRequest:
      id: .Global.currentUser.vertex.id
      xfname: evid
      type: .EdgeType.Invite
      sCondition: subtype=0 AND name like '%"inviterCategory":"facility"%' AND name
        like '%"inviteeCategory":"staff"%'
    edgeAPI:
      get:
        api: re
        dataIn: Approve.invite.getRequest
        dataOut: Approve.invite.list
        _nonce: =.Global._nonce
  accept:
    edge:
      bvid: .Global.currentUser.vertex.id
      evid: ""
      refid: ""
      type: .EdgeType.Accept
      name: ""
    edgeAPI:
      store:
        api: ce
        dataIn: Approve.accept.edge
  formData:
    id: []
    auth: ""
  facility:
    vertex: ""
    getReq:
      id: ""
      xfname: "id"
    vertexAPI:
      get:
        api: rv
        dataIn: Approve.facility.getReq
        dataOut: Approve.facility.vertex
  relation:
    info: ""
    edge:
      id: ..formData.id
      xfname: bvid,evid
      type: .EdgeType.StaffToFacility
    edgeAPI:
      get:
        api: re
        dataIn: Approve.relation.edge
        dataOut: Approve.relation.info
  auth:
    document:
      type: .DocType.Auth
      eid: ""
      name:
        title: ""
        data:
          auth: ""
          facilityInfo: ""
    docAPI:
      store:
        api: cd
        dataIn: Approve.auth.document
  components:
    - .MainView:
      style:
        height: "1"
      children:
        - .Head0:
        - type: view
          onClick:
            - actionType: builtIn
              funcName: goBack
          style:
            left: '0.009'
            top: "0.88"
            width: '0.08'
            height: "0.04"
            backgroundColor: "#ffffff"
            borderRadius: "5"
            fontFamily: "Poppins"
            boxShadow: "0px 0px 1px 1px #a6bbca"
          children:
            - type: image
              path: "blueLeft.svg"
              style:
                top: '0.01'
                height: "0.02"
                left: "0.01"
            - type: label
              text: Back
              style:
                left: "0.035"
                top: "0.01"
                fontSize: .Nfont.nf4
        - .CenterView:
          style:
            width: "0.8"
            left: "0.1"
            height: "0.88"
            top: "0.11"
            backgroundColor: "#ffffff"
          children:
            - type: label
              text: New Invites
              style:
                fontSize: "24"
                fontWeight: "700"
                top: "0.04"
                left: "0.05"
                color: "black"
            - type: view
              style:
                height: "0.74"
                width: '0.68'
                left: "0.06"
                top: "0.08"
                marginTop: '0'
                # backgroundColor: "#000000"
              children:
                - type: list
                  contentType: listObject
                  listObject: ..invite.list.edge
                  iteratorVar: itemObject
                  style:
                    width: '1'
                    height: auto
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        width: '0.3'
                        height: '0.15'
                        left: '0'
                        marginTop: '0.03'
                        border:
                          style: "3"
                        borderColor: "#AFC6D6"
                        borderWidth: "1"
                        borderRadius: "5"
                        boxShadow: "1px 1px 2px 2px #D7DAE2"
                        # backgroundColor: "0x000000"
                      children:
                        - type: label
                          dataKey: itemObject.name.inviterName
                          style:
                            top: "0.05"
                            left: "0.09"
                            height: "0.02"
                            width: "0.12"
                            fontSize: .Nfont.nf4
                        - type: view
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions:
                                  - ..accept.edge.evid@: $var.bvid
                                  - ..accept.edge.name@: $var.name
                                  - ..accept.edge.refid@: $var.id
                                  - ..accept.edge.name.authShow@: =..formData.auth
                                  - =..accept.edgeAPI.store: ""
                                  - =.builtIn.array.add:
                                      dataIn:
                                        object: =..formData.id
                                        value: =.Global.currentUser.vertex.id
                                  - =.builtIn.array.add:
                                      dataIn:
                                        object: =..formData.id
                                        value: $var.refid
                                  - =..relation.edgeAPI.get: ""
                                  - ..facility.getReq.id@: $var.refid
                                  - =..facility.vertexAPI.get: ""
                                  - ..auth.document.name.data.auth@: $var.name.auth
                                  - ..auth.document.name.data.facilityInfo@: =..facility.vertex.vertex.0.name
                                  - ..auth.document.eid@: =..relation.info.edge.0.id
                                  - =..auth.docAPI.store: ""
                            - actionType: refresh
                          style:
                            top: "0"
                            width: "0.05"
                            height: "0.15"
                            left: "0.25"
                            backgroundColor: "#37CA8C"
                            borderRadius: "5"
                            fontFamily: "Poppins"
                            boxShadow: "0px 0px 1px 1px #a6bbca"
                          children:
                            - type: image
                              path: "addCircle.svg"
                              style:
                                width: "0.03"
                                top: "0.03"
                                left: "0.01"
                            - type: label
                              text: Accept
                              style:
                                fontSize: .Nfont.nf3
                                fontWeight: "500"
                                top: "0.115"
                                left: "0.015"
                                color: "#FFFFFF"
                        # - type: button
                        #   text: Accept
                        #   onClick:
                        #     - emit:
                        #         dataKey:
                        #           var: itemObject
                        #         actions:
                        #           - ..accept.edge.evid@: $var.bvid
                        #           - ..accept.edge.name@: $var.name
                        #           - ..accept.edge.refid@: $var.id
                        #           - ..accept.edge.name.authShow@: =..formData.auth
                        #           - =..accept.edgeAPI.store: ""
                        #           - =.builtIn.array.add:
                        #               dataIn:
                        #                 object: =..formData.id
                        #                 value: =.Global.currentUser.vertex.id
                        #           - =.builtIn.array.add:
                        #               dataIn:
                        #                 object: =..formData.id
                        #                 value: $var.refid
                        #           - =..relation.edgeAPI.get: ""
                        #           - ..facility.getReq.id@: $var.refid
                        #           - =..facility.vertexAPI.get: ""
                        #           - ..auth.document.name.data.auth@: $var.name.auth
                        #           - ..auth.document.name.data.facilityInfo@: =..facility.vertex.vertex.0.name
                        #           - ..auth.document.eid@: =..relation.info.edge.0.id
                        #           - =..auth.docAPI.store: ""   
                        #   style:
                        #     left: "0.1"
                        #     width: "0.07"
                        #     height: "0.1"
                        #     fontSize: .Nfont.nf3
                        #     top: "0"
                        #     backgroundColor: "#37CA8C"
                        #     textAlign:
                        #       x: center
                        #       y: center


                        # - type: button
                        #   text: test
                        #   onClick:
                        #     - emit:
                        #         dataKey:
                        #           var: itemObject
                        #         actions:
                        #           - =.builtIn.array.add:
                        #               dataIn:
                        #                 object: =..formData.id
                        #                 value: =.Global.currentUser.vertex.id
                        #           - =.builtIn.array.add:
                        #               dataIn:
                        #                 object: =..formData.id
                        #                 value: PZ53QHeiRgk/fcj8ZeKBTg==
                        #           - =..relation.edgeAPI.get: ""
                        #           - ..facility.getReq.id@: PZ53QHeiRgk/fcj8ZeKBTg==
                        #           - =..facility.vertexAPI.get: ""
                        #           - ..auth.document.name.data.auth@: $var.name.auth
                        #           - ..auth.document.name.data.facilityInfo@: =..facility.vertex.vertex.0.name
                        #           - ..auth.document.eid@: =..relation.info.edge.0.id
                        #           - =..auth.docAPI.store: ""
                        #   style:
                        #     top: "0.6"
                        #     left: "0.1"
                        #     textAlign:
                        #       x: center
                        #       y: center
