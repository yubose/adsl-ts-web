PatientConsentFormHIPPAReview:
  title: "Patient Consent Form - HIPPA"
  pageNumber:
  init:
    #Page initialization
    - .SignInCheck
    - if:
        - =.Global.formData.medicalRecords.id
        - actionType: evalObject
          object:
            - ..apiRequest.patientConsentForm.docReq@: =.Global.formData.medicalRecords
        - continue
    - if:
        - =..apiRequest.patientConsentForm.docReq.name.data.whetherSign
        - ..formData.signShow@: "none"
        - ..formData.signShow@: "block"
  formData:
    #Input data here
    signShow: "none"
  formDataTemp:
    #Input data temp here, datatemp should not mix with formData
    privateTag:
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag:
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  apiRequest: #Input data request here

  style: #Input style fragment here

  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style:
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .DownLoadBtn:
              onClick:
                - actionType: evalObject
                  object:
                    - =.builtIn.EcosObj.exportPDF:
                        dataIn:
                          ecosObj: =.Global.formData.medicalRecords
                          viewTag: mainView
            - .GotoBack:
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  viewTag: mainView
                  style:
                    width: "0.59"
                    top: "0"
                    left: "0.117"
                    height: "0.74"
                  children:
                    - type: view
                      style:
                        width: "0.39"
                        margin: "auto"
                      children:
                        - .FormsTypeTitle:
                        - type: scrollView
                          style:
                            marginTop: "0.01"
                            width: "0.39"
                            height: "0.614"
                            overflow: scroll
                          children:
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                                height: "0.1"
                              children:
                                - .ProFormsBaseView:
                                  style:
                                    width: "0.135"
                                    display: inline-block
                                  children:
                                    - type: image
                                      path: "office-building.svg"
                                      path=func: .builtIn.utils.prepareDocToPath
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.facilityAvatarID
                                      style:
                                        marginTop: "0.005"
                                        width: "0.025"
                                        height: "0.04416"
                                        display: inline-block
                                    - type: view
                                      style:
                                        marginTop: "0"
                                        marginLeft: "0.01"
                                        width: "0.1"
                                        display: inline-block
                                      children:
                                        - .ProFormsLabel:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.facilityName
                                          style:
                                            marginTop: "0"
                                            fontSize: .Nfont.nf4
                                        - .ProFormsLabel:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.address
                                          style:
                                            marginTop: "0.01"
                                            fontSize: .Nfont.nf1
                                - .ProFormsBaseView:
                                  style:
                                    marginLeft: "0.035"
                                    width: "0.12"
                                    display: inline-block
                                  children:
                                    - .ProFormsBaseView:
                                      children:
                                        - .ProFormsLabelLeft:
                                          text: Email
                                        - .ProFormsLabelRight:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.email
                                    - .ProFormsBaseView:
                                      children:
                                        - .ProFormsLabelLeft:
                                          text: "Website"
                                        - .ProFormsLabelRight:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.website
                                - .ProFormsBaseView:
                                  style:
                                    marginLeft: "0"
                                    width: "0.1"
                                    display: inline-block
                                  children:
                                    - .ProFormsBaseView:
                                      children:
                                        - .ProFormsLabelLeft:
                                          text: "Main #"
                                        - .ProFormsLabelRight:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.phoneNumber
                                    - .ProFormsBaseView:
                                      children:
                                        - .ProFormsLabelLeft:
                                          text: "Fax #"
                                        - .ProFormsLabelRight:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.facilityInfo.fax
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Exam Date
                                    - .ProFormsLabelRight:
                                      text=func: .builtIn.string.formatUnixtime_en
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.examDate
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Patient Name
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.patientName
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Date of Birth
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.dob
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Phone #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.phone
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Email"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.email
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: Patient Address
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.patientConsentForm.docReq.name.data.patientInfo.address
                            - .ProFormsDivider:


                            - type: view
                              style:
                                width: "0.39"
                                marginTop: "0.03"
                                color: "0x333333"
                                height: "auto"
                              children:
                                - .FormsBlockText:
                                  text: The Department of Health and Human Services has established a "Privacy
                                    Rule" to help insure that personal health
                                    care information is protected for privacy.
                                    The Privacy Rule was also created in order
                                    to provide a standard for certain health
                                    care providers to obtain their patients'
                                    consent for uses and disclosures of health
                                    information about the patient to carry out
                                    treatment, payment or health care
                                    operations.
                                  style:
                                    marginTop: "0"
                                - .FormsBlockText:
                                  text: As our patient we want you to know that we respect the privacy of your
                                    personal medical records and will do all we
                                    can to secure and protect that privacy. We
                                    strive to always take reasonable precautions
                                    to protect your privacy. When it is
                                    appropriate and necessary, we provide the
                                    minimum necessary information to only those
                                    we feel are in need of your healthcare
                                    information and information about treatment,
                                    payment or health care operations, in order
                                    to provide health care that is in your best
                                    interest.
                                  style:
                                - .FormsBlockText:
                                  text: We also want you to know that we support your full access to your personal
                                    medical records. We may have indirect
                                    treatments relationships with you (such as
                                    laboratories that only interact with
                                    physicians and not patients), and may have
                                    to disclose personal health information for
                                    purposes of treatment, payment, or health
                                    operations, These entities are most often
                                    not required to obtain patient consent.
                                  style:
                                - .FormsBlockText:
                                  text: You may refuse to consent to the use or disclosure of your personal health
                                    information but this must be in writing.
                                    Under this law, we have the right to refuse
                                    to treat you should you choose to refuse to
                                    disclose your Personal Health Information
                                    (PIH). If you choose to give consent in this
                                    document, at some future time you may
                                    request to refuse all or part of your PHI.
                                    You may not revoke actions that have already
                                    been taken which relied on this or a
                                    previously signed consent.
                                  style:
                                - .FormsBlockText:
                                  text: If your have objections to this form, please ask to speak with out HIPPA
                                    Compliance Officer.
                                  style:
                                - .FormsBlockText:
                                  text: You have the right to review our privacy notice to request restrictions
                                    and revoke consent in writing after you have
                                    reviewed our privacy notice.
                                  style:
                                - .FormsBlockText:
                                  text: "HIPPA Notice of Privacy Practices"
                                  style:
                                    fontSize: .Nfont.nf2
                                    color: "0x333333"
                                - .FormsBlockText:
                                  text: "Signature below is only acknowledgement that you have received this
                                    Notice of our Privacy Practices:"
                                  style:
                                    marginTop: "0.01"
                                    fontSize: .Nfont.nf1
                                    color: "0x666666"
                            - type: view
                              style:
                                marginTop: "0.03"
                                width: "0.39"
                                display: flex
                                flexDirection: column
                                flexWrap: wrap
                                alignContent: space-around
                                justifyContent: center
                              children:
                                # Name of Recipient/Healthcare Proxy
                                - .RecipientName:
                                  style:
                                    width: "0.39"
                                  children:
                                    - .RecipientNameLabel:
                                      style:
                                        fontWeight: "500"
                                        fontSize: .Nfont.nf1
                                    - .ProFormsGrayView:
                                      children:
                                        - .ProFormsLabelLeft:
                                          dataKey: apiRequest.patientConsentForm.docReq.name.data.proxyInfo
                                          style:
                                            marginLeft: "0.0046"
                                            paddingTop: "0.0046"
                                            paddingBottom: "0.0046"
                                            color: "0x333333"
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                                width: "0.275"
                                display: flex
                                justifyContent: space-between
                              children:
                                - .ProFormsLabel:
                                  text: Signature
                                  style:
                                    display: inline-block
                            - .SignAreaView:
                              style:
                                marginTop: "0.008"
                              children:
                                - type: image
                                  viewTag: signatureShowTag
                                  dataKey: apiRequest.patientConsentForm.docReq.name.data.signatureId
                                  path=func: =.builtIn.utils.prepareDocToPath
                                  style:
                                    .SignCanvasStyle:
                                    display: ..formData.signShow
                                - type: label
                                  text: "X"
                                  style:
                                    .SignLabelStyle: # 签名时间
                            - .ProFormsBaseView:
                              style:
                                display: ..formData.signShow
                              children:
                                - .ProFormsLabelLeft:
                                  text=func: .builtIn.string.formatUnixtime_en
                                  dataKey: apiRequest.patientConsentForm.docReq.name.data.signatureTime
                                  style:
                                    display: inline
                                - .ProFormsLabelLeft:
                                  text: " Digitally Signed"
                                  style:
                                    marginLeft: "0.0046"
                                    display: inline
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.03"
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Date"
                                  style:
                                    display: inline
                                - .ProFormsLabelRight:
                                  text=func: .builtIn.string.formatUnixtimeL_en
                                  dataKey: apiRequest.patientConsentForm.docReq.ctime
                                  style:
                                    marginLeft: "0.0046"
                                    display: inline
                            - .ProFormsDivider:


            - .FormsBottomView:
              style:
                zIndex: "3"
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomMiddleButton:
                      text: Done
                      onClick:
                        - actionType: builtIn
                          funcName: goBack
                          reload: true
