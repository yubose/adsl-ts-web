ProviderManagement:
  #xd page number: 92
  pageNumber: "590"
  viewPort: top
  title: "Provider Management"
  init:
    - .SignInCheck
    - actionType: updateObject
      dataKey: Global.acceptInfo
      dataObject: {}
    - .Global.providerAll@: []
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - .SignInCheck
    - .Global.jwt.edge.bvid@: =.Global.currentFacility.id
    - =.Global.jwt.edgeAPI.store: ""
    - ..providerList.docAPI.get
    - =..invite.edgeAPI.get: ""
    - =.builtIn.array.keepLatestDoc:
        dataIn:
          docList: =..providerList.list.doc
          path: bsig
        dataOut: ProviderManagement.formData.providerList
    - .Global.providerAll@: =..formData.providerList
    - ..formData.providerListReview@: =..formData.providerList
    - =.builtIn.array.splitTableList:
        dataIn:
          arrObj: =..formData.providerList
          numX: "12"
          numY: "1"
        dataOut: ProviderManagement.formData.tableData
    - ..formData.tableList@: =..formData.tableData.0
    - =.builtIn.string.concat:
        dataIn:
          - =..formData.tablePageNum # page num
          - " / "
          - =..formData.tableData.1 # total page
        dataOut: ProviderManagement.formData.tableCurrentPage # current page                           
    - =.builtIn.number.addition:
        # get totalPage+1 to verify legitimacy of gotoPageNum
        dataIn:
          num: =..formData.tableData.1
          step: "1"
        dataOut: ProviderManagement.formData.totalPageMore # update page num        
    - =.builtIn.array.setPropertyInterlacedChange:
        dataIn:
          arrIn: =..formData.tableList
          arr: [ "backgroundColor" ]
          valueArr: [ "0xf5f5f5" ]
          errorArr: [ "0xffffff" ]
  data: ""
  formData:
    providerListReview: []       
    searchProviderPhone: "" # 筛选provider 输入的搜索号码
    searchProd:
      # 搜索到provider的信息
      name:
        data:
          specialty: []
          cv: ""
    reasonForVisit: []
    tableData: []
    tableList: []
    tablePageNum: "1"
    tableCurrentPage: "1"
    gotoPageNum: ""
    totalPageMore: "" # totalPage(tableData.1)+1
    firstName: ""
    middleName: ""
    lastName: ""
    countryCode: "+1"
    number: ""
    phoneNumber: ""
    providerInfo:
      # for displaying prodInfo in PopUp (view)
      cv: ""
      avatar: ""
    indexList: ""
    currentProviderList: []
    providerList: []
    specialty: ""
    currentProviderId: ""
    medicalLicense:
    cvViewFlag: true # 控制 CV 的 View显示
    searchCvViewFlag: true # 控制 Search 页面 CV 的 View显示
    uidSCondition: ""
  gender:
    - key: gender
      value: "Male"
    - key: gender
      value: "Female"
    - key: gender
      value: "Other"
  boardCertified:
    - key: boardCertified
      value: "Yes"
    - key: boardCertified
      value: "No"
  page: ""
  medicalLicense: ""
  # visitReason: 
  #   docResp: 
  #     doc: []
  #   docIn: 
  #     type: .DocType.VisitReason
  #     id: 
  #     xfname: eid
  #     obfname: "mtime"
  #     _nonce: =.Global._nonce
  #     name: 
  #       data:
  #         reasonForVisit: [] 
  #   document: 
  #     type: .DocType.VisitReason
  #     eid: 
  #     name: 
  #       data:
  #         reasonForVisit: []
  #   docAPI: 
  #     .DocAPI: ""
  #     store:
  #       api: cd
  #       dataKey: visitReason.document
  #     get: 
  #       .DocAPI.get: ""
  #       api: rd
  #       dataIn: visitReason.docIn
  #       dataOut: ProviderManagement.visitReason.docResp
  reasonObj:
    reason: ""
    duration: "5 min"
    document: []
  doucment:
    - title: New Patient Forms
      pageName: NewPatFormPreviewPage1
    - title: COVID-19 Testing Consent - New Patient
      pageName: Cov19TestNewPatPreviewPage1
    - title: COVID-19 Testing Consent Form
      pageName: Cov19TestFormPreviewPage1
    - title: Pfizer-BioNTech Vaccine - First Dose
      pageName: PfizerVaccineFirDosePreviewPage1
    - title: Pfizer-BioNTech Vaccine - Second Dose
      pageName: PfizerVaccineSecDosePreviewPage1
    - title: Moderna Vaccine Form - First Dose
      pageName: ModernaVaccineFirDosePreviewPage1
    - title: Moderna Vaccine Form - Second Dose
      pageName: ModernaVaccineSecDosePreviewPage1
  invite:
    response: ""
    edge:
      _handledCode: 23010
      .Edge: ""
      type: .EdgeType.InviteInfo
      bvid: .Global.currentFacility.id
      _nonce: =.Global._nonce
      subtype: .EInboxSubtype.ProviderFacility
      # refid: null
      name:
        businessType: .Global.currentFacility.name.basicInfo.businessType
        phoneNumber: ""
        facilityAvatarID: .Global.facilityAvatarID
        inviterPhoneNumber: .Global.currentFacility.name.basicInfo.phoneNumber
        inviterName: .Global.currentFacility.name.basicInfo.medicalFacilityName
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataIn: invite.edge
        dataOut: ProviderManagement.invite.response
      get:
        api: re
        id: .Global.currentFacility.id
        xfname: bvid
        maxcount: "100"
        type: 1053
        obfname: "ctime"
        asc: true
        sCondition: subtype in (196608,196624)
        _nonce: =.Global._nonce
        dataKey: data
  providerData:
    # vertex
    vertexResp: ""
    vertexIn:
      id: ""
      type: 1
      xfname: none
      sCondition: ""
      _nonce: =.Global._nonce
    vertexAPI:
      get:
        api: rv
        dataIn: ProviderManagement.providerData.vertexIn
        dataOut: ProviderManagement.providerData.vertexResp
  isConnected:
    # use phoneNumber query out v.id and use vid to query if there is a 10002 edge 
    edgeResp: ""
    edgeIn:
      id: ""
      sfname: "{\"result\":\"E.*\", \"join\": \"INNER JOIN Vertex V on V.id = E.evid
        OR V.id = E.bvid\"}"
      xfname: "E.bvid|E.evid"
      sCondition: ""
      type: 10002
      subtype: .EInboxSubtype.ProviderFacility
      ObjType: 28
      _nonce: =.Global._nonce
    edgeAPI:
      get:
        api: re
        dataIn: ProviderManagement.isConnected.edgeIn
        dataOut: ProviderManagement.isConnected.edgeResp
  providerList:
    list:
      doc: []
    providerGet:
      ObjType: 12
      type: .DocType.DoctorProfile
      id: .Global.currentFacility.id
      subtype: .EInboxSubtype.ProviderFacility
      xfname: E.bvid|E.evid
      obfname: "ctime"
      sCondition: "E.type=10002 AND E.tage in (1,2) AND E.subtype&0xf0000=0x30000"
      maxcount: "10000"
      _nonce: =.Global._nonce
    docAPI:
      get:
        api: rd
        dataIn: ProviderManagement.providerList.providerGet
        dataOut: ProviderManagement.providerList.list

  providerDisplay:
    # 邀请provider的时候，点击搜索会展示provider的信息
    docResp: ""
    docIn:
      type: .DocType.DoctorPublicProfile
      id: ""
      xfname: ovid
      maxcount: "1"
      _nonce: =.Global._nonce
    docAPI:
      get:
        .DocAPI.get: ""
        api: rd
        dataIn: providerDisplay.docIn
        dataOut: ProviderManagement.providerDisplay.docResp
  apiRequest:
    # 获取Facility 和provider以及patient之间的E10002，用于发邮件
    connection:
      edgeResp: ""
      edgeIn:
        id:
          - .Global.currentFacility.id
        xfname: Bvid,Evid
        type: 10002
        tage: 1
        obfname: mtime
        _nonce: =.Global._nonce
        maxcount: "1"
      edgeAPI:
        get:
          api: re
          dataIn: apiRequest.connection.edgeIn
          dataOut: ProviderManagement.apiRequest.connection.edgeResp
    facilityProviderEdge:
      edgeResp: ""
      updateDoc: ""
      updateDocResp: ""
      edge:
        .Edge: ""
        id:
          - ""
          - .Global.currentFacility.id
        type: 10002
        xfname: "Bvid,Evid"

        sCondition: "tage in (1,2) AND subtype in (196624)"
      edgeApi:
        get:
          api: re
          dataIn: apiRequest.facilityProviderEdge.edge
          dataOut: ProviderManagement.apiRequest.facilityProviderEdge.edgeResp
        update:
          api: ce
          dataIn: apiRequest.facilityProviderEdge.updateDoc
          dataOut: ProviderManagement.apiRequest.facilityProviderEdge.updateDocResp
    # 根据号码获取Provider 用于筛选
    getProviderByPhone:
      docIn:
        ObjType: 28
        sfname: "{\"result\":\"D.*\", \"join\": \"INNER JOIN Vertex V on V.id = D.ovid
          INNER JOIN Edge E ON E.bvid=D.ovid OR E.evid=D.ovid\"}"
        sCondition: ""
        id: .Global.currentFacility.id
        xfname: 'bvid|evid'
        type: .DocType.DoctorProfile
        obfname: mtime
        # maxcount: "12"
        _nonce: .Global._nonce
      docResp: ""
      docAPI:
        get:
          api: rd
          dataIn: apiRequest.getProviderByPhone.docIn
          dataOut: ProviderManagement.apiRequest.getProviderByPhone.docResp
    # 发送通知
    sendNotification:
      document:
        .Document: ""
        subtype:
          isOnServer: 1
          isZipped: 0
          isBinary: 0
          isEncrypted: 0
          isExtraKeyNeeded: 0
          isEditable: 0
          applicationDataType: 0
          # 7 th bit
          notification: 1
          ringToneNotify: 0
          sendtoSelf: 0
          # 10 bit
          textMessage: 0
          mediaType: 8
        type: .DocType.Notification
        tage: 5
        eid: ""
        name:
          data: ""
          notification:
            title: new request from admin
            context: Click to check your request
            body: Click to check your request
            onClickLandingPage: NewConnections
            # targetApp: =.FirebaseToken.response.edge.evid
      docAPI:
        store:
          api: cd
          dataIn: apiRequest.sendNotification.document
  style:
    confirmBtnView:
      # 弹框底部的VIEW
      type: view
      style:
        height: "0.1"
        width: "0.4"
        top: "0.73"
        left: "0"
        boxSizing: border-box
        # borderTop: "1px solid #333333" 
        boxShadow: "0px -2px 3px -2px #cFcFcF"
        display: flex
        alignItems: center
        backgroundColor: "0xffffff"
    confirmButton:
      # 弹框底部的按钮
      type: button
      text: Confirm
      style:
        color: "0xffffff"
        left: "0.28"
        width: "0.07"
        height: "0.037"
        boxSizing: border-box
        fontSize: .Nfont.nf4
        fontFamily: "Roboto"
        border:
          style: "3"
        borderWidth: "1"
        borderColor: "0x005795"
        borderRadius: "3"
        backgroundColor: "0x005795"
        textAlign:
          x: center
          y: center
  components:
    - .BaseCheckView: ""
      message: "You don't have the authority to add a new provider"
      viewTag: providerAuthCreate
      style:
        zIndex: "100000"

    - .BaseCheckView: ""
      message: "You don't have the authority to edit"
      viewTag: providerAuthEdit
      style:
        zIndex: "100000"

    - .TotalView:
      children:
        - .BaseWarningView: ""
          msg2: "The phone number is already invited"
          viewTag: phoneInvited
          style:
            zIndex: "20" #   need dismiss addpopUp and clear data    
        - .BaseWarningView: ""
          msg2: "The phone number doesn't exist"
          viewTag: phoneNotExist
          style:
            zIndex: "20" #   need dismiss addpopUp and clear data
        - .BaseWarningView: ""
          msg2: "The phone number doesn't login in provider"
          viewTag: phoneNotProvider
          style:
            zIndex: "20" #   need dismiss addpopUp and clear data            
        - .BaseWarningView: ""
          msg2: "The phone number is already added"
          viewTag: phoneRepeat
          style:
            zIndex: "20" #   need dismiss addpopUp and clear data       
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
          style:
            left: "0.16"
            marginTop: "0"
            height: "0.063"
            width: "0.84"
        # - .InnerBodyView:
        - type: view
          style:
            backgroundColor: "0xf4f8fa"
            width: "0.84"
            height: "0.937"
            left: "0.16"
            top: "0.063"
          children:
            # - .PageTitleLabel: 
            - type: view
              style:
                height: "0.09"
                width: "0.82"
                left: "0.01"
                textAlign:
                  y: center
              children:
                # - type: label
                #   text: ..title
                #   style:
                #     fontSize: .Nfont.nf6
                #     fontFamily: "Roboto"            
                #     fontWeight: "600"
                #     marginLeft: "0.02328"
                #     display: inline-block
                #     verticalAlign: middle
                - type: view
                  style:
                    marginLeft: "0.02328"
                    width: "auto"
                    height: "0.08"
                    display: flex
                    boxSizing: border-box
                    alignItems: center
                    justifyContent: space-between
                  children:
                    - type: label
                      text: ..title
                      style:
                        fontSize: .Nfont.n5
                        fontWeight: "600"
                        width: "0.15"
                # 按钮 
                - type: view
                  onClick:
                    - actionType: updateObject
                      dataKey: ProviderManagement.formData.searchProd
                      dataObject: {}
                    - actionType: evalObject
                      object:
                        - ..formData.number@: ""
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: AddProvider
                    # - actionType: evalObject
                    #   object:
                    #     - if: 
                    #       - =.builtIn.string.equal:
                    #           dataIn: 
                    #             string1: =.Global.auth.provider.create
                    #             string2: true 
                    #       - actionType: popUp
                    #         popUpView: AddProvider
                    #       - actionType: popUp
                    #         popUpView: providerAuthCreate
                    - actionType: popUp
                      popUpView: AddProvider
                  style:
                    marginLeft: "0.5"
                    display: inline-block
                    width: "0.101"
                    height: "0.0368"
                    backgroundColor: "0x005795"
                    borderRadius: "4"
                    textAlign:
                      x: center
                  children:
                    - type: image
                      path: addCircle.svg
                      style:
                        width: "0.01092"
                        height: "0.01932"
                        display: inline-block
                        marginTop: "0.008"
                    - type: label
                      text: Add New Provider
                      style:
                        marginLeft: "0.006"
                        marginTop: "0.008"
                        fontFamily: "Roboto"
                        fontSize: .Nfont.nf2
                        color: "0xffffff"
                        display: inline-block
            - .ContentBar:
              style:
                marginTop: "0"
                backgroundColor: "0xffffff"
                width: "0.82"
                height: "0.8285"
                # marginLeft: "0.01"
                borderRadius: "6"
                border:
                  style: "3"
                borderColor: "0xffffff"
                boxSizing: border-box
              children:
                - type: view
                  style:
                    height: "0.12236"
                    width: "0.77424"
                    marginTop: "0"
                    left: "0.02288"
                    textAlign:
                      y: center
                  children:
                    # 搜索框
                    - type: view
                      viewTag: searchTag
                      style:
                        width: "0.664"
                        height: "0.0368"
                        border:
                          style: "3"
                        borderRadius: "4"
                        borderColor: "0xdedede"
                        boxSizing: border-box
                        display: inline-block
                      children:
                        - type: image
                          path: searchGray.svg
                          style:
                            marginLeft: "0.008"
                            width: "0.01144"
                            height: "0.02024"
                            marginTop: "0.007"
                            display: inline-block
                        - type: textField
                          placeholder: Search the phone number…
                          dataKey: formData.searchProviderPhone
                          style:
                            backgroundColor: "0xffffff00"
                            fontSize: .Nfont.nf1
                            color: "0x333333"
                            fontFamily: "Roboto"
                            borderRadius: "4"
                            boxSizing: border-box
                            width: "0.62"
                            height: "0.034"
                            marginLeft: "0.005"
                            display: inline-block
                            border: none
                    - type: button
                      text: Update
                      onClick:
                        - actionType: evalObject
                          object:
                            - .Global._nonce@:
                                =.builtIn.math.random: ""
                            - ..formData.tableList@: []
                            - ..formData.providerList@: []
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "V.uid like"
                                  - " '%"
                                  - =..formData.searchProviderPhone
                                  - "%"
                                  - "' AND E.type=10002 AND V.type=1"
                                dataOut: ProviderManagement.apiRequest.getProviderByPhone.docIn.sCondition
                            - =..apiRequest.getProviderByPhone.docAPI.get: ""
                            - =.builtIn.array.keepLatestDoc:
                                dataIn:
                                  docList: =..apiRequest.getProviderByPhone.docResp.doc
                                  path: bsig
                                dataOut: ProviderManagement.formData.providerList
                            - =.builtIn.array.splitTableList:
                                dataIn:
                                  arrObj: =..formData.providerList
                                  numX: "12"
                                  numY: "1"
                                dataOut: ProviderManagement.formData.tableData
                            - ..formData.tableList@: =..formData.tableData.0
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.tablePageNum # page num
                                  - " / "
                                  - =..formData.tableData.1 # total page
                                dataOut: ProviderManagement.formData.tableCurrentPage # current page                           
                            - =.builtIn.number.addition:
                                # get totalPage+1 to verify legitimacy of gotoPageNum
                                dataIn:
                                  num: =..formData.tableData.1
                                  step: "1"
                                dataOut: ProviderManagement.formData.totalPageMore # update page num    
                            - =.builtIn.array.setPropertyInterlacedChange:
                                dataIn:
                                  arrIn: =..formData.tableList
                                  arr: [ "backgroundColor" ]
                                  valueArr: [ "0xf5f5f5" ]
                                  errorArr: [ "0xffffff" ]
                                dataOut: ProviderManagement.formData.tableList
                            # - ..formData.tableList@: =..apiRequest.getPatientByPhone.docResp.doc
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableView
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableFooter
                      style:
                        marginLeft: "0.009"
                        color: "0xffffff"
                        fontFamily: "Roboto"
                        fontSize: .Nfont.nf2
                        display: inline-block
                        width: "0.064"
                        height: "0.0368"
                        backgroundColor: "0x005795"
                        borderRadius: "4"
                        textAlign:
                          x: center
                          y: center
                    - type: label
                      text: Revise
                      dataKey:
                      onClick:
                        - actionType: evalObject
                          object:
                            - ..formData.searchProviderPhone@: ""
                            - ..formData.tableList@: []
                            - =.builtIn.array.splitTableList:
                                dataIn:
                                  arrObj: =..formData.providerListReview
                                  numX: "12"
                                  numY: "1"
                                dataOut: ProviderManagement.formData.tableData
                            - ..formData.tableList@: =..formData.tableData.0
                            - ..formData.tablePageNum@: "1"
                            - =.builtIn.string.concat:
                                dataIn:
                                  - =..formData.tablePageNum # page num
                                  - " / "
                                  - =..formData.tableData.1 # total page
                                dataOut: ProviderManagement.formData.tableCurrentPage # current page                           
                            - =.builtIn.number.addition:
                                # get totalPage+1 to verify legitimacy of gotoPageNum
                                dataIn:
                                  num: =..formData.tableData.1
                                  step: "1"
                                dataOut: ProviderManagement.formData.totalPageMore # update page num   
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableView
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: tableFooter
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: searchTag
                      style:
                        marginLeft: "0.008"
                        color: "0x005795"
                        textDecoration: underline
                        fontFamily: "Roboto"
                        fontSize: .Nfont.nf2
                        display: inline-block
                # Table
                - type: view
                  viewTag: tableView
                  style:
                    left: "0.02288"
                    marginTop: "0"
                    width: "0.77424"
                    height: "auto"
                    border-top-left-radius: "5px"
                    border-top-right-radius: "5px"
                    boxSizing: border-box
                    border:
                      style: "3"
                    borderColor: "0x7070704f"
                    borderBottom: "0xffffff"
                  children:
                    # Header
                    - type: view
                      viewTag: tableHeader
                      style:
                        marginTop: "0.02"
                        width: "0.77424"
                        margin: "0"
                        left: "0"
                        height: "0.04"
                      children:
                        - type: label
                          text: "Provider Name"
                          style:
                            width: "0.11"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            boxSizing: border-box
                            lineHeight: "4vh"
                            textIndent: "1.5em"
                            display: inline-block
                            textAlign:
                              y: center
                        - type: label
                          text: "Phone Number"
                          style:
                            width: "0.12"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign:
                              y: center
                        - type: label
                          text: "Specialty"
                          style:
                            width: "0.247"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            lineHeight: "4vh"
                            color: "0x333333"
                            borderWidth: "1"
                            display: inline-block
                            textAlign:
                              y: center
                        - type: label
                          text: "History"
                          style:
                            width: "0.08"
                            lineHeight: "4vh"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            display: inline-block
                            textAlign:
                              y: center
                        - type: label
                          text: "Gender"
                          style:
                            width: "0.075"
                            lineHeight: "4vh"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            display: inline-block
                            textAlign:
                              y: center
                        # - type: label
                        #   text: "Status"
                        #   style: 
                        #     width: "0.072"    
                        #     lineHeight: "4vh"
                        #     height: "0.04"
                        #     fontSize: .Nfont.nf2
                        #     fontStyle: "bold"                     
                        #     color: "0x333333"
                        #     borderWidth: "1"
                        #     display: inline-block
                        #     textAlign: 
                        #       y: center
                        # - type: label
                        #   text: "History"
                        #   style: 
                        #     width: "0.087"    
                        #     lineHeight: "4vh"
                        #     height: "0.04"
                        #     fontSize: .Nfont.nf2
                        #     fontStyle: "bold"                     
                        #     color: "0x333333"
                        #     borderWidth: "1"
                        #     display: inline-block
                        #     textAlign: 
                        #       y: center
                        # - type: label
                        #   text: "Edit Profile"
                        #   style: 
                        #     width: "0.08"    
                        #     height: "0.05"
                        #     fontSize: .Nfont.nf2
                        #     lineHeight: "5vh"
                        #     fontStyle: "bold"                     
                        #     color: "0x333333"
                        #     borderWidth: "1"
                        #     display: inline-block
                        #     textAlign: 
                        #       y: center   
                        - type: label
                          text: Edit Reason
                          style:
                            width: "0.07"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            lineHeight: "4vh"
                            display: inline-block
                            textAlign:
                              y: center

                        - type: label
                          text: Edit Availability
                          style:
                            width: "0.06"
                            height: "0.04"
                            fontSize: .Nfont.nf2
                            fontStyle: "bold"
                            color: "0x333333"
                            borderWidth: "1"
                            display: inline-block
                            lineHeight: "4vh"
                            textAlign:
                              y: center
                    # Body
                    - type: list
                      viewTag: tableBody
                      contentType: listObject
                      listObject: ..formData.tableList
                      iteratorVar: itemObject
                      style:
                        width: "0.773"
                        margin: "0"
                        left: "0"
                        height: auto
                        borderTop: "solid 1px  #7070704f"
                        # backgroundColor: "0xffffff"
                        fontSize: .Nfont.nf2
                        boxSizing: border-box
                      children:
                        - type: listItem
                          itemObject:
                          style:
                            borderBottom: "solid 1px  #7070704f"
                            # minHeight: "4vh"
                            height: "auto"
                            backgroundColor: itemObject.backgroundColor
                            boxSizing: border-box
                          children:
                            - type: label
                              dataKey: itemObject.name.data.fullName
                              onClick:
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - ..formData.providerInfo@: $var.name.data
                                      - ..apiRequest.connection.edgeIn.id.1@: $var.bsig
                                      - =..apiRequest.connection.edgeAPI.get: ""
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.providerInfo.cv
                                              string2: ""
                                        - continue
                                        - ..formData.cvViewFlag@: false
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: viewProviderInfo
                                - actionType: popUp
                                  popUpView: viewProviderInfo
                              style:
                                width: "0.11"
                                height: "0.04"
                                borderWidth: "1"
                                display: inline-block
                                color: "0x005795"
                                textDecoration: underline
                                lineHeight: "4vh"
                                textIndent: 1.5em
                                textAlign:
                                  y: center
                            - type: label
                              dataKey: itemObject.name.data.phone
                              style:
                                width: "0.12"
                                height: "0.04"
                                borderWidth: "1"
                                display: inline-block
                                lineHeight: "4vh"
                                textAlign:
                                  y: center
                            - type: view
                              style:
                                width: "0.247"
                                height: "0.04"
                                display: inline-block
                                borderWidth: "1"
                              children:
                                - type: label
                                  dataKey: itemObject.name.data.selectedSpecialty
                                  style:
                                    width: "0.24"
                                    margin: auto
                                    overflow: hidden
                                    textOverflow: ellipsis
                                    whiteSpace: nowrap
                                    display: inline-block
                                    lineHeight: "4vh"
                                    verticalAlign: middle
                            - type: label
                              dataKey:
                              text: View
                              style:
                                width: "0.08"
                                height: "0.04"
                                display: inline-block
                                color: "0x19669e"
                                textDecoration: underline
                                lineHeight: "4vh"
                                borderWidth: "1"
                                textAlign:
                                  y: center
                              onClick:
                                - actionType: evalObject
                                  object:
                                    .Global._nonce@:
                                      =.builtIn.math.random: ""
                                - emit:
                                    dataKey:
                                      var: itemObject
                                    actions:
                                      - .Global.formData.providerInfo@: $var
                                      - ..apiRequest.facilityProviderEdge.edge.id.0@: $var.bsig
                                - goto: ProviderAppointmentHistory
                            - type: label
                              dataKey: itemObject.name.data.gender
                              style:
                                width: "0.075"
                                height: "0.04"
                                display: inline-block
                                lineHeight: "4vh"
                                borderWidth: "1"
                                textAlign:
                                  y: center
                            # - type: label
                            #   dataKey: 
                            #   text: Active
                            #   style:
                            #     width: "0.072"    
                            #     height: "0.04"
                            #     display: inline-block
                            #     lineHeight: "4vh"
                            #     color: "0x4bbb6b"
                            #     borderWidth: "1"
                            #     textAlign: 
                            #       y: center 

                            # - type: view
                            #   style: 
                            #     width: "0.08"    
                            #     height: "0.045"
                            #     display: inline-block
                            #     borderWidth: "1"
                            #     textAlign: 
                            #       x: center
                            #       y: center 
                            #   children:
                            #     - type: image
                            #       path: editBlue.svg
                            #       style:
                            #         top: "0.01"
                            #         width: "0.03"                                                             
                            #         height: "0.02"
                            #       onClick:
                            #         - actionType: evalObject
                            #           object: 
                            #             .Global._nonce@: 
                            #               =.builtIn.math.random: ""
                            #         - emit:
                            #             dataKey:
                            #               var: itemObject
                            #             actions:
                            #               - .Global.formData.providerInfo@: $var   
                            #               - ..apiRequest.facilityProviderEdge.edge.id.0@: $var.bsig 
                            #               - =..apiRequest.facilityProviderEdge.edgeApi.get: ""
                            #               - ..apiRequest.facilityProviderEdge.updateDoc@: =..apiRequest.facilityProviderEdge.edgeResp.edge.0
                            #               # - ..apiRequest.facilityProviderEdge.updateDoc.tage@: 2
                            #         # get current provider status, active or inactive ,decide by the tage of 10002
                            #         # 10002 ,  tage=0: invite ,tage = 1 : active   set tage=2 to make current provider as Inactive
                            #         - goto: EditProviderProfile 

                            - type: view
                              style:
                                width: "0.07"
                                height: "0.04"
                                display: inline-block
                                borderWidth: "1"
                                textAlign:
                                  y: center
                              children:
                                - type: image
                                  path: editBlue.svg
                                  style:
                                    top: "0.01"
                                    left: "0.005"
                                    width: "0.03"
                                    height: "0.02"
                                  onClick:
                                    - actionType: updateObject
                                      dataKey: Global.acceptInfo
                                      dataObject: itemObject
                                    - goto: ProviderReason
                            - type: view
                              style:
                                width: "0.06"
                                display: inline-block
                                height: "0.04"
                                borderWidth: "1"
                                # borderRight: "solid 1px  #7070704f"
                                textAlign:
                                  y: center
                              children:
                                - type: image
                                  path: editBlue.svg
                                  style:
                                    top: "0.01"
                                    left: "0.01"
                                    width: "0.03"
                                    height: "0.02"
                                  onClick:
                                    - emit:
                                        dataKey:
                                          var: itemObject
                                        actions:
                                          - .Global.acceptInfo@: $var
                                    - goto: SchduleSetting

                # TableFooter
                - type: view
                  viewTag: tableFooter
                  style:
                    .TableFooterView:
                  children:
                    # Current page
                    - type: view
                      style:
                        top: "0.005"
                        width: "0.08"
                        height: "0.0155"
                      children:
                        - type: label
                          text: "Current page:"
                          style:
                            display: inline-block
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            textAlign:
                              x: "center"
                              y: "center"
                        - type: label
                          dataKey: formData.tableCurrentPage
                          style:
                            marginLeft: "0.005"
                            display: inline-block
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            textAlign:
                              x: "center"
                              y: "center"
                    # Previous & Next
                    - type: view
                      style:
                        top: "0"
                        left: "0.076"
                        width: "0.05168"
                        height: "0.02576"
                      children:
                        - type: image
                          path: tableLeft.svg
                          onClick:
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.number.less:
                                        dataIn:
                                          num1: =..formData.tablePageNum
                                          num2: 2
                                    - continue
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.number.Subtraction:
                                            dataIn:
                                              num: =..formData.tablePageNum
                                              step: "1"
                                            dataOut: ProviderManagement.formData.tablePageNum
                                        - =.builtIn.array.splitTableList:
                                            dataIn:
                                              arrObj: =..formData.providerList
                                              numX: "12"
                                              numY: =..formData.tablePageNum
                                            dataOut: ProviderManagement.formData.tableData
                                        - ..formData.tableList@: =..formData.tableData.0
                                        - =.builtIn.string.concat:
                                            # re-concat
                                            dataIn:
                                              - =..formData.tablePageNum # page num
                                              - " / "
                                              - =..formData.tableData.1 # total page
                                            dataOut: ProviderManagement.formData.tableCurrentPage # current page         
                                        - =.builtIn.array.setPropertyInterlacedChange:
                                            dataIn:
                                              arrIn: =..formData.tableList
                                              arr: [ "backgroundColor" ]
                                              valueArr: [ "0xf5f5f5" ]
                                              errorArr: [ "0xffffff" ]
                                            dataOut: ProviderManagement.formData.tableList
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableFooter
                          style:
                            top: "0"
                            width: "0.01456"
                            height: "0.02576"
                        - type: label
                          viewTag: pageNumView
                          dataKey: formData.tablePageNum
                          style:
                            top: "0"
                            left: "0.01856"
                            width: "0.01446"
                            height: "0.02576"
                            fontSize: .Nfont.nf0
                            fontWeight: "500"
                            color: "0xffffff"
                            backgroundColor: "0x005795"
                            borderRadius: "3"
                            textAlign:
                              x: center
                              y: center
                        - type: image
                          path: tableRight.svg
                          onClick:
                            - actionType: evalObject
                              object:
                                .Global._nonce@:
                                  =.builtIn.math.random: ""
                            - actionType: evalObject
                              object:
                                - if:
                                    - =.builtIn.number.less:
                                        dataIn:
                                          num1: =..formData.tablePageNum
                                          num2: =..formData.tableData.1
                                    - actionType: evalObject
                                      object:
                                        - =.builtIn.number.addition:
                                            dataIn:
                                              num: =..formData.tablePageNum
                                              step: "1"
                                            dataOut: ProviderManagement.formData.tablePageNum # update page num
                                        - =.builtIn.array.splitTableList:
                                            dataIn:
                                              arrObj: =..formData.providerList
                                              numX: "12"
                                              numY: =..formData.tablePageNum
                                            dataOut: ProviderManagement.formData.tableData
                                        - ..formData.tableList@: =..formData.tableData.0
                                        - =.builtIn.string.concat:
                                            # re-concat
                                            dataIn:
                                              - =..formData.tablePageNum # page num
                                              - " / "
                                              - =..formData.tableData.1 # total page
                                            dataOut: ProviderManagement.formData.tableCurrentPage # current page 
                                        - =.builtIn.array.setPropertyInterlacedChange:
                                            dataIn:
                                              arrIn: =..formData.tableList
                                              arr: [ "backgroundColor" ]
                                              valueArr: [ "0xf5f5f5" ]
                                              errorArr: [ "0xffffff" ]
                                            dataOut: ProviderManagement.formData.tableList
                                    - continue
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableFooter
                          style:
                            top: "0"
                            left: "0.03712"
                            height: "0.02576"
                            width: "0.01456"
                    # Go to
                    - type: view
                      style:
                        top: "0"
                        left: "0.14"
                        width: "0.05"
                        height: "0.02496"
                      children:
                        - type: textField
                          viewTag: gotoView
                          dataKey: formData.gotoPageNum
                          style:
                            width: "0.02496"
                            top: "0"
                            height: "0.02576"
                            borderRadius: "3"
                            borderWidth: "1"
                            border:
                              style: "3"
                            boxSizing: border-box
                            borderColor: "0xd8d8d8"
                            fontSize: .Nfont.nf0
                            fontWeight: "500"
                            color: "0x333333"
                            textAlign:
                              x: center
                              y: center
                        - type: button
                          text: "Go to"
                          style:
                            textDecoration: underline
                            left: "0.029"
                            top: "0"
                            height: "0.02576"
                            border:
                              style: "1"
                            fontSize: .Nfont.nf0
                            color: "0x333333"
                            backgroundColor: "0xffffff00"
                          onClick:
                            - actionType: evalObject
                              object:
                                .Global._nonce@:
                                  =.builtIn.math.random: ""
                            - actionType: evalObject
                              object:
                                # gotoPageNum ?> 1
                                - if:
                                    - =.builtIn.number.less:
                                        dataIn:
                                          num1: =..formData.gotoPageNum
                                          num2: 1
                                    - continue
                                    - actionType: evalObject
                                      object:
                                        # gotoPageNum ?< totalPage+1
                                        - if:
                                            - =.builtIn.number.less:
                                                dataIn:
                                                  num1: =..formData.gotoPageNum
                                                  num2: =..formData.totalPageMore
                                            - actionType: evalObject
                                              object:
                                                - =.builtIn.array.splitTableList:
                                                    dataIn:
                                                      arrObj: =..formData.providerList
                                                      numX: "12"
                                                      numY: =..formData.gotoPageNum
                                                    dataOut: ProviderManagement.formData.tableData
                                                - ..formData.tableList@: =..formData.tableData.0
                                                - =.builtIn.string.concat:
                                                    # re-concat
                                                    dataIn:
                                                      - =..formData.gotoPageNum # page num
                                                      - " / "
                                                      - =..formData.tableData.1 # total page
                                                    dataOut: ProviderManagement.formData.tableCurrentPage # current page
                                                - ..formData.tablePageNum@: =..formData.gotoPageNum
                                                - =.builtIn.array.setPropertyInterlacedChange:
                                                    dataIn:
                                                      arrIn: =..formData.tableList
                                                      arr: [ "backgroundColor" ]
                                                      valueArr: [ "0xf5f5f5" ]
                                                      errorArr: [ "0xffffff" ]
                                                    dataOut: ProviderManagement.formData.tableList
                                            - continue
                                - ..formData.gotoPageNum@: ""
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: tableFooter

        # AddProvider
        - .BasePopUp:
          viewTag: AddProvider
          children:
            - type: view
              style:
                left: "0.6"
                width: "0.4"
                top: "0"
                height: "1"
                zIndex: "10"
                backgroundColor: "0xffffff"
              children:
                - .PopUphead:
                  children:
                    - .CreateLabel:
                      text: "Add New Provider"
                    - .Closebutton:
                      onClick:
                        - actionType: builtIn
                          funcName: hide
                          viewTag: profileView
                        - actionType: builtIn
                          funcName: hide
                          viewTag: noProviderView
                        - actionType: popUpDismiss
                          popUpView: AddProvider
                - type: view
                  style:
                    height: "0.82"
                    width: "0.4"
                    top: "0.08"
                    backgroundColor: "0xffffff"
                  children:
                    - type: view
                      style:
                        top: "0"
                        width: "0.4"
                        height: "0.09"
                        left: "0"
                        backgroundColor: "0xeff3f7"
                      children:
                        - type: label
                          text: Search
                          dataKey:
                          style:
                            left: "0.05"
                            width: "0.3"
                            marginTop: "0.015"
                            color: "0x004779"
                            fontSize: .Nfont.nf3
                            fontFamily: "Roboto"
                        - type: view
                          style:
                            width: "0.3"
                            left: "0.05"
                            marginTop: "0.01"
                            textAlign:
                              y: center
                          children:
                            - type: label
                              textBoard:
                                - text: Phone Number
                                - text: "*"
                                  color: "0xff0000"
                              dataKey:
                              style:
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"
                            - type: select
                              contentType: countryCode
                              placeholder: ..formData.countryCode
                              dataKey: formData.countryCode # formData.countryCode : inputValue
                              options: .CountryCode
                              required: "true"
                              style:
                                marginLeft: "0.02"
                                width: "0.0318"
                                display: inline-block
                                height: "0.03"
                                borderWidth: "1"
                                boxSizing: border-box
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"
                                border:
                                  style: "3"
                                borderColor: "0xdededf"
                                borderRadius: "3"
                            - type: textField
                              placeholder: "Enter Here"
                              dataKey: formData.number
                              viewTag: numberView
                              style:
                                marginLeft: "0.005"
                                width: "0.11"
                                height: "0.03"
                                textIndent: 1em
                                display: inline-block
                                boxSizing: border-box
                                fontSize: .Nfont.nf3
                                fontFamily: "Roboto"
                                border:
                                  style: "3"
                                borderColor: "#DCDCDC"
                                borderRadius: "3"
                            - type: button
                              text: Search
                              onClick:
                                - actionType: evalObject
                                  object:
                                    .Global._nonce@:
                                      =.builtIn.math.random: ""
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: profileView
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: noProviderView
                                - actionType: evalObject
                                  object:
                                    - =.builtIn.object.clearAll:
                                        dataIn:
                                          object: =..formData.searchProd
                                    - =.builtIn.string.concat:
                                        dataIn:
                                          - =..formData.countryCode
                                          - " "
                                          - =..formData.number
                                        dataOut: ProviderManagement.formData.phoneNumber
                                    - ..inviteInfo.edge.name.phoneNumber@: =..formData.phoneNumber
                                    - =.builtIn.string.concat:
                                        dataIn:
                                          - "uid like"
                                          - " '%"
                                          - =..formData.phoneNumber
                                          - "'"
                                        dataOut: ProviderManagement.providerData.vertexIn.sCondition
                                    - =..providerData.vertexAPI.get: ""
                                    # isExist
                                    - if:
                                        - =..providerData.vertexResp.vertex.0
                                        - continue
                                        - actionType: popUp
                                          popUpView: phoneNotExist
                                          wait: true
                                - actionType: evalObject
                                  object:
                                    - ..providerDisplay.docIn.id@: =..providerData.vertexResp.vertex.0.id
                                    - =..providerDisplay.docAPI.get: ""
                                    - if:
                                        - =..providerDisplay.docResp.doc.0
                                        - ..formData.searchProd@: =..providerDisplay.docResp.doc.0
                                        - actionType: popUp
                                          popUpView: phoneNotProvider
                                          wait: true
                                    - ..formData.number@: ""
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =..providerDisplay.docResp.doc.0
                                        - actionType: builtIn
                                          funcName: show
                                          viewTag: profileView
                                        - actionType: builtIn
                                          funcName: show
                                          viewTag: noProviderView
                                    - if:
                                        - =..providerDisplay.docResp.doc.0
                                        - actionType: builtIn
                                          funcName: hide
                                          viewTag: noProviderView
                                        - actionType: builtIn
                                          funcName: hide
                                          viewTag: profileView
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: prodInfoTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: numberView
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: profileView
                              style:
                                marginLeft: "0.01"
                                height: "0.03"
                                width: "0.05"
                                boxSizing: border-box
                                backgroundColor: "0x005795"
                                color: "0xffffff"
                                border:
                                  style: "3"
                                borderColor: "0x005795"
                                borderRadius: "3"
                    - type: view
                      viewTag: noProviderView
                      style:
                        top: "0.09"
                        width: "0.4"
                        height: "0.83"
                        textAlign:
                          x: center
                      children:
                        - type: image
                          path: noProvider.svg
                          style:
                            width: "0.12"
                            marginTop: "0.15"
                        - type: label
                          text: Please enter phone number to search a provider
                          dataKey:
                          style:
                            marginTop: "0.05"
                            color: "0x666666"
                            fontSize: .Nfont.nf4
                            fontFamily: "Roboto"
                    - type: view
                      viewTag: profileView
                      style:
                        top: "0.09"
                        left: "0.055"
                        width: "0.31"
                        height: "0.83"
                        backgroundColor: "0xffffff"
                        isHidden: true
                        # isHidden: true
                      children:
                        - type: view
                          style:
                            width: "0.295"
                            height: "0.09"
                            left: "0"
                            marginTop: "0.03"
                            backgroundColor: "0xffffff"
                          children:
                            - type: image
                              path: providerDefault.svg
                              dataKey: formData.searchProd.name.data.avatar
                              path=func: .builtIn.utils.prepareDocToPath
                              style:
                                width: "0.05"
                                height: "0.082"
                                left: "0"
                                top: "0"
                            - type: label
                              dataKey: formData.searchProd.name.data.fullName
                              style:
                                left: "0.062"
                                width: "0.14"
                                marginTop: "0"
                                fontSize: .Nfont.nf5
                                fontFamily: "Roboto"
                                fontWeight: "600"
                            - type: view
                              style:
                                left: "0.062"
                                width: "0.14"
                                height: "auto"
                                marginTop: "0.01"
                                fontSize: .Nfont.nf0
                                fontFamily: "Roboto"
                                display: flex
                                alignItems: center
                              children:
                                - type: label
                                  text: "User Name:"
                                  dataKey:
                                  style:
                                    marginLeft: "0"
                                - type: label
                                  dataKey: formData.searchProd.name.data.userName
                                  style:
                                    marginLeft: "0.01"
                            - type: view
                              style:
                                left: "0.062"
                                width: "0.14"
                                height: "auto"
                                marginTop: "0.01"
                                fontSize: .Nfont.nf0
                                fontFamily: "Roboto"
                                display: flex
                                alignItems: center
                              children:
                                - type: label
                                  text: "Phone #:"
                                  dataKey:
                                  style:
                                    marginLeft: "0"
                                - type: label
                                  dataKey: formData.searchProd.name.data.phone
                                  style:
                                    marginLeft: "0.01"
                        - type: scrollView
                          style:
                            width: "0.295"
                            height: "0.58"
                            left: "0"
                            marginTop: "0.01"
                            overflow: scroll
                          children:
                            # Basic Info Start
                            - .ProfileInfoTitle:
                              text: "Basic Info"
                              style:
                                marginTop: "0.02"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "First Name"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.firstName
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Middle Name"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.middleName
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Last Name"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.lastName
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Title Training"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.title
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Language Spoken"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.languages
                                  style:
                                    word-break: break-all
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Gender"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.gender
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Email"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.email
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Fax #"
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.fax
                            # Basic Info End

                            # Credentials Start
                            - .ProfileInfoTitle:
                              text: "Credentials"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Specialty and board certified"
                                  style:
                                    width: "0.295"
                                    # fontWeight: ""
                            - .ProfileInfoTextView:
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..providerDisplay.docResp.doc.0.name.data.specialty
                                  iteratorVar: itemObject
                                  viewTag: specialtyView
                                  style:
                                    width: "0.295"
                                    margin: "0"
                                    height: auto
                                  children:
                                    - type: listItem
                                      itemObject:
                                      style:
                                        width: "0.295"
                                        height: "0.03"
                                        left: "0"
                                        marginTop: ""
                                      children:
                                        - type: label
                                          dataKey: itemObject.specialty
                                          style:
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            display: inline-block
                                            textAlign:
                                              y: top
                                        - type: label
                                          text: "|"
                                          dataKey:
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            display: inline-block
                                            textAlign:
                                              y: top
                                        - type: label
                                          dataKey: itemObject.boardCertified
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            display: inline-block
                                            textAlign:
                                              y: top
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Medical License"
                                  style:
                                    # fontWeight: "500"
                                    width: "0.295"
                            - .ProfileInfoTextView:
                              children:
                                - type: list
                                  contentType: listObject
                                  listObject: ..formData.searchProd.name.data.MedicalLicense
                                  iteratorVar: itemObject
                                  style:
                                    width: "0.23"
                                    marginLeft: "0.01"
                                    margin: "0"
                                    height: auto
                                  children:
                                    - type: listItem
                                      itemObject:
                                      style:
                                        width: "0.23"
                                        height: "0.03"
                                        marginTop: ""
                                        display: flex
                                      children:
                                        - type: label
                                          dataKey: itemObject.medicalLicense
                                          style:
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            textAlign:
                                              y: top
                                        - type: label
                                          text: "|"
                                          dataKey:
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            textAlign:
                                              y: top
                                        - type: label
                                          dataKey: itemObject.state
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            textAlign:
                                              y: top
                                        - type: label
                                          text: "|"
                                          dataKey:
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            textAlign:
                                              y: top
                                        - type: label
                                          dataKey: itemObject.expiration
                                          style:
                                            marginLeft: "0.005"
                                            height: "0.03"
                                            fontFamily: "Roboto"
                                            fontSize: .Nfont.nf2
                                            color: "0x333333"
                                            textAlign:
                                              y: top
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "NPI #"
                                  style: # fontWeight: ""
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.NPI
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "DEA #"
                                  style: # fontWeight: ""
                                - .ProfileInfoRightText:
                                  dataKey: formData.searchProd.name.data.DEA
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Description"
                                  style:
                                    # fontWeight: ""
                                    width: "0.295"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  dataKey: formData.searchProd.name.data.description
                                  style:
                                    fontWeight: ""
                                    width: "0.295"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "Education and training"
                                  style:
                                    width: "0.295"
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  dataKey: formData.searchProd.name.data.education
                                  style:
                                    left: "0"
                                    width: "0.295"
                                    fontWeight: ""
                            - .ProfileInfoTextView:
                              children:
                                - .ProfileInfoLeftText:
                                  text: "CV"
                                  style:
                                    width: "0.295"
                                - .ProfileInfoRightText:
                                  text: "View"
                                  viewTag: searchCvViewTag
                                  onClick:
                                    - actionType: builtIn
                                      funcName: redraw
                                      viewTag: searchCvView
                                    - actionType: evalObject
                                      object:
                                        - if:
                                            - ..formData.searchProd.name.data.cv
                                            - actionType: popUp
                                              popUpView: searchCvView
                                            - actionType: popUp
                                              popUpView: searchCvViewNoImageTag
                                              popUpDismiss: 2000
                                              wait: true
                                  style:
                                    color: "0x004779"
                                    textDecoration: underline
                                    # isHidden: ..formData.searchCvViewFlag                      
                        - ..style.confirmBtnView:
                          style:
                            width: "0.31"
                            justifyContent: flex-end
                          children:
                            - ..style.confirmButton:
                              style:
                                left: "0"
                              text: Add
                              onClick:
                                - actionType: evalObject
                                  object:
                                    .Global._nonce@:
                                      =.builtIn.math.random: ""
                                - actionType: evalObject
                                  object:
                                    # get 10002
                                    - ..isConnected.edgeResp.edge@: []
                                    - ..isConnected.edgeIn.id@: =.Global.currentFacility.id
                                    - =.builtIn.string.concat:
                                        dataIn:
                                          - "V.uid like"
                                          - " '%"
                                          - =..formData.phoneNumber
                                          - "' AND E.tage>=0"
                                        dataOut: ProviderManagement.isConnected.edgeIn.sCondition
                                    - =..isConnected.edgeAPI.get: ""
                                - actionType: evalObject
                                  object:
                                    # isAdded or isInvited
                                    - if:
                                        - =..isConnected.edgeResp.edge.0
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.number.less:
                                                    dataIn:
                                                      num1: =..isConnected.edgeResp.edge.0.tage
                                                      num2: 1
                                                - actionType: popUp
                                                  popUpView: phoneInvited # <1 already invited but not be approved
                                                  wait: true
                                                - actionType: popUp
                                                  popUpView: phoneRepeat
                                                  wait: true
                                        - continue
                                - actionType: evalObject
                                  object:
                                    # create 1053                                 
                                    - ..invite.edge.subtype@: "196608"
                                    - ..invite.edge.name.inviteeName@: =..formData.searchProd.name.data.fullName
                                    - ..invite.edge.name.phoneNumber@: =..formData.phoneNumber
                                    - =..invite.edgeAPI.store: ""
                                    - ..apiRequest.sendNotification.document.fid@: =.Global.prodAPPID
                                    - ..apiRequest.sendNotification.document.eid@: =..invite.response.edge.id
                                    - =..apiRequest.sendNotification.docAPI.store: ""
                                - actionType: evalObject
                                  object:
                                    .Global._nonce@:
                                      =.builtIn.math.random: ""
                                - actionType: evalObject
                                  object:
                                    # - =..invite.edgeAPI.get: ""
                                    - ..formData.searchProd@: ""
                                    - ..formData.number@: ""
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: profileView
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: noProviderView
                                - actionType: popUpDismiss
                                  popUpView: AddProvider
                                - actionType: popUp
                                  popUpView: success
                                  wait: 2000
        # Provider的个人信息
        - type: popUp
          viewTag: viewProviderInfo
          style:
            width: "1"
            height: "1"
            top: "0"
            left: "0"
            backgroundColor: "0x00000033"
            zIndex: "10"
          children:
            - type: view
              style:
                left: "0.6"
                width: "0.4"
                height: "1"
                backgroundColor: "0xFFFFFF"
              children:
                - .PopUphead:
                  children:
                    - .CreateLabel:
                      text: "Provider Profile"
                    - .Closebutton:
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: viewProviderInfo
                - type: view
                  viewTag: infoView
                  style:
                    height: "0.92"
                    width: "0.31"
                    top: "0.08"
                    left: "0.055"
                  children:
                    - type: view
                      style:
                        width: "0.295"
                        height: "auto"
                        left: "0"
                        marginTop: "0.03"
                      children:
                        - type: image
                          path: providerDefault.svg
                          dataKey: formData.providerInfo.avatar
                          path=func: .builtIn.utils.prepareDocToPath
                          style:
                            height: "0.082"
                            width: "0.05"
                            left: "0"
                            top: "0"
                        - type: label
                          # text: "Aomas Mueller"
                          dataKey: formData.providerInfo.fullName
                          style:
                            left: "0.062"
                            width: "0.25"
                            marginTop: "0"
                            fontSize: .Nfont.nf5
                            fontFamily: "Roboto"
                            fontWeight: "600"
                        - type: view
                          style:
                            left: "0.062"
                            width: "0.14"
                            height: "auto"
                            marginTop: "0.01"
                            fontSize: .Nfont.nf0
                            fontFamily: "Roboto"
                            display: flex
                            alignItems: center
                          children:
                            - type: label
                              text: "User Name:"
                              dataKey:
                              style:
                                marginLeft: "0"
                            - type: label
                              # text: "Lighting"
                              dataKey: formData.providerInfo.userName
                              style:
                                marginLeft: "0.01"
                        - type: view
                          style:
                            left: "0.062"
                            width: "0.14"
                            height: "auto"
                            marginTop: "0.01"
                            fontSize: .Nfont.nf0
                            fontFamily: "Roboto"
                            display: flex
                            alignItems: center
                          children:
                            - type: label
                              text: "Phone #:"
                              dataKey:
                              style:
                                marginLeft: "0"
                            - type: label
                              # text: "+ 18883843328"
                              dataKey: formData.providerInfo.phone
                              style:
                                marginLeft: "0.01"
                    - type: view
                      onClick:
                        - actionType: evalObject
                          object:
                            - .Global.formData.reply.eid@: =..apiRequest.connection.edgeResp.edge.0.id
                            - .Global.formData.reply.name.data.receiverAvatarId@: =..formData.providerInfo.avatar
                            - .Global.formData.reply.name.data.receiverName@: =..formData.providerInfo.fullName
                        - goto: NewMessage
                      style:
                        top: "0.04"
                        left: "0.295"
                        height: "auto"
                      children:
                        - type: image
                          path: Inbox.svg
                          style:
                            height: "0.016"
                            marginTop: "0"
                        - type: label
                          text: Mail
                          style:
                            fontSize: .Nfont.nf0
                            fontFamily: "Roboto"
                    - type: scrollView
                      viewTag: prodInfoTag
                      style:
                        width: "0.295"
                        height: "0.74"
                        left: "0"
                        marginTop: "0.02"
                        overflow: hidden
                      children:
                        # Basic Info Start
                        - .ProfileInfoTitle:
                          text: "Basic Info"
                          style:
                            marginTop: "0"
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "First Name"
                            - .ProfileInfoRightText: # text: "Aomas"

                              dataKey: formData.providerInfo.firstName
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Middle Name"
                            - .ProfileInfoRightText: # text: "Bill"

                              dataKey: formData.providerInfo.middleName
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Last Name"
                            - .ProfileInfoRightText: # text: "Mueller"

                              dataKey: formData.providerInfo.lastName
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Title Training"
                            - .ProfileInfoRightText: # text: "CNA"

                              dataKey: formData.providerInfo.title
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Language Spoken"
                            - .ProfileInfoRightText: # text: "English"

                              dataKey: formData.providerInfo.languages
                              style:
                                wordBreak: break-all
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Gender"
                            - .ProfileInfoRightText: # text: "Male"

                              dataKey: formData.providerInfo.gender
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Email"
                            - .ProfileInfoRightText: # text: "amy.smith@123.com"

                              dataKey: formData.providerInfo.email
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Fax #"
                            - .ProfileInfoRightText: # text: "39487193743"

                              dataKey: formData.providerInfo.fax
                        # Basic Info End

                        # Credentials Start
                        - .ProfileInfoTitle:
                          text: "Credentials"
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Specialty and board certified"
                              style:
                                width: "0.295"
                        - type: list
                          contentType: listObject
                          listObject: ..formData.providerInfo.specialty
                          iteratorVar: itemObject
                          style:
                            width: "0.295"
                            margin: "0"
                            left: "0"
                            height: "auto"
                          children:
                            - type: listItem
                              itemObject:
                              style:
                                width: "0.295"
                                height: "auto"
                                left: "0"
                                marginTop: ""
                              children:
                                - .ProfileInfoTextView:
                                  children:
                                    - .ProfileInfoLeftText: # text: "Anatomic and Clinical Pathology"

                                      dataKey: itemObject.specialty
                                      style:
                                        width: "auto"
                                        fontWeight: ""
                                    - .ProfileInfoRightText: # text: "Yes"

                                      dataKey: itemObject.boardCertified
                                      style:
                                        marginLeft: "0.02"
                                        width: "0.02"
                                        borderLeft: "1px solid #666666"
                                        fontSize: .Nfont.nf0
                                        textAlign:
                                          x: center
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Medical License"
                              style:
                                width: "0.295"
                        - .ProfileInfoTextView:
                          children:
                            - type: list
                              contentType: listObject
                              listObject: ..formData.providerInfo.MedicalLicense
                              iteratorVar: itemObject
                              style:
                                width: "0.23"
                                marginLeft: "0.01"
                                margin: "0"
                                height: auto
                              children:
                                - type: listItem
                                  itemObject:
                                  style:
                                    width: "0.23"
                                    height: "0.03"
                                    marginTop: ""
                                    display: flex
                                  children:
                                    - type: label
                                      dataKey: itemObject.medicalLicense
                                      style:
                                        height: "0.03"
                                        fontFamily: "Roboto"
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        textAlign:
                                          y: top
                                    - type: label
                                      text: "|"
                                      dataKey:
                                      style:
                                        marginLeft: "0.005"
                                        height: "0.03"
                                        fontFamily: "Roboto"
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        textAlign:
                                          y: top
                                    - type: label
                                      dataKey: itemObject.state
                                      style:
                                        marginLeft: "0.005"
                                        height: "0.03"
                                        fontFamily: "Roboto"
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        textAlign:
                                          y: top
                                    - type: label
                                      text: "|"
                                      dataKey:
                                      style:
                                        marginLeft: "0.005"
                                        height: "0.03"
                                        fontFamily: "Roboto"
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        textAlign:
                                          y: top
                                    - type: label
                                      dataKey: itemObject.expiration
                                      style:
                                        marginLeft: "0.005"
                                        height: "0.03"
                                        fontFamily: "Roboto"
                                        fontSize: .Nfont.nf2
                                        color: "0x333333"
                                        textAlign:
                                          y: top
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "NPI #"
                              style:
                            - .ProfileInfoRightText: # text: "31424235345"

                              dataKey: formData.providerInfo.NPI
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "DEA #"
                              style:
                            - .ProfileInfoRightText: # text: "5674576757657"

                              dataKey: formData.providerInfo.DEA
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Description"
                              style:
                                width: "0.295"
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText: # text: "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "

                              dataKey: formData.providerInfo.description
                              style:
                                fontWeight: ""
                                width: "0.295"
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "Education and training"
                              style:
                                width: "0.295"
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText: # text: "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "

                              dataKey: formData.providerInfo.education
                              style:
                                left: "0"
                                width: "0.295"
                                # marginTop: "0.01"
                                fontWeight: ""
                        - .ProfileInfoTextView:
                          children:
                            - .ProfileInfoLeftText:
                              text: "CV"
                              style:
                                width: "0.295"
                            - .ProfileInfoRightText:
                              text: "View"
                              # viewTag: cvViewTag
                              style:
                                color: "0x004779"
                                textDecoration: underline
                                isHidden: ..formData.cvViewFlag
                              onClick:
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: viewCvTag
                                - actionType: popUp
                                  popUpView: viewCvTag
                        # Credentials End
                        # 查看图片的弹框 
        - type: popUp
          viewTag: searchCvView
          style:
            left: "0"
            width: "1"
            top: "0"
            height: "1"
            zIndex: "10"
            backgroundColor: "0x00000033"
          children:
            - type: view
              style:
                left: "0.37"
                width: "0.334"
                height: "0.445"
                top: "0.248"
                borderRadius: "5px"
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    left: "0.264"
                    height: "0.1"
                    marginTop: "0"
                    width: "0.07"
                    display: flex
                    justifyContent: space-around
                    alignItems: center
                  children:
                    - type: image
                      path: close.svg
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: _____.viewTag
                      style:
                        width: "0.012"
                - type: view
                  style:
                    width: "0.334"
                    marginTop: "0"
                    height: "0.365"
                    textAlign:
                      x: center
                  children:
                    - type: image
                      path: null.png
                      dataKey: formData.searchProd.name.data.cv
                      path=func: .builtIn.utils.prepareDocToPath
                      style:
                        width: "0.28"
                        height: "0.3"

        - type: popUp
          viewTag: viewCvTag
          style:
            left: "0"
            width: "1"
            top: "0"
            height: "1"
            zIndex: "10"
            backgroundColor: "0x00000033"
          children:
            - type: view
              style:
                left: "0.37"
                width: "0.334"
                height: "0.445"
                top: "0.248"
                borderRadius: "5px"
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    left: "0.264"
                    height: "0.1"
                    marginTop: "0"
                    width: "0.07"
                    display: flex
                    justifyContent: space-around
                    alignItems: center
                  children:
                    - type: image
                      path: close.svg
                      onClick:
                        - actionType: popUpDismiss
                          popUpView: _____.viewTag
                      style:
                        width: "0.012"
                - type: view
                  style:
                    width: "0.334"
                    marginTop: "0"
                    height: "0.365"
                    textAlign:
                      x: center
                  children:
                    - type: image
                      path: null.png
                      dataKey: formData.providerInfo.cv
                      path=func: .builtIn.utils.prepareDocToPath
                      style:
                        width: "0.28"
                        height: "0.3"

        # reason里的表格预览                      
        - type: popUp
          viewTag: documentView
          style:
            left: "0.802"
            width: "0.175"
            height: "0.25"
            top: "0.15"
            backgroundColor: "0xffffff"
            boxShadow: "1px 1px #f0f0f0"
            zIndex: "10000"
          children:
            - type: scrollView
              style:
                left: "0"
                top: "0"
                width: "0.175"
                height: "0.27"
                overflow: scroll
              children:
                - type: list
                  contentType: listObject
                  listObject: ..doucment
                  iteratorVar: itemObject
                  viewTag: docListView
                  style:
                    width: "0.175"
                    left: "0"
                    marginTop: "0"
                    height: "0.25"
                    padding: "0"
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        width: "0.175"
                        left: "0"
                        height: "0.035"
                        boder:
                          style: "1"
                      children:
                        - type: image
                          viewTag: selectView
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:
                                - if:
                                    - =.builtIn.array.has:
                                        dataIn:
                                          object: =..reasonObj.document
                                          value: $var.title
                                    - checkOn.svg
                                    - checkOff.svg
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions:
                                  - if:
                                      - =.builtIn.array.has:
                                          dataIn:
                                            object: =..reasonObj.document
                                            value: $var.title
                                      - =.builtIn.array.removeByValue:
                                          dataIn:
                                            object: =..reasonObj.document
                                            value: $var.title
                                      - =.builtIn.array.add:
                                          dataIn:
                                            object: =..reasonObj.document
                                            value: $var.title
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: docListView
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: docFieldView
                          style:
                            top: "0.0075"
                            left: "0.005"
                            width: "0.011"
                        - type: label
                          dataKey: itemObject.title
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions:
                                  - .Global.formData.previewFromProvider@: true
                                  - if:
                                      - true
                                      - goto: $var.pageName
                                      - goto: $var.pageName
                          style:
                            top: "0"
                            left: "0.024"
                            width: "0.15"
                            height: "0.035"
                            fontFamily: "Raleway"
                            fontSize: .Nfont.nf0
                            textAlign:
                              y: center

        # 没有选中的轻提示
        - type: popUp # popUp
          viewTag: searchCvViewNoImageTag
          msg: "Provider didn't share the image"
          img: miniRedAlert.svg
          style:
            width: "1"
            height: "1"
            backgroundColor: "0x00000033"
            top: "0"
            zIndex: "20"
          onClick:
            - actionType: popUpDismiss
              popUpView: noMessageTag
          children:
            - type: view
              style:
                width: "0.32"
                height: "0.055"
                top: "0.04"
                left: "0.4"
                zIndex: "10"
                backgroundColor: "0xffffff"
                borderRadius: "3px"
                textAlign:
                  y: center
              children:
                - type: image
                  path: ___.img
                  style:
                    top: "0.017"
                    left: "0.08"
                    width: "0.015"
                    height: "0.025"
                - type: label
                  text: ___.msg
                  style:
                    top: "0.018"
                    left: "0.12"
                    height: "0.055"
                    fontSize: .Nfont.nf2
                    color: "0x333333"
        # 邀请provider成功
        - .BaseSuccessfulView: ""
          msg: "successfully!"
          viewTag: success
