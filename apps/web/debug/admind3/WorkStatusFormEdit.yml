WorkStatusFormEdit:
  title: Work Status Form
  init:
    #Page initialization
    - .SignInCheck
    # macro 复现
    - if:
        - =.Global.formData.providerNotesForm.id
        - ..apiRequest.workStatusForm.docReq@: =.Global.formData.providerNotesForm
        - actionType: evalObject
          object:
            - =..apiRequest.workStatusForm.docAPI.store: ""
            - ..apiRequest.workStatusForm.docReq@: =..apiRequest.workStatusForm.docResp.doc
    # 判断是否签名
    - if:
        - =..apiRequest.workStatusForm.docReq.name.data.whetherSign
        - continue
        # 非空修改显示的标识,刷新签名区域
        - actionType: evalObject
          object:
            - ..formData.temporarySignature@: =..apiRequest.workStatusForm.docReq.name.data.signatureId
            - ..formData.signShow@: "block"
            - ..formData.canvasShow@: "none"
    - actionType: evalObject
      object: .BaseDate.getDate
    #生成年份
    - =.builtIn.date.generateYear:
        dataIn:
          last: 40
          next: 10
        dataOut: BaseDate.year
    # 判断medicalLicense是否为空
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.MedicalLicense
            dataOut: WorkStatusFormEdit.formData.licenseLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.licenseLength
                  string2: "0"
            - ..apiRequest.workStatusForm.docReq.name.data.providerInfo.license@: ""
            - actionType: evalObject
              object:
                - =.builtIn.string.concat:
                    dataIn:
                      - =.Global.formData.providerInfo.name.data.MedicalLicense.0.state
                      - " "
                      - =.Global.formData.providerInfo.name.data.MedicalLicense.0.medicalLicense
                    dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.license
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =.Global.formData.providerInfo.name.data.selectedSpecialty
            dataOut: WorkStatusFormEdit.formData.specialtyLength
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.specialtyLength
                  string2: "0"
            - continue
            - actionType: evalObject
              object:
                - =.builtIn.array.selectOneToArr:
                    dataIn:
                      arr: =.Global.formData.providerInfo.name.data.specialty
                      key: "specialty"
                    dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.specialty
        # 拼串provider fullName
        - =.builtIn.string.concat:
            dataIn:
              - =.Global.formData.providerInfo.name.data.fullName
              - ", "
              - =.Global.formData.providerInfo.name.data.title
            dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.providerInfo.physicianName
    # 判断WorkStatus  
    - ..formData.workStatus@: =..apiRequest.workStatusForm.docReq.name.data.workStatus
    - if:
        - =.builtIn.object.isEmpty:
            dataIn:
              object: =..formData.workStatus.status
        - continue
        - ..formData.workStatusTemp@: =..formData.workStatus.status
    # 判断diagnoses
    - actionType: evalObject
      object:
        - =.builtIn.array.getListLength:
            dataIn:
              object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
            dataOut: WorkStatusFormEdit.formData.listDataLength
    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =..formData.listDataLength
                  string2: "0"
            - continue
            - ..formData.listDataflag@: "block"
  apiRequest:
    newSign:
      docResp: ""
      docReq:
        .Document: ""
        type: .DocType.DocumentSignature
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data:
            size: ""
        eid: .Global.formData.meetingDocEid
        subtype:
          mediaType: ""
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: WorkStatusFormEdit.apiRequest.newSign.docReq
          dataOut: WorkStatusFormEdit.apiRequest.newSign.docResp

    workStatusForm:
      deleteReq:
        id: ""
      docResp: ""
      docReq:
        .Document: ""
        eid: .Global.formData.meetingDocEid
        type: .DocType.workStatusForm
        reid: ""
        name:
          title: "Work Status Form"
          user: .Global.currentFacility.name.basicInfo.medicalFacilityName
          type: "text/plain"
          data:
            classTag:
              name: Admin
              fontColor: "0x005795"
              backgroundColor: "0xe9f2fc"
              display: block
            statusTag:
              name: Private
              fontColor: "0x4c5264"
              backgroundColor: "0xececee"
              display: block
            signatureId: ""
            signatureTime: ""
            whetherSign: true
            authority: ""
            diagnosis:
              descriptiveList: []
            providerInfo:
              physicianName: ""
              specialty: ""
              license: ""
              npi: .Global.formData.providerInfo.name.data.NPI
              dea: .Global.formData.providerInfo.name.data.DEA
              email: .Global.formData.providerInfo.name.data.email
            patientInfo:
              examData: .Global.formData.appointment.stime
              patientName: .Global.formData.patientInfo.name.data.basicInfo.fullName
              dob: .Global.formData.patientInfo.name.data.basicInfo.dateOfBirth
              phone: .Global.formData.patientInfo.name.data.basicInfo.phone
              email: .Global.formData.patientInfo.name.data.contactInfo.email
              address: .Global.formData.patientInfo.name.data.contactInfo.address.fullAddress
            facilityInfo:
              facilityName: .Global.currentFacility.name.basicInfo.medicalFacilityName
              facilityAvatarID: .Global.facilityAvatarID
              location: .Global.currentFacility.name.basicInfo.location
              email: .Global.currentFacility.name.basicInfo.email
              website: .Global.currentFacility.name.basicInfo.website
              main: .Global.currentFacility.name.basicInfo.phoneNumber
              fax: .Global.currentFacility.name.basicInfo.fax
            workStatus: {}
      docAPI:
        .DocAPI: ""
        store:
          api: cd
          dataIn: WorkStatusFormEdit.apiRequest.workStatusForm.docReq
          dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docResp
          subtype:
            mediaType: "text/plain"
        delete:
          api: dx
          dataIn: WorkStatusFormEdit.apiRequest.workStatusForm.deleteReq
  formData:
    # Input data here
    searchShow: "none"
    temporarySignature: ""
    signatureTime: ""
    whetherSign: ""
    workStatus:
      status: {}
      statusDisplay:
        temporary: none
        fullDuty: none
        modifiedDuty: none
        noForceful: none
        noPushing: none
        noPhysical: none
        other: none
      temporaryTotal:
        startDate: ""
        endDate: ""
      fullDutyDate: ""
      modifyDutyDate: ""
      location: ""
      weight: ""
      timeLength: ""
      other: ""
    workStatusTemp:
      temporaryStatus:
        isSelected: false
        isFilled: false
      fullDutyStatus:
        isSelected: false
        isFilled: false
      modifiedDutyStatus:
        isSelected: false
        isFilled: false
      lightUseStatus:
        isSelected: false
        isFilled: true
      noForcefulStatus:
        isSelected: false
        isFilled: false
      noPushingStatus:
        isSelected: false
        isFilled: false
      noStandingStatus:
        isSelected: false
        isFilled: true
      keepDressingStatus:
        isSelected: false
        isFilled: true
      noPhysicalStatus:
        isSelected: false
        isFilled: false
      otherStatus:
        isSelected: false
        isFilled: false

    temporaryHasStartData: false
    temporaryHasEndData: false
    diagnosis:
      descriptiveList:
        code: ""
        description: ""
        comment: ""
    selectedDiagnosis: ""
    listDataLength: ""
    listDataflag: "none"
    signShow: "none"
    canvasShow: "block"
  formDataTemp:
    allListInfo: []
    allListString: []
    allCodes: []
    allDescription: []
    privateTag:
      display: "block"
      backgroundColor: "0xececee"
      fontColor: "0x4c5264"
      name: "Private"
    publicTag:
      display: "block"
      backgroundColor: "0xdfedfc"
      fontColor: "0x2988e6"
      name: "Released"
  components:
    - type: view
      style:
        width: '1'
        height: '1'
        margin: auto
      children:
        - .SideMenuBar:
          children:
            - .aitLogo:
            - .MenuBar:
        - .TopBar:
        - .BodyView:
          style:
            height: "0.93"
          children:
            - .AppointmentLobby:
            - .GotoBack:
            - type: view
              style:
                left: "0.008"
                width: "0.824"
                height: "0.74"
                top: "0.1"
                overflow: hidden
                backgroundColor: "0xffffff"
              children:
                - type: view
                  style:
                    width: "0.39"
                    margin: "auto"
                  children:
                    - .FormsTypeTitle:
                    - type: scrollView
                      style:
                        marginTop: "0.01"
                        width: "0.39"
                        height: "0.614"
                        overflow: scroll
                      children:
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                            height: "0.1"
                          children:
                            - .ProFormsBaseView:
                              style:
                                width: "0.135"
                                display: inline-block
                              children:
                                - type: image
                                  path: office-building.svg
                                  path=func: .builtIn.utils.prepareDocToPath
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.facilityAvatarID
                                  style:
                                    marginTop: "0.005"
                                    width: "0.025"
                                    height: "0.04416"
                                    display: inline-block
                                - type: view
                                  style:
                                    marginTop: "0"
                                    marginLeft: "0.01"
                                    width: "0.1"
                                    display: inline-block
                                  children:
                                    - .ProFormsLabel:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.facilityName
                                      style:
                                        marginTop: "0"
                                        fontSize: .Nfont.nf4
                                    - .ProFormsLabel:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.location
                                      style:
                                        marginTop: "0.01"
                                        fontSize: .Nfont.nf1
                            - .ProFormsBaseView:
                              style:
                                marginLeft: "0.035"
                                width: "0.12"
                                display: inline-block
                              children:
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Email"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.email
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Website"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.website
                            - .ProFormsBaseView:
                              style:
                                marginLeft: "0"
                                width: "0.1"
                                display: inline-block
                              children:
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Main #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.main
                                - .ProFormsBaseView:
                                  children:
                                    - .ProFormsLabelLeft:
                                      text: "Fax #"
                                    - .ProFormsLabelRight:
                                      dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.fax
                        - .ProFormsBaseView:
                          children:
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Exam Date"
                                - .ProFormsLabelRight:
                                  text=func: .builtIn.string.formatUnixtime_en
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.examData
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Patient Name"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.patientName
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Date of Birth"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.dob
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Phone #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.phone
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Email"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.email
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Patient Address"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.patientInfo.address
                        - .ProFormsDivider: # Diagnoses
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabel:
                              text: Diagnoses
                            - type: view
                              viewTag: searchBox
                              style:
                                height: "auto"
                                width: "0.39"
                                overflow: hidden
                              children:
                                - type: view
                                  style:
                                    marginTop: "0.008"
                                    width: "0.39"
                                    height: "auto"
                                    boxSizing: border-box
                                  children:
                                    - type: view
                                      viewTag: selectDateTag
                                      style:
                                        top: "0"
                                        height: "0.0405"
                                        width: "0.19"
                                        boxSizing: border-box
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderColor: "0xdedede"
                                        overflow: hidden
                                        textAlign:
                                          y: center
                                      children:
                                        - type: image
                                          path: searchGray.svg
                                          style:
                                            marginLeft: "0.0067"
                                            width: "0.01"
                                            display: inline-block
                                        - type: textField
                                          viewTag: CodeListTag
                                          placeholder: Search
                                          dataKey: formData.diagnosis.descriptiveList.code
                                          style:
                                            display: inline-block
                                            marginLeft: "0.0067"
                                            height: "0.04"
                                            width: "0.1667"
                                            boxSizing: border-box
                                            fontSize: .Nfont.nf1
                                            color: "0x333333"
                                            border:
                                              style: "5"
                                          onInput:
                                            - actionType: evalObject
                                              object:
                                                - if:
                                                    - =.builtIn.string.equal:
                                                        dataIn:
                                                          string1: =..formData.diagnosis.descriptiveList.code
                                                          string2: ""
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.listDataflag@: "block"
                                                        - ..formData.searchShow@: "none"
                                                    - actionType: evalObject
                                                      object:
                                                        - ..formData.listDataflag@: "none"
                                                        - ..formData.searchShow@: "block"
                                            - actionType: evalObject
                                              object:
                                                - ..formDataTemp.allListInfo@: []
                                                - ..formDataTemp.allListString@: []
                                            - actionType: evalObject
                                              object:
                                                - =.builtIn.search.queryCode:
                                                    dataIn:
                                                      query: =..formData.diagnosis.descriptiveList.code
                                                    dataOut: WorkStatusFormEdit.formDataTemp.allListInfo
                                                - ..formDataTemp.allListString@: =..formDataTemp.allListInfo
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CodeTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: CodeTags
                                            - actionType: builtIn
                                              funcName: show
                                              viewTag: CodeTag
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: listData
                                            - actionType: builtIn
                                              funcName: show
                                              viewTag: ShowTag
                                            - actionType: popUp
                                              popUpView: CodeTag
                                              dismissOnTouchOutside: true
                                            - actionType: builtIn
                                              funcName: redraw
                                              viewTag: searchShowTag
                                    - type: textField
                                      viewTag: descriptionTag
                                      placeholder: Description
                                      dataKey: formData.diagnosis.descriptiveList.description
                                      style:
                                        textIndent: "0.8em"
                                        left: "0.2"
                                        display: "inline-block"
                                        height: "0.0405"
                                        width: "0.19"
                                        boxSizing: border-box
                                        fontSize: .Nfont.nf1
                                        color: "0x333333"
                                        border:
                                          style: "3"
                                        borderRadius: "4"
                                        borderWidth: "1"
                                        borderColor: "0xdedede"
                                - .ProFormsTextView:
                                  viewTag: CommentsTag
                                  placeholder: Comments
                                  dataKey: formData.diagnosis.descriptiveList.comment
                                  style:
                                    marginTop: "0.0184"
                            - .MedBtnOutlineWithImgSlim:
                              btnImg: addCircleDeepBlue.svg
                              btnText: Add More
                              style:
                                marginTop: "0.0145"
                              children:
                                - type: image
                                  path: __.btnImg
                                  style:
                                    height: "0.01932"
                                - type: label
                                  text: __.btnText
                                  style:
                                    marginLeft: "0.004"
                                    color: "0x005795"
                                    fontFamily: "Arial"
                                    fontWeight: "400"
                              onClick:
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.diagnosis.descriptiveList.code
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: noDescriptionTag
                                          wait: true
                                        - continue
                                    - if:
                                        - =.builtIn.string.equal:
                                            dataIn:
                                              string1: =..formData.diagnosis.descriptiveList.description
                                              string2: ""
                                        - actionType: popUp
                                          popUpView: noDescriptionTag
                                          wait: true
                                        - continue
                                - emit:
                                    actions:
                                      - =.builtIn.array.add:
                                          dataIn:
                                            object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
                                            value: =..formData.diagnosis.descriptiveList
                                - actionType: evalObject
                                  object:
                                    - ..formData.diagnosis.descriptiveList.code@: ""
                                    - ..formData.diagnosis.descriptiveList.description@: ""
                                    - ..formData.diagnosis.descriptiveList.comment@: ""
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CodeListTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: descriptionTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: ShowTag
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: listData
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: CommentsTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: CodeTag
                            - type: view
                              viewTag: searchShowTag
                              style:
                                marginTop: "0.0184"
                                height: "auto"
                                width: "0.39"
                                display: ..formData.searchShow
                              children:
                                # searched dataList(scroll)
                                - type: view
                                  viewTag: CodeTag
                                  style:
                                    display: "none"
                                    width: "0.39"
                                    height: "auto"
                                    border:
                                      style: 3
                                    borderColor: "0xdedede"
                                    borderWidth: "1"
                                    borderRadius: "4"
                                    boxSizing: border-box
                                    zIndex: 10
                                  children:
                                    - type: scrollView
                                      viewTag: ShowTag
                                      style:
                                        marginTop: "0.00368"
                                        width: "0.38"
                                        height: "0.3"
                                        left: "0.00624" # 12pt
                                        overflow: scroll
                                      children:
                                        - type: list
                                          contentType: listObject
                                          listObject: ..formDataTemp.allListString
                                          iteratorVar: itemObject
                                          viewTag: CodeTags
                                          style:
                                            width: "0.38376"
                                            height: "auto"
                                            margin: "0"
                                            marginTop: "0"
                                          children:
                                            - type: listItem
                                              itemObject: ""
                                              style:
                                                width: "0.38376"
                                                marginTop: "0.00736"
                                                height: "auto"
                                              children:
                                                - type: label
                                                  dataKey: itemObject.0.2
                                                  style:
                                                    width: "0.36"
                                                    left: "0"
                                                    marginTop: "0"
                                                    textAlign:
                                                      x: left
                                                      y: center
                                                    height: "auto"
                                                    fontSize: .Nfont.nf1
                                                    color: "0x333333"
                                                  onClick:
                                                    - emit:
                                                        dataKey:
                                                          var: itemObject
                                                        actions:
                                                          - ..formData.diagnosis.descriptiveList.code@: $var.0.0
                                                          - ..formData.diagnosis.descriptiveList.description@: $var.0.1
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: CodeListTag
                                                    - actionType: builtIn
                                                      funcName: redraw
                                                      viewTag: descriptionTag
                                                    - actionType: builtIn
                                                      funcName: hide
                                                      viewTag: ShowTag
                                                    - actionType: builtIn
                                                      funcName: show
                                                      viewTag: listData
                                                    - actionType: builtIn
                                                      funcName: hide
                                                      viewTag: CodeTag
                            # added dataList(list)
                            - type: view
                              viewTag: listData
                              style:
                                width: "0.39"
                                left: "0"
                                height: "auto"
                                marginTop: "0.01"
                                display: ..formData.listDataflag
                                backgroundColor: "0xf4f4f4"
                                borderRadius: "4"
                              children:
                                - type: view
                                  style:
                                    paddingTop: "0.004"
                                    paddingBottom: "0.015"
                                    paddingLeft: "0.00624"
                                  children:
                                    - type: list
                                      viewTag: listData
                                      contentType: listObject
                                      listObject: ..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList # to dataObject to enumerate the list
                                      iteratorVar: itemObject
                                      style:
                                        width: "0.38"
                                        height: "auto"
                                        border:
                                          style: "5"
                                        boxSizing: border-box
                                      children:
                                        - type: listItem
                                          itemObject: ""
                                          style:
                                            marginTop: "0.006"
                                            width: "0.38"
                                            height: "auto"
                                            left: "0"
                                            overflow: hidden
                                          children:
                                            - type: view
                                              style:
                                                width: "0.37752"
                                                height: "auto"
                                              children:
                                                - type: image
                                                  path: deletePhoto.svg
                                                  style:
                                                    display: "inline-block"
                                                    width: "0.009"
                                                    height: "0.01656"
                                                    zIndex: 10
                                                    verticalAlign: middle
                                                  onClick:
                                                    - actionType: popUp
                                                      popUpView: BaseDelWarningView
                                                    - actionType: updateObject
                                                      dataKey: formData.selectedDiagnosis
                                                      dataObject: itemObject
                                                - type: view
                                                  style:
                                                    marginLeft: "0.003"
                                                    wordBreak: break-all
                                                    display: "inline-block"
                                                    width: "0.355"
                                                  children:
                                                    - .ProFormsLabel:
                                                      dataKey: itemObject.code
                                                      style:
                                                        display: "inline"
                                                        verticalAlign: middle
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                                    - .ProFormsLabel:
                                                      text: "-"
                                                      style:
                                                        marginLeft: "0.002"
                                                        verticalAlign: middle
                                                        display: "inline"
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                                    - .ProFormsLabel:
                                                      dataKey: itemObject.description
                                                      style:
                                                        verticalAlign: middle
                                                        marginLeft: "0.002"
                                                        display: "inline"
                                                        color: "0x333333"
                                                        fontSize: .Nfont.nf1
                                            - type: label
                                              dataKey: itemObject.comment
                                              style:
                                                marginTop: "0.003"
                                                marginLeft: "0.012"
                                                width: "0.355"
                                                height: "auto"
                                                color: "0x666666"
                                                wordBreak: break-all
                                                fontSize: .Nfont.nf1
                        # Work Status
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabel:
                              text: "Work Status"
                            # Temporary total disability effective from:
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: temporaryTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.temporaryStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.temporaryStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.temporaryStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: temporaryStatus
                                                    - ..formData.workStatus.statusDisplay.temporary@: none
                                                    - ..formData.workStatus.temporaryTotal.startDate@: ""
                                                    - ..formData.workStatus.temporaryTotal.endDate@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.temporaryStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: temporaryStatus
                                                          value: =..formData.workStatusTemp.temporaryStatus
                                                    - ..formData.workStatus.statusDisplay.temporary@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: temporaryDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: temporaryTag
                                    - .ProFormsLabel:
                                      text: "Temporary total disability effective from"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsBaseView:
                                  viewTag: temporaryDateTag
                                  style:
                                    display: ..formData.workStatus.statusDisplay.temporary
                                  children:
                                    - type: view
                                      style:
                                        display: inline-block
                                      children:
                                        - .ProFormsCalendarView:
                                          viewTag: startDateTag
                                          onClick:
                                            - actionType: popUp
                                              popUpView: temporaryStartDatePopUp
                                          style:
                                            marginTop: "0"
                                          children:
                                            - .ProFormsCalendarField:
                                              dataKey: formData.workStatus.temporaryTotal.startDate
                                            - .ProFormsCalendarImg:
                                    - .ProFormsLabel:
                                      text: "To"
                                      style:
                                        marginTop: "0.012"
                                        marginLeft: "0.015"
                                        display: inline-block
                                    - type: view
                                      style:
                                        marginLeft: "0.015"
                                        display: inline-block
                                      children:
                                        - .ProFormsCalendarView:
                                          viewTag: endDateTag
                                          onClick:
                                            - actionType: popUp
                                              popUpView: temporaryEndDatePopUp
                                          style:
                                            marginTop: "0"
                                          children:
                                            - .ProFormsCalendarField:
                                              dataKey: formData.workStatus.temporaryTotal.endDate
                                            - .ProFormsCalendarImg: # Full duty effective on
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: fullDutyTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.fullDutyStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.fullDutyStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.fullDutyStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: fullDutyStatus
                                                    - ..formData.workStatus.statusDisplay.fullDuty@: none
                                                    - ..formData.workStatus.fullDutyDate@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.fullDutyStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: fullDutyStatus
                                                          value: =..formData.workStatusTemp.fullDutyStatus
                                                    - ..formData.workStatus.statusDisplay.fullDuty@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: fullDutyDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: fullDutyTag
                                    - .ProFormsLabel:
                                      text: "Full duty effective on"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsBaseView:
                                  viewTag: fullDutyDateTag
                                  style:
                                    display: ..formData.workStatus.statusDisplay.fullDuty
                                  children:
                                    - type: view
                                      style:
                                        display: inline-block
                                      children:
                                        - .ProFormsCalendarView:
                                          onClick:
                                            - actionType: popUp
                                              popUpView: fullDutyDatePopUp
                                          style:
                                            marginTop: "0"
                                          children:
                                            - .ProFormsCalendarField:
                                              dataKey: formData.workStatus.fullDutyDate
                                            - .ProFormsCalendarImg: # Modified duty effective on
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: modifiedDutyTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.modifiedDutyStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.modifiedDutyStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.modifiedDutyStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: modifiedDutyStatus
                                                    - ..formData.workStatus.statusDisplay.modifiedDuty@: none
                                                    - ..formData.workStatus.modifyDutyDate@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.modifiedDutyStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: modifiedDutyStatus
                                                          value: =..formData.workStatusTemp.modifiedDutyStatus
                                                    - ..formData.workStatus.statusDisplay.modifiedDuty@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: modifiedDutyDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: modifiedDutyTag
                                    - .ProFormsLabel:
                                      text: "Modified duty effective on"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsBaseView:
                                  viewTag: modifiedDutyDateTag
                                  style:
                                    display: ..formData.workStatus.statusDisplay.modifiedDuty
                                  children:
                                    - type: view
                                      style:
                                        display: inline-block
                                      children:
                                        - .ProFormsCalendarView:
                                          onClick:
                                            - actionType: popUp
                                              popUpView: modifiedDutyDatePopUp
                                          style:
                                            marginTop: "0"
                                          children:
                                            - .ProFormsCalendarField:
                                              dataKey: formData.workStatus.modifyDutyDate
                                            - .ProFormsCalendarImg: # Light use
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: lightUseTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.lightUseStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.lightUseStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.lightUseStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: lightUseStatus
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.lightUseStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: lightUseStatus
                                                          value: =..formData.workStatusTemp.lightUseStatus
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: lightUseTag
                                    - .ProFormsLabel:
                                      text: "Light use"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                            # No forceful gripping/grasping with: 
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: noForcefulTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.noForcefulStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.noForcefulStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noForcefulStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noForcefulStatus
                                                    - ..formData.workStatus.statusDisplay.noForceful@: none
                                                    - ..formData.workStatus.location@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noForcefulStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noForcefulStatus
                                                          value: =..formData.workStatusTemp.noForcefulStatus
                                                    - ..formData.workStatus.statusDisplay.noForceful@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noForcefulDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noForcefulTag
                                    - .ProFormsLabel:
                                      text: "No forceful gripping/grasping with"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsTextField:
                                  viewTag: noForcefulDateTag
                                  dataKey: formData.workStatus.location
                                  onChange:
                                    - actionType: evalObject
                                      object:
                                        - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: =..formData.workStatus.location
                                                  string2: ""
                                            - ..formData.workStatus.status.noForcefulStatus.isFilled@: false
                                            - ..formData.workStatus.status.noForcefulStatus.isFilled@: true
                                  style:
                                    display: ..formData.workStatus.statusDisplay.noForceful
                                    width: "0.39"
                            # No pushing/pulling/lifting over  
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: noPushingTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.noPushingStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.noPushingStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noPushingStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noPushingStatus
                                                    - ..formData.workStatus.statusDisplay.noPushing@: none
                                                    - ..formData.workStatus.weight@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noPushingStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noPushingStatus
                                                          value: =..formData.workStatusTemp.noPushingStatus
                                                    - ..formData.workStatus.statusDisplay.noPushing@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noPushingDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noPushingTag
                                    - .ProFormsLabel:
                                      text: "No pushing/pulling/lifting over"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsBaseView:
                                  viewTag: noPushingDateTag
                                  style:
                                    marginTop: "0.0046" # 5pt
                                    border:
                                      style: "3"
                                    borderColor: "0xdedede"
                                    borderRadius: "4"
                                    width: "0.39"
                                    height: "0.0405" # 44pt
                                    boxSizing: border-box
                                    overflow: hidden
                                    display: ..formData.workStatus.statusDisplay.noPushing
                                  children:
                                    - type: textField
                                      placeholder: Enter here
                                      dataKey: formData.workStatus.weight
                                      onChange:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =.builtIn.string.equal:
                                                    dataIn:
                                                      string1: =..formData.workStatus.weight
                                                      string2: ""
                                                - ..formData.workStatus.status.noPushingStatus.isFilled@: false
                                                - ..formData.workStatus.status.noPushingStatus.isFilled@: true
                                      style:
                                        border:
                                          style: "5"
                                        textIndent: "0.8em"
                                        color: "0x333333"
                                        fontSize: .Nfont.nf1
                                        fontFamily: "Arial"
                                        boxSizing: border-box
                                        height: "0.038"
                                        width: "0.37"
                                        display: inline-block
                                    - .ProFormsLabel:
                                      text: "LBs"
                                      style:
                                        display: inline-block
                                        marginTop: "0.012"
                            # No standing/climbing/prolonged walking
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: noStandingTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.noStandingStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.noStandingStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noStandingStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noStandingStatus
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noStandingStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noStandingStatus
                                                          value: =..formData.workStatusTemp.noStandingStatus
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noStandingTag
                                    - .ProFormsLabel:
                                      text: "No standing/climbing/prolonged walking"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                            # Keep dressing clean and dry               
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: keepDressingTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.keepDressingStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.keepDressingStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.keepDressingStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: keepDressingStatus
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.keepDressingStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: keepDressingStatus
                                                          value: =..formData.workStatusTemp.keepDressingStatus
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: keepDressingTag
                                    - .ProFormsLabel:
                                      text: "Keep dressing clean and dry"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                            # No physical education for 
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: noPhysicalTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.noPhysicalStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.noPhysicalStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noPhysicalStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noPhysicalStatus
                                                    - ..formData.workStatus.statusDisplay.noPhysical@: none
                                                    - ..formData.workStatus.timeLength@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.noPhysicalStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: noPhysicalStatus
                                                          value: =..formData.workStatusTemp.noPhysicalStatus
                                                    - ..formData.workStatus.statusDisplay.noPhysical@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noPhysicalDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: noPhysicalTag
                                    - .ProFormsLabel:
                                      text: "No physical education for"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsTextField:
                                  viewTag: noPhysicalDateTag
                                  dataKey: formData.workStatus.timeLength
                                  onChange:
                                    - actionType: evalObject
                                      object:
                                        - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: =..formData.workStatus.timeLength
                                                  string2: ""
                                            - ..formData.workStatus.status.noPhysicalStatus.isFilled@: false
                                            - ..formData.workStatus.status.noPhysicalStatus.isFilled@: true
                                  style:
                                    width: "0.39"
                                    display: ..formData.workStatus.statusDisplay.noPhysical
                            # Other
                            - .ProFormsBaseView:
                              style:
                                marginTop: "0.018"
                              children:
                                - .ProFormsBaseView:
                                  viewTag: otherTag
                                  children:
                                    - type: image
                                      style:
                                        height: "0.01472"
                                        width: "0.00832"
                                        display: inline-block
                                      path:
                                        emit:
                                          actions:
                                            - if:
                                                - =..formData.workStatusTemp.otherStatus.isSelected
                                                - selectBlue.svg
                                                - selectGray.svg
                                      onClick:
                                        - actionType: evalObject
                                          object:
                                            - if:
                                                - =..formData.workStatusTemp.otherStatus.isSelected
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.otherStatus.isSelected@: false
                                                    - =.builtIn.object.remove:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: otherStatus
                                                    - ..formData.workStatus.statusDisplay.other@: none
                                                    - ..formData.workStatus.other@: ""
                                                - actionType: evalObject
                                                  object:
                                                    - ..formData.workStatusTemp.otherStatus.isSelected@: true
                                                    - =.builtIn.object.set:
                                                        dataIn:
                                                          object: =..formData.workStatus.status
                                                          key: otherStatus
                                                          value: =..formData.workStatusTemp.otherStatus
                                                    - ..formData.workStatus.statusDisplay.other@: block
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: otherDateTag
                                        - actionType: builtIn
                                          funcName: redraw
                                          viewTag: otherTag
                                    - .ProFormsLabel:
                                      text: "Other"
                                      style:
                                        display: inline-block
                                        marginLeft: "0.0046"
                                - .ProFormsTextView:
                                  viewTag: otherDateTag
                                  dataKey: formData.workStatus.other
                                  onChange:
                                    - actionType: evalObject
                                      object:
                                        - if:
                                            - =.builtIn.string.equal:
                                                dataIn:
                                                  string1: =..formData.workStatus.other
                                                  string2: ""
                                            - ..formData.workStatus.status.otherStatus.isFilled@: false
                                            - ..formData.workStatus.status.otherStatus.isFilled@: true
                                  style:
                                    display: ..formData.workStatus.statusDisplay.other
                        # Return Appointment
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabelRight:
                              text: "Return Appointment"
                              style:
                                marginLeft: "0"
                        - .ProFormsCalendarView:
                          viewTag: returnAppointTag
                          onClick:
                            - actionType: popUp
                              popUpView: returnAppointPopUp
                          children:
                            - .ProFormsCalendarField:
                              dataKey: apiRequest.workStatusForm.docReq.name.data.returnAppointDate
                            - .ProFormsCalendarImg: # Signature      
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                            width: "0.275"
                            display: flex
                            justifyContent: space-between
                          children:
                            - .ProFormsLabel:
                              text: Signature
                              style:
                                display: inline-block
                            - .ProFormsLabel:
                              text: "Clear"
                              style:
                                fontWeight: ""
                                # marginLeft: "0.23"
                                color: "0xe24445"
                                display: inline-block
                              onClick:
                                # 移除签名
                                - actionType: removeSignature
                                  dataObject: BLOB
                                  dataKey: apiRequest.newSign.docReq.name.data
                                  viewTag: signatureTag
                                - actionType: evalObject
                                  object:
                                    - ..formData.temporarySignature@: ""
                                    - ..formData.signShow@: "none"
                                    - ..formData.canvasShow@: "block"
                                    - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: ""
                                    - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@: ""
                                    - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: true
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: signatureShowTag
                                - actionType: builtIn
                                  funcName: redraw
                                  viewTag: signatureTag
                        - .SignAreaView:
                          style:
                            marginTop: "0.008"
                          children:
                            - type: canvas
                              viewTag: signatureTag
                              dataKey: apiRequest.newSign.docReq.name.data
                              style:
                                .SignCanvasStyle:
                            - type: label
                              text: "X"
                              style:
                                .SignLabelStyle:
                            - type: image
                              viewTag: signatureShowTag
                              path: null.png
                              dataKey: formData.temporarySignature
                              path=func: =.builtIn.utils.prepareDocToPath
                              style:
                                display: ..formData.signShow
                                .SignCanvasStyle:
                        - .ProFormsBaseView:
                          viewTag: signatureShowTag
                          style:
                            display: ..formData.signShow
                          children:
                            - .ProFormsLabelLeft:
                              text=func: .builtIn.string.formatUnixtime_en
                              dataKey: apiRequest.workStatusForm.docReq.name.data.signatureTime
                              style:
                                display: inline
                            - .ProFormsLabelLeft:
                              text: " Digitally Signed"
                              style:
                                marginLeft: "0.0046"
                                display: inline
                        - .ProFormsBaseView:
                          style:
                            marginTop: "0.03"
                          children:
                            - .ProFormsLabelLeft:
                              text: "Date"
                              style:
                                display: inline
                            - .ProFormsLabelRight:
                              text=func: .builtIn.string.formatUnixtimeL_en # 12/30/2021
                              dataKey: apiRequest.workStatusForm.docReq.ctime
                              style:
                                marginLeft: "0.0046"
                                display: inline
                        - type: view
                          style:
                            marginTop: "0.03"
                            height: "auto"
                            width: "0.39"
                          children:
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabel:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.physicianName
                                  style:
                                    fontSize: .Nfont.nf4
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.specialty
                                  style:
                                    lineHeight: "2vh"
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "LIC #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.license
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "NPI #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.npi
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "DEA #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.dea
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Email"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.providerInfo.email
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Fax #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.fax
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Main #"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.main
                            - .ProFormsBaseView:
                              children:
                                - .ProFormsLabelLeft:
                                  text: "Address"
                                - .ProFormsLabelRight:
                                  dataKey: apiRequest.workStatusForm.docReq.name.data.facilityInfo.location
                        - .ProFormsDivider:
            - .FormsBottomView:
              children:
                - .FormsBottomButtons:
                  children:
                    - .FormsBottomLeftButton:
                      onClick:
                        # 保存签名
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign
                        - actionType: evalObject
                          object:
                            - if:
                                - =..formData.temporarySignature
                                - continue
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =..formData.whetherSign
                                        - continue
                                        - actionType: evalObject
                                          object:
                                            - ..apiRequest.newSign.docReq.reid@: =..apiRequest.workStatusForm.docReq.id
                                            - =..apiRequest.newSign.docAPI.store: ""
                                            - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                            - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@:
                                                =..apiRequest.newSign.docResp.doc.ctime
                                            - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: =..formData.whetherSign
                        - actionType: evalObject
                          object:
                            # 指定reid
                            - ..apiRequest.workStatusForm.docReq.reid@: =.Global.formData.meetingDocReid
                            # 修改type
                            - =.builtIn.number.inhx:
                                dataIn:
                                  intHex: =..apiRequest.workStatusForm.docReq.type
                                  index: 1
                                  hex: 0
                                dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.type
                        # 存储，修改tag
                        - actionType: evalObject
                          object:
                            - ..apiRequest.workStatusForm.docReq.name.data.workStatus@: =..formData.workStatus
                            - ..apiRequest.workStatusForm.docReq.name.data.statusTag@: =..formDataTemp.privateTag
                            - =..apiRequest.workStatusForm.docAPI.store: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true
                    # release button
                    - .FormsBottomRightButton:
                      onClick:
                        - actionType: saveSignature
                          dataObject: BLOB
                          dataKey: apiRequest.newSign.docReq.name.data
                          isEmpty: formData.whetherSign
                        - actionType: evalObject
                          object:
                            - if:
                                - =.builtIn.object.judgeAllTrue:
                                    dataIn:
                                      object: =..formData.workStatus.status
                                - continue
                                - actionType: popUp
                                  popUpView: alertTag
                                  wait: true
                        - actionType: evalObject
                          object:
                            - if:
                                - =..formData.temporarySignature
                                - continue
                                - actionType: evalObject
                                  object:
                                    - if:
                                        - =..formData.whetherSign
                                        - actionType: popUp
                                          popUpView: signatureWarningTag
                                          wait: true
                                        - actionType: evalObject
                                          object:
                                            - ..apiRequest.newSign.docReq.reid@: =..apiRequest.workStatusForm.docReq.id
                                            - =..apiRequest.newSign.docAPI.store: ""
                                            - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                            - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@:
                                                =..apiRequest.newSign.docResp.doc.ctime
                                            - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: =..formData.whetherSign
                        - actionType: evalObject
                          object:
                            - ..apiRequest.workStatusForm.docReq.reid@: =.Global.formData.meetingDocReid
                            - ..apiRequest.workStatusForm.docReq.name.data.workStatus@: =..formData.workStatus
                            - ..apiRequest.workStatusForm.docReq.name.data.statusTag@: =..formDataTemp.publicTag
                            - =..apiRequest.workStatusForm.docAPI.store: ""
                        - actionType: builtIn
                          funcName: goBack
                          reload: true
            - .FormsRightButtonsView:
              style:
                top: "0.1"
              children:
                - .FormsRightButton:
                  img: keyboard.svg
                  msg: "Macro"
                  style:
                    marginTop: "0.002"
                    backgroundColor: "0x1263a8"
                  onClick:
                    # 提前保存页面数据用于复现
                    - actionType: saveSignature
                      dataObject: BLOB
                      dataKey: apiRequest.newSign.docReq.name.data
                      isEmpty: formData.whetherSign
                    - actionType: evalObject
                      object:
                        - if:
                            # 是否是上次签名
                            - =..formData.temporarySignature
                            - continue # 旧签名
                            - actionType: evalObject
                              object:
                                # 新签名
                                - if:
                                    # 是否签名
                                    - =..formData.whetherSign
                                    - continue
                                    - actionType: evalObject
                                      object:
                                        # 创建签名
                                        - ..apiRequest.newSign.docReq.reid@: =..apiRequest.workStatusForm.docReq.id
                                        - =..apiRequest.newSign.docAPI.store: ""
                                        # 更改文档中签名信息
                                        - ..apiRequest.workStatusForm.docReq.name.data.signatureId@: =..apiRequest.newSign.docResp.doc.id
                                        - ..apiRequest.workStatusForm.docReq.name.data.signatureTime@:
                                            =..apiRequest.newSign.docResp.doc.ctime
                                        - ..apiRequest.workStatusForm.docReq.name.data.whetherSign@: =..formData.whetherSign
                    - actionType: evalObject
                      object:
                        - =.builtIn.object.clearObject:
                            dataIn:
                              obj: =..apiRequest.workStatusForm.docReq.name.data.workStatus
                            dataOut: WorkStatusFormEdit.apiRequest.workStatusForm.docReq.name.data.workStatus
                        - ..apiRequest.workStatusForm.docReq.name.data.workStatus@: =..formData.workStatus
                    # 弹窗
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: macroTag
                    - actionType: popUp
                      popUpView: macroTag
                    - actionType: updateObject
                      dataKey: Global.formData.providerNotesForm
                      dataObject: {}
                    - actionType: evalObject
                      object:
                        - .Global.formData.providerNotesForm@: =..apiRequest.workStatusForm.docReq
                        - if:
                            - =.Global.macro.resp.doc.0.id
                            - actionType: evalObject
                              object:
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: macroDataTag
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: noMacroDataTag
                            - actionType: evalObject
                              object:
                                - actionType: builtIn
                                  funcName: hide
                                  viewTag: macroDataTag
                                - actionType: builtIn
                                  funcName: show
                                  viewTag: noMacroDataTag
        - .MacroPopUp:
        - .CopyMacroSucPromptRight: # 弹窗
        - .BaseWarningView:
          msg2: "You haven't signed the form."
          viewTag: signatureWarningTag
        - .DeleteWarningPopUp:
          msg: Are you sure you want to delete it ?
          viewTag: BaseDelWarningView
          .BackgroundPopUp:
          children:
            - .BackgroundWhite:
              children:
                - .WarningRedLine:
                - type: view
                  style:
                    marginTop: "0"
                    width: "0.28"
                    left: "0"
                    height: "0.267"
                  children:
                    - .DeleteWarningImg:
                    - .WarningLabel:
                    - .DeleteWarningLabel:
                - .CancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
                - .DeleteButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - =.builtIn.array.removeByName:
                            dataIn:
                              object: =..apiRequest.workStatusForm.docReq.name.data.diagnosis.descriptiveList
                              key: code
                              name: =..formData.selectedDiagnosis.code
                        - ..formData.listDataflag@: "block"
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: listData
                    - actionType: popUpDismiss
                      popUpView: BaseDelWarningView
        - type: popUp
          viewTag: temporaryStartDatePopUp
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.temporaryTotal.startDate@: =.BaseDate.calendarDate.selectDate
                        - ..formData.temporaryHasStartData@: true
                        - if:
                            - =..formData.temporaryHasEndData
                            - ..formData.workStatus.status.temporaryStatus.isFilled@: true
                            - ..formData.workStatus.status.temporaryStatus.isFilled@: false
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: startDateTag
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
        - type: popUp
          viewTag: temporaryEndDatePopUp
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.temporaryTotal.endDate@: =.BaseDate.calendarDate.selectDate
                        - ..formData.temporaryHasEndData@: true
                        - if:
                            - =..formData.temporaryHasStartData
                            - ..formData.workStatus.status.temporaryStatus.isFilled@: true
                            - ..formData.workStatus.status.temporaryStatus.isFilled@: false
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: endDateTag
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
        - type: popUp
          viewTag: fullDutyDatePopUp
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.fullDutyDate@: =.BaseDate.calendarDate.selectDate
                        - ..formData.workStatus.status.fullDutyStatus.isFilled@: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: fullDutyDateTag
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
        - type: popUp
          viewTag: modifiedDutyDatePopUp
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..formData.workStatus.modifyDutyDate@: =.BaseDate.calendarDate.selectDate
                        - ..formData.workStatus.status.modifiedDutyStatus.isFilled@: true
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: modifiedDutyDateTag
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
        - type: popUp
          viewTag: returnAppointPopUp
          style:
            left: "0"
            top: "0"
            width: "1"
            height: "1"
            isHidden: "true"
            backgroundColor: "0x00000033"
            zIndex: 10
          children:
            - .BaseDate.calendar:
              children:
                - .BaseDate.calendarTitle:
                - .BaseDate.calendarCancel:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.calendarHeader:
                  children:
                    - .BaseDate.newMonthView:
                    - .BaseDate.newYearView:
                - .BaseDate.weekView:
                - .BaseDate.dayView:
                - .BaseDate.addButton:
                  onClick:
                    - actionType: evalObject
                      object:
                        - ..apiRequest.workStatusForm.docReq.name.data.returnAppointDate@: =.BaseDate.calendarDate.selectDate
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: returnAppointTag
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
                - .BaseDate.cancelButton:
                  onClick:
                    - actionType: popUpDismiss
                      popUpView: ____.viewTag
        - .BaseWarningView: ""
          viewTag: alertTag
          msg2: Please complete the items you selected.
        - .BaseWarningView:
          msg2: You haven't added the Diagnoses.
          viewTag: noDiagnosesTag
        - .BaseWarningView:
          msg1: Warning
          msg2: "Please complete required fields: Search & Description"
          viewTag: noDescriptionTag
