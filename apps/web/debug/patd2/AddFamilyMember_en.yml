AddFamilyMember:
  pageNumber: "330"
  title: "Add Family Member"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - actionType: evalObject #android use calendar init
      object:
        - .BaseComponents.calendarDate.year@: ""
        - .BaseComponents.calendarDate.month@: ""
        - .BaseComponents.calendarDate.day@: ""
        - .BaseComponents.calendarDate.monthName@: ""
        - .BaseComponents.calendarDate.todayDate@: ""
        - .BaseComponents.calendarDate.flag@: ""
        - .BaseComponents.calendarDate.dayLable@: []
        - .BaseComponents.year@: []
        - .BaseComponents.flag: ""
        #生成年份
        - =.builtIn.date.generateYear:
            dataIn:
              last: 121
              next: 10
            dataOut: BaseComponents.year
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getDate
    - actionType: evalObject #android use calendar init
      object: .BaseComponents.getShow
    - actionType: evalObject #IOS use calendar init
      object:
        - =.builtIn.date.getMonth:
            dataIn:
            dataOut: AddFamilyMember.calendarDate.month
        - =.builtIn.date.getYear:
            dataIn:
            dataOut: AddFamilyMember.calendarDate.year
        - =.builtIn.date.getDate:
            dataIn:
            dataOut: AddFamilyMember.calendarDate.day
    - actionType: evalObject
      object:
        - =.builtIn.date.calendarArray:
            dataIn:
              year: =.AddFamilyMember.calendarDate.year
              month: =.AddFamilyMember.calendarDate.month
              today: =.AddFamilyMember.calendarDate.day
            dataOut: AddFamilyMember.calendarDate.dayLable
        - =.builtIn.date.transformMonth:
            dataIn:
              month: =.AddFamilyMember.calendarDate.month
            dataOut: AddFamilyMember.calendarDate.monthName
        - =.builtIn.date.ShowDateByNumber:
            dataIn:
              year: =.AddFamilyMember.calendarDate.year
              month: =.AddFamilyMember.calendarDate.month
              day: =.AddFamilyMember.calendarDate.day
              formatType: "Y-M-D"
            dataOut: AddFamilyMember.calendarDate.todayDate
  save:
    - =.checkAddress: ""
    - =.AddFamilyMember.profile.docAPI.store: ""
    - =.AddFamilyMember.uploadProfile.docAPI.store: ""
    - =.builtIn.date.currentDateTime:
        dataIn:
        dataOut: AddFamilyMember.apiRequest.hashTag.docCreateReq.name.data.hashTime
    - =.builtIn.utils.gethashCode:
        dataIn:
          hashFields: =..apiRequest.hashTag.docCreateReq.name.data.hashFields
        dataOut: AddFamilyMember.apiRequest.hashTag.docCreateReq.name.data.hashCode
    - ..apiRequest.hashTag.docCreateReq.reid@: =..profile.document.doc.id
    - =..apiRequest.hashTag.docAPI.store: ""
  rvCondition: ""
  getVertex:
    response: ""
    vertex:
      xfname: none
      sCondition: =..rvCondition
      _nonce: =.Global._nonce
    vertexAPI:
      get:
        api: rv
        dataIn: AddFamilyMember.getVertex.vertex
        dataOut: AddFamilyMember.getVertex.response
  checkAddress:
  apiRequest:
    hashTag:
      docCreateReq:
        eid: .Global.rootNotebookID
        type: .DocType.HashTag
        reid: ""
        name:
          data:
            hashFields:
              - name
              - mtime
              - type
            hashTime: ""
            hashCode: "" # sha256
      docAPI:
        store:
          api: cd
          dataIn: AddFamilyMember.apiRequest.hashTag.docCreateReq
          dataOut: AddFamilyMember.apiRequest.hashTag.docCreateResp
  formData:
    address: ""
    fileSize: ""
    flag: false
  suggestAddress: []
  calendarDate:
    year: ""
    month: ""
    day: ""
    monthName: ""
    todayDate: ""
    dayLable: []
  avatar:
    url: patientImage.svg
    showdocument:
      .Document: ""
      subtype:
        isEncrypted: "0"
        isOnServer: "0"
      type: .DocType.UserAvatar
      name:
        title: ""
        type: ..avatar.docAPI.store.subtype.mediaType
        data: binFile
      deat:
        sig: ""
        url: ""
      eid: .Global.familyNotebookID
    document:
      .Document: ""
      subtype:
        isEncrypted: "0"
        isOnServer: "0"
      type: .DocType.UserAvatar
      name:
        title: ""
        type: ..avatar.docAPI.store.subtype.mediaType
        data: binFile
      deat:
        sig: ""
        url: ""
      eid: .Global.familyNotebookID
    resp: ""
    docIn:
      id: .Global.familyNotebookID
      xfname: eid
      type: .DocType.UserAvatar
      maxcount: "1"
      obfname: "ctime"
      _nonce: =.Global._nonce
    docAPI:
      store:
        api: cd
        dataIn: avatar.document
        dataOut: AddFamilyMember.avatar.resp
        subtype:
          mediaType: ""
  profile:
    docResponse: ""
    document:
      type: .DocType.PatientProfile
      eid: .Global.familyNotebookID
      name:
        data:
          isFirstCreateProfile: false
          #profile版本
          version: 2
          #默认保险
          insuranceId: ""
          #用户基本信息
          basicInfo:
            avatar: ""
            phone: ""
            firstName: ""
            middleName: ""
            lastName: ""
            dateOfBirth: ""
            gender: ""
            socialSecurity: ""
            fullName: ""
            userName: ""
            relation: ""
          #联系信息
          contactInfo:
            alternatePhone:
              countryCode: "+1"
              phoneNumber: ""
              fullPhone: ""
            email: ""
            address:
              line: ""
              secondLine: ""
              #市
              city: ""
              #郡、县
              county: ""
              #州
              state: ""
              #邮政编码
              zipCode: ""
              fullAddress: ""
          #紧急联系人信息
          emergencyContact:
            firstName: ""
            middleName: ""
            lastName: ""
            fullName: ""
            #与当前用户的关系，如母子等
            relation: ""
            phone:
              countryCode: "+1"
              phoneNumber: ""
              fullPhone: ""
          #身份证信息
          identification:
            type: Drive License
            id: ""
            #身份证照片的docId
            imageId: ""
          #雇佣者信息
          employment:
            #雇佣者姓名
            employerName: ""
            dept: ""
            #经营范围
            NatureBusiness: ""
            #工作
            Occupation: ""
            #电话
            Telephone: ""
            fax: ""
            #邮箱
            email: ""
            #地址
            address:
              fullAddress: ""
              line: ""
              secondLine: ""
              #市
              city: ""
              #郡、县
              county: ""
              #州
              state: ""
              #邮政编码
              zipCode: ""
    docAPI:
      store:
        api: cd
        # dataIn: AddFamilyMember.profile.document
        # dataOut: AddFamilyMember.profile.document
        dataKey: profile.document
        subtype:
          mediaType: "application/json"
  generalInfo:
    document:
      eid: .Global.familyNotebookID
      type: .DocType.PatientGeneralInfo
      name:
        title: ""
        type: "application/json"
        data:
          middleNameAndInitial: ""
        user: .Global.currentUser.vertex.name.userName
    docAPI:
      store:
        api: cd
        # dataIn: AddFamilyMember.profile.document
        # dataOut: AddFamilyMember.profile.document
        dataKey: generalInfo.document
        subtype:
          mediaType: "application/json"

  uploadProfile:
    document: #DOC
      .Document: ""
      subtype:
        isEncrypted: "1"
        isOnServer: "0"
      type: .DocType.UploadProfile
      name:
        title: ""
        type: ..uploadProfile.docAPI.store.subtype.mediaType
        data: binFile
      deat:
        sig: ""
        url: ""
      eid: .Global.familyNotebookID
    docAPI:
      store:
        api: cd
        dataKey: uploadProfile.document
        subtype:
          mediaType: "" # mediaType : "image/jpeg"

  familyAccount:
    response: ""
    vertex:
      .Vertex: ""
      type: "10"
      uid: ""
      jwt: ""
      name:
        phoneNumber: .Global.phoneNumber
        userName: ""
        lastName: ""
        firstName: ""
        fullName: ""
        birth: ""
        # avatar: ""
        # rootBook: ""
    vertexAPI:
      .VertexAPI: ""
      store:
        api: cv
        dataIn: AddFamilyMember.familyAccount.vertex
        dataOut: AddFamilyMember.familyAccount.response
  components:
    - .BaseHeader:
    - .TipsOneLine:
      message: "Username has been used"
      style:
        zIndex: 1000
      viewTag: sameuserid
    - .TipsMultiLine:
      message: "family member's age should be under 18 or can register a new account in our application"
      style:
        zIndex: 1000
      viewTag: checkDate
    - .HeaderLeftButton:
    - .HeaderRightButton:
      text: Save
      onClick:
        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""
        - actionType: evalObject
          object:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..profile.document.name.data.basicInfo.firstName
                      string2: ""
                - actionType: popUp
                  popUpView: warningView
                  wait: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..profile.document.name.data.basicInfo.lastName
                      string2: ""
                - actionType: popUp
                  popUpView: warningView
                  wait: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..profile.document.name.data.basicInfo.userName
                      string2: ""
                - actionType: popUp
                  popUpView: warningView
                  wait: true
                - continue
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..profile.document.name.data.basicInfo.relation
                      string2: ""
                - actionType: popUp
                  popUpView: warningView
                  wait: true
                - continue
        - actionType: evalObject
          object:
            - =.builtIn.string.concat:
                dataIn:
                  - =..profile.document.name.data.basicInfo.firstName
                  - " "
                  - =..profile.document.name.data.basicInfo.middleName
                  - " "
                  - =..profile.document.name.data.basicInfo.lastName
                dataOut: AddFamilyMember.profile.document.name.data.basicInfo.fullName
        - actionType: evalObject
          object:
            - =.builtIn.string.concat:
                dataIn:
                  - "uid like '"
                  - =..profile.document.name.data.basicInfo.userName
                  - "%'"
                dataOut: AddFamilyMember.rvCondition
            - =..getVertex.vertexAPI.get: ""
            - if:
                - =..getVertex.response.vertex.0.id
                - actionType: popUp
                  popUpView: sameuserid
                  wait: true
                - continue
        - actionType: evalObject
          object:
            - if:
                - =.builtIn.date.checkUnder18:
                    dataIn:
                      date: =.AddFamilyMember.profile.document.name.data.basicInfo.dateOfBirth
                - continue
                - actionType: popUp
                  popUpView: checkDate
                  wait: true
        - actionType: evalObject
          object:
            - ..profile.document.name.data.basicInfo.showName@: =..profile.document.name.data.basicInfo.fullName
        - actionType: evalObject
          object:
            - .AddFamilyMember.familyAccount.vertex.name.firstName@: =.AddFamilyMember.profile.document.name.data.basicInfo.firstName
            - .AddFamilyMember.familyAccount.vertex.name.lastName@: =.AddFamilyMember.profile.document.name.data.basicInfo.lastName
            - .AddFamilyMember.familyAccount.vertex.name.userName@: =.AddFamilyMember.profile.document.name.data.basicInfo.userName
            - .AddFamilyMember.familyAccount.vertex.uid@: =.AddFamilyMember.profile.document.name.data.basicInfo.userName
            # - .AddFamilyMember.familyAccount.vertex.name.avatar@: =.AddFamilyMember.profile.document.name.data.basicInfo.avatar
            - .AddFamilyMember.familyAccount.vertex.name.fullName@: =.AddFamilyMember.profile.document.name.data.basicInfo.fullName
            - =.AddFamilyMember.familyAccount.vertexAPI.store: ""
            - .Global.createjwt.edge.bvid@: =.AddFamilyMember.familyAccount.response.data.vertex.id
            - =.Global.createjwt.edgeAPI.store: ""
        - actionType: evalObject
          object:
            - .Global.familyNotebookID@: =.AddFamilyMember.familyAccount.response.data.vertex.deat.rnb64ID
        - actionType: evalObject
          object:
            - .AddFamilyMember.generalInfo.document.name.data.firstName@: =.AddFamilyMember.profile.document.name.data.basicInfo.firstName
            - .AddFamilyMember.generalInfo.document.name.data.middleNameAndInitial@: =.AddFamilyMember.profile.document.name.data.basicInfo.middleName
            - .AddFamilyMember.generalInfo.document.name.data.lastName@: =.AddFamilyMember.profile.document.name.data.basicInfo.lastName
            - .AddFamilyMember.generalInfo.document.name.data.fullName@: =.AddFamilyMember.profile.document.name.data.basicInfo.fullName
            - .AddFamilyMember.generalInfo.document.name.data.dateOfBirth@: =.AddFamilyMember.profile.document.name.data.basicInfo.birth
            - .AddFamilyMember.generalInfo.document.name.data.preferredName@: =.AddFamilyMember.profile.document.name.data.basicInfo.userName
            - .AddFamilyMember.generalInfo.document.name.data.avatar@: =.AddFamilyMember.profile.document.name.data.basicInfo.avatar
            - .AddFamilyMember.generalInfo.document.eid@: =.Global.familyNotebookID
            - =.AddFamilyMember.generalInfo.docAPI.store: ""
            - =.builtIn.string.concat:
                dataIn:
                  - =..profile.document.name.data.basicInfo.firstName
                  - " "
                  - =..profile.document.name.data.basicInfo.middleName
                  - " "
                  - =..profile.document.name.data.basicInfo.lastName
                dataOut: AddFamilyMember.profile.document.name.data.basicInfo.fullName
            - .AddFamilyMember.profile.document.eid@: =.Global.familyNotebookID
            - =.AddFamilyMember.profile.docAPI.store: ""
        - actionType: evalObject
          object:
            .Global._nonce@:
              =.builtIn.math.random: ""
        - actionType: evalObject
          object:
            - .Global.createjwt.edge.bvid@: =.Global.currentUser.vertex.id
            - =.Global.createjwt.edgeAPI.store: ""
        - actionType: builtIn
          funcName: goBack
          reload: true
    - type: popUp
      viewTag: birthDay
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
        zIndex: "9"
      children:
        - .BaseComponents.calendar:
          children:
            - .BaseComponents.calendarHeader:
              children:
                - type: view
                  style:
                    marginTop: "0.024"
                    left: "0"
                    height: "0.035"
                    width: "0.9"
                  children:
                    - .BaseComponents.newMonthView:
                    - .BaseComponents.newYearView:
                - .BaseComponents.newdevider:
                - .BaseComponents.weekView:
            - .BaseComponents.dayView:
            - .BaseComponents.addButton:
              text: "Select"
              onClick:
                - actionType: evalObject
                  object:
                    - ..profile.document.name.data.basicInfo.dateOfBirth@: =.BaseComponents.calendarDate.todayDate
                - actionType: builtIn
                  funcName: redraw
                  viewTag: birthTag
                - actionType: popUpDismiss
                  popUpView: birthDay
    - type: scrollView
      style:
        top: "0.1"
        height: "0.9"
        width: "1"
        left: "0"
        overflow: scroll
      children:
        - .ProfileTitleView:
          style:
            marginTop: "0"
          children:
            - .ProfileTitleText:
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.14"
            marginTop: "0"
          children:
            - .profileContentLeft:
              style:
                height: "0.14"
                textAlign:
                  y: center
            - .profilePhoto:
              path: ava.png
              path=func: =.builtIn.utils.prepareDocToPath
              dataKey: AddFamilyMember.profile.document.name.data.basicInfo.avatar
              viewTag: avatar
              contentType: file
              onClick:
                - actionType: openPhotoLibrary
                  dataObject: BLOB
                  dataKey: AddFamilyMember.avatar.document.name.data

                - actionType: evalObject
                  object:
                    - if:
                        - =.builtIn.math.lessthanSize:
                            dataIn:
                              object: =..avatar.document.name.data # obejct
                              key: 2 #mb
                        - ..formData.flag@: false
                        - actionType: evalObject
                          object:
                            - =.builtIn.utils.getFileSize:
                                dataIn:
                                  object: =..avatar.document.name.data
                                  units: mb
                                dataOut: AddFamilyMember.formData.fileSize
                            - =.builtIn.string.concat:
                                dataIn:
                                  - "Your file size:"
                                  - =..formData.fileSize
                                  - "Mb"
                                dataOut: Global.formData.fileSize
                            - ..formData.flag@: true
                - actionType: builtIn
                  funcName: redraw
                  viewTag: overSize
                - actionType: evalObject
                  object:
                    - if:
                        - =..formData.flag
                        - actionType: popUp
                          popUpView: overSize
                          wait: true
                        - continue

                - actionType: evalObject
                  object:
                    - =..avatar.docAPI.store: ""
                - actionType: evalObject
                  object:
                    - ..profile.document.name.data.basicInfo.avatar@: =..avatar.resp.doc.id
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: builtIn
                  funcName: redraw
                  viewTag: avatar
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "First Name"
            - type: label
              text: "*"
              style:
                top: "0.008"
                left: "0.26"
                color: "0xff0000"
            - .profileTextFile:
              style:
                top: "0"
              dataKey: profile.document.name.data.basicInfo.firstName
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Middle Name"
            - .profileTextFile:
              style:
                top: "0"
              dataKey: profile.document.name.data.basicInfo.middleName
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "Last Name"
              style:
                height: "0.04"
                textAlign:
                  y: center
            - type: label
              text: "*"
              style:
                top: "0.008"
                left: "0.26"
                color: "0xff0000"
            - .profileTextFile:
              dataKey: profile.document.name.data.basicInfo.lastName
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "Date of Birth"
              style:
                height: "0.04"
                textAlign:
                  y: center
            - .profileTextFile:
              viewTag: birthTag
              onClick:
                - actionType: builtIn
                  funcName: hide
                  viewTag: locationTag
                - actionType: popUp
                  popUpView: birthDay
              dataKey: profile.document.name.data.basicInfo.dateOfBirth
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "User Name"
              style:
                height: "0.04"
                textAlign:
                  y: center
            - type: label
              text: "*"
              style:
                top: "0.008"
                left: "0.27"
                color: "0xff0000"
            - .profileTextFile:
              isEditable: "true"
              dataKey: profile.document.name.data.basicInfo.userName
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "Gender"
              style:
                height: "0.04"
                textAlign:
                  y: center
                top: "0"
            - type: view
              style:
                top: "0"
                width: "0.5"
                left: "0.5"
                height: "0.04"
              children:
                - type: image
                  viewTag: genderTag
                  path:
                    emit:
                      actions:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: "Male"
                                  string2: =..profile.document.name.data.basicInfo.gender
                            - selectBlueOn.svg
                            - selectOff.svg
                  onClick:
                    - emit:
                        actions:
                          - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: "Male"
                                    string2: =..profile.document.name.data.basicInfo.gender
                              - =.builtIn.object.set:
                                  dataIn:
                                    object: =..profile.document.name.data.basicInfo
                                    key: gender
                                    value: ""
                              - =.builtIn.object.set:
                                  dataIn:
                                    object: =..profile.document.name.data.basicInfo
                                    key: gender
                                    value: "Male"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: genderTag
                  style:
                    top: "0.0075"
                    left: "0"
                    height: "0.025"
                    width: "0.042"
                - type: label
                  text: "Male"
                  style:
                    top: "0"
                    width: "0.1"
                    height: "0.04"
                    left: "0.06"
                    fontWeight: "600"
                    fontSize: "14"
                    textAlign:
                      x: left
                      y: center
                - type: image
                  viewTag: genderTag
                  path:
                    emit:
                      actions:
                        - if:
                            - =.builtIn.string.equal:
                                dataIn:
                                  string1: "Female"
                                  string2: =..profile.document.name.data.basicInfo.gender
                            - selectBlueOn.svg
                            - selectOff.svg
                  onClick:
                    - emit:
                        actions:
                          - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: "Female"
                                    string2: =..profile.document.name.data.basicInfo.gender
                              - =.builtIn.object.set:
                                  dataIn:
                                    object: =..profile.document.name.data.basicInfo
                                    key: gender
                                    value: ""
                              - =.builtIn.object.set:
                                  dataIn:
                                    object: =..profile.document.name.data.basicInfo
                                    key: gender
                                    value: "Female"
                    - actionType: builtIn
                      funcName: redraw
                      viewTag: genderTag
                  style:
                    left: "0.23"
                    height: "0.025"
                    width: "0.04"
                    top: "0.0075"
                - type: label
                  text: "Female"
                  style:
                    top: "0"
                    width: "0.16"
                    height: "0.04"
                    left: "0.29"
                    fontWeight: "600"
                    fontSize: "14"
                    textAlign:
                      x: left
                      y: center
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "Relationship"
              style:
                height: "0.04"
                textAlign:
                  y: center
            - type: label
              text: "*"
              style:
                top: "0.008"
                left: "0.29"
                color: "0xff0000"
            - .profileTextFile:
              placeholder: "Son/Daughter"
              dataKey: profile.document.name.data.basicInfo.relation
              style:
                top: "0"

        - .ProfileTitleView:
          style:
            marginTop: "0"
          children:
            - .ProfileTitleText:
              text: "Contact"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Phone Number"
            - .profileTextFile:
              isEditable: "false"
              dataKey: profile.document.name.data.basicInfo.phone
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Alternative Number"
            - .profileTextFile:
              isEditable: "true"
              dataKey: profile.document.name.data.contactInfo.alternatePhone.fullPhone
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Email"
            - .profileTextFile:
              style:
                top: "0"
              dataKey: profile.document.name.data.contactInfo.email
              placeholder: xxx@xxx.com
        - type: view
          viewTag: ContentTag
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              text: "Address"
              style:
                height: "0.04"
                textAlign:
                  y: center
            - .profileTextFile:
              placeholder: address
              dataKey: profile.document.name.data.contactInfo.address.fullAddress
              style:
                top: "0"
              onInput:
                - actionType: evalObject
                  object:
                    - .AddFamilyMember.suggestAddress@: []
                    - =.builtIn.search.suggestAddress:
                        dataIn:
                          # headQuery: =.SuggestAddressDM.headQuery
                          query: =..profile.document.name.data.contactInfo.address.fullAddress
                          # endQuery: =.SuggestAddressDM.endQuery
                        dataOut: AddFamilyMember.suggestAddress
                - actionType: builtIn
                  funcName: redraw
                  viewTag: locationTag
                - actionType: builtIn
                  funcName: redraw
                  viewTag: adressListTag
                - actionType: builtIn
                  funcName: show
                  viewTag: locationTag
        - type: view
          viewTag: ContentTag
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileTextFile:
              placeholder: Street
              dataKey: profile.document.name.data.contactInfo.address.secondLine
              style:
                top: "0"
                width: "0.9"
                left: "0.05"
        - type: view
          viewTag: ContentTag
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileTextFile:
              placeholder: City
              dataKey: profile.document.name.data.contactInfo.address.city
              style:
                top: "0"
                width: "0.31"
                left: "0.05"
            - .profileTextFile:
              placeholder: State
              dataKey: profile.document.name.data.contactInfo.address.state
              style:
                top: "0"
                width: "0.26"
                left: "0.37"
            - .profileTextFile:
              placeholder: Zip code
              dataKey: profile.document.name.data.contactInfo.address.zipCode
              style:
                top: "0"
                width: "0.31"
                left: "0.64"
        - .ProfileTitleView:
          style:
            marginTop: "0.01"
          children:
            - .ProfileTitleText:
              text: "Emergency Contact"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Name"
            - .profileTextFile:
              placeholder: "Enter here"
              dataKey: profile.document.name.data.emergencyContact.fullName
              style:
                top: "0"
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.04"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Relation"
            - .profileTextFile:
              style:
                top: "0"
              dataKey: profile.document.name.data.emergencyContact.relation
        - type: view
          style:
            left: "0"
            width: "1"
            height: "0.08"
            marginTop: "0.01"
          children:
            - .profileContentLeft:
              style:
                height: "0.04"
                textAlign:
                  y: center
              text: "Phone Number"
            - .profileTextFile:
              style:
                top: "0"
              dataKey: profile.document.name.data.emergencyContact.phone.fullPhone
        - type: view
          viewTag: locationTag
          style:
            left: "0"
            width: "1"
            height: "0.3"
            top: "0.66"
            isHidden: "true"
            # display: none
          children:
            - type: list
              viewTag: locationTag
              contentType: listObject
              listObject: ..suggestAddress
              iteratorVar: itemObject
              # onFocus:
              #   - actionType: builtIn
              #     funcName: hide
              #     viewTag: locationTag
              # scrollable: false
              style:
                width: "0.9"
                left: "0.05"
                height: "auto"
                # top: "0"
                # isHidden: "true"
                # display: none
                marginTop: "0"
                margin: "0"
                zIndex: "9"
                backgroundColor: "0xffffff"
                overflow: "scroll"
                border:
                  style: 3
              children:
                - type: listItem
                  itemObject: ""
                  style:
                    backgroundColor: "0xffffff"
                    width: "3.2"
                    height: "0.03"
                    marginTop: "0"
                    left: "0"
                    border:
                      style: 3
                    borderColor: "#909090"
                    borderWidth: "1"
                  children:
                    - type: label
                      dataKey: itemObject.place_name
                      style:
                        height: "0.03"

                        color: "0x143459"
                        left: "0"
                        width: "3.2"
                      onClick:
                        - emit:
                            dataKey:
                              var: itemObject
                            actions:
                              - =.builtIn.string.getAddress:
                                  dataIn:
                                    object: $var
                                  dataOut: AddFamilyMember.formData.address
                              - ..profile.document.name.data.contactInfo.address.secondLine@: =..formData.address.SecondLine
                              - ..profile.document.name.data.contactInfo.address.city@: =..formData.address.city
                              - ..profile.document.name.data.contactInfo.address.state@: =..formData.address.state
                              - ..profile.document.name.data.contactInfo.address.zipCode@: =..formData.address.zipCode
                              - ..profile.document.name.data.contactInfo.address.fullAddress@: =..formData.address.location
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: ContentTag
                        - actionType: builtIn
                          funcName: hide
                          viewTag: locationTag
            - type: image
              viewTag: locationTag
              path: suggestOff.png
              style:
                height: "0.035"
                left: "0.88"
                isHidden: true
                display: none
                top: "0"
                # marginTop: "0"
                zIndex: "200000"
              onClick:
                - actionType: builtIn
                  funcName: hide
                  viewTag: locationTag
            # - .ProfileTitleView: 保险内容暂时注释
            #   style:
            #     top: "0.94"
            #   children:
            #     - .ProfileTitleText:
            #       text: "INSURANCE"
            # - type: view
            #   style:
            #     width: "1"
            #     height: "0.64"
            #     top: "0.98"
            #   children:
            #     - type: view
            #       style:
            #         backgroundColor: "#E2E2E2"
            #         height: "0.58"
            #         width: "0.9"
            #         left: "0.05"
            #         top: '0.03'
            #         borderRadius: "25px"
            #       children:
            #         - type: label
            #           text: Medical insurance
            #           style:
            #             fontSize: "15"
            #
            #             border:
            #               style: "2"
            #             borderColor: "#70707086"
            #             width: "0.4"
            #             # top: "0.04"
            #             textAlign:
            #               x: center
            #               y: center
            #             left: "0.03"
            #             height: "0.05"
            #             borderWidth: "1.9"
            #         - type: view
            #           style:
            #             width: "0.084"
            #             height: "0.12"
            #             top: '0.07'
            #             left: '0.03'
            #           children:
            #             - type: label
            #               text: Insurance provider
            #               style:
            #                 height: "0.04"
            #                 width: "0.41"
            #                 top: "0"
            #                 left: "0"
            #             - type: textField
            #               dataKey: profile.document.name.data.basicInfo.insurance.insuranceProvider
            #               style:
            #                 height: "0.04"
            #                 width: "0.41"
            #                 top: "0"
            #                 left: "0.42"
            #                 backgroundColor: '#FFFFFF'
    - .BaseoverSize:
    - .TipsMultiLine:
      viewTag: warningView
      message: "Please complete required fields"
