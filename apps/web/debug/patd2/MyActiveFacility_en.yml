MyActiveFacility:
  title: "My Health Network"
  init:
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - ..connections.docAPI.get
    - ..formData.FacilityList@: =..connections.connectionList.doc
    - .Global.scheduleType@: thoughFacility
  providerId: ""
  connections:
    connectionList: ""
    docQueryReq:
      ObjType: 28
      id: .Global.currentUser.vertex.id
      xfname: E.bvid|E.evid
      type: 271361
      _nonce: =.Global._nonce
      sCondition: E.type=10002 AND V.type=20
      sfname: '{"join":"INNER JOIN Vertex V ON D.ovid=V.id INNER JOIN Edge E ON E.bvid=V.id OR E.evid=V.id","result":"D.*"}'
    docAPI:
      get:
        api: rd
        dataIn: MyActiveFacility.connections.docQueryReq
        dataOut: MyActiveFacility.connections.connectionList
  formData:
    FacilityList: []
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
      style:
        backgroundColor: "0x2988e6"
    - type: image
      path: addContacts.svg
      onClick:
        - goto: AddHealthNetWork
      style:
        top: "0.04"
        left: "0.84"
        width: "0.09"
        zIndex: 100
    - type: view
      style:
        top: "0.1"
        width: "1"
        height: "0.08"
        backgroundColor: "0x2988e6"
      children:
        - .SearchField:
          placeholder: "Search"
          style:
            left: "0.04"
            top: "0.01"
            backgroundColor: "0xffffff"
            fontSize: .Nfont.h2
            textAlign:
              x: center
        - type: image
          path: search.svg
          style:
            top: "0.025"
            left: "0.35"
            height: "0.025"
    - type: view
      style:
        top: "0.18"
        left: "0"
        width: "1"
        height: "0.82"
      children:
        - type: view
          style:
            height: "0.05"
            width: "1"
            top: "0"
            border:
              style: "2"
            borderWidth: "1"
            borderColor: "0xf0f0f0"
          children:
            - type: label
              text: "Provider"
              onClick:
                goto: MyActiveProvider
              style:
                height: "0.03"
                width: "0.3"
                left: "0.15"
                color: "0x2988e6"
                top: "0.02"
                fontSize: .Nfont.h2
                textAlign:
                  x: center
            - type: label
              text: "Medical Facility"
              onClick:
                goto: MyActiveFacility
              style:
                height: "0.03"
                width: "0.4"
                left: "0.5"
                fontSize: .Nfont.h2
                textAlign:
                  x: center
                color: "0x2988e6"
                border:
                  style: "2"
                borderColor: "0x2988e6"
                top: "0.02"
        - type: label
          contentType: messageHidden
          text: "No contacts added"
          style:
            left: "0.32"
            top: "0.02"
            width: "0.6"
            height: "0.04"
            fontSize: "18"
            isHidden: "true"
        # changed Scroll to ScrollView
        - type: scrollView
          style:
            top: "0.06"
            left: "0"
            width: "1"
            height: "0.76"
            overflow: "scroll"
            backgroundColor: "#ffffff"
          children:
            - type: list
              contentType: listObject
              listObject: ..formData.FacilityList
              iteratorVar: itemObject
              style:
                top: "0"
                left: "0"
                width: "1"
                height: "0.76"
                margin: "0"
              children:
                - type: listItem
                  itemObject: ""
                  style:
                    left: "0"
                    width: "1"
                    height: "0.1"
                    border:
                      style: "2"
                    borderWidth: "1"
                    borderColor: "0x00000011"
                  onClick:
                    - actionType: updateObject
                      dataKey: Global.currentFacility
                      dataObject: itemObject
                    - goto: ChooseProviders
                  children:
                    - type: image
                      path: ava.png
                      path=func: .builtIn.utils.prepareDocToPath
                      dataKey: itemObject.name.data.basicInfo.businessLogo
                      style:
                        top: "0.0275"
                        left: "0.08"
                        height: "0.045"
                        width: "0.1"
                        color: "0xffffff"
                        border:
                          style: "1"
                        textAlign:
                          x: center
                          y: center
                        zIndex: 100
                    - type: label
                      dataKey: itemObject.name.data.basicInfo.medicalFacilityName
                      style:
                        left: "0.23"
                        height: "0.04"
                        top: "0.03"
                        textAlign:
                          y: center
                        width: "0.7"

                        fontSize: "2.2vh"
                        zIndex: 100
