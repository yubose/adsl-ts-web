PifzerBioNTech2:
  pageNumber: "160"
  title: "Vaccine Forms"
  init: 
    - .SignInCheck

  #   - =..signature.docAPI.get: ""
  #   - =.builtIn.utils.prepareDoc:
  #       dataIn:
  #         doc: =..signature.docRes.doc.0
  #       dataOut: PifzerBioNTech2.signature.showDoc
  #   # - =..moderna.docAPI.get: ""
  # signature:
  #   showDoc: ""
  #   docRes: ""
  #   docReq:
  #     ids:
  #       - .Global.DocReference.document.id #moderna.id
  #       - .Global.roomInfo.edge.id
  #     xfname: fid,eid
  #     type: .DocType.DocumentSignature
  #   docAPI:
  #     get:
  #       api: rd
  #       dataIn: PifzerBioNTech2.signature.docReq
  #       dataOut: PifzerBioNTech2.signature.docRes
  pifzerBioNTech:
    document: 
      .Global.Note: ""
    docAPI: 
      .DocAPI: ""
      get:
        api: rd
        dataKey: pifzerBioNTech.docResponse
        type: .DocType.PifzerBioNTech
        id: .Global.roomInfo.edge.id
        xfname: eid
        maxcount: "1"
        subtype:
          mediaType: "application/json" # mediaType : "image/jpeg"
    docResponse: 
      doc:
        - .Global.Note: ""
  gender:
    - key: gender
      value: Male
    - key: gender
      value: Female
  previousDose: 
    - key: previousDose
      value: "Yes"
    - key: previousDose
      value: "No"
  ingredient: 
    - key: ingredient
      value: "Yes"
    - key: ingredient
      value: "No"   
  consent: 
    - key: consent
      value1: "1"
      value2: "I GIVE CONSENT to CommonSpirit Health and its staff to vaccinate me with the COVID-19. You must electronically sign this consent to receive the COVID-19 Vaccine."
    - key: consent
      value1: "0"
      value2: "I DO NOT GIVE CONSENT to CommonSpirit Health and its staff to be vaccinated. "
  components:
    - .BaseHeader:
    - .HeaderLeftButton:  
    - type: scrollView
      style:
        left: "0"
        width: "1"
        top: "0.1"
        height: "0.9"
      children: 
        - type: label
          textBoard: 
            - text: PifzerBioNTech
            - br: 
            - text: COVID-19 Vaccine Consent Form
          style: 
            left: "0"
            width: "1"
            marginTop: "0.03"
            height: "auto"
            fontSize: "18"
            fontFamily: "sans-serif"
            textAlign: 
              x: center
        - type: label
          text: "Section 1: Personal Information (attach)"
          style: 
            left: "0.05"
            width: "0.9"
            marginTop: "0.03"
            height: "0.035"
            fontSize: "16.5"
            fontFamily: "Raleway"
            fontWeight: '600'
            textAlign: 
              x: left
        - type: view
          style: 
            left: "0.05"
            marginTop: "0.03"
            width: "0.95"
            height: "0.3"
          children: 
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                - .VaccineTextFieldNoEdit:
                  isEditable: false
                  dataKey: pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.firstName
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                  text: Middle name or initial
                - .VaccineTextFieldNoEdit:
                  dataKey: pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.middleName
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                  text: Last name
                - .VaccineTextFieldNoEdit:
                  dataKey: pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.lastName
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                  text: Date of birth
                - .VaccineTextFieldNoEdit:
                  dataKey: pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.birth
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                  text: phone number
                - .VaccineTextFieldNoEdit:
                  dataKey: pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.phoneNubmer
            - .VaccineTitleView: 
              children: 
                - .VaccineTitle:
                  text: Sex assigned at birth
                - type: list
                  contentType: listObject
                  listObject: ..gender
                  iteratorVar: itemObject
                  viewTag: sexView
                  style: 
                    margin: "0"
                    top: "0"
                    width: "0.42"
                    height: "0.035"
                    left: "0.44"
                    axis: horizontal
                  children: 
                    - type: listItem
                      itemObject: ""
                      style: 
                        left: "0"
                        height: "0.034"
                        width: "0.2"
                      children: 
                        - type: image
                          path: 
                            emit:
                              dataKey:
                                  var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..pifzerBioNTech.docResponse.doc.0.name.data.personalInfo.gender
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          style: 
                            left: "0"
                            height: "0.025"
                            top: "0.005"
                        - type: label
                          dataKey: itemObject.value
                          style: 
                            left: "0.06"
                            width: "0.14"
                            top: "0.004"
                            fontSize: "16"
        - type: label
          text: "Section 2: Screening for Vaccine Eligibility"
          style: 
            left: "0.05"
            width: "0.9"
            marginTop: "0.04"
            height: "0.035"
            fontSize: "16.5"
            fontFamily: "Raleway"
            fontWeight: '600'
            textAlign: 
              x: left
        - type: label
          text: "Please answer the following questions:"
          style: 
            left: "0.05"
            width: "0.9"
            marginTop: "0.01"
            height: "0.025"
            fontSize: "13"
            fontFamily: "Raleway"
            fontWeight: '600'
            textAlign: 
              x: center
        - type: view
          style: 
            left: "0.05"
            marginTop: "0.02"
            width: "0.95"
            height: "auto"
          children: 
            - type: view
              style: 
                marginTop: "0.01"
                height: "auto"
                width: "0.95"
                left: "0"
              children: 
                - type: label
                  text: Have you had a severe allergic reaction after receiving a previous dose of COVID-19 vaccine?
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.57"
                    height: "auto"
                    fontSize: "13.5"
                - type: list
                  contentType: listObject
                  listObject: ..previousDose
                  iteratorVar: itemObject
                  viewTag: previousDoseView
                  style: 
                    margin: "0"
                    top: "0.02"
                    width: "0.38"
                    height: "0.035"
                    left: "0.57"
                    axis: horizontal
                  children: 
                    - type: listItem
                      itemObject: ""
                      style: 
                        left: "0"
                        height: "0.034"
                        width: "0.19"
                      children: 
                        - type: image
                          path: 
                            emit:
                              dataKey:
                                  var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..pifzerBioNTech.docResponse.doc.0.name.data.question.previousDose
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          style: 
                            left: "0.01"
                            height: "0.025"
                            top: "0.005"
                        - type: label
                          dataKey: itemObject.value
                          style: 
                            left: "0.08"
                            width: "0.1"
                            top: "0.004"
                            fontSize: "16"
            - type: view
              style: 
                marginTop: "0.01"
                height: "auto"
                width: "0.95"
                left: "0"
              children: 
                - type: label
                  text: Have you had a severe allergic reaction to any ingredient in the Pfizer-BioNtech COVID-19 vaccine?
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.57"
                    height: "auto"
                    fontSize: "13.5"
                - type: list
                  contentType: listObject
                  listObject: ..ingredient
                  iteratorVar: itemObject
                  viewTag: ingredientView
                  style: 
                    margin: "0"
                    top: "0.02"
                    width: "0.38"
                    height: "0.035"
                    left: "0.57"
                    axis: horizontal
                  children: 
                    - type: listItem
                      itemObject: ""
                      style: 
                        left: "0"
                        height: "0.034"
                        width: "0.19"
                      children: 
                        - type: image
                          path: 
                            emit:
                              dataKey:
                                  var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..pifzerBioNTech.docResponse.doc.0.name.data.question.ingredient
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          style: 
                            left: "0.01"
                            height: "0.025"
                            top: "0.005"
                        - type: label
                          dataKey: itemObject.value
                          style: 
                            left: "0.08"
                            width: "0.1"
                            top: "0.004"
                            fontSize: "16"
            - type: view
              style: 
                marginTop: "0.04"
                height: "auto"
                width: "0.95"
                left: "0"
              children: 
                - type: label
                  text: "Components of the Pfizer-BioNTech COVID-19 vaccine: nucleoside modified messenger RNA (modRNA) encoding the viral spike (S) glycoprotein of SARS-CoV-2, sodium chloride, lipids, polyethylene glycol, potassium chloride, monobasic potassium phosphate, dibasic sodium phosphate dihydrate, and sucrose."
                  style:
                    marginTop: "0.01"
                    left: "0"
                    width: "0.9"
                    height: "auto"
                    fontSize: "13.5"
                    textAlign: 
                      x: left
        - type: label
          text: "Section 3: Consent for Vaccination"
          style: 
            left: "0.05"
            width: "0.9"
            height: "0.035"
            fontSize: "16.5"
            marginTop: "0.03"
            fontFamily: "Raleway"
            fontWeight: '600'
            textAlign: 
              x: left
        - type: view
          style: 
            left: "0.05"
            marginTop: "0"
            width: "0.95"
            height: "auto"
          children: 
            - .VaccineTextView:
              style:
                 height: "0.12"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: The Fact Sheet for Patients and Parents / Caregivers for the Pfizer-BioNTech COVID-19 Vaccine I am receiving (sometimes hereafter, the COVID-19 Vaccine) has been offered to me.
            - .VaccineTextView:
              # style: 
              #   top: "0.4"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I have read or had explained to me the Pfizer-BioNTech Fact Sheet for Patients and Parents / Caregivers for the COVID-19 Vaccine and I understand the risks and benefits. 
            - .VaccineTextView:
              # style: 
              #   top: "0.4"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I understand the COVID-19 Vaccine has been approved by an emergency use authorization (EUA) process and has not fully been FDA reviewed or approved.
            - .VaccineTextView:
              style: 
                height: "0.21"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I understand the potential risks from the therapy including serious allergic reactions (anaphylaxis). Other adverse reactions that have been reported include injection site pain, fatigue, headache, muscle pain, chills, joint pain, fever, injection site swelling, injection site redness, nausea, malaise, and lymphadenopathy.
            - .VaccineTextView:
              style: 
                height: "0.05"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I understand that there may be other potential options to prevent COVID-19. 
            - .VaccineTextView:
              style: 
                height: "0.05"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I was offered the opportunity to ask questions and all questions were answered. 
            - .VaccineTextView:
              style: 
                height: "0.05"
              children: 
                - .VaccineTextDot:
                - .VaccineText:
                  text: I agree to proceed with receiving the Pfizer-BioNTech COVID-19 Vaccine.
        - type: view
          style: 
            left: "0.05"
            marginTop: "0.05"
            width: "0.95"
            height: "0.25" 
          children: 
            - type: list
              contentType: listObject
              listObject: ..consent
              iteratorVar: itemObject
              viewTag: consentView
              style: 
                top: "0"
                width: "0.9"
                height: "auto"
                left: "0"
              children: 
                - type: listItem
                  itemObject: ""
                  style: 
                    left: "0"
                    height: "0.1"
                    width: "0.9"
                    marginTop: "0.02"
                  children: 
                    - type: image
                      path: 
                        emit:
                          dataKey:
                              var: itemObject
                          actions:                        
                            - if:
                              - =.builtIn.string.equal:
                                  dataIn:
                                    string1: =..pifzerBioNTech.docResponse.doc.0.name.data.question.consent
                                    string2: $var.value1
                              - selectOn.svg
                              - selectOff.svg
                      style: 
                        left: "0"
                        width: "0.05"
                        top: "0.004"
                    - type: label
                      dataKey: itemObject.value2
                      style: 
                        left: "0.07"
                        width: "0.83"
                        top: "0"
                        fontSize: "14"
                        textAlign: 
                          x: left
                        fontFamily: "Raleway"
                        height: "auto"
        - type: view
          style: 
            left: "0.05"
            marginTop: "0.03"
            width: "0.95"
            height: "auto"
          children: 
            - type: label
              text: Click on the signature box below to finger sign
              style: 
                marginTop: "0"
                width: "0.9"
                fontSize: "14"
                textAlign: 
                  x: center 
            - type: view
              style: 
                marginTop: "0.02"
                left: "0"
                width: "0.9"
                height: "0.13"
                border: 
                  style: "3"
                borderWidth: "1"
                borderColor: "0x707070"
              children: 
                # - type: ecosDoc
                #   ecosObj: ..signature.showDoc
                # # - type: image
                # #   path=func: .builtIn.utils.prepareDocToPath
                # #   dataKey: signature.docRes.doc.0.id
                #   style:
                #     height: "0.13"
                #     width: "0.9"
                #     overflow: scroll
                # 显示暂存的签名
                - type: image
                  viewTag: signatureShowTag
                  path=func: .builtIn.utils.prepareDocToPath
                  # 传入签名文档的id
                  dataKey: pifzerBioNTech.document.name.data.signature
                  style:
                    # 控制显示
                    display: "block"
                    height: "0.13"
                    width: "0.9"
                    overflow: scroll
            - type: view
              text: Signature of Recipient/Healthcare Proxy
              style: 
                left: "0"
                width: "0.9"
                marginTop: "0.02"
                height: "0.04"
                fontSize: "16"
                textAlign: 
                  x: center
        - type: view
          style: 
            left: "0.05"
            marginTop: "0.02"
            width: "0.95"
            height: "0.1"
          children: 
            - type: button
              text: Back
              onClick: 
                - goto: MedicalDocuments
              style: 
                left: "0.1"
                width: "0.7"
                top: "0"
                height: "0.05"
                fontSize: "16"
                fontFamily: "Raleway"
                color: "0xffffff"
                backgroundColor: "0x30b354"
                textAlign: 
                  x: center
                border: 
                  style: "3"
                borderColor: "0x30b354"
                borderWidth: "1"