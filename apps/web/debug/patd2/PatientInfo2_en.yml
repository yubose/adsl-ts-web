PatientInfo2:
  title: "Patient Info 2"
  init: #Page initialization
    - .SignInCheck

    - ..symptomProfile@: =.Global.formData.cov19Test.name.data.symptomProfile
  symptomProfile: 
    experience: []
  experienceSelect: 
    - key: fever
      value: Fever
    - key: muscieAches
      value: Muscle aches
    - key: cough
      value: Cough
    - key: nausea
      value: Nausea and vomiting
    - key: shortBreath
      value: Shortness of breath
    - key: diarrhea
      value: Diarrhea
    - key: soreThroat
      value: Sore throat
    - key: tiredness
      value: Tiredness,Fatigue
    - key: headache
      value: Headache
    - key: other
      value: "Other:"
    - key: none
      value: None
  selectYesOrNo:
    problem1:
      - key: problem1
        value: "Yes"
      - key: problem1
        value: "No"
    problem2:
      - key: problem2
        value: "Yes"
      - key: problem2
        value: "No"
    problem3:
      - key: problem3
        value: "Yes"
      - key: problem3
        value: "No"
    problem4:
      - key: problem4
        value: "Yes"
      - key: problem4
        value: "No"
    problem5:
      - key: problem5
        value: "Yes"
      - key: problem5
        value: "No" 
  components:
    - .BaseHeader:
    - .HeaderLeftButton:
      style:
        backgroundColor: "0x2988e6"    
    - type: scrollView 
      style: 
        height: "0.82"
        width: "1"
        top: "0.1"
        left: "0"
      children:
        - type: image
          path: patientInfo5_2.svg
          style:
            left: '0.07'
            marginTop: "0.02"
            height: "auto"
            width: "0.86"
        - type: label
          text: SYMPTOM PROFILE
          style:
            width: "0.86"
            left: '0.07'
            marginTop: "0.03"
            fontSize: "18"
            height: "0.04"
            fontWeight: "650"
            border:
              style: "2"
            borderColor: "#DEDEDF"
            borderWidth: "1"
        - type: label
          text: COVID-19 screening and/or diagnostic testing, authorized by the Food and Drug Administration under an Emergency Use Authorization (EUA), will be used today. This test is meant for use in individuals with signs and/or symptoms compatible with COVID-19. 
          style:
            marginTop: "0.02"
            left: "0.07"
            width: "0.86"
            fontSize: '14'
        - type: label
          text: "Please mark the symptoms you are currently experiencing (if any):"
          style:
            marginTop: '0.03'
            left: "0.07"
            width: "0.86"
            fontSize: "13"
            fontWeight: "600"
        - type: view
          style:
            width: '0.86'
            left: "0.07"
            marginTop: "0.01"
          children:
            - type: list
              androidGrid: true
              viewTag: experienceSelectTag
              contentType: listObject
              listObject: ..experienceSelect
              iteratorVar: itemObject
              style:
                width: '0.86'
                margin: '0'
                left: '0'
                height: auto
              children:
                - type: listItem
                  itemObject: 
                  style:
                    width: '0.43'
                    height: '0.04'
                    left: '0'
                    marginTop: '0'
                    display: "inline-block"
                  children:
                    - type: image
                      path: 
                        emit:
                          dataKey:
                            var: itemObject
                          actions:                        
                            - if:
                              - =.builtIn.array.has:
                                  dataIn:
                                    object: =..symptomProfile.experience
                                    value: $var.key
                              - selectOn.svg
                              - selectOff.svg
                      onClick:
                        - emit:
                            dataKey:
                              var: itemObject
                            actions: 
                              - if:
                                - =.builtIn.array.has:
                                    dataIn:
                                      object: =..symptomProfile.experience
                                      value: $var.key
                                - =.builtIn.array.removeByValue:
                                    dataIn:
                                      object: =..symptomProfile.experience
                                      value: $var.key
                                - =.builtIn.array.add:
                                    dataIn:
                                      object: =..symptomProfile.experience
                                      value: $var.key
                        - actionType: builtIn
                          funcName: redraw
                          viewTag: experienceSelectTag
                      style:
                        width: "0.04"
                        top: "0.003"
                    - type: label
                      dataKey: itemObject.value
                      style:
                        fontSize: '13'
                        left: "0.05"
                        top: "0"
        - type: textField
          # placeholder: Enter here
          # dataKey: symptomProfile.remark
          placeholder:
            emit:
              dataKey:
                var: itemObject
              actions:
                - =.builtIn.object.get:
                    dataIn:
                      object: =..symptomProfile
                      key: remark
          dataValue:
            emit:
              dataKey:
                var: itemObject
              actions:
                - =.builtIn.object.get:
                    dataIn:
                      object: =..symptomProfile
                      key: remark
          dataKey: itemObject.dataValue 
          onChange:
            emit:
              dataKey:
                var: itemObject # itemObject.value to the input field 
              actions:
              - =.builtIn.object.set:
                  dataIn:
                    object: =..symptomProfile
                    key: remark
                    value: $var.dataValue
          style:
            width: "0.86"
            left: "0.07"
            marginTop: "0.01"
            height: '0.04'
            borderColor: "#DEDEDF"
            border:
              style: "3"
        - type: view
          style:
            width: "0.86"
            left: "0.07"
            marginTop: '0.01'
          children:
            - type: label
              text: Do you live in a group home, assisted living center or other facility with more than 3 other people older than 60 years old?
              style:
                fontSize: "14"
                width: "0.86"
            - type: view
              style:
                width: "0.9"
                height: "0.04"
                marginTop: "0"
                left: "0"
              children:
                - type: list
                  contentType: listObject
                  listObject: ..selectYesOrNo.problem1
                  iteratorVar: itemObject
                  viewTag: problem1Tag
                  style:
                    marginTop: "0.02"
                    width: "0.9"
                    height: "0.02"
                    left: "0"
                    axis: horizontal
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        marginTop: "0"
                        left: "0"
                        width: "0.3"
                        height: "0.02"
                        backgroundColor: "0xffffffff"
                        # display: "inline-block"
                      children:
                        - type: image
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..symptomProfile.problem1
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions: 
                                  - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..symptomProfile.problem1
                                          string2: $var.value
                                    - =.builtIn.object.clear:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                    - =.builtIn.object.set:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                          value: $var.value
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: problem1Tag     
                          style:
                            height: "0.02"
                            # width: "0.042"
                            top: "0"
                            left: "0.05"
                        - type: label
                          dataKey: itemObject.value
                          style:
                            fontSize: "14"
                            top: "0"
                            height: "0.02"
                            left: "0.11" 
        - type: view
          style:
            width: "0.86"
            left: "0.07"
            marginTop: '0.02'
          children:
            - type: label
              text: Do you work in a hospital, long-term care facility or assisted living facility?
              style:
                fontSize: "14"
                height: "0.06"
                width: "0.86"
            - type: view
              style:
                width: "0.9"
                height: "0.04"
                marginTop: "0"
                left: "0"
              children:
                - type: list
                  contentType: listObject
                  listObject: ..selectYesOrNo.problem2
                  iteratorVar: itemObject
                  viewTag: problem2Tag
                  style:
                    marginTop: "0.02"
                    width: "0.9"
                    height: "0.02"
                    left: "0"
                    axis: horizontal
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        marginTop: "0"
                        left: "0"
                        width: "0.3"
                        height: "0.02"
                        backgroundColor: "0xffffffff"
                        # display: "inline-block"
                      children:
                        - type: image
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..symptomProfile.problem2
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions: 
                                  - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..symptomProfile.problem2
                                          string2: $var.value
                                    - =.builtIn.object.clear:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                    - =.builtIn.object.set:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                          value: $var.value
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: problem2Tag     
                          style:
                            height: "0.02"
                            # width: "0.042"
                            top: "0"
                            left: "0.05"
                        - type: label
                          dataKey: itemObject.value
                          style:
                            fontSize: "14"
                            top: "0"
                            height: "0.02"
                            left: "0.11"
        - type: view
          style:
            width: "0.86"
            left: "0.07"
            marginTop: '0.02'
          children:
            - type: label
              text: Have you traveled anywhere outside of California in the past 1 month?
              style:
                fontSize: "14"
                width: "0.86"
            - type: view
              style:
                width: "0.9"
                height: "0.04"
                marginTop: "0"
                left: "0"
              children:
                - type: list
                  contentType: listObject
                  listObject: ..selectYesOrNo.problem3
                  iteratorVar: itemObject
                  viewTag: problem3Tag
                  style:
                    marginTop: "0.02"
                    width: "0.9"
                    height: "0.02"
                    left: "0"
                    axis: horizontal
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        marginTop: "0"
                        left: "0"
                        width: "0.3"
                        height: "0.02"
                        backgroundColor: "0xffffffff"
                        # display: "inline-block"
                      children:
                        - type: image
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..symptomProfile.problem3
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions: 
                                  - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..symptomProfile.problem3
                                          string2: $var.value
                                    - =.builtIn.object.clear:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                    - =.builtIn.object.set:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                          value: $var.value
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: problem3Tag     
                          style:
                            height: "0.02"
                            # width: "0.042"
                            top: "0"
                            left: "0.05"
                        - type: label
                          dataKey: itemObject.value
                          style:
                            fontSize: "14"
                            top: "0"
                            height: "0.02"
                            left: "0.11"
        - type: view
          style:
            width: "0.86"
            left: "0.07"
            marginTop: '0.02'
          children:
            - type: label
              text: Have you been in KNOWN close contact (i.e. within 6 feet) with someone confirmed to have COVID-19?
              style:
                fontSize: "14"
                width: "0.86"
            - type: view
              style:
                width: "0.9"
                height: "0.04"
                marginTop: "0"
                left: "0"
              children:                
                - type: list
                  contentType: listObject
                  listObject: ..selectYesOrNo.problem4
                  iteratorVar: itemObject
                  viewTag: problem4Tag
                  style:
                    marginTop: "0.02"
                    width: "0.9"
                    height: "0.02"
                    left: "0"
                    axis: horizontal
                  children:
                    - type: listItem
                      itemObject: ""
                      style:
                        marginTop: "0"
                        left: "0"
                        width: "0.3"
                        height: "0.02"
                        backgroundColor: "0xffffffff"
                        # display: "inline-block"
                      children:
                        - type: image
                          path:
                            emit:
                              dataKey:
                                var: itemObject
                              actions:                        
                                - if:
                                  - =.builtIn.string.equal:
                                      dataIn:
                                        string1: =..symptomProfile.problem4
                                        string2: $var.value
                                  - selectOn.svg
                                  - selectOff.svg
                          onClick:
                            - emit:
                                dataKey:
                                  var: itemObject
                                actions: 
                                  - if:
                                    - =.builtIn.string.equal:
                                        dataIn:
                                          string1: =..symptomProfile.problem4
                                          string2: $var.value
                                    - =.builtIn.object.clear:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                    - =.builtIn.object.set:
                                        dataIn:
                                          object: =..symptomProfile
                                          key: $var.key
                                          value: $var.value
                            - actionType: builtIn
                              funcName: redraw
                              viewTag: problem4Tag     
                          style:
                            height: "0.02"
                            # width: "0.042"
                            top: "0"
                            left: "0.05"
                        - type: label
                          dataKey: itemObject.value
                          style:
                            fontSize: "14"
                            top: "0"
                            height: "0.02"
                            left: "0.11"   
    - type: button
      text: Next
      onClick:
        - actionType: evalObject
          object:
            - .Global.formData.cov19Test.name.data.symptomProfile@: =..symptomProfile
        - goto: PatientInfo3
      style:
        left: "0.11"
        width: "0.76"
        top: "0.93"
        height: "0.05"
        color: "0xffffff"
        border:
          style: "3"
        borderColor: "0x2988e6"
        backgroundColor: "0x2988e6"
        borderRadius: "3"
        textAlign:
          x: center
