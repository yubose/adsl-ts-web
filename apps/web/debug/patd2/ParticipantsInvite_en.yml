ParticipantsInvite:
  title: "Participants/Invite"
  pageNumber: ""
  init:
    - .SignInCheck

    - ..inviteInfo.edgeAPI.get
    - if:
        - .Global.middleInformation.PatientVisitInfo
        - actionType: evalObject
          object:
            - ..formData@: =.Global.middleInformation.PatientVisitInfo
        - continue
  save:
    - =.ParticipantsInvite.inviteInfo.edgeAPI.store: ""
  inviteInfo:
    inviteList: ""
    getRequest:
      type: .EdgeType.InviteInfo
      refid: .Global.roomInfo.edge.id
      bvid: .Global.currentUser.vertex.id
    edge:
      .Edge: ""
      type: .EdgeType.InviteInfo
      refid: .Global.roomInfo.edge.id
      bvid: .Global.currentUser.vertex.id
      name:
        phoneNumber: ""
        firstName: ""
        lastName: ""
        hostName: .Global.currentUser.vertex.name.userName
        roomName: .AppointmentLobby.dataObject.name.visitReason
        date: .AppointmentLobby.dataObject.stime
    edgeAPI:
      .EdgeAPI: ""
      store:
        api: ce
        dataKey: inviteInfo.edge
      get:
        api: re
        dataIn: inviteInfo.getRequest
        dataOut: inviteInfo.inviteList
  dataObject: .Global.roomInfo.edge
  formData:
    countryCode: "+1"
    phoneNumber: ""
    name: ""
    phone: ""
  Participants:
    - key: "Provider"
    - key: "Patient"
  MoreWays:
    - key: "myConnection.svg"
      value: "My Health Network"
      pageName: "ConnectionList"
  components:
    - .BasePublicHeader:
        children:
          - .BasePublicHeaderLeft:
          - .BasePublicHeaderTitle:
    - type: scrollView
      style:
        ..style.scrollBox:
      children:
        - type: view
          style:
            ..style.segmentationBox:
          children:
            - type: label
              text: Participants
              style:
                ..style.divisionTitle:
        - type: view
          style:
            ..style.blockBox:
          children:
            - type: label
              text: Provider
              style:
                ..style.Title:
            - type: label
              dataKey: dataObject.name.providerName
              style:
                ..style.value:
        - type: view
          style:
            ..style.blockBox:
          children:
            - type: label
              text: Patient
              style:
                ..style.Title:
            - type: label
              dataKey: dataObject.name.patientName
              style:
                ..style.value:
        - type: view
          style:
            ..style.segmentationBox:
            marginTop: "0.0123"
          children:
            - type: label
              text: Quickly Invite
              style:
                ..style.divisionTitle:
        - type: view
          style:
            ..style.publicBox:
          children:
            - type: view
              style:
                marginTop: "0.014"
                marginLeft: "0.04"
                display: inline-block
              children:
                - type: label
                  text: Country
                  style:
                    fontSize: .Nfont.h14
                    fontWeight: "400"
                - type: select
                  dataKey: formData.countryCode
                  options: .SelectINformationDM.countryCode
                  style:
                    fontSize: .Nfont.h14
                    width: "0.2"
                    marginTop: "0.01"
                    boxSizing: "border-box"
                    height: "0.054"
                    textIndent: "10px"
                    border:
                      style: "3"
                    borderColor: "0xDEDEDF"
                    borderWidth: "1.5"
                    borderRadius: "5"
            - type: view
              style:
                marginTop: "0.014"
                marginLeft: "0.027"
                display: inline-block
              children:
                - type: label
                  textBoard:
                    - text: Phone Number
                    - text: "&nbsp;*"
                      color: "0xff0000"
                  style:
                    fontSize: .Nfont.h14
                    fontWeight: "400"
                - type: textField
                  placeholder: "000-000-0000"
                  dataKey: formData.phoneNumber.1
                  style:
                    borderRadius: "5"
                    marginTop: "0.01"
                    width: "0.693"
                    height: "0.054"
                    border:
                      style: "3"
                    borderColor: "0xdededf"
                    borderWidth: "1.5"
                    boxSizing: "border-box"
                    textIndent: "10px"

                    fontSize: .Nfont.h14
                    fontWeight: "450"
            - type: view
              style:
                marginTop: "0.017"
                marginLeft: "0.04"
              children:
                - type: label
                  text: Name
                  style:
                    fontSize: .Nfont.h14
                    fontWeight: "400"
                - type: textField
                  dataKey: formData.name
                  placeholder: Enter here
                  style:
                    width: "0.92"
                    marginTop: "0.01"
                    height: "0.054"

                    fontSize: .Nfont.h14
                    textIndent: "10px"
                    borderRadius: "5"
                    borderWidth: "1.5"
                    border:
                      style: "3"
                    borderColor: "0xdededf"
            - type: button
              text: Invite
              onClick:
                - actionType: popUp
                  popUpView: confirmView
              style:
                left: "0.04"
                width: "0.92"
                marginTop: "0.024"
                height: "0.047"
                fontSize: .Nfont.h14
                fontWeight: "600"
                color: "0x5ea6ec"
                backgroundColor: "0xffffff"
                border:
                  style: "3"
                  color: "#2988e6"
                borderWidth: "1.5"
                borderRadius: "5"
                textAlign:
                  x: center
        - type: view
          style:
            ..style.segmentationBox:
            marginTop: "0.0369"
          children:
            - type: label
              text: More Ways to Invite
              style:
                ..style.divisionTitle:
        - type: list
          contentType: listObject
          listObject: ..MoreWays
          iteratorVar: itemObject
          style:
            width: "1"
            height: "0.26"
            margin: "0"
          children:
            - type: listItem
              onClick:
                emit:
                  dataKey:
                    var: itemObject
                  actions:
                    - if:
                        - true
                        - goto: $var.pageName
                        - goto: $var.pageName
              itemObject: ""
              style:
                width: "1"
                height: "auto"
                border: none
                borderBottom: "1px solid #dbdbdb"
                borderWidth: "1"
                paddingBottom: "0.0123"
                paddingTop: "0.0123"
                boxSizing: border-box
              children:
                - type: image
                  path:
                    emit:
                      dataKey:
                        var: itemObject
                      actions:
                        - if:
                            - =$var.key
                            - $var.key
                            - $var.key
                  style:
                    marginLeft: "0.04"
                    display: "inline-block"
                    verticalAlign: middle
                    width: "0.08"
                - type: label
                  dataKey: itemObject.value
                  style:
                    marginLeft: "0.032"
                    display: "inline-block"
                    verticalAlign: middle
                    wordBreak: break-word
                    width: "0.8"
                    fontSize: .Nfont.h16
                    color: "#333333"

    - type: popUp # view
      viewTag: confirmView
      style:
        left: "0"
        top: "0"
        width: "1"
        height: "1"
        backgroundColor: "0x00000066"
      children:
        - type: view
          style:
            left: "0.1"
            top: "0.4"
            width: "0.8"
            height: "0.3"
            backgroundColor: "0xe9e9e9ff"
            border:
              style: "5"
            borderRadius: "15"
          children:
            - type: label
              text: "Send Invite Link"
              style:
                left: "0"
                top: "0.04"
                width: "0.8"
                height: "0.027247"
                color: "0x000000"
                fontSize: "20"
                fontWeight: 500
                display: inline
                textAlign:
                  x: center
            - type: label
              text: "Send invite link to"
              style:
                left: "0"
                top: "0.1"
                width: "0.8"
                height: "0.04"
                color: "0x000000"
                fontSize: "14"
                display: inline
                textAlign:
                  x: center
            - type: label
              dataKey: formData.name
              style:
                left: "0.02"
                top: "0.15"
                width: "0.3"
                height: "0.027247"
                color: "0x000000"
                fontSize: "14"
                display: inline
                textAlign:
                  x: right
            - type: label
              dataKey: formData.phoneNumber.1
              style:
                left: "0.38"
                top: "0.15"
                width: "0.3"
                # backgroundColor: "0xdfafaf"
                height: "0.027247"
                color: "0x000000"
                fontSize: "14"
                display: inline
                textAlign:
                  x: left
            - type: divider
              style:
                .DividerStyle:
                  left: "0"
                  top: "0.22"
                  width: "0.795"
                  height: "0.001"
                  backgroundColor: "0x00000088"
            - type: button
              onClick:
                - actionType: popUpDismiss
                  popUpView: confirmView
              text: Cancel
              style:
                left: "0.01"
                top: "0.24"
                width: "0.38"
                height: "0.05"
                color: "0x007affff"
                backgroundColor: "0xe9e9e9"
                fontSize: "17"
                display: inline
                border:
                  style: 1
                textAlign:
                  x: center
            - type: button
              onClick:
                - actionType: evalObject
                  object: ..save
                - actionType: evalObject
                  object:
                    .Global._nonce@:
                      =.builtIn.math.random: ""
                - actionType: evalObject
                  object:
                    - .Global.contact.document.name.data.phoneNumber@: =..inviteInfo.edge.name.phoneNumber
                    - .Global.contact.document.name.data.firstName@: =..inviteInfo.edge.name.firstName
                    - .Global.contact.document.name.data.lastName@: =..inviteInfo.edge.name.lastName
                - actionType: builtIn
                  funcName: goBack
              text: Confirm
              style:
                left: "0.4"
                top: "0.24"
                width: "0.38"
                height: "0.05"
                color: "0x007affff"
                fontSize: "17"
                display: inline
                backgroundColor: "0xe9e9e9"
                borderRadius: 10
                border:
                  style: 1
                textAlign:
                  x: center
            - type: divider
              style:
                .DividerStyle:
                  left: "0.4"
                  top: "0.22"
                  width: "0.001"
                  height: "0.065"
                  backgroundColor: "0x00000088"

  style:
    scrollBox:
      width: "1"
      height: "0.94"
      boxSizing: "border-box"
      overflow: "scroll"

    segmentationBox:
      width: "1"
      height: "0.05"
      backgroundColor: "0xf0f0f0"
    divisionTitle:
      marginLeft: "0.04"
      color: "0x666666"
      height: "auto"
      width: "auto"
      lineHeight: 5vh
      fontSize: .Nfont.h14
      fontWeight: "700"
    publicBox:
      width: "auto"
      height: "auto"
      overflow: hidden
    blockBox:
      ..style.publicBox:
      marginTop: "0.0123"
      marginLeft: "0.04"
      width: "0.92"
    Title:
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.46"
      fontWeight: "600"
    value:
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.46"
      textAlign:
        x: right
