ShowAttachment:
  title: "Attachment"
  init: #Page initialization
    - .SignInCheck
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""
    - ..apiRequest.attachment.docAPI.get
    - =.builtIn.utils.prepareDoc:
        dataIn:
          doc: =..apiRequest.attachment.docQueryResp.doc.0
        dataOut: ShowAttachment.apiRequest.attachment.showDocument
  formData: #Input data here
  formDataTemp: #Input data temp here, datatemp should not mix with formData
  apiRequest: #Input data request here
    attachment:
      showDocument: ""
      docQueryResp: ""
      docQueryReq:
        _nonce: =.Global._nonce
        id: .Global.showAttachment.id
      docAPI:
        get:
          api: rd
          dataIn: ShowAttachment.apiRequest.attachment.docQueryReq
          dataOut: ShowAttachment.apiRequest.attachment.docQueryResp
  style: #Input style fragment here
  components:
    - .BaseHeader:
      children:
        - type: button
          text: =..title
          style:
            left: "0.2"
            width: "0.6"
            fontWeight: 300
            height: "0.1"
            fontSize: .Nfont.h3
            color: "0xffffffff"
            textOverflow: ellipsis
            whiteSpace: nowrap
            overflow: hidden
            textAlign:
              x: center
            backgroundColor: "0x2988e6ff"
            border:
              style: "1"
    - .HeaderLeftImg:
      onClick:
        - actionType: builtIn
          funcName: goBack
          reload: true
      path: whiteLeft.svg
    - type: image
      path: download.svg
      style:
        left: "0.85"
        height: "0.036"
        top: "0.032"
        zIndex: "100"
      onClick:
        - actionType: evalObject
          object:
            - =.builtIn.EcosObj.download:
                dataIn:
                  ecosObj: =.ShowAttachment.apiRequest.attachment.showDocument
    - type: textView
      dataKey: Global.showAttachment.name.title
      isEditable: false
      style:
        width: "0.8"
        left: "0.1"
        top: "0.11"
        height: "0.08"
        fontSize: .Nfont.h2

        border:
          style: "5"
          width: "1"
        textAlign:
          x: center
          y: center
    - type: view
      style:
        width: "1"
        # left: "0.1"
        top: "0.2"
        textAlign:
          x: center
          y: center
      children:
        - type: image
          path: null.png
          path=func: =.builtIn.utils.prepareDocToPath
          dataKey: Global.showAttachment.id
          style:
            width: "0.6"
            height: "0.8"
            margin: auto
