ModernaVaccineFirDoseEditPage4:
  title: "Moderna Vaccine Form - First Dose"
  init:
    - .SignInCheck
    # 获取facility name
    - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.facilityName@: =.Global.currentFacility.name.data.basicInfo.medicalFacilityName

    # 判断是否签名
    - if:
        - =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherSignature
        - continue
        # 非空修改显示的标识,刷新签名区域
        - actionType: evalObject
          object:
            # 签名的时间
            - ..formData.signatureTime@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signatureTime
            # 签名的id
            - ..formData.temporarySignature@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signaturePfizerVaccine
            - ..formData.flag@: "block"
    # 判断是否Name of Recipient/Healthcare Proxy存在
    - actionType: evalObject
      object:
        - if:
            - =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.recipientName
            - ..formData.recipientName@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.recipientName
            - continue
    # 判断是否同意
    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.isAgree
                  string2: ""
            - continue
            - ..formData.consent@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.isAgree
  formData:
    doc: ""
    consent: ""
    recipientName: ""
    # 获取暂存的签名的id
    temporarySignature: ""
    # 签名的显示,默认为none
    flag: "none"
    # 是否签名 true 表示未签 false 表示已签
    whetherSignature: ""
    signatureTime: ""
  formDataTemp:
    checkBoxTemp:
      - key: consent
        value: "1"
        text1: "I GIVE CONSENT to&nbsp;"
        text2: "&nbsp;to vaccinate me with the COVID-19. You must electronically sign this consent to receive the COVID-19 Vaccine."
      - key: consent
        value: "0"
        text1: "I DO NOT GIVE CONSENT to&nbsp;"
        text2: "&nbsp;to be vaccinated."
  apiRequest:
    modernaVaccineFirDoseForm:
      docReq: ""
      docRes: ""
      docAPI:
        store:
          api: cd
          dataIn: ModernaVaccineFirDoseEditPage4.apiRequest.modernaVaccineFirDoseForm.docReq
          dataOut: ModernaVaccineFirDoseEditPage4.apiRequest.modernaVaccineFirDoseForm.docRes
    newSign:
      docRes: ""
      docReq: #DOC
        type: .DocType.Signature1
        eid: .Global.rootNotebookID
        reid: .Global.formData.modernaVaccineFirDoseForm.id
        name:
          title: ""
          type: ..apiRequest.newSign.docReq.subtype.mediaType
          data: ""
        subtype:
          mediaType: ""
      docAPI: # DOCAPI
        store:
          api: cd
          dataIn: ModernaVaccineFirDoseEditPage4.apiRequest.newSign.docReq
          dataOut: ModernaVaccineFirDoseEditPage4.apiRequest.newSign.docRes

  components:
    - type: view
      style:
        ..style.formatting:
      children:
        - .BasePublicHeader:
          children:
            - type: view
              style:
                ..style.backLeft:
              children:
                - type: image
                  path: arrowLeftgrey.svg
                  style:
                    ..style.backLeftImg:
                  onClick:
                    - ..event.publicClick
                    - ..event.backClick
            - .BasePublicHeaderTitle:
              style:
                fontSize: .Nfont.h14
        - type: view
          style:
            ..style.bodyBox:
          children:
            - type: view
              style:
                ..style.viewBox:
              children:
                - type: view
                  style:
                    ..style.titleBox:
                  children:
                    - type: label
                      text: Moderna COVID-19 Vaccine Consent Form
                      dataKey:
                      style:
                        ..style.titlelabel:
                    - type: label
                      text: "4&nbsp;/&nbsp;4"
                      dataKey:
                      style:
                        ..style.pageNum:
            - type: scrollView
              style:
                ..style.scrollBox:
              children:
                - type: label
                  text: "2. Consent For Vaccination"
                  dataKey:
                  style:
                    ..style.secondLabel:
                - type: label
                  text: "Please Carefully Read The Following Informed Consent:"
                  dataKey:
                  style:
                    ..style.secondLabel:
                - type: label
                  textBoard:
                    - text: a. The Fact Sheet for Patients and Parents/Caregivers for the Moderna  COVID-19 Vaccine I am receiving (sometimes hereafter, the COVID-19 Vaccine) has been offered to me.
                    - br:
                    - br:
                    - text: b. I have read or had explained to me the Moderna  Fact Sheet for Patients and Parents/Caregivers for the COVID-19 Vaccine and I understand the risks and benefits.
                    - br:
                    - br:
                    - text: c. I understand the COVID-19 Vaccine has been approved by an emergency use authorization (EUA) process and has not fully been FDA reviewed or approved.
                    - br:
                    - br:
                    - text: d. I understand the potential risks from the therapy including serious allergic reactions (anaphylaxis). Other adverse reactions that have been reported include injection site pain, fatigue, headache, muscle pain, chills, joint pain, fever, injection site swelling, injection site redness, nausea, malaise, and lymphadenopathy.
                    - br:
                    - br:
                    - text: e. I understand that there may be other potential options to prevent COVID-19.
                    - br:
                    - br:
                    - text: f. I was offered the opportunity to ask questions and all questions were answered.
                    - br:
                    - br:
                    - text: g. I agree to proceed with receiving the Moderna COVID-19 Vaccine.
                    - br:
                  style:
                    ..style.text:

                - type: list
                  viewTag: checkedView
                  contentType: listObject
                  listObject: ..formDataTemp.checkBoxTemp
                  iteratorVar: itemObject
                  style:
                    ..style.list:
                  children:
                    - type: listItem
                      itemObject:
                      style:
                        ..style.checkItem:
                      children:
                        - type: image
                          style:
                            ..style.itemImg:
                          path:
                            ..event.checkBox:
                          onClick:
                            - ..event.checkBoxClick
                        - type: label
                          textBoard:
                            - text:
                              dataKey: itemObject.text1
                            - text: ""
                              dataKey: Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.facilityName

                            - text: ""
                              dataKey: itemObject.text2
                          style:
                            ..style.itemValue:
                - type: label
                  text: "Name Of Recipient/Healthcare Proxy"
                  dataKey:
                  style:
                    ..style.secondLabel:
                    marginTop: "0.0197"
                - type: textField
                  placeholder: Enter here
                  dataKey: formData.recipientName
                  style:
                    ..style.blockInput:
                - type: label
                  text: "Signature"
                  dataKey:
                  style:
                    ..style.secondLabel:

                - type: view
                  style:
                    ..style.blockBox:
                  children:
                    - type: label
                      text: Click on the signature box below to finger sign
                      dataKey:
                      style:
                        ..style.signTips:
                    - type: label
                      text: Clear
                      dataKey:
                      style:
                        ..style.signClear:
                      onClick:
                        - ..event.signReset

                - type: view
                  style:
                    marginTop: "0.01"
                    height: "0.128"
                    width: "0.9"
                    border:
                      style: "4"
                      color: "0xa9a9a9"
                    borderWidth: "2"
                  children:
                    - type: label
                      text: X
                      style:
                        .SignLabelStyle:
                    - type: canvas
                      dataKey: ModernaVaccineFirDoseEditPage4.apiRequest.newSign.docReq.name.data
                      viewTag: signatureTag
                      style:
                        left: "0"
                        width: "0.88"
                        height: "0.128"
                        overflow: scroll
                    - type: image
                      viewTag: signatureShowTag
                      path=func: .builtIn.utils.prepareDocToPath
                      dataKey: ModernaVaccineFirDoseEditPage4.formData.temporarySignature
                      style:
                        display: ..formData.flag
                        left: "0"
                        width: "0.88"
                        top: "0"
                        height: "0.128"
                        overflow: scroll
                        zIndex: "1000"

                - type: view
                  style:
                    width: "0.92"
                    height: "auto"
                    overflow: hidden
                  children:
                    - type: view
                      style:
                        ..style.blockBox:
                        marginTop: "0.02216"
                      children:
                        - type: label
                          text: Patient Name
                          style:
                            ..style.blockBoxLeft:
                        - type: label
                          text:
                          dataKey: Global.formData.modernaVaccineFirDoseForm.name.data.patientInfo.fullName
                          style:
                            ..style.blockBoxRight:
                    - type: view
                      style:
                        ..style.blockBox:
                      children:
                        - type: label
                          text: Date
                          style:
                            ..style.blockBoxLeft:
                        - type: label
                          text=func: .builtIn.string.formatUnixtimeL_en
                          dataKey: Global.formData.modernaVaccineFirDoseForm.ctime
                          style:
                            ..style.blockBoxRight:
                - type: view
                  style:
                    marginTop: "0.03"

        - type: view
          style:
            ..style.btnBox:
          children:
            - type: button
              text: Done
              dataKey:
              style:
                ..style.btn:
              onClick:
                - ..event.publicClick
                - ..event.btnClick
    - .BaseWarningView:
      viewTag: agreeView
      message: "Please give the consent first"
    - .BaseWarningView:
      viewTag: BaseWarningView
      message: "You haven't signed the form"
  event:
    checkBox:
      emit:
        dataKey:
          var: itemObject
        actions:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.consent
                    string2: $var.value
              - selectOnBlue.svg
              - selectOffBlue.svg
    checkBoxClick:
      - emit:
          dataKey:
            var: itemObject
          actions:
            - if:
                - =.builtIn.string.equal:
                    dataIn:
                      string1: =..formData.consent
                      string2: $var.value
                - continue
                - =.builtIn.object.set:
                    dataIn:
                      object: =.ModernaVaccineFirDoseEditPage4.formData
                      key: $var.key
                      value: $var.value
      - actionType: builtIn
        funcName: redraw
        viewTag: checkedView
    signReset:
      # 移除签名
      - actionType: removeSignature
        dataObject: BLOB
        dataKey: ModernaVaccineFirDoseEditPage4.apiRequest.newSign.docReq.name.data
        viewTag: signatureTag
      # 重置临时签名
      - actionType: evalObject
        object:
          - ..formData.temporarySignature@: ""
          - ..formData.signatureTime@: ""
      # 显示签名区域隐藏
      - actionType: builtIn
        funcName: hide
        viewTag: signatureShowTag
      - actionType: builtIn
        funcName: show
        viewTag: signatureTag
    publicClick:
      # 签名处理
      - actionType: saveSignature
        dataObject: BLOB
        dataKey: ModernaVaccineFirDoseEditPage4.apiRequest.newSign.docReq.name.data
        isEmpty: ModernaVaccineFirDoseEditPage4.formData.whetherSignature
      - actionType: evalObject
        object:
          - if:
              - =..formData.whetherSignature
              - continue
              - =..apiRequest.newSign.docAPI.store: ""

      - actionType: evalObject
        object:
          - if:
              - =..formData.temporarySignature
              - actionType: evalObject
                object:
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signatureTime@: =..formData.signatureTime
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signaturePfizerVaccine@: =..formData.temporarySignature
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherSignature@: false
                  - ..formData.whetherSignature@: false
              - actionType: evalObject
                object:
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signatureTime@: =..apiRequest.newSign.docRes.doc.ctime
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.signaturePfizerVaccine@: =..apiRequest.newSign.docRes.doc.id
                  - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherSignature@: =..formData.whetherSignature

      - actionType: evalObject
        object:
          - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.isAgree@: =..formData.consent
          - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.recipientName@: =..formData.recipientName

    btnClick:
      - actionType: evalObject
        object:
          - if:
              - =..formData.whetherSignature
              - actionType: popUp
                popUpView: BaseWarningView
                wait: true
                popUpDismiss: 2000
              - continue
      - actionType: evalObject
        object:
          - if:
              - =.builtIn.string.equal:
                  dataIn:
                    string1: =..formData.consent
                    string2: "1"
              - continue
              - actionType: popUp
                popUpView: agreeView
                wait: true
                popUpDismiss: 2000
          - ..apiRequest.modernaVaccineFirDoseForm.docReq@: =.Global.formData.modernaVaccineFirDoseForm
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.vaccine
                value: "Moderna Vaccine Form - First Dose"
          - =.builtIn.array.elementUnique:
              dataIn:
                arr: =.Global.vaccine
              dataOut: ModernaVaccineFirDoseEditPage4.formData.doc
          - .Global.vaccine@: ""
          - .Global.vaccine@: =..formData.doc
          - =..apiRequest.modernaVaccineFirDoseForm.docAPI.store: ""
          - =.builtIn.array.add:
              dataIn:
                object: =.Global.roomInfo.edge.name.finishDoc
                value: "Moderna Vaccine Form - First Dose"
          - .Global.formData.modernaVaccineFirDoseForm@: =..apiRequest.modernaVaccineFirDoseForm.docRes.doc
      - goto: =.Global.formData.selectCategory
    backClick:
      - actionType: builtIn
        funcName: goBack
        reload: true
  style:
    formatting:
      margin: "0"
      padding: "0"
      height: "1"
      width: "1"
      overflow: hidden
      boxSizing: border-box

      color: "0x333333"
      fontSize: .Nfont.h16
    bodyBox:
      width: "auto"
      height: "0.84852"
    backLeft:
      marginLeft: "0.04"
      display: "inline-block"
      verticalAlign: middle
      height: "0.055"
      boxSizing: border-box
    backLeftImg:
      marginTop: "0.012"
      height: "0.0295"
    viewBox:
      marginLeft: "0.04"
      height: "auto"
      width: "0.92"
      overflow: hidden

    titleBox:
      marginTop: "0.0270"
      paddingBottom: "1.23vh"
      width: "0.92"
      height: "auto"
      border:
        style: 2
      borderWidth: "1"
      borderColor: "#dedede"
    titlelabel:
      display: "inline-block"
      fontSize: .Nfont.h16
      color: "0x333333"
      width: "0.753125"
      height: "auto"
      fontWeight: "700"
      verticalAlign: top
      lineHeight: "2.95vh"
    pageNum:
      marginLeft: "0.064"
      display: "inline-block"
      height: "0.0221"
      width: "0.1013"
      backgroundColor: "0x2988e6"
      color: "0xffffff"
      fontSize: .Nfont.h14
      fontWeight: "700"
      borderRadius: "3"
      verticalAlign: top
      textAlign:
        x: center
    scrollBox:
      marginLeft: "0.04"
      width: "0.92"
      height: "0.7487"
      boxSizing: border-box
      overflow: scroll
    secondLabel:
      width: "0.92"
      fontSize: .Nfont.h14
      fontWeight: "700"
      color: "0x333333"
      marginTop: "0.0197"
      lineHeight: "2.58vh"
    text:
      marginTop: "0.0197"
      height: "auto"
      width: "0.92"
      fontSize: .Nfont.h14
      lineHeight: "2.58vh"
      wordWrap: break-word
      color: "#333333"
    list:
      width: "0.92"
      height: auto
      margin: "0"
      marginTop: "0.02955"
      boxSizing: border-box
      overflow: hidden
    itemImg:
      display: "inline-block"
      height: "0.0221"
    checkItem:
      display: "inline-block"
      margin: "0"
      marginTop: "0.01724"
      width: "0.92"
      height: "auto"
      boxSizing: border-box
    itemValue:
      marginLeft: "0.0213"
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#333333"
      width: "0.848"
      height: "auto"
      lineHeight: "2.58vh"
    blockInput:
      marginTop: "0.01"
      height: "0.0369"
      width: "0.92"
      boxSizing: border-box
      border:
        style: 3
      borderRadius: "3"
      borderWidth: "1.5"
      borderColor: "0xdedede"

      fontSize: .Nfont.h14
      color: "0x333333"
      textIndent: "12px"
    blockBox:
      marginTop: "0.01"
      height: "auto"
      width: "0.92"
    blockBoxLeft:
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x666666"
      fontSize: .Nfont.h12
      verticalAlign: middle

    blockBoxRight:
      marginLeft: "0.0373"
      display: "inline-block"
      width: "auto"
      height: "auto"
      color: "0x333333"
      fontSize: .Nfont.h14
      fontWeight: "600"
      verticalAlign: middle

    signTips:
      display: "inline-block"
      color: "#666666"
      fontSize: .Nfont.h12
      verticalAlign: middle
      width: "0.8266"
      height: "auto"
    signClear:
      display: "inline-block"
      fontSize: .Nfont.h14
      color: "#e24445"
      verticalAlign: middle
      width: "auto"
      height: "auto"
    canvasBox:
      marginTop: "0.01"
      height: "0.128"
      width: "0.9"
      border:
        style: "4"
        color: "0xa9a9a9"
      borderWidth: "2"

    btnBox:
      height: "0.0972"
      width: "1"
      backgroundColor: "0xffffff"
      boxSizing: border-box

      boxShadow: "1px 1px 4px 1px #dededf"
      overflow: hidden
      textAlign:
        x: center
    btn:
      marginTop: "0.0123"
      height: "0.0443"
      width: "0.84"
      border:
        style: 1
      borderRadius: "5"
      backgroundColor: "#2988e6"
      color: "#ffffff"
      fontSize: .Nfont.h14
      boxSizing: border-box
      fontWeight: "600"
      textAlign:
        x: center

  #   - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.facilityName@: =.Global.currentFacility.name.data.basicInfo.medicalFacilityName
  #   - =.builtIn.string.concat:
  #       dataIn:
  #         - "I GIVE CONSENT to "
  #         - =.Global.currentFacility.name.data.basicInfo.medicalFacilityName
  #         - " to vaccinate me with the COVID-19. You must electronically sign this consent to receive the COVID-19 Vaccine."
  #       dataOut: ModernaVaccineFirDoseEditPage4.formData.consent.0.value2
  #   - =.builtIn.string.concat:
  #       dataIn:
  #         - "I DO NOT GIVE CONSENT to "
  #         - =.Global.currentFacility.name.data.basicInfo.medicalFacilityName
  #         - " to be vaccinated."
  #       dataOut: ModernaVaccineFirDoseEditPage4.formData.consent.1.value2

  #   # 判断是否签名
  #   - actionType: evalObject
  #     object:
  #       - if:
  #           - =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.id
  #           - actionType: evalObject
  #             object:
  #               - ..formDataTemp.single.0.consent@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.consent
  #               - ..recipientName@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.recipientName
  #               - ..temporarySignature@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.id
  #               - ..whetherSignature@: =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherConsentSignature
  #           - continue

  #   # 判断显示签名的id是否为空
  #   - if:
  #       - =.builtIn.string.equal:
  #           dataIn:
  #             string1: =..temporarySignature
  #             string2: ""
  #       - continue
  #       # 非空修改显示的标识,刷新签名区域
  #       - actionType: evalObject
  #         object:
  #           - ..flag@: "block"
  #           - actionType: builtIn
  #             funcName: redraw
  #             viewTag: signatureShowTag
  # # 签名文档
  # newSign:
  #   docRes: ""
  #   docReq:
  #     type: .DocType.DocumentSignature
  #     id: .Global.rootNotebookID
  #     xfname: eid
  #   document: #DOC
  #     type: .DocType.DocumentSignature
  #     name:
  #       title: ""
  #       type: ..newSign.document.subtype.mediaType
  #       data: ""
  #     reid: .Global.formData.modernaVaccineFirDoseForm.id
  #     eid: .Global.rootNotebookID
  #     # reid: .Global.formData.modernaVaccineFirDoseForm.id
  #     subtype:
  #       mediaType: "" # mediaType : "image/jpeg"
  #   docAPI: # DOCAPI
  #     store:
  #       api: cd
  #       dataIn: ModernaVaccineFirDoseEditPage4.newSign.document
  #       dataOut: ModernaVaccineFirDoseEditPage4.newSign.docRes
  # recipientName: ""
  # # 获取暂存的签名的id
  # temporarySignature: ""
  # # 签名的显示,默认为none
  # flag: "none"
  # # 是否签名 true 表示未签 false 表示已签
  # whetherSignature: ""

  # formData:
  #   consent:
  #     - key: consent
  #       value1: "1"
  #       value2: ""
  #     - key: consent
  #       value1: "0"
  #       value2: ""

  # formDataTemp:
  #   single:
  #     - consent: ""

  # apiRequest:

  # style:

  # components:
  #   - .BaseHeader:
  #   - .HeaderLeftButton:
  #   - type: scrollView
  #     style:
  #       width: "1"
  #       height: "0.8"
  #       top: "0.1"
  #       left: "0"
  #       overflow: scroll
  #     children:
  #       - type: image
  #         path: firDose5_4.svg
  #         style:
  #           marginTop: "0.02"
  #           left: "10vw"
  #           width: "78vw"
  #       - type: view
  #         style:
  #           width: "1"
  #           height: "auto"
  #         children:
  #           - type: label
  #             text: "Moderna COVID-19 Vaccine Consent Form"
  #             dataKey:
  #             style:
  #               left: "0.07"
  #               marginTop: "0.02"
  #               width: "0.8"
  #               fontSize: "18"
  #               textAlign:
  #                 x: center
  #           - type: label
  #             text: "2. Consent for Vaccination"
  #             dataKey:
  #             style:
  #               marginTop: "0.03"
  #               left: "0.07"
  #               width: "0.8"
  #               fontSize: "16"
  #           - type: view
  #             style:
  #               width: "0.86"
  #               height: "0.001"
  #               backgroundColor: "0xdededf"
  #               marginTop: "0.02"
  #               left: "0.07"

  #       - type: view
  #         style:
  #           width: "0.86"
  #           height: "auto"
  #           left: "0.07"
  #         children:
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "Please carefully read the following informed consent:"
  #             style:
  #               fontSize: "14"
  #               marginTop: "0.02"
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "a. The Fact Sheet for Patients and Parents/Caregivers for the Moderna COVID-19 Vaccine I am receiving (sometimes hereafter, the COVID-19 Vaccine) has been offered to me."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "b. I have read or had explained to me the Moderna Fact Sheet for Patients and Parents/Caregivers for the COVID-19 Vaccine and I understand the risks and benefits."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "c. I understand the COVID-19 Vaccine has been approved by an emergency use authorization (EUA) process and has not fully been FDA reviewed or approved."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "d. I understand the potential risks from the therapy including serious allergic reactions (anaphylaxis). Other adverse reactions that have been reported include injection site pain, fatigue, headache, muscle pain, chills, joint pain, fever, injection site swelling, injection site redness, nausea, malaise, and lymphadenopathy."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "e. I understand that there may be other potential options to prevent COVID-19."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "f. I was offered the opportunity to ask questions and all questions were answered."
  #           - .PfizerVaccineFirDoseEditPage4Label:
  #             text: "g. I agree to proceed with receiving the Moderna COVID-19 Vaccine."
  #       - type: view
  #         style:
  #           width: "0.86"
  #           height: "0.2"
  #           left: "0.07"
  #           marginTop: "0.06"
  #         children:
  #           - type: list
  #             contentType: listObject
  #             listObject: ..formData.consent
  #             iteratorVar: itemObject
  #             viewTag: consentView
  #             style:
  #               margin: "0"
  #               top: "0"
  #               width: "0.9"
  #               height: "0.3"
  #               left: "0"
  #               overflow: hidden
  #             children:
  #               - type: listItem
  #                 itemObject: ""
  #                 style:
  #                   left: "0"
  #                   height: "0.1"
  #                   width: "0.95"
  #                   marginTop: "0.02"
  #                 children:
  #                   - type: image
  #                     path:
  #                       emit:
  #                         dataKey:
  #                           var: itemObject
  #                         actions:
  #                           - if:
  #                               - =.builtIn.string.equal:
  #                                   dataIn:
  #                                     string1: =..formDataTemp.single.0.consent
  #                                     string2: $var.value1
  #                               - selectOnBlack.svg
  #                               - selectOffBlack.svg
  #                     onClick:
  #                       - emit:
  #                           dataKey:
  #                             var: itemObject
  #                           actions:
  #                             - if:
  #                                 - =.builtIn.string.equal:
  #                                     dataIn:
  #                                       string1: =..formDataTemp.single.0.consent
  #                                       string2: $var.value1
  #                                 - =.builtIn.object.set:
  #                                     dataIn:
  #                                       object: =..formDataTemp.single.0
  #                                       key: $var.key
  #                                       value: ""
  #                                 - =.builtIn.object.set:
  #                                     dataIn:
  #                                       object: =..formDataTemp.single.0
  #                                       key: $var.key
  #                                       value: $var.value1
  #                       - actionType: builtIn
  #                         funcName: redraw
  #                         viewTag: consentView
  #                     style:
  #                       left: "0"
  #                       width: "0.05"
  #                       top: "0.004"
  #                   - type: label
  #                     dataKey: itemObject.value2
  #                     style:
  #                       left: "0.07"
  #                       width: "0.83"
  #                       top: "0"
  #                       fontSize: "3.5vw"
  #                       textAlign:
  #                         x: left
  #
  #                       height: "auto"
  #                       color: "0x9f9f9f"
  #       - type: view
  #         style:
  #           marginTop: "0.05"
  #           width: "0.86"
  #           left: "0.07"
  #           height: "auto"
  #         children:
  #           # RecipientName
  #           - .RecipientName:
  #             children:
  #               - .RecipientNameLabel:
  #               - .RecipientNameTextField:
  #                 dataKey: recipientName
  #               - .RecipientNameClickText:
  #       - type: view
  #         style:
  #           marginTop: "0.02"
  #           left: "0.05"
  #           height: "auto"
  #           width: "0.9"
  #           overflow: hidden
  #           # backgroundColor: "pink"
  #         children:
  #           # - type: label
  #           #   text: Signature
  #           #   style:
  #           #     display: "inline-block"
  #           #     height: "auto"
  #           #     width: "0.4"
  #           #     fontSize: .Nfont.h15
  #           #     fontStyle: bold
  #           # 清除签名
  #           - type: label
  #             text: Clear
  #             style:
  #               marginLeft: "0.73"
  #               display: "inline-block"
  #
  #               fontSize: .Nfont.h1
  #               height: "auto"
  #               width: "0.15"
  #               color: "0x1492e6"
  #               textAlign:
  #                 x: right
  #             onClick:
  #               # 移除签名
  #               - actionType: removeSignature
  #                 dataObject: BLOB
  #                 dataKey: ModernaVaccineFirDoseEditPage4.newSign.document.name.data
  #                 viewTag: signatureTag
  #               # 重置临时签名
  #               - actionType: evalObject
  #                 object:
  #                   - ..temporarySignature@: ""
  #               # 显示签名区域隐藏
  #               - actionType: builtIn
  #                 funcName: hide
  #                 viewTag: signatureShowTag
  #               - actionType: builtIn
  #                 funcName: show
  #                 viewTag: signatureTag
  #           - type: view
  #             style:
  #               marginTop: "0.01"
  #               width: "0.88"
  #               height: "0.15"
  #               #  backgroundColor: "pink"
  #               border:
  #                 style: 4
  #               borderColor: "0xababab"
  #               borderWidth: "2"
  #             children:
  #               - type: label
  #                 text: X
  #                 style:
  #                   top: "0.1"
  #                   .SignLabelStyle:
  #               - type: canvas
  #                 dataKey: ModernaVaccineFirDoseEditPage4.newSign.document.name.data
  #                 viewTag: signatureTag
  #                 style:
  #                   .SignCanvasStyle:
  #               # 显示暂存的签名
  #               - type: image
  #                 viewTag: signatureShowTag
  #                 path=func: .builtIn.utils.prepareDocToPath
  #                 # 传入签名文档的id
  #                 dataKey: ModernaVaccineFirDoseEditPage4.temporarySignature
  #                 style:
  #                   # 控制显示
  #                   display: ..flag
  #                   left: "0"
  #                   width: "0.88"
  #                   top: "0"
  #                   height: "0.15"
  #                   overflow: scroll
  #                   zIndex: "110"
  #           # PatientName & Date
  #           - .PatNameAndDate:
  #             style:
  #               left: "0"
  #             children:
  #               - .PatName:
  #               - .PatNameValue:
  #                 dataKey: Global.Profile.name.data.basicInfo.fullName
  #                 style:
  #                   color: "0x000000"
  #               - .PatDate:
  #               - .PatDateValue:
  #                 dataKey: Global.formData.modernaVaccineFirDoseForm.ctime
  #                 style:
  #                   color: "0x000000"
  #   - .NextButtonView:
  #     children:
  #       - .NextButton:
  #         onClick:
  #           # 签名处理
  #           - actionType: saveSignature
  #             dataObject: BLOB
  #             dataKey: ModernaVaccineFirDoseEditPage4.newSign.document.name.data
  #             isEmpty: ModernaVaccineFirDoseEditPage4.whetherSignature
  #           - actionType: evalObject
  #             object:
  #               - if:
  #                   - =.builtIn.string.equal:
  #                       dataIn:
  #                         string1: =..formDataTemp.single.0.consent
  #                         string2: "1"
  #                   - continue
  #                   - actionType: popUp
  #                     popUpView: agreeView
  #                     wait: true
  #               - =..newSign.docAPI.store: ""
  #               # 存放签名的id
  #               - if:
  #                   # - =..newSign.docRes.doc.id
  #                   - =..whetherSignature
  #                   - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherConsentSignature@: =..whetherSignature
  #                   - actionType: evalObject
  #                     object:
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.consent@: =..formDataTemp.single.0.consent
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.recipientName@: =..recipientName
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.id@: =..newSign.docRes.doc.id
  #                       # 保存签名判断状态
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherConsentSignature@: =..whetherSignature
  #               - if:
  #                   - =..temporarySignature
  #                   - actionType: evalObject
  #                     object:
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.id@: =..temporarySignature
  #                       # 保存签名判断状态
  #                       - .Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherConsentSignature@: false
  #                   - continue
  #               - if:
  #                   - =.Global.formData.modernaVaccineFirDoseForm.name.data.signatureConsent.whetherConsentSignature
  #                   - actionType: popUp
  #                     popUpView: warningView
  #                     wait: true
  #                   - continue
  #           - goto: ModernaVaccineFirDoseEditPage5
  #   - .BaseWarningView:
  #     message: "Please sign your name"
  #   - .BaseWarningView:
  #     viewTag: agreeView
  #     message: "Please give the consent first"
