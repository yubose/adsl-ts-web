DocumentAdmin:
  title: Admin Documents
  pageNumber:
  init: #Page initialization
    - .SignInCheck
    - ..formData@: =.Global.Note
    - actionType: evalObject
      object:
        .Global._nonce@:
          =.builtIn.math.random: ""

    - actionType: evalObject
      object:
        - if:
            - =.builtIn.string.equal:
                dataIn:
                  string1: =.DocumentAdmin.formData.name.data.fileId
                  string2: ""
            - continue
            - actionType: evalObject
              object:
                - ..formDataTemp.fileId@: =.DocumentAdmin.formData.name.data.fileId
                - ..formDataTemp.uplodImg@: "none"
                - ..formDataTemp.showImg@: "block"

    - actionType: builtIn
      funcName: redraw
      viewTag: showFileTag
    - actionType: builtIn
      funcName: redraw
      viewTag: showImgTag
    - actionType: builtIn
      funcName: redraw
      viewTag: uplodImgTag

  formData: ""

  formDataTemp: #Input data temp here, datatemp should not mix with formData
    flag: ""
    fileSize: ""
    fileId: ""
    uplodImg: "block"
    showImg: "none"
    need: .jpeg, .png, .pdf, .xlsx, .xls, .pptx, .ppt, .docx, .doc, .numbers, .pages, .htm
  components:
    - .BaseHeader:
    - .HeaderLeftBack:
    - type: view
      style:
        left: "0"
        top: "0.1"
        width: "1"
        height: "0.88"
        overflow: hidden
      children:
        - type: view
          style:
            marginTop: "0.01"
            left: "0.05"
            width: "0.9"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: Create document name
              dataKey:
              style:
                display: "inline-block"
                marginTop: "0.02"
                width: "0.6"
                fontSize: .Nfont.h2
            - type: label
              text: "*"
              style:
                marginTop: "0.015"
                display: "inline-block"
                color: "0xfd3a3a"

                width: "0.1"
        - type: textField
          placeholder: "Enter here"
          isEditable: "false"
          dataKey: formData.name.title
          style:
            marginTop: "0.01"
            marginLeft: "0.05"
            width: "0.9"
            height: "0.06"
            fontSize: .Nfont.h15
            color: "0x000000ff"
            border:
              style: "2"
              color: "0x000000ef"
            borderWidth: "1"
            backgroundColor: "0xffffff"
        - type: view
          style:
            marginTop: "0.02"
            left: "0.05"
            width: "0.9"
            height: "auto"
            overflow: hidden
          children:
            - type: label
              text: Upload your document
              dataKey:
              style:
                display: "inline-block"
                marginTop: "0.02"
                width: "0.6"
                fontSize: .Nfont.h2
            - type: label
              text: "*"
              style:
                marginTop: "0.015"
                display: "inline-block"
                color: "0xfd3a3a"

                width: "0.1"
        - type: view
          viewTag: uplodImgTag
          style:
            display: ..formDataTemp.uplodImg
            width: "1"
            height: "auto"
          children:
            - type: view
              onClick:
                - actionType: popUp
                  popUpView: selectView
              style:
                marginTop: "0.03"
                marginLeft: "0.05"
                width: "0.9"
                height: "0.1"
                border:
                  style: 4
                borderColor: "0x707070"
                borderWidth: "1.5"
              children:
                - type: image
                  path: cloud.svg
                  style:
                    height: "0.06"
                    marginLeft: "0.15"
                    display: "inline-block"
                    verticalAlign: middle
                - type: label
                  text: "Click here to upload"
                  style:
                    width: "auto"
                    fontSize: .Nfont.h15
                    color: "0xacacac"
                    height: "0.1"
                    lineHeight: "10vh" #y: center + height= 10vh
                    display: "inline-block"
                    verticalAlign: middle
                    marginLeft: "0.1"
            - type: view
              style:
                marginTop: "0.04"
                marginLeft: "0.05"
                width: "0.9"
                height: "auto"
              children:
                - type: label
                  text: "Only the following file types are supported: "
                  style:
                    color: "0x707070"
                    fontSize: .Nfont.h1
                    height: "auto"
                    lineHeight: "3vh"
                    width: "0.8"
                    marginLeft: "0.05"
                    wordWrap: break-word
                - type: label
                  dataKey: formData.need
                  style:
                    color: "0x707070"
                    fontSize: .Nfont.h1
                    height: "auto"
                    width: "0.82"
                    marginLeft: "0.05"
                    wordWrap: break-word
                - type: label
                  text: File size must be no larger than BLANK
                  style:
                    marginTop: "0.02"

                    color: "0x707070"
                    fontSize: .Nfont.h1
                    height: "auto"
                    lineHeight: "3vh"
                    width: "0.7"
                    marginLeft: "0.05"
                    wordWrap: break-word
                    textAlign:
                      x: center

        - type: view
          viewTag: showImgTag
          style:
            display: ..formDataTemp.showImg
            marginTop: "0.03"
            marginLeft: "0.05"
            width: "0.9"
            height: "auto"
            # backgroundColor: "pink"
          children:
            - type: image
              path: null.png
              viewTag: showFileTag
              path=func: .builtIn.utils.prepareDocToPath
              dataKey: DocumentAdmin.formDataTemp.fileId
              style:
                width: "0.9"
                height: "auto"
                margin: auto
