(self.webpackChunkstatic=self.webpackChunkstatic||[]).push([[897],{3778:function(e,t,n){var r=n(3419),o=n(5297),i=n(611),a=n(8230),c=n(421),l=n(1147),s=n(6290),u=n(2841),p=n(3100),d=n(8870),f=n(3408),v=n(3681);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(6481),n(8990),function(e,t,y,m,b){"use strict";function x(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}function O(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var E=w(t),k=w(y),S=x(b),_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function P(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j,N,A={exports:{}};j=A.exports,N=function(e){var t=Object.defineProperty,n=function(e,n){return t(e,"name",{value:n,configurable:!0})},r="<unknown>";function o(e){return e.split("\n").reduce((function(e,t){var n=c(t)||s(t)||d(t)||m(t)||g(t);return n&&e.push(n),e}),[])}n(o,"parseStackTrace");var i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/;function c(e){var t=i.exec(e);if(!t)return null;var n=t[2]&&0===t[2].indexOf("native"),o=t[2]&&0===t[2].indexOf("eval"),c=a.exec(t[2]);return o&&null!=c&&(t[2]=c[1],t[3]=c[2],t[4]=c[3]),{file:n?null:t[2],methodName:t[1]||r,arguments:n?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}n(c,"parseChrome");var l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.exec(e);return t?{file:t[2],methodName:t[1]||r,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}n(s,"parseWinjs");var u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,p=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=u.exec(e);if(!t)return null;var n=t[3]&&t[3].indexOf(" > eval")>-1,o=p.exec(t[3]);return n&&null!=o&&(t[3]=o[1],t[4]=o[2],t[5]=""),{file:t[3],methodName:t[1]||r,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}n(d,"parseGecko");var h=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=h.exec(e);return t?{file:t[3],methodName:t[1]||r,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}n(g,"parseJSC");var y=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=y.exec(e);return t?{file:t[2],methodName:t[1]||r,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}n(m,"parseNode");var b="----------------------------------------------------------",x=Object.defineProperty,w=function(e,t){return x(e,"name",{value:t,configurable:!0})},O={backlash:/\\(\\)?/g,leadingDot:/^\./,deepProperty:/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,plainProperty:/^\w*$/,property:/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g};function E(e){return U(e)?e:[e]}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[e].concat(n))}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return null==e?void 0:e.apply(void 0,n)}))}return w(r,"onFunc"),r}function _(e){return e.split(/[\.\-\_]+/g).map((function(e){return me(e)})).join("")}function P(e){return e.length=0,e}function j(e){return U(e)?oe((function(e){return K(e)?j(e):e}),e):K(e)?ue(re(e),(function(t,n){return K(e[n])?t[n]=j(e[n]):t[n]=e[n],t}),{}):e}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(t,n){return t(n(e))}),(function(e){return e}))}}function A(e){return K(e)?Object.entries(e):[]}function C(e,t){return e===t||e!=e&&t!=t}function T(e,t){return t.filter(e)}function I(e,t){t.forEach(e)}function R(e,t){for(var n,r=0,o=ve(t),i=o.length;null!=e&&r<i;){var a=ve(o[r++])||[];e=e[(null==(n=null==a?void 0:a.join)?void 0:n.call(a,"."))||""]}return r&&r==i?e:void 0}function D(){return"_".concat(Math.random().toString(36).substring(2,9))}function M(e){return e.split(/[\.\-\_\/\\\`\!\^\@\s]+/g).join("-")}function L(){return"undefined"!=typeof window&&void 0!==window.document}function W(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}function B(e){return K(e)&&"then"in e}function U(e){return Array.isArray(e)}function F(e){return"boolean"==typeof e}function G(e){return K(e)&&(e instanceof Error||"stack"in e&&"message"in e)}function V(e){return(H(e)||J(e)&&/^(?:0|[1-9]\d*)$/.test(e))&&e>-1&&e%1==0&&e<Number.MAX_SAFE_INTEGER}function z(e){return K(e)&&e instanceof Map}function K(e){return!!e&&!U(e)&&"object"==typeof e}function H(e){return"number"==typeof e}function q(e){return K(e)&&e instanceof Set}function J(e){return"string"==typeof e}function X(e){return void 0===e}function $(e){if(U(e)||null==e)return!1;var t=typeof e;return"string"===t||"number"===t||ee(e)}function Q(e){return null===e}function Y(e){return Q(e)||X(e)}function Z(e){return"function"==typeof e}function ee(e){return"symbol"==typeof e||"[object Symbol]"==Object.prototype.toString.call(e)}function te(e,t){if(null!=e){for(var n=ve(t),r=-1,o=n.length,i=!1;++r<o;){var a=he(n[r]);if(!(i=null!=e&&Object.prototype.hasOwnProperty.call(e,a)))break;e=e[a]}return i||++r!=o?i:H(o=null==e?0:e.length)&&o>0&&o%1==0&&(U(e)||K(e)&&Object.prototype.hasOwnProperty.call(e,"callee")&&Object.prototype.propertyIsEnumerable.call(e,"callee"))}return!1}function ne(e,t){return K(t)&&J(e)&&e in t}function re(e){return K(e)?Object.keys(e):[]}function oe(e,t){return t.map(e)}function ie(e,t){return ue(A(t),(function(e,t){var n=v(t,2),r=n[0],o=n[1];return e[r]=o,e}),e)}function ae(e,t){return ue(re(e),(function(n,r){if(!Y(r)){if(t.includes(r))return n;n[r]=e[r]}return n}),{})}function ce(e){var t=e.split(","),n=v(t,2),r=n[0],o=n[1],i=r.split(";")[0].split(":")[1];return{base64:o,ext:i.substring(i.indexOf("/")+1),mimeType:i}}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.time(t),e(),console.timeEnd(t)}function se(e){return ue(E(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),(function(t,n,r,o){return n&&J(n)&&o.includes(n)&&(t[n]=R(e,n)),t}),{})}function ue(e,t,n){var r;return e&&(null==(r=null==e?void 0:e.reduce)?void 0:r.call(e,t,n))}function pe(e,t,n,r){if(!K(e))return e;for(var o=-1,i=(t=ve(t)).length,a=i-1,c=e;null!=c&&++o<i;){var l=he(t[o]),s=n;if(o!=a){var u=c[l];void 0===(s=r?r(u,l,c):void 0)&&(s=K(u)?u:V(t[o+1])?[]:{})}(!(Object.prototype.hasOwnProperty.call(c,l)&&C(c[l],s))||void 0===s&&!(l in c))&&(c[l]=s),c=c[l]}return e}function de(e){return function(t){return e.apply(void 0,f(t))}}function fe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ve(e){if(U(e))return e;if(J(e)){var t=[];return(O.leadingDot.test(e)||""===e)&&t.push(""),e.replace(O.property,(function(e,n,r,o){t.push(r?o.replace(/\\(\\)?/g,"$1"):n||e)})),t}return[e]}function he(e){if(J(e)||ee(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ge(e){return Object.values(e)}function ye(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\\/g,"/")}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?(J(e)||(e=String(e)),e[0].toUpperCase()+e.slice(1)):""}w(E,"array"),w(k,"assign"),w(S,"callAll"),w(_,"camelCase"),w(P,"clearArr"),w(j,"cloneDeep"),w(N,"compose"),w(A,"entries"),w(C,"eq"),w(T,"filter"),w(I,"forEach"),w(R,"get"),w(D,"getRandomKey"),w(M,"kebabCase"),w(L,"isBrowser"),w(W,"isNode"),w(B,"isPromise"),w(U,"isArr"),w(F,"isBool"),w(G,"isErr"),w(V,"isIndex"),w(z,"isMap"),w(K,"isObj"),w(H,"isNum"),w(q,"isSet"),w(J,"isStr"),w(X,"isUnd"),w($,"isKey"),w(Q,"isNull"),w(Y,"isNil"),w(Z,"isFnc"),w(ee,"isSymb"),w(te,"has"),w(ne,"isIn"),w(re,"keys"),w(oe,"map"),w(ie,"merge"),w(ae,"omit"),w(ce,"parseDataURI"),w(le,"perf"),w(se,"pick"),w(ue,"reduce"),w(pe,"set"),w(de,"spread"),w(fe,"shallowArrayEqual"),w(ve,"toPath"),w(he,"toKey"),w(ge,"values"),w(ye,"unixify"),w(me,"upperFirst");var be="[0m",xe=w((function(e){return function(t){return"[".concat(e,"m").concat(t).concat(be)}}),"createColorStr"),we=console.log,Oe=w((function(){return we("")}),"newline"),Ee=xe(1),ke=xe(34),Se=xe(36),_e=xe(32),Pe=xe(3),je=xe(35),Ne=xe(31),Ae=xe(37),Ce=w((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se;return"[".concat((null==t?void 0:t(e))||e,"]")}),"withTag"),Te=xe(33);function Ie(e,t){e instanceof Error||(e=new Error(String(e)));var n=e.name||"Error",r=e.message,o=e.stack,i=W()?"[".concat(Te(n),"] ").concat(Ne(r)):"[".concat(n,"] ").concat(r);null!=t?console.error(i,!0===t?o:t):console.error(i)}w(Ie,"logError"),e.array=E,e.assign=k,e.blue=ke,e.bold=Ee,e.callAll=S,e.camelCase=_,e.clearArr=P,e.cloneDeep=j,e.compose=N,e.cyan=Se,e.divider=b,e.entries=A,e.eq=C,e.filter=T,e.forEach=I,e.get=R,e.getRandomKey=D,e.green=_e,e.has=te,e.isArr=U,e.isBool=F,e.isBrowser=L,e.isErr=G,e.isFnc=Z,e.isIn=ne,e.isKey=$,e.isMap=z,e.isNil=Y,e.isNode=W,e.isNull=Q,e.isNum=H,e.isObj=K,e.isPromise=B,e.isSet=q,e.isStr=J,e.isSymb=ee,e.isUnd=X,e.italic=Pe,e.kebabCase=M,e.keys=re,e.logError=Ie,e.magenta=je,e.map=oe,e.merge=ie,e.newline=Oe,e.omit=ae,e.parseDataURI=ce,e.parseStackTrace=o,e.perf=le,e.pick=se,e.red=Ne,e.reduce=ue,e.set=pe,e.shallowArrayEqual=fe,e.spread=de,e.unixify=ye,e.upperFirst=me,e.values=ge,e.white=Ae,e.withTag=Ce,e.yellow=Te,Object.defineProperty(e,"__esModule",{value:!0})},N(j);var C=O({__proto__:null,default:P(A.exports)},[A.exports]),T=Array.isArray,I="object"==typeof _&&_&&_.Object===Object&&_,R=I,D="object"==typeof self&&self&&self.Object===Object&&self,M=R||D||Function("return this")(),L=M.Symbol,W=L,B=Object.prototype,U=B.hasOwnProperty,F=B.toString,G=W?W.toStringTag:void 0;function V(e){var t=U.call(e,G),n=e[G];try{e[G]=void 0;var r=!0}catch(i){}var o=F.call(e);return r&&(t?e[G]=n:delete e[G]),o}var z=V,K=Object.prototype.toString;function H(e){return K.call(e)}var q=L,J=z,X=H,$="[object Null]",Q="[object Undefined]",Y=q?q.toStringTag:void 0;function Z(e){return null==e?void 0===e?Q:$:Y&&Y in Object(e)?J(e):X(e)}var ee=Z;function te(e){return null!=e&&"object"==typeof e}var ne=te,re=ee,oe=ne,ie="[object Symbol]";function ae(e){return"symbol"==typeof e||oe(e)&&re(e)==ie}var ce=ae,le=T,se=ce,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/;function de(e,t){if(le(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!se(e))||pe.test(e)||!ue.test(e)||null!=t&&e in Object(t)}var fe=de;function ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var he=ve,ge=ee,ye=he,me="[object AsyncFunction]",be="[object Function]",xe="[object GeneratorFunction]",we="[object Proxy]";function Oe(e){if(!ye(e))return!1;var t=ge(e);return t==be||t==xe||t==me||t==we}var Ee,ke=Oe,Se=M["__core-js_shared__"],_e=(Ee=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+Ee:"";function Pe(e){return!!_e&&_e in e}var je=Pe,Ne=Function.prototype.toString;function Ae(e){if(null!=e){try{return Ne.call(e)}catch(j){}try{return e+""}catch(j){}}return""}var Ce=Ae,Te=ke,Ie=je,Re=he,De=Ce,Me=/[\\^$.*+?()[\]{}|]/g,Le=/^\[object .+?Constructor\]$/,We=Function.prototype,Be=Object.prototype,Ue=We.toString,Fe=Be.hasOwnProperty,Ge=RegExp("^"+Ue.call(Fe).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ve(e){return!(!Re(e)||Ie(e))&&(Te(e)?Ge:Le).test(De(e))}function ze(e,t){return null==e?void 0:e[t]}var Ke=Ve,He=ze;function qe(e,t){var n=He(e,t);return Ke(n)?n:void 0}var Je=qe,Xe=Je(Object,"create"),$e=Xe;function Qe(){this.__data__=$e?$e(null):{},this.size=0}var Ye=Qe;function Ze(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var et=Ze,tt=Xe,nt="__lodash_hash_undefined__",rt=Object.prototype.hasOwnProperty;function ot(e){var t=this.__data__;if(tt){var n=t[e];return n===nt?void 0:n}return rt.call(t,e)?t[e]:void 0}var it=ot,at=Xe,ct=Object.prototype.hasOwnProperty;function lt(e){var t=this.__data__;return at?void 0!==t[e]:ct.call(t,e)}var st=Xe,ut="__lodash_hash_undefined__";function pt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=st&&void 0===t?ut:t,this}var dt=Ye,ft=et,vt=it,ht=lt,gt=pt;function yt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yt.prototype.clear=dt,yt.prototype.delete=ft,yt.prototype.get=vt,yt.prototype.has=ht,yt.prototype.set=gt;var mt=yt;function bt(){this.__data__=[],this.size=0}var xt=bt;function wt(e,t){return e===t||e!=e&&t!=t}var Ot=wt,Et=Ot;function kt(e,t){for(var n=e.length;n--;)if(Et(e[n][0],t))return n;return-1}var St=kt,_t=St,Pt=Array.prototype.splice;function jt(e){var t=this.__data__,n=_t(t,e);return!(n<0||(n==t.length-1?t.pop():Pt.call(t,n,1),--this.size,0))}var Nt=St;function At(e){var t=this.__data__,n=Nt(t,e);return n<0?void 0:t[n][1]}var Ct=St;function Tt(e){return Ct(this.__data__,e)>-1}var It=St;function Rt(e,t){var n=this.__data__,r=It(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Dt=xt,Mt=jt,Lt=At,Wt=Tt,Bt=Rt;function Ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ut.prototype.clear=Dt,Ut.prototype.delete=Mt,Ut.prototype.get=Lt,Ut.prototype.has=Wt,Ut.prototype.set=Bt;var Ft=Ut,Gt=Je(M,"Map"),Vt=mt,zt=Ft,Kt=Gt;function Ht(){this.size=0,this.__data__={hash:new Vt,map:new(Kt||zt),string:new Vt}}function qt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Jt=qt;function Xt(e,t){var n=e.__data__;return Jt(t)?n["string"==typeof t?"string":"hash"]:n.map}var $t=Xt;function Qt(e){var t=$t(this,e).delete(e);return this.size-=t?1:0,t}var Yt=Xt;function Zt(e){return Yt(this,e).get(e)}var en=Xt;function tn(e){return en(this,e).has(e)}var nn=Xt;function rn(e,t){var n=nn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var on=Ht,an=Qt,cn=Zt,ln=tn,sn=rn;function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}un.prototype.clear=on,un.prototype.delete=an,un.prototype.get=cn,un.prototype.has=ln,un.prototype.set=sn;var pn=un,dn=pn,fn="Expected a function";function vn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(fn);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(vn.Cache||dn),n}vn.Cache=dn;var hn=vn,gn=500;function yn(e){var t=hn(e,(function(e){return n.size===gn&&n.clear(),e})),n=t.cache;return t}var mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bn=/\\(\\)?/g,xn=yn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(mn,(function(e,n,r,o){t.push(r?o.replace(bn,"$1"):n||e)})),t}));function wn(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var On=L,En=wn,kn=T,Sn=ce,_n=1/0,Pn=On?On.prototype:void 0,jn=Pn?Pn.toString:void 0;function Nn(e){if("string"==typeof e)return e;if(kn(e))return En(e,Nn)+"";if(Sn(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-_n?"-0":t}var An=Nn;function Cn(e){return null==e?"":An(e)}var Tn=T,In=fe,Rn=xn,Dn=Cn;function Mn(e,t){return Tn(e)?e:In(e,t)?[e]:Rn(Dn(e))}var Ln=Mn,Wn=ce,Bn=1/0;function Un(e){if("string"==typeof e||Wn(e))return e;var t=e+"";return"0"==t&&1/e==-Bn?"-0":t}var Fn=Un,Gn=Ln,Vn=Fn;function zn(e,t){for(var n=0,r=(t=Gn(t,e)).length;null!=e&&n<r;)e=e[Vn(t[n++])];return n&&n==r?e:void 0}var Kn=zn;function Hn(e,t,n){var r=null==e?void 0:Kn(e,t);return void 0===r?n:r}var qn=Hn;function Jn(e){return"number"!=typeof e&&(e=Number(e)),e<0?Math.ceil(e):Math.floor(e)}function Xn(e,t){if(!t||"object"!=typeof t)return new Date(NaN);var n="years"in t?Jn(t.years):0,r="months"in t?Jn(t.months):0,o="weeks"in t?Jn(t.weeks):0,i="days"in t?Jn(t.days):0,a="hours"in t?Jn(t.hours):0,c="minutes"in t?Jn(t.minutes):0,l="seconds"in t?Jn(t.seconds):0,s=new Date(e.getTime()),u=r||n?Qn(s,r+12*n):s,p=i||o?$n(u,i+7*o):u,d=1e3*(l+60*(c+60*a));return new Date(p.getTime()+d)}function $n(e,t){var n=new Date(e.getTime()),r=Jn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Qn(e,t){var n=new Date(e.getTime()),r=Jn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());return i.setMonth(n.getMonth()+r+1,0),o>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Yn(e){var t,n;return A.exports.isUnd(e)?"":A.exports.isStr(e)?e:(null==(t=e.blueprint)?void 0:t.popUpView)||(null==(n=e.blueprint)?void 0:n.viewTag)||e.get("popUpView")||e.get("viewTag")||e.id||""}function Zn(){return"_".concat(Math.random().toString(36).substr(2,9))}function er(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t}function tr(e){var t=e.if||[],n=v(t,3),r=n[0],o=n[1],i=n[2];return A.exports.isFnc(r)?null!=r&&r()?o:i:r?o:i}function nr(e,t){return E.Identify.rootKey(e)?k.toDataPath(e):E.Identify.localKey(e)?t?[t].concat(f(k.toDataPath(e))):k.toDataPath(e):[]}function rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=k.trimReference(n);return E.Identify.localKey(r)?qn(A.exports.isFnc(e)?e():e,nr(r,t)):qn(A.exports.isFnc(e)?e():e,k.toDataPath(r))}function or(e){return"object"==typeof e&&"blueprint"in(e||{})}var ir,ar,cr,lr,sr,ur,pr,dr,fr=Object.defineProperty,vr=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,br=function(e,t,n){return t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xr=function(e,t){for(var n in t||(t={}))yr.call(t,n)&&br(e,n,t[n]);if(gr){var r,o=g(gr(t));try{for(o.s();!(r=o.n()).done;)n=r.value,mr.call(t,n)&&br(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},wr=function(e,t){return vr(e,hr(t))},Or=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Er=function(e,t,n){return Or(e,t,"read from private field"),n?n.call(e):t.get(e)},kr=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Sr=function(e,t,n,r){return Or(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},_r=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Pr=function(e,t){function n(e,t){var r=this;p(this,n),kr(this,ir,void 0),kr(this,ar,{}),kr(this,cr,[]),kr(this,lr,void 0),kr(this,sr,[]),kr(this,ur,""),kr(this,pr,null),kr(this,dr,(function(e,t){var n,o;return"style"===e?A.exports.isUnd(t)?o=r.blueprint.style:A.exports.isStr(t)&&(o=null==(n=r.blueprint.style)?void 0:n[t]):o="type"===e?r.blueprint.type:Er(r,lr)[e]||Er(r,ir)[e],o})),Sr(this,ir,n.isComponent(e)?e.blueprint:e),Sr(this,lr,wr(xr({},Er(this,ir)),{style:xr({},Er(this,ir).style)})),Sr(this,ur,(null==t?void 0:t.id)||Er(this,lr).id||Zn()),this.type=Er(this,ir).type}return d(n,[{key:e,value:function(){var e=A.exports.entries(Er(this,lr));return{next:function(){return{done:!e.length,value:e.pop()||[]}}}}},{key:t,value:function(){return wr(xr({},this.toJSON()),{type:this.type,blueprint:Er(this,ir),hooks:this.hooks,hookIds:Er(this,cr)})}},{key:"blueprint",get:function(){return Er(this,ir)||Sr(this,ir,{type:this.type}),Er(this,ir)}},{key:"children",get:function(){return Er(this,sr)||Sr(this,sr,[]),Er(this,sr)}},{key:"contentType",get:function(){var e;return(null==(e=this.blueprint)?void 0:e.contentType)||""}},{key:"hooks",get:function(){return Er(this,ar)}},{key:"id",get:function(){return Er(this,ur)}},{key:"length",get:function(){return this.children.length||0}},{key:"parent",get:function(){return Er(this,pr)}},{key:"props",get:function(){return Er(this,lr)}},{key:"style",get:function(){return(!this.props.style||A.exports.isStr(this.props.style))&&(this.props.style={}),this.props.style}},{key:"style",set:function(e){Er(this,lr).style=e}},{key:"get",value:function(e,t){var n=this;if(A.exports.isStr(e))return"type"===e?this.type:Er(this,dr).call(this,e,t);if(A.exports.isArr(e)){var r={};return e.forEach((function(e){return r[e]=Er(n,dr).call(n,e)})),r}}},{key:"set",value:function(e,t,n){return"style"===e?this.style&&(this.style[t]=n):Er(this,lr)[e]=t,this}},{key:"has",value:function(e){return e in(this.props||{})}},{key:"remove",value:function(e,t){return"style"===e&&A.exports.isStr(t)?Er(this,lr).style&&delete Er(this,lr).style[t]:delete Er(this,lr)[e],this}},{key:"toString",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).spaces,t=void 0===e?2:e;return JSON.stringify(this.toJSON(),null,t)}},{key:"setParent",value:function(e){return Sr(this,pr,e),this}},{key:"child",value:function(e){return A.exports.isNum(e)?this.children[e]:this.children[0]}},{key:"createChild",value:function(e){var t;return null==(t=null==e?void 0:e.setParent)||t.call(e,this),Er(this,sr).push(e),e}},{key:"removeChild",value:function(e){if(null==e)return this.children.shift();if(A.exports.isNum(e))return this.children.splice(e,1)[0];if(A.exports.isStr(e)){var t=this.children.findIndex((function(t){return t.id===e}));if(t>-1)return this.children.splice(t,1)[0]}else if(this.children.includes(e))return this.children.splice(this.children.indexOf(e),1)[0]}},{key:"on",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r){if(Er(this,cr).includes(r))return this;Er(this,cr).push(r)}return!A.exports.isArr(this.hooks[e])&&(this.hooks[e]=[]),null==(n=this.hooks[e])||n.push(t),this}},{key:"off",value:function(e,t){var n,r,o;return A.exports.isArr(this.hooks[e])?(null!=(n=this.hooks[e])&&n.includes(t)&&(null==(o=this.hooks[e])||o.splice(null==(r=Er(this,ar)[e])?void 0:r.indexOf(t),1)),this):this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _r(this,null,u.mark((function t(){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A.exports.isArr(Er(this,ar)[e])){t.next=2;break}return t.abrupt("return",Promise.allSettled(Er(this,ar)[e].map((function(e){return null==e?void 0:e.apply(void 0,n)}))));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(e){var t=this,n=function e(t){var n;A.exports.isArr(t)&&(null==(n=t.forEach)||n.call(t,(function(t){var n;t&&(null==(n=t.parent)||n.removeChild(t),t.setParent(null),e(t.children))})),t.length=0)},r=function(){return A.exports.keys(Er(t,ar)).forEach((function(e){["PAGE_COMPONENTS","PAGE_CHANGED","PAGE_CREATED"].includes(e)||(Er(t,ar)[e].length=0)}))};return e?(A.exports.array(e).forEach((function(e){return"children"===e?n(Er(t,sr)):r()})),this):(n(this.children),r(),this)}},{key:"edit",value:function(e,t){var n=this;if(A.exports.isFnc(e)){var r=e(this.props);A.exports.isObj(r)&&A.exports.entries(r).forEach((function(e){var t=v(e,2),r=t[0],o=t[1];"style"===r?A.exports.assign(n.style,o):n.props[r]=o}))}else if(A.exports.isStr(e))this.props[e]=t;else if(A.exports.isObj(e)){var o=null!=t&&t.remove?function(e){var r="style"===e?n.style:n.props;A.exports.isStr(t.remove)?delete r[t.remove]:A.exports.isArr(t.remove)?t.remove.forEach((function(e){return delete r[e]})):A.exports.isObj(t.remove)&&A.exports.entries(t.remove).forEach((function(e){var t=v(e,2),n=t[0],o=t[1];return(null==o?void 0:o())&&delete r[n]}))}:void 0;A.exports.entries(e).forEach((function(e){var t=v(e,2),r=t[0],i=t[1];"style"===r?(null===i?n.style={}:A.exports.isObj(i)?A.exports.assign(n.style,i):n.style=i,null==o||o("style")):(n.props[r]=i,0===i&&(n.props[r]="".concat(i)),null==o||o())}))}}},{key:"toJSON",value:function(){var e;return wr(xr({},this.props),{id:this.id,parentId:(null==(e=this.parent)?void 0:e.id)||null,children:this.children.map((function(e){var t;return null==(t=null==e?void 0:e.toJSON)?void 0:t.call(e)}))})}}],[{key:"isComponent",value:function(e){return or(e)}}]),n}(Symbol.iterator,Symbol.for("nodejs.util.inspect.custom")),jr=Pr;ir=new WeakMap,ar=new WeakMap,cr=new WeakMap,lr=new WeakMap,sr=new WeakMap,ur=new WeakMap,pr=new WeakMap,dr=new WeakMap;var Nr={actionTypes:["anonymous","emit","goto","toast"],components:["br","span"],emitTriggers:["dataKey","dataValue","path","validateField","LoadStyle","placeholder","postMessage","dataOption","videoOption","register"],dataAttributes:["data-key","data-listid","data-name","data-globalid","data-options","data-placeholder","data-src","data-value","data-option","data-viewtag","data-ux"]},Ar=[].concat(f(t.actionTypes),f(Nr.actionTypes));[].concat(f(t.componentTypes),f(Nr.components));var Cr,Tr,Ir,Rr=[].concat(f(Nr.emitTriggers),f(t.userEvent),["onInput","postMessage"]),Dr={page:{hooks:{PAGE_CREATED:"PAGE_CREATED",PAGE_REMOVED:"PAGE_REMOVED",PAGE_UPDATED:"PAGE_UPDATED"}}},Mr=Ar.filter((function(e){return!/(builtIn|emit|register)/i.test(e)})),Lr={border:{1:{borderStyle:"none",borderRadius:"0px"},2:{borderRadius:"0px",borderStyle:"none",borderBottomStyle:"solid"},3:{borderStyle:"solid"},4:{borderStyle:"dashed",borderRadius:"0px"},5:{borderStyle:"none"},6:{borderStyle:"solid",borderRadius:"0px"},7:{borderBottomStyle:"solid",borderRadius:"0px"}}},Wr={component:{list:{ADD_DATA_OBJECT:"ADD_DATA_OBJECT",DELETE_DATA_OBJECT:"DELETE_DATA_OBJECT"},page:{PAGE_CREATED:"PAGE_CREATED",PAGE_CHANGED:"PAGE_CHANGED",PAGE_COMPONENTS:"PAGE_COMPONENTS"},textField:{placeholder:"PLACEHOLDER"}}},Br={REGISTER:"register",TRANSACTION:"transaction"},Ur={REQUEST_PAGE_OBJECT:"REQUEST_PAGE_OBJECT"},Fr={DATA_KEY:"dataKey",DATA_VALUE:"dataValue",PATH:"path",PLACEHOLDER:"placeholder",POST_MESSAGE:"postMessage",REGISTER:"register",ON_BLUR:"onBlur",ON_CLICK:"onClick",ON_CHANGE:"onChange",ON_HOVER:"onHover",ON_MOUSEENTER:"onMouseEnter",ON_MOUSELEAVE:"onMouseLeave",DATA_OPTION:"dataOption",VIDEO_OPTION:"videoOption",ON_MOUSEOUT:"onMouseOut",ON_MOUSEOVER:"onMouseOver",ON_LAZYLOADING:"onLazyLoading"},Gr="index.html?",Vr="Content-Security-Policy",zr={ECOS_DOC:"ecosdoc",ECOS_DOC_IMAGE:"ecosdoc-image",ECOS_DOC_PDF:"ecosdoc-pdf",ECOS_DOC_TEXT:"ecosdoc-text",ECOS_DOC_TEXT_TITLE:"ecosdoc-text-title",ECOS_DOC_TEXT_BODY:"ecosdoc-text-body",ECOS_DOC_TEXT_PLAIN:"ecosdoc-textplain",ECOS_DOC_TEXT_MARKDOWN:"ecosdoc-textmarkdown",ECOS_DOC_TEXT_CSS:"ecosdoc-textcss",ECOS_DOC_TEXT_HTML:"ecosdoc-texthtml",ECOS_DOC_TEXT_JAVASCRIPT:"ecosdoc-textjs",ECOS_DOC_NOTE:"ecosdoc-note",ECOS_DOC_NOTE_TITLE:"ecosdoc-note-title",ECOS_DOC_NOTE_DATA:"ecosdoc-note-data",ECOS_DOC_VIDEO:"ecosdoc-video",GLOBAL:"global",PAGE:"page",PLUGIN_HEAD:"pluginHead",PLUGIN_BODY_TOP:"pluginBodyTop",PLUGIN_BODY_TAIL:"pluginBodyTail",POPUP:"popup",POPUP_GLOBAL:"popup-global",SCROLL_VIEW:"scroll-view",TEXT_BOARD:"text-board"},Kr="data-key",Hr="data-value",qr="data-src",Jr="data-globalid",Xr="data-placeholder",$r={componentPage:{on:{ON_LOAD:"ON_LOAD",ON_ERROR:"ON_ERROR",ON_MESSAGE:"ON_MESSAGE"}},page:{on:{ON_ASPECT_RATIO_MIN:"ON_ASPECT_RATIO_MIN",ON_ASPECT_RATIO_MAX:"ON_ASPECT_RATIO_MAX",ON_STATUS_CHANGE:"ON_STATUS_CHANGE",ON_NAVIGATE_START:"ON_NAVIGATE_START",ON_NAVIGATE_STALE:"ON_NAVIGATE_STALE",ON_DOM_CLEANUP:"ON_DOM_CLEANUP",ON_BEFORE_RENDER_COMPONENTS:"ON_BEFORE_RENDER_COMPONENTS",ON_APPEND_NODE:"ON_APPEND_NODE",ON_BEFORE_CLEAR_ROOT_NODE:"ON_BEFORE_CLEAR_ROOT_NODE",ON_REDRAW_BEFORE_CLEANUP:"ON_REDRAW_BEFORE_CLEANUP",ON_COMPONENTS_RENDERED:"ON_COMPONENTS_RENDERED",ON_NAVIGATE_ERROR:"ON_NAVIGATE_ERROR",ON_SET_ROOT_NODE:"ON_SET_ROOT_NODE"},status:{ANY:"ANY",IDLE:"IDLE",NAVIGATING:"NAVIGATING",NAVIGATE_ERROR:"NAVIGATE_ERROR",SNAPSHOT_RECEIVED:"SNAPSHOT_RECEIVED",RESOLVING_COMPONENTS:"RESOLVING_COMPONENTS",COMPONENTS_RECEIVED:"COMPONENTS_RECEIVED",RENDERING_COMPONENTS:"RENDERING_COMPONENTS",COMPONENTS_RENDERED:"COMPONENTS_RENDERED"}}},Qr="PAGE_CREATED",Yr="PAGE_REMOVED",Zr=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,no=Object.getOwnPropertySymbols,ro=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,io=function(e,t,n){return t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ao=function(e,t){for(var n in t||(t={}))ro.call(t,n)&&io(e,n,t[n]);if(no){var r,o=g(no(t));try{for(o.s();!(r=o.n()).done;)n=r.value,oo.call(t,n)&&io(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},co=function(e,t){return eo(e,to(t))},lo=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},so=function(e,t,n){return lo(e,t,"read from private field"),n?n.call(e):t.get(e)},uo=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},po=function(e,t,n,r){return lo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},fo=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,[])})),t},vo=function(){return Ar.reduce((function(e,t){return e[t]={executor:{calls:{count:0,timestamps:[]}}},e}),{})},ho=function(e,t){function n(){var e=this;p(this,n),uo(this,Cr,void 0),uo(this,Tr,void 0),uo(this,Ir,void 0),this.state=vo(),po(this,Cr,fo(f(Mr))),po(this,Tr,fo([])),po(this,Ir,fo(f(Rr)));var t,r=g(so(this,Cr).keys());try{var o=function(){var n=t.value;Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return so(e,Cr).get(n)}})};for(r.s();!(t=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}Object.defineProperty(this,"builtIn",{configurable:!0,enumerable:!0,get:function(){return so(e,Tr)}}),Object.defineProperty(this,"emit",{configurable:!0,enumerable:!0,get:function(){return so(e,Ir)}})}return d(n,[{key:e,value:function(){var e=[].concat(f(so(this,Cr).values()),f(so(this,Tr).values()),f(so(this,Ir).values())).reverse();return{next:function(){return{value:e.pop(),done:!e.length}}}}},{key:t,value:function(){return co(ao({},this),{length:this.length})}},{key:"length",get:function(){return so(this,Cr).size+so(this,Tr).size+so(this,Ir).size}},{key:"clear",value:function(){so(this,Cr).clear(),so(this,Tr).clear(),so(this,Ir).clear(),this.state=vo()}},{key:"exists",value:function(e){if(A.exports.isFnc(e)){var t,n=g(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r){var o,i=g(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if("actionType"in a){if(a.fn===e)return!0}else if(a.some((function(t){return t.fn===e})))return!0}}catch(c){i.e(c)}finally{i.f()}}}}catch(c){n.e(c)}finally{n.f()}}return!1}},{key:"reset",value:function(){po(this,Cr,fo(f(Mr))),po(this,Tr,fo([])),po(this,Ir,fo(f(Rr)))}}]),n}(Symbol.iterator,Symbol.for("nodejs.util.inspect.custom"));function go(e){return!(!e||"object"!=typeof e||!Object.prototype.hasOwnProperty.call(e,"created"))}Cr=new WeakMap,Tr=new WeakMap,Ir=new WeakMap;var yo,mo,bo=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},xo=function(e,t,n){return bo(e,t,"read from private field"),n?n.call(e):t.get(e)},wo=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Oo=function(e,t){function n(){if(p(this,n),wo(this,yo,new Map),wo(this,mo,{add:[],clear:[],remove:[]}),n._inst)return n._inst;n._inst=this}return d(n,[{key:e,value:function(){var e,t={length:this.length,components:{}},n=g(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r){r.page in t.components||(t.components[r.page]={});var o=t.components[r.page];o&&(!o.ids&&(o.ids=[]),!o.total&&(o.total=0),o.ids.includes(r.component.id)||(o.ids.push(r.component.id),o.total++))}}}catch(i){n.e(i)}finally{n.f()}return t}},{key:t,value:function(){var e=f(xo(this,yo).values());return{next:function(){return{value:e.pop(),done:!e.length}}}}},{key:"length",get:function(){return xo(this,yo).size}},{key:"on",value:function(e,t){var n=xo(this,mo)[e];return A.exports.isArr(n)&&!n.includes(t)&&n.push(t),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i;return(null==(i=null==(o=xo(this,mo)[e])?void 0:o.map)?void 0:i.call(o,(function(e){return e.apply(void 0,n)})))||[]}},{key:"add",value:function(e,t){if(e){var n={component:e,page:go(t)?t.page:A.exports.isObj(t)?t.page||"":t||""};go(t)&&(n.pageId=t.id),xo(this,yo).set(e.id,n),this.emit("add",n)}return this.get(e)}},{key:"clear",value:function(e){var t,n=this,r={},o=function(e){var t,o=(null==(t=null==e?void 0:e.component)?void 0:t.id)||"";r[o]=e,n.remove(e.component)},i=g(xo(this,yo).values());try{for(i.s();!(t=i.n()).done;){var a=t.value;void 0!==e?(e===a.page||a.pageId&&(null==e?void 0:e.startsWith("#"))&&a.pageId===e.substring(1))&&o(a):o(a)}}catch(c){i.e(c)}finally{i.f()}return this.emit("clear",r),r=null,this}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return A.exports.isFnc(e)?f(this).find((function(t){return t&&e(t)})):f(this).find((function(e){return(null==e?void 0:e.page)===t}))}},{key:"get",value:function(e){return A.exports.isObj(e)?xo(this,yo).get(e.id):e?xo(this,yo).get(e):xo(this,yo)}},{key:"has",value:function(e){return!A.exports.isNil(e)&&xo(this,yo).has(A.exports.isObj(e)?e.id||"":e)}},{key:"remove",value:function(e){var t,n;if(A.exports.isObj(e)){if(e&&xo(this,yo).has(e.id)){var r=e.id,o=null==(n=xo(this,yo).get(e.id))?void 0:n.page;xo(this,yo).delete(e.id),this.emit("remove",{id:r,page:o})}}else if(xo(this,yo).has(e)){var i=e,a=null==(t=xo(this,yo).get(i))?void 0:t.page;xo(this,yo).delete(i),this.emit("remove",{id:i,page:a})}return this}},{key:"filter",value:function(e){return A.exports.isStr(e)?this.reduce((function(t,n){return n.page===e?t.concat(n):t}),[]):this.reduce((function(t,n){return e(n)?t.concat(n):t}),[])}},{key:"forEach",value:function(e){var t,n=g(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;r&&e(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"map",value:function(e){return f(this).map((function(t){return t&&e(t)}))}},{key:"reduce",value:function(e,t){return A.exports.reduce(f(this),e,t)}}]),n}(Symbol.for("nodejs.util.inspect.custom"),Symbol.iterator),Eo=Oo;function ko(e){return"string"==typeof e&&e.startsWith("0x")?e.replace("0x","#"):e||""}function So(e){return Number(e)%1!=0}function _o(e){return/[a-zA-Z]/i.test(String(e))}function Po(){return!1}yo=new WeakMap,mo=new WeakMap;var jo,No=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,To=function(e,t){var n={};for(var r in e)Ao.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&No){var o,i=g(No(e));try{for(i.s();!(o=i.n()).done;)r=o.value,t.indexOf(r)<0&&Co.call(e,r)&&(n[r]=e[r])}catch(a){i.e(a)}finally{i.f()}}return n},Io=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Ro=function(e,t,n){return Io(e,t,"read from private field"),n?n.call(e):t.get(e)},Do=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mo=function(e,t,n,r){return Io(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Lo=function(e){return A.exports.isNull(e)||A.exports.isUnd(e)},Wo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height;p(this,e),Do(this,jo,{}),this.width=void 0,this.height=void 0,this.width=n,this.height=r}return d(e,[{key:"isValid",value:function(){return null!==this.width&&null!==this.height}},{key:"onResize",get:function(){return Ro(this,jo)},set:function(e){var t=this;if("undefined"!=typeof window){var n=window.navigator.userAgent||window.navigator.vendor;window.removeEventListener("resize",Ro(this,jo)),Mo(this,jo,(function(){var n=t.width,r=t.height;t.width=window.innerWidth,t.height=window.innerHeight,e({width:t.width,height:t.height,previousWidth:n,previousHeight:r})}));var r=window.screen.width,o=window.screen.height,i=function e(n){window.removeEventListener("resize",Ro(t,jo)),window.removeEventListener("unload",e)};"undefined"!=typeof window&&(window.addEventListener("resize",Ro(this,jo)),window.addEventListener("unload",i)),/android/i.test(n)&&(window.removeEventListener("resize",Ro(this,jo)),window.removeEventListener("unload",i)),r<o&&(window.removeEventListener("resize",Ro(this,jo)),window.removeEventListener("unload",i))}}},{key:"getWidth",value:function(t,n){return e.getSize(t,this.width,n)}},{key:"getHeight",value:function(t,n){return e.getSize(t,this.height,n)}}],[{key:"applyMinMax",value:function(e){var t=e,n=t.width,r=t.height,o=To(t,["width","height"]);return(Lo(n)||Lo(r))&&(n=innerWidth,r=innerHeight),o.aspectRatio<o.min?n=o.min*r:o.aspectRatio>o.max&&(n=o.max*r),{width:n,height:r}}},{key:"getAspectRatio",value:function(e,t){(Lo(e)||Lo(t))&&(e=innerWidth,t=innerHeight);var n=function e(t,n){return t===n?t:0===t?n:0===n?t:1&~t?1&n?e(t>>1,n):e(t>>1,n>>1)<<1:1&~n?e(t,n>>1):t>n?e(t-n>>1,n):e(n-t>>1,t)}(e,t);return e/n/(t/n)}},{key:"getSize",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.toFixed,i=void 0===o?2:o,a=r.unit;if("0"==e?n=0:"1"==e?n=Number(t):A.exports.isStr(e)?n=_o(e)?e.replace(/[a-zA-Z]+/gi,""):Number(e)*t:A.exports.isNum(e)&&(n=So(e)?e*t:e,n=e*t),Lo(n))return n;switch(a){case"noodl":return(Number(n)/t).toFixed(i);case"px":return"".concat(Number(n).toFixed(i),"px");default:return Number(n).toFixed(i)}}},{key:"isNil",value:function(e,t){return null===e||A.exports.isUnd(e)||"auto"===e||""===e||e==="0".concat(t)}},{key:"isNoodlUnit",value:function(e){return A.exports.isStr(e)&&!/[a-zA-Z]/i.test(e)&&!Number.isNaN(Number(e))}},{key:"toNum",value:function(e){return A.exports.isNum(e)?e:A.exports.isStr(e)?Number(e.replace(/[a-zA-Z]/gi,"")):Number(String(e))}}]),e}(),Bo=Wo;jo=new WeakMap;var Uo,Fo,Go,Vo,zo,Ko,Ho=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},qo=function(e,t,n){return Ho(e,t,"read from private field"),n?n.call(e):t.get(e)},Jo=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xo=function(e,t,n,r){return Ho(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},$o=function(e){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bo,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.id,i=void 0===o?Zn():o,a=r.name;p(this,t),Jo(this,Uo,(function(){return[]})),Jo(this,Fo,{PAGE_CHANGED:[]}),Jo(this,Go,new Map),Jo(this,Vo,void 0),Jo(this,zo,""),this.history=[],Jo(this,Ko,(function(t){return function(n,r){var o,i;return Promise.all(null==(i=null==(o=qo(e,Fo).PAGE_CHANGED)?void 0:o.map)?void 0:i.call(o,(function(e){return null==e?void 0:e(n,r)}))),null==t?void 0:t(n,r)}})),Xo(this,Vo,i),this.created=Date.now(),a&&Xo(this,zo,a),this.viewport=n}return d(t,[{key:e,value:function(){return this.toJSON()}},{key:"key",get:function(){return"".concat(this.id,"-").concat(this.created)}},{key:"id",get:function(){return qo(this,Vo)}},{key:"components",get:function(){return qo(this,Uo).call(this)||[]}},{key:"onChange",get:function(){return qo(this,Go)}},{key:"page",get:function(){return qo(this,zo)}},{key:"page",set:function(e){if(qo(this,zo)!==e){var t=qo(this,zo);if(Xo(this,zo,e),this.history.push(e),this.history.length>10)for(;this.history.length>10;)this.history.shift();var n,r=g(qo(this,Go).values());try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(o){r.e(o)}finally{r.f()}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i;null==(i=null==(o=qo(this,Fo)[e])?void 0:o.forEach)||i.call(o,(function(e){return null==e?void 0:e.apply(void 0,n)}))}},{key:"on",value:function(e,t){return t&&qo(this,Fo)[e].push(t),this}},{key:"toJSON",value:function(){var e,t;return{created:this.created,components:this.components,currentPage:this.page,history:this.history,id:qo(this,Vo),viewport:{width:(null==(e=this.viewport)?void 0:e.width)||null,height:(null==(t=this.viewport)?void 0:t.height)||null}}}},{key:"toString",value:function(){var e;return JSON.stringify(null==(e=this.toJSON)?void 0:e.call(this),null,2)}},{key:"use",value:function(e){return"function"==typeof e?Xo(this,Uo,e):"object"==typeof e&&"onChange"in e&&!qo(this,Go).has(e.onChange.id)&&qo(this,Go).set(e.onChange.id,qo(this,Ko).call(this,e.onChange.fn)),this}}]),t}(Symbol.for("nodejs.util.inspect.custom"));Uo=new WeakMap,Fo=new WeakMap,Go=new WeakMap,Vo=new WeakMap,zo=new WeakMap,Ko=new WeakMap,$o._id="root";var Qo,Yo,Zo,ei,ti=Object.defineProperty,ni=Object.defineProperties,ri=Object.getOwnPropertyDescriptors,oi=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,ci=function(e,t,n){return t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},li=function(e,t){for(var n in t||(t={}))ii.call(t,n)&&ci(e,n,t[n]);if(oi){var r,o=g(oi(t));try{for(o.s();!(r=o.n()).done;)n=r.value,ai.call(t,n)&&ci(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},si=function(e,t){return ni(e,ri(t))},ui=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},pi=function(e,t,n){return ui(e,t,"read from private field"),n?n.call(e):t.get(e)},di=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},fi=function(e,t){function n(){var e,t=this;if(p(this,n),di(this,Qo,(s(e={},Dr.page.hooks.PAGE_CREATED,[]),s(e,Dr.page.hooks.PAGE_REMOVED,[]),e)),di(this,Yo,new Map),di(this,Zo,{created:new Map,removed:new Map}),di(this,ei,(function(e,n){var r,o;null==(o=null==(r=pi(t,Qo)[e])?void 0:r.forEach)||o.call(r,(function(e){return null==e?void 0:e(n)}))})),n._inst)return n._inst;n._inst=this,this.on("PAGE_CREATED",(function(e){var n=e.page;t.state.created.set(n.created,{startPage:n.page,endPage:""})})),this.on("PAGE_REMOVED",(function(e){t.state.removed.set(e.created,si(li({},t.state.created.get(e.created)),{endPage:e.page})),t.state.created.delete(e.created)}))}return d(n,[{key:e,value:function(){return this.toJSON()}},{key:t,value:function(){var e=f(pi(this,Yo)).reverse();return{next:function(){return{value:e.pop(),done:!e.length}}}}},{key:"length",get:function(){return pi(this,Yo).size}},{key:"hooks",get:function(){return pi(this,Qo)}},{key:"state",get:function(){return pi(this,Zo)}},{key:"clear",value:function(){var e,t=g(pi(this,Yo));try{for(t.s();!(e=t.n()).done;){var n=v(e.value,2),r=n[0],o=n[1].page;A.exports.isArr(o.components)&&(o.components.length=0),pi(this,Yo).delete(r)}}catch(i){t.e(i)}finally{t.f()}return A.exports.forEach((function(e){return e.length=0}),A.exports.values(pi(this,Qo))),this}},{key:"create",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.name,o=t.viewport;n=n||(pi(this,Yo).size?void 0:"root");var i=new $o(o,{id:n,name:r});t.onChange&&i.use({onChange:{id:t.onChange.id||"",fn:t.onChange.fn}}),pi(this,Yo).set(i.id,{page:i});var a={page:i};return or(t.component)&&(a.component=t.component),pi(this,ei).call(this,Dr.page.hooks.PAGE_CREATED,a),null==(e=pi(this,Yo).get(i.id))?void 0:e.page}},{key:"get",value:function(e){return e?pi(this,Yo).get(e):f(pi(this,Yo).values())}},{key:"has",value:function(e){return pi(this,Yo).has(e)}},{key:"forEach",value:function(e){A.exports.forEach(e,f(pi(this,Yo).values()))}},{key:"on",value:function(e,t){var n,r;return null==(r=null==(n=pi(this,Qo)[e])?void 0:n.push)||r.call(n,t),this}},{key:"remove",value:function(e){return A.exports.isNil(e)||pi(this,Yo).has(e.id)&&pi(this,Yo).delete(e.id)&&pi(this,ei).call(this,Dr.page.hooks.PAGE_REMOVED,e),this}},{key:"toJSON",value:function(){return A.exports.reduce(f(pi(this,Yo).values()),(function(e,t){if(!t)return e;var n=t.page,r=n.page||"unknown";return e.ids.includes(n.id)||e.ids.push(n.id),e.pageNames.includes(r)||e.pageNames.push(r),e}),{ids:[],length:this.length,pageNames:[]})}}]),n}(Symbol.for("nodejs.util.inspect.custom"),Symbol.iterator),vi=fi;Qo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,ei=new WeakMap;var hi,gi,yi,mi=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},bi=function(e,t,n){return mi(e,t,"read from private field"),n?n.call(e):t.get(e)},xi=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},wi=["head","body-top","body-bottom"],Oi=function(e){function t(){p(this,t),xi(this,hi,new Map),xi(this,gi,new Map),xi(this,yi,new Map)}return d(t,[{key:e,value:function(){var e=[].concat(f(bi(this,hi).values()),f(bi(this,gi).values()),f(bi(this,yi).values())).reverse();return{next:function(){return{value:e.pop(),done:!e.length}}}}},{key:"length",get:function(){return bi(this,hi).size+bi(this,gi).size+bi(this,yi).size}},{key:"add",value:function(e,t){if(!wi.includes(e))throw new Error('Invalid plugin location "'.concat(e,'". Available options are: ').concat(wi.join(", ")));var n=t.id||"";return"head"===e?bi(this,hi).set(n,t):"body-top"===e?bi(this,gi).set(n,t):"body-bottom"===e&&bi(this,yi).set(n,t),t}},{key:"clear",value:function(){return bi(this,hi).clear(),bi(this,gi).clear(),bi(this,yi).clear(),this}},{key:"get",value:function(e){switch(e){case"head":return bi(this,hi);case"body-top":return bi(this,gi);case"body-bottom":return bi(this,yi);default:return[].concat(f(bi(this,hi).values()),f(bi(this,gi).values()),f(bi(this,yi).values()))}}},{key:"has",value:function(e){return"string"==typeof e&&(bi(this,hi).has(e)||bi(this,gi).has(e)||bi(this,yi).has(e))}},{key:"remove",value:function(e){if("string"!=typeof e)return null;for(var t=0,n=[bi(this,hi),bi(this,gi),bi(this,yi)];t<n.length;t++){var r=n[t];if(r.has(e)){var o=r.get(e);return r.delete(e),o||null}}return null}}]),t}(Symbol.iterator);hi=new WeakMap,gi=new WeakMap,yi=new WeakMap;var Ei,ki=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Si=function(e,t,n){return ki(e,t,"read from private field"),n?n.call(e):t.get(e)},_i=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pi=function(){function e(){if(p(this,e),_i(this,Ei,new Map),e._inst)return e._inst;e._inst=this}return d(e,[{key:"clear",value:function(){return Si(this,Ei).clear(),this}},{key:"has",value:function(e){return!!e&&Si(this,Ei).has(e)}},{key:"get",value:function(e){return e?Si(this,Ei).get(e):Si(this,Ei)}},{key:"set",value:function(e,t){return Si(this,Ei).set(e,t),t}},{key:"remove",value:function(e){return Si(this,Ei).delete(e),this}}]),e}();Ei=new WeakMap;var ji,Ni,Ai=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Ci=function(e,t,n){return Ai(e,t,"read from private field"),n?n.call(e):t.get(e)},Ti=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ii=function(){function e(){if(p(this,e),Ti(this,ji,new Map),Ti(this,Ni,{register:new Map}),e._inst)return e._inst;e._inst=this}return d(e,[{key:"clear",value:function(){return Ci(this,ji).clear(),this}},{key:"get",value:function(e){return e?Ci(this,ji).get(e):Ci(this,ji)}},{key:"has",value:function(e){return Ci(this,ji).has(e)}},{key:"set",value:function(e,t){return Ci(this,ji).set(e,t),this}},{key:"getHandler",value:function(e,t){if("register"===e)return Ci(this,Ni).register.get(t)}},{key:"useHandler",value:function(e,t){return"register"===e&&Ci(this,Ni).register.set(t.event,t.fn),this}}]),e}();ji=new WeakMap,Ni=new WeakMap;var Ri,Di=Object.defineProperty,Mi=Object.defineProperties,Li=Object.getOwnPropertyDescriptors,Wi=Object.getOwnPropertySymbols,Bi=Object.prototype.hasOwnProperty,Ui=Object.prototype.propertyIsEnumerable,Fi=function(e,t,n){return t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Gi=function(e,t){for(var n in t||(t={}))Bi.call(t,n)&&Fi(e,n,t[n]);if(Wi){var r,o=g(Wi(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Ui.call(t,n)&&Fi(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Vi=function(e,t){return Mi(e,Li(t))},zi=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Ki=function(e,t,n){return zi(e,t,"read from private field"),n?n.call(e):t.get(e)},Hi=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qi=function(e,t,n,r){return zi(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Ji=function(e){a(n,e);var t=h(n);function n(e,r){var i,a,c;return p(this,n),r=Vi(Gi({},r),{actionType:"emit"}),i=t.call(this,e,r),Hi(o(i),Ri,void 0),i.actions=(null==(a=null==r?void 0:r.emit)?void 0:a.actions)||(null==r?void 0:r.actions)||[],i.dataKey=(null==(c=null==r?void 0:r.emit)?void 0:c.dataKey)||(null==r?void 0:r.dataKey),i}return d(n,[{key:"executor",get:function(){return Ki(this,Ri)},set:function(e){qi(this,Ri,e)}},{key:"snapshot",value:function(){return Vi(Gi({},i(l(n.prototype),"snapshot",this).call(this)),{dataKey:this.dataKey,actions:this.actions})}}]),n}(m.Action);Ri=new WeakMap;var Xi=Ft;function $i(){this.__data__=new Xi,this.size=0}function Qi(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Yi(e){return this.__data__.get(e)}function Zi(e){return this.__data__.has(e)}var ea=Ft,ta=Gt,na=pn,ra=200;function oa(e,t){var n=this.__data__;if(n instanceof ea){var r=n.__data__;if(!ta||r.length<ra-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new na(r)}return n.set(e,t),this.size=n.size,this}var ia=Ft,aa=$i,ca=Qi,la=Yi,sa=Zi,ua=oa;function pa(e){var t=this.__data__=new ia(e);this.size=t.size}pa.prototype.clear=aa,pa.prototype.delete=ca,pa.prototype.get=la,pa.prototype.has=sa,pa.prototype.set=ua;var da=pa;function fa(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var va=fa,ha=Je,ga=function(){try{var e=ha(Object,"defineProperty");return e({},"",{}),e}catch(j){}}(),ya=ga;function ma(e,t,n){"__proto__"==t&&ya?ya(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ba=ma,xa=ba,wa=Ot,Oa=Object.prototype.hasOwnProperty;function Ea(e,t,n){var r=e[t];(!Oa.call(e,t)||!wa(r,n)||void 0===n&&!(t in e))&&xa(e,t,n)}var ka=Ea,Sa=ka,_a=ba;function Pa(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?_a(n,c,l):Sa(n,c,l)}return n}var ja=Pa;function Na(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Aa=Na,Ca=ee,Ta=ne,Ia="[object Arguments]";function Ra(e){return Ta(e)&&Ca(e)==Ia}var Da=Ra,Ma=ne,La=Object.prototype,Wa=La.hasOwnProperty,Ba=La.propertyIsEnumerable,Ua=Da(function(){return arguments}())?Da:function(e){return Ma(e)&&Wa.call(e,"callee")&&!Ba.call(e,"callee")},Fa=Ua,Ga={exports:{}};function Va(){return!1}var za=Va;!function(e,t){var n=M,r=za,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||r;e.exports=c}(Ga,Ga.exports);var Ka=9007199254740991,Ha=/^(?:0|[1-9]\d*)$/;function qa(e,t){var n=typeof e;return!!(t=null==t?Ka:t)&&("number"==n||"symbol"!=n&&Ha.test(e))&&e>-1&&e%1==0&&e<t}var Ja=qa,Xa=9007199254740991;function $a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Xa}var Qa=$a,Ya=ee,Za=Qa,ec=ne,tc="[object Arguments]",nc="[object Array]",rc="[object Boolean]",oc="[object Date]",ic="[object Error]",ac="[object Function]",cc="[object Map]",lc="[object Number]",sc="[object Object]",uc="[object RegExp]",pc="[object Set]",dc="[object String]",fc="[object WeakMap]",vc="[object ArrayBuffer]",hc="[object DataView]",gc="[object Float64Array]",yc="[object Int8Array]",mc="[object Int16Array]",bc="[object Int32Array]",xc="[object Uint8Array]",wc="[object Uint8ClampedArray]",Oc="[object Uint16Array]",Ec="[object Uint32Array]",kc={};function Sc(e){return ec(e)&&Za(e.length)&&!!kc[Ya(e)]}kc["[object Float32Array]"]=kc[gc]=kc[yc]=kc[mc]=kc[bc]=kc[xc]=kc[wc]=kc[Oc]=kc[Ec]=!0,kc[tc]=kc[nc]=kc[vc]=kc[rc]=kc[hc]=kc[oc]=kc[ic]=kc[ac]=kc[cc]=kc[lc]=kc[sc]=kc[uc]=kc[pc]=kc[dc]=kc[fc]=!1;var _c=Sc;function Pc(e){return function(t){return e(t)}}var jc=Pc,Nc={exports:{}};!function(e,t){var n=I,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}(Nc,Nc.exports);var Ac=_c,Cc=jc,Tc=Nc.exports,Ic=Tc&&Tc.isTypedArray,Rc=Ic?Cc(Ic):Ac,Dc=Aa,Mc=Fa,Lc=T,Wc=Ga.exports,Bc=Ja,Uc=Rc,Fc=Object.prototype.hasOwnProperty;function Gc(e,t){var n=Lc(e),r=!n&&Mc(e),o=!n&&!r&&Wc(e),i=!n&&!r&&!o&&Uc(e),a=n||r||o||i,c=a?Dc(e.length,String):[],l=c.length;for(var s in e)(t||Fc.call(e,s))&&(!a||!("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Bc(s,l)))&&c.push(s);return c}var Vc=Gc,zc=Object.prototype;function Kc(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||zc)}var Hc=Kc;function qc(e,t){return function(n){return e(t(n))}}var Jc=qc,Xc=Jc(Object.keys,Object),$c=Hc,Qc=Xc,Yc=Object.prototype.hasOwnProperty;function Zc(e){if(!$c(e))return Qc(e);var t=[];for(var n in Object(e))Yc.call(e,n)&&"constructor"!=n&&t.push(n);return t}var el=ke,tl=Qa;function nl(e){return null!=e&&tl(e.length)&&!el(e)}var rl=nl,ol=Vc,il=Zc,al=rl;function cl(e){return al(e)?ol(e):il(e)}var ll=cl,sl=ja,ul=ll;function pl(e,t){return e&&sl(t,ul(t),e)}var dl=pl;function fl(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var vl=he,hl=Hc,gl=fl,yl=Object.prototype.hasOwnProperty;function ml(e){if(!vl(e))return gl(e);var t=hl(e),n=[];for(var r in e)"constructor"==r&&(t||!yl.call(e,r))||n.push(r);return n}var bl=Vc,xl=ml,wl=rl;function Ol(e){return wl(e)?bl(e,!0):xl(e)}var El=Ol,kl=ja,Sl=El;function _l(e,t){return e&&kl(t,Sl(t),e)}var Pl=_l,jl={exports:{}};function Nl(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}!function(e,t){var n=M,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}e.exports=c}(jl,jl.exports);var Al=Nl;function Cl(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Tl(){return[]}var Il=Tl,Rl=Cl,Dl=Il,Ml=Object.prototype.propertyIsEnumerable,Ll=Object.getOwnPropertySymbols,Wl=Ll?function(e){return null==e?[]:(e=Object(e),Rl(Ll(e),(function(t){return Ml.call(e,t)})))}:Dl,Bl=ja,Ul=Wl;function Fl(e,t){return Bl(e,Ul(e),t)}var Gl=Fl;function Vl(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var zl=Vl,Kl=Jc(Object.getPrototypeOf,Object),Hl=zl,ql=Kl,Jl=Wl,Xl=Il,$l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Hl(t,Jl(e)),e=ql(e);return t}:Xl,Ql=ja,Yl=$l;function Zl(e,t){return Ql(e,Yl(e),t)}var es=Zl,ts=zl,ns=T;function rs(e,t,n){var r=t(e);return ns(e)?r:ts(r,n(e))}var os=rs,is=Wl,as=ll;function cs(e){return os(e,as,is)}var ls=cs,ss=rs,us=$l,ps=El;function ds(e){return ss(e,ps,us)}var fs=ds,vs=Je(M,"DataView"),hs=Je(M,"Promise"),gs=Je(M,"Set"),ys=Je(M,"WeakMap"),ms=vs,bs=Gt,xs=hs,ws=gs,Os=ys,Es=ee,ks=Ce,Ss="[object Map]",_s="[object Object]",Ps="[object Promise]",js="[object Set]",Ns="[object WeakMap]",As="[object DataView]",Cs=ks(ms),Ts=ks(bs),Is=ks(xs),Rs=ks(ws),Ds=ks(Os),Ms=Es;(ms&&Ms(new ms(new ArrayBuffer(1)))!=As||bs&&Ms(new bs)!=Ss||xs&&Ms(xs.resolve())!=Ps||ws&&Ms(new ws)!=js||Os&&Ms(new Os)!=Ns)&&(Ms=function(e){var t=Es(e),n=t==_s?e.constructor:void 0,r=n?ks(n):"";if(r)switch(r){case Cs:return As;case Ts:return Ss;case Is:return Ps;case Rs:return js;case Ds:return Ns}return t});var Ls=Ms,Ws=Object.prototype.hasOwnProperty;function Bs(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ws.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Us=Bs,Fs=M.Uint8Array;function Gs(e){var t=new e.constructor(e.byteLength);return new Fs(t).set(new Fs(e)),t}var Vs=Gs,zs=Vs;function Ks(e,t){var n=t?zs(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Hs=Ks,qs=/\w*$/;function Js(e){var t=new e.constructor(e.source,qs.exec(e));return t.lastIndex=e.lastIndex,t}var Xs=Js,$s=L,Qs=$s?$s.prototype:void 0,Ys=Qs?Qs.valueOf:void 0;function Zs(e){return Ys?Object(Ys.call(e)):{}}var eu=Vs;function tu(e,t){var n=t?eu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var nu=tu,ru=Vs,ou=Hs,iu=Xs,au=Zs,cu=nu,lu="[object Boolean]",su="[object Date]",uu="[object Map]",pu="[object Number]",du="[object RegExp]",fu="[object Set]",vu="[object String]",hu="[object Symbol]",gu="[object ArrayBuffer]",yu="[object DataView]",mu="[object Float32Array]",bu="[object Float64Array]",xu="[object Int8Array]",wu="[object Int16Array]",Ou="[object Int32Array]",Eu="[object Uint8Array]",ku="[object Uint8ClampedArray]",Su="[object Uint16Array]",_u="[object Uint32Array]";function Pu(e,t,n){var r=e.constructor;switch(t){case gu:return ru(e);case lu:case su:return new r(+e);case yu:return ou(e,n);case mu:case bu:case xu:case wu:case Ou:case Eu:case ku:case Su:case _u:return cu(e,n);case uu:return new r;case pu:case vu:return new r(e);case du:return iu(e);case fu:return new r;case hu:return au(e)}}var ju=Pu,Nu=he,Au=Object.create,Cu=function(){function e(){}return function(t){if(!Nu(t))return{};if(Au)return Au(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Tu=Cu,Iu=Kl,Ru=Hc;function Du(e){return"function"!=typeof e.constructor||Ru(e)?{}:Tu(Iu(e))}var Mu=Du,Lu=Ls,Wu=ne,Bu="[object Map]";function Uu(e){return Wu(e)&&Lu(e)==Bu}var Fu=Uu,Gu=jc,Vu=Nc.exports,zu=Vu&&Vu.isMap,Ku=zu?Gu(zu):Fu,Hu=Ls,qu=ne,Ju="[object Set]";function Xu(e){return qu(e)&&Hu(e)==Ju}var $u=Xu,Qu=jc,Yu=Nc.exports,Zu=Yu&&Yu.isSet,ep=Zu?Qu(Zu):$u,tp=da,np=va,rp=ka,op=dl,ip=Pl,ap=jl.exports,cp=Al,lp=Gl,sp=es,up=ls,pp=fs,dp=Ls,fp=Us,vp=ju,hp=Mu,gp=T,yp=Ga.exports,mp=Ku,bp=he,xp=ep,wp=ll,Op=El,Ep=1,kp=2,Sp=4,_p="[object Arguments]",Pp="[object Array]",jp="[object Boolean]",Np="[object Date]",Ap="[object Error]",Cp="[object Function]",Tp="[object GeneratorFunction]",Ip="[object Map]",Rp="[object Number]",Dp="[object Object]",Mp="[object RegExp]",Lp="[object Set]",Wp="[object String]",Bp="[object Symbol]",Up="[object WeakMap]",Fp="[object ArrayBuffer]",Gp="[object DataView]",Vp="[object Float32Array]",zp="[object Float64Array]",Kp="[object Int8Array]",Hp="[object Int16Array]",qp="[object Int32Array]",Jp="[object Uint8Array]",Xp="[object Uint8ClampedArray]",$p="[object Uint16Array]",Qp="[object Uint32Array]",Yp={};function Zp(e,t,n,r,o,i){var a,c=t&Ep,l=t&kp,s=t&Sp;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!bp(e))return e;var u=gp(e);if(u){if(a=fp(e),!c)return cp(e,a)}else{var p=dp(e),d=p==Cp||p==Tp;if(yp(e))return ap(e,c);if(p==Dp||p==_p||d&&!o){if(a=l||d?{}:hp(e),!c)return l?sp(e,ip(a,e)):lp(e,op(a,e))}else{if(!Yp[p])return o?e:{};a=vp(e,p,c)}}i||(i=new tp);var f=i.get(e);if(f)return f;i.set(e,a),xp(e)?e.forEach((function(r){a.add(Zp(r,t,n,r,e,i))})):mp(e)&&e.forEach((function(r,o){a.set(o,Zp(r,t,n,o,e,i))}));var v=u?void 0:(s?l?pp:up:l?Op:wp)(e);return np(v||e,(function(r,o){v&&(r=e[o=r]),rp(a,o,Zp(r,t,n,o,e,i))})),a}Yp[_p]=Yp[Pp]=Yp[Fp]=Yp[Gp]=Yp[jp]=Yp[Np]=Yp[Vp]=Yp[zp]=Yp[Kp]=Yp[Hp]=Yp[qp]=Yp[Ip]=Yp[Rp]=Yp[Dp]=Yp[Mp]=Yp[Lp]=Yp[Wp]=Yp[Bp]=Yp[Jp]=Yp[Xp]=Yp[$p]=Yp[Qp]=!0,Yp[Ap]=Yp[Cp]=Yp[Up]=!1;var ed=Zp,td=1,nd=4;function rd(e){return ed(e,td|nd)}var od=rd,id=ka,ad=Ln,cd=Ja,ld=he,sd=Fn;function ud(e,t,n,r){if(!ld(e))return e;for(var o=-1,i=(t=ad(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var l=sd(t[o]),s=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var u=c[l];void 0===(s=r?r(u,l,c):void 0)&&(s=ld(u)?u:cd(t[o+1])?[]:{})}id(c,l,s),c=c[l]}return e}var pd=ud;function dd(e,t,n){return null==e?e:pd(e,t,n)}var fd=dd,vd=Object.defineProperty,hd=Object.defineProperties,gd=Object.getOwnPropertyDescriptors,yd=Object.getOwnPropertySymbols,md=Object.prototype.hasOwnProperty,bd=Object.prototype.propertyIsEnumerable,xd=function(e,t,n){return t in e?vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},wd=function(e,t){return hd(e,gd(t))}(function(e,t){for(var n in t||(t={}))md.call(t,n)&&xd(e,n,t[n]);if(yd){var r,o=g(yd(t));try{for(o.s();!(r=o.n()).done;)n=r.value,bd.call(t,n)&&xd(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e}({},t.Identify),{componentReference:function(e){return!!(A.exports.isStr(e)&&t.Identify.reference(e)||A.exports.isObj(e)&&t.Identify.reference(e.type))}});function Od(e){var t=e.value,n=e.page,r=e.root,o=e.localKey||(null==n?void 0:n.page)||"";for(t=rr(r,o,t);A.exports.isStr(t)&&wd.reference(t);)t=rr(r,o,t);return t}var Ed,kd,Sd,_d,Pd=Object.defineProperty,jd=Object.defineProperties,Nd=Object.getOwnPropertyDescriptors,Ad=Object.getOwnPropertySymbols,Cd=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,Id=function(e,t,n){return t in e?Pd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Rd=function(e,t){for(var n in t||(t={}))Cd.call(t,n)&&Id(e,n,t[n]);if(Ad){var r,o=g(Ad(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Td.call(t,n)&&Id(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Dd=function(e,t){return jd(e,Nd(t))},Md=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Ld=function(e,t,n){return Md(e,t,"read from private field"),n?n.call(e):t.get(e)},Wd=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Bd=function(e,t,n,r){return Md(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Ud=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Fd=function(){function e(){p(this,e),Wd(this,Ed,{}),Wd(this,kd,null)}return d(e,[{key:"next",get:function(){return Ld(this,kd)},set:function(e){Bd(this,kd,e)}},{key:"resolver",get:function(){return Ld(this,Ed)},set:function(e){Bd(this,Ed,e)}}]),e}();Ed=new WeakMap,kd=new WeakMap;var Gd=function(e){a(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return p(this,n),e=t.call(this),Wd(o(e),Sd,!1),Wd(o(e),_d,void 0),Bd(o(e),_d,r),i&&e.setResolver(i),e}return d(n,[{key:"internal",get:function(){return Ld(this,Sd)},set:function(e){if(!e)throw new Error("An internal resolver cannot disable its internal behavior");Bd(this,Sd,e)}},{key:"name",get:function(){return Ld(this,_d)}},{key:"setResolver",value:function(e){return this.resolver=e,this}},{key:"resolve",value:function(e,t){return Ud(this,null,u.mark((function n(){var r,o;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return o=function(n){return Ud(this,null,u.mark((function r(){var o,i;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return A.exports.isObj(n)&&(t=Rd(Rd({},t),n)),r.next=3,null==(i=null==(o=this.next)?void 0:o.resolve)?void 0:i.call(o,e,t);case 3:case"end":return r.stop()}}),r,this)})))}.bind(this),n.next=5,null==(r=this.resolver)?void 0:r.call(this,e,t,o);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"toString",value:function(){return"Resolver [".concat(Ld(this,_d),"]")}}],[{key:"withHelpers",value:function(e){return function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Dd(Rd({},n[1]),{resolveReference:function(e,t){var r,o,i,a;return t=arguments.length>1?t:e,Od({localKey:(null==(o=null==(r=n[1])?void 0:r.page)?void 0:o.page)||"",page:null==(i=n[1])?void 0:i.page,root:null==(a=n[1])?void 0:a.getRoot,value:t})}});return e(n[0],o,n[2])}return t}(e)}}]),n}(Fd);Sd=new WeakMap,_d=new WeakMap;var Vd={exports:{}};!function(e){!function(t,n){e.exports?e.exports=n():t.log=n()}(_,(function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function c(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(c.call(this,n,r),this[e].apply(this,arguments))}}function s(e,t,n){return a(e)||l.apply(this,arguments)}function u(e,n,o){var i,a=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(o){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(o){}}}function p(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(o){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(o){}return void 0===a.levels[e]&&(e=void 0),e}}function d(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||s,a.getLevel=function(){return i},a.setLevel=function(n,r){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==r&&u(n),c.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,p()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),d()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=p();null==f&&(f=n),a.setLevel(f,!1)}var p=new u,d={};p.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,p.getLevel(),p.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return p.noConflict=function(){return typeof window!==t&&window.log===p&&(window.log=f),p},p.getLoggers=function(){return d},p.default=p,p}))}(Vd);var zd=Vd.exports;function Kd(e){var n,r,o,i,a,c;if(c=t.Identify.component.listItem(e)?e:Jd(e,t.Identify.component.listItem),t.Identify.component.listItem(c)){var l=$d(c);o=(A.exports.isNum(c.get("index"))?c.get("index"):c.get("listIndex"))||0;var s=c.parent;if(or(s)&&(n=s.blueprint.listObject||s.get("listObject")),A.exports.isStr(n)&&n.startsWith("itemObject")&&or(s)){var u=s.parent;if(or(u)){i=(i=A.exports.isNum(u.get("index"))?u.get("index"):u.get("listIndex"))||0;var p=n.toString();p=y.excludeIteratorVar(p,l),a=Xd(u),n=qn(a,p)}}A.exports.isArr(n)&&(r={length:n.length,index:o+1,dataObject:n},A.exports.isNum(i)&&(r.parentIndex=i+1,r.parent=a))}return r||null}function Hd(e){var n=(null==e?void 0:e.if)||[],r=v(n,3),o=r[0],i=r[1],a=r[2];return t.Identify.isBoolean(o)?t.Identify.isBooleanTrue(o)?i:a:A.exports.isFnc(o)?o()?i:a:o?i:a}function qd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(wd.localReference(t)){if(n)return qn(e[n],y.toDataPath(y.trimReference(t)))}else if(wd.rootReference(t))return qn(e,y.toDataPath(y.trimReference(t)));return t}function Jd(e,t){if(!e)return null;var n=null==e?void 0:e.parent;if(t(n))return n;for(;n;){if(t(n.parent))return n.parent;n=n.parent}return n||null}function Xd(e){var n,r;if(!or(e)||!nf(e))return null;var o,i,a=$d(e);if(or(i=t.Identify.component.listItem(e)?e:Jd(e,t.Identify.component.listItem))){if(a&&i.props[a])return i.props[a];var c=i.parent,l=A.exports.isNum(i.get("index"))?i.get("index"):i.get("listIndex");if(l=l||0,or(c)&&(o=t.Identify.component.listItem(e)?i.get(a):null==(n=c.get("listObject"))?void 0:n[l]),!o&&A.exports.isNum(l)){var s=or(c)?null==(r=c.blueprint)?void 0:r.listObject:void 0;null!=s&&s.length&&(o=s[l])}}return o||null}function $d(e){var n,r,o;return or(e)?t.Identify.component.list(e)?(null==(n=e.blueprint)?void 0:n.iteratorVar)||"":(null==(o=null==(r=Jd(e,(function(e){return t.Identify.component.list(e)})))?void 0:r.blueprint)?void 0:o.iteratorVar)||"":""}function Qd(e){if(!e)return[];var t=[e];return cf(e,(function(e){return t.push(e)})),t}function Yd(e){if("undefined"!=typeof window){if(e)return"string"==typeof e&&(e=[e]),A.exports.isArr(e)?e.reduce((function(e,t){return e[t]=document.querySelector('[data-key="'.concat(t,'"]')),e}),{}):[];var t={},n=document.querySelectorAll("[data-key]");return n&&n.forEach((function(e){var n=e.dataset;n.key&&n.name?t[n.name]=document.querySelector('[data-key="'.concat(n.key,'"]')):zd.error("%cInvalid data name and/or data key","color:#e74c3c;font-weight:bold;",{dataset:n,node:e})})),t}}function Zd(e){if(e){if("string"==typeof e){var t=e;e=document.querySelector('[data-key="'.concat(t,'"]'))}if(e instanceof Element)switch(e.constructor.name){case"HTMLInputElement":case"HTMLSelectElement":case"HTMLTextAreaElement":return e.value;case"HTMLButtonElement":zd.error("%c[getDataValue] Tried to retrieve a data value from a button element but there is no implementation for it. Perhaps it needs to be supported?","color:#e74c3c;font-weight:bold;",{node:e})}}return""}function ef(e){var t,n={};if(A.exports.isArr(e))t=function(e){return n[e]=Zd(e)},e.forEach(t);else if(A.exports.isObj(e))t=function(t){return n[t]=Zd((null==e?void 0:e[t])||"")},Object.keys(e||{}).forEach(t);else{if(arguments.length)return zd.error("%c[getDataValues] nodes is not an array or object","color:#e74c3c;font-weight:bold;",e),n;var r=Yd();r&&(t=function(e){var t=r[e];t?n[e]=Zd(t):zd.error("%c[getDataValues] Attempted to find a node for key ".concat(e," but received null or undefined. The program should not have gotten here"),"color:#e74c3c;font-weight:bold;",{allNodes:r,node:t,key:e})},Object.keys(r).forEach(t))}return n}function tf(e){return"head"}function nf(e){return!!or(e)&&!!$d(e)}function rf(e){return"chatList"===e.type||"list"===e.type}function of(e,t){var n,r,o=t.page,i=void 0===o?"":o,a=t.root,c=void 0===a?{}:a,l=e.replace(/(\.\.|\.)/,"");return e[0]===(null==(n=e[0])?void 0:n.toLowerCase())?qn(null==c?void 0:c[i],l):e[0]===(null==(r=e[0])?void 0:r.toUpperCase())?qn(c,l):""}function af(e,t){var n,r;return e&&or(t)&&(t.get(e)||t[e]||(t.has(e)||(null==(n=t.props)?void 0:n[e]))&&(null==(r=t.blueprint)?void 0:r[e]))||null}function cf(e,t){var n,r;if(A.exports.isFnc(e)?(n=t,r=e):(n=e,r=t),n&&A.exports.isArr(n.children)){var o,i=g(n.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;null==r||r(a),r&&cf(a,r)}}catch(c){i.e(c)}finally{i.f()}}n=void 0,r=void 0}function lf(e,t){var n="",r="";if(A.exports.isStr(t)){if(n=t,!e)return n||"";A.exports.isStr(e)?/^(http|blob)/i.test(e)?r=e:e.startsWith("~/")||(r=n+e):r="".concat(n).concat(e)}else if(A.exports.isObj(t)){r=e||"";var o=t.dataObject,i=t.iteratorVar,a=void 0===i?"":i;if(A.exports.isStr(r)){if(r.startsWith("http"))return r;A.exports.isObj(o)&&A.exports.isStr(a)&&(a&&r.startsWith(a)&&(r=y.excludeIteratorVar(r,a)||""),r=qn(o,r),A.exports.isStr(r)&&(/^(http|blob)/i.test(r)||r.startsWith("~/"))||(r="".concat(n).concat(r)))}}return r}zd.setDefaultLevel("INFO");var sf=new ho,uf=new Eo,pf=new vi,df=new Oi,ff=new Pi,vf=new Ii,hf={actions:sf,component:uf,page:pf,plugin:df,register:ff,transactions:vf},gf=Object.defineProperty,yf=Object.defineProperties,mf=Object.getOwnPropertyDescriptors,bf=Object.getOwnPropertySymbols,xf=Object.prototype.hasOwnProperty,wf=Object.prototype.propertyIsEnumerable,Of=function(e,t,n){return t in e?gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ef=function(e,t){for(var n in t||(t={}))xf.call(t,n)&&Of(e,n,t[n]);if(bf){var r,o=g(bf(t));try{for(o.s();!(r=o.n()).done;)n=r.value,wf.call(t,n)&&Of(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},kf=function(e,t){return yf(e,mf(t))},Sf=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},_f=new Gd("resolveComponents");_f.setResolver((function(e,n,r){return Sf(void 0,null,u.mark((function o(){var i,a,c,l,p,d,f,v,h,g,m,b,x,w,O,E,k,S,_,P,j,N,C,T,I,R,D,M,L,W,B,U,F,G,V,z,K,H,q,J,X,$,Q,Y,Z,ee,te,ne,re,oe,ie,ae,ce,le,se,ue,pe,de,fe,ve,he,ge,ye,me,be,xe,we,Oe,Ee,ke,Se,_e,Pe,je,Ne,Ae,Ce,Te,Ie,Re,De,Me,Le,We,Be,Ue,Fe,Ge,Ve,ze,Ke,He,qe,Je,Xe,$e,Qe,Ye,Ze,et,tt,nt;return u.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(w=n.callback,O=n.context,E=n.createComponent,k=n.createPage,S=n.createPlugin,_=n.createSrc,P=n.emit,j=n.getAssetsUrl,N=n.getPages,C=n.getRoot,T=n.getRootPage,I=n.on,R=n.page,D=n.createActionChain,M=n.resolveComponents,null==w||w(e),L=null==(i=null==I?void 0:I.createComponent)?void 0:i.call(I,e,Ef({page:R,parent:e.parent},O)),o.t0=A.exports.isPromise(L),!o.t0){o.next=7;break}return o.next=7,L;case 7:if(o.prev=7,W=e.blueprint||{},B=W.style||{},U=W.contentType,F=W.dataKey,G=W.path,V=W.text,z=W.textBoard,K=W.validateField,H=(null==O?void 0:O.iteratorVar)||W.iteratorVar||$d(e),wd.component.popUp(e)&&(q=e.get("message"))&&e.edit("message",q),wd.component.ecosDoc(e)&&(J=e.get("ecosObj"),A.exports.isObj(J)?e.edit({mediaType:null==(a=J.subtype)?void 0:a.mediaType,mimeType:null==(c=J.name)?void 0:c.type,nameField:J.name}):zd.error('%cAn ecosDoc component had an empty "ecosObj" value',"color:#ec0000;",e)),!rf(e)){o.next=31;break}if(X=function(t){var n,r,o=t.page,i="";A.exports.isStr(o)?(i=o,o=t.getRootPage()):go(o)&&(i=o.page);var a,c=null==(r=null==(n=t.component)?void 0:n.props)?void 0:r._ref_;A.exports.isStr(c)&&wd.reference(c)&&(a=qd(t.getRoot(),c,i));var l=a||e.blueprint.listObject||e.get("listObject");return wd.reference(l)&&(e.edit("listObject",Od({localKey:i,root:t.getRoot(),page:o,value:l})),l=e.get("listObject")),l},$=function(e){var t="chatList"===e.type?"chatItem":"children",n=e.blueprint.children,r=od(A.exports.isArr(n)?n[0]:n);return A.exports.isObj(r)&&"chatItem"===t&&(r.type="listItem"),r}(e),e.clear("children"),Q=X(n),A.exports.isStr(Q)&&(H&&Q.startsWith(H)||Q.startsWith(H))&&(Y=Q.toString(),Y=y.excludeIteratorVar(Y,H),Z=Xd(e)||(null==O?void 0:O.dataObject),Q=qn(Z,Y)),!A.exports.isArr(Q)){o.next=31;break}ee=Q.length,te=0;case 20:if(!(te<ee)){o.next=31;break}return ne=Q[te],re={index:te,iteratorVar:H,dataObject:ne},oe=E($,R),(oe=e.createChild(oe)).edit(s({index:te},H,ne)),o.next=27,M({callback:w,components:oe,context:kf(Ef(Ef({},O),re),{path:null!=O&&O.path?O.path.concat("children",te):["children",te]}),on:n.on,page:R});case 27:oe=o.sent;case 28:te++,o.next=20;break;case 31:if(wd.component.listItem(e)&&(ie=function(e,t){var n,r,o,i=e.page,a="";A.exports.isStr(i)?(a=i,i=e.getRootPage()):go(i)&&(a=i.page);var c,l=A.exports.isStr(null==(n=null==t?void 0:t.props)?void 0:n._ref_)?null==(r=null==t?void 0:t.props)?void 0:r._ref_:null==(o=null==t?void 0:t.blueprint)?void 0:o._ref_;return A.exports.isStr(l)&&wd.reference(l)&&(c=qd(e.getRoot(),l,a)),c||t.blueprint.listObject||t.get("listObject")},ae=function e(t,n){for(var r=t;!wd.component.listItem(r);)r=r.parent;var o=r,i=o.get("index")?o.get("index"):o.get("listIndex"),a=null==o?void 0:o.parent;if(wd.component.listLike(a)){var c=ie(n,a);if(A.exports.isStr(c)&&c.startsWith("itemObject")){var l=e(a,n),s=c.toString();s=y.excludeIteratorVar(s,"itemObject"),c=qn(l,s)}if(i&&A.exports.isArr(c))return c[i]}},ce=$d(e),le=null==O?void 0:O.index,se=e.parent,ue=ie(n,se),A.exports.isStr(ue)&&ue.startsWith(ce)&&(pe=ae(se,n),de=ue.toString(),de=y.excludeIteratorVar(ue,ce),ue=qn(pe,de)),le&&A.exports.isArr(ue)&&(fe=ue[le]),O&&A.exports.isObj(fe)&&(O.dataObject=fe)),!wd.component.page(e)){o.next=64;break}for(ve=e.get("path"),(he=go(n.page)&&"root"!==n.page.id?n.page:e.get("page"))||(he=hf.page.has(e.id)?hf.page.get(e.id).page:k(e)),he!==e.get("page")&&e.edit("page",he),!he.viewport&&(he.viewport=new Bo),ge=B.width,ye=B.height,me=0,be=["width","height"];me<be.length;me++)xe=be[me],we="width"===xe?ge:ye,he.viewport[xe]=Bo.isNil(we)?T().viewport[xe]:Number(Bo.getSize(we,null==(l=n.viewport)?void 0:l[xe],{toFixed:2}));if(Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("http")||e.endsWith(".html")},!A.exports.isStr(ve)){o.next=63;break}if(!(Ee=he.page===ve)||Oe(ve)){o.next=42;break}return o.abrupt("return",(A.exports.isObj(L)&&e.edit(L),null==r?void 0:r()));case 42:if(""===he.page&&ve||he.page&&""===ve||Ee||e.get("page")||hf.page.has(e.id)&&e.set("page",hf.page.get(e.id).page),!Ee&&(he.page=ve),ke=function(e){return Sf(void 0,null,u.mark((function t(){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P({type:Br.TRANSACTION,transaction:Ur.REQUEST_PAGE_OBJECT,params:e});case 3:e.emit(Wr.component.page.PAGE_CHANGED),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),zd.error(t.t0 instanceof Error?t.t0:new Error(String(t.t0)));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))},o.prev=44,!N().includes(ve)&&""!==ve){o.next=52;break}if(o.t1=N().includes(he.page),!o.t1){o.next=50;break}return o.next=50,ke(he);case 50:o.next=53;break;case 52:ve.startsWith("http")?he.page=ve:he.page=lf(ve,j());case 53:o.next=59;break;case 55:o.prev=55,o.t2=o.catch(44),Se=o.t2 instanceof Error?o.t2:new Error(String(o.t2)),zd.error("[Page component] Error attempting to get the page object for a page component]: ".concat(Se.message),Se.stack);case 59:_e=function(e,t){return function(){return e(t)}},he.on(Wr.component.page.PAGE_CHANGED,_e(ke,he)),o.next=64;break;case 63:zd.error("%cThe pageName was not a string when resolving the page name for a page component","color:#ec0000;",e.toJSON());case 64:if(!(wd.component.plugin(e)||wd.component.pluginHead(e)||wd.component.pluginBodyTop(e)||wd.component.pluginBodyTail(e))){o.next=107;break}if(!hf.plugin.has(G)){o.next=67;break}return o.abrupt("return",null==r?void 0:r());case 67:return Pe=S(e),e.set("plugin",Pe),o.prev=69,o.t3=lf,o.next=73,_(G,{component:e,key:"path",page:R});case 73:return o.t4=o.sent,o.t5=j(),je=(0,o.t3)(o.t4,o.t5),o.next=78,null==(p=window.fetch)?void 0:p.call(window,je);case 78:if(Ne=o.sent,Ae=null==Ne?void 0:Ne.headers,Ce=(null==(d=null==Ae?void 0:Ae.get)?void 0:d.call(Ae,"Content-Type"))||"",!/(text|javascript)/i.test(Ce)){o.next=89;break}return o.t6=e,o.next=85,null==(f=null==Ne?void 0:Ne.text)?void 0:f.call(Ne);case 85:o.t7=o.sent,o.t6.edit.call(o.t6,"content",o.t7),o.next=94;break;case 89:return o.t8=e,o.next=92,null==(v=null==Ne?void 0:Ne.json)?void 0:v.call(Ne);case 92:o.t9=o.sent,o.t8.edit.call(o.t8,"content",o.t9);case 94:return o.next=96,null==(h=null==Ne?void 0:Ne.json)?void 0:h.call(Ne);case 96:Te=o.sent,Pe&&(Pe.content=e.get("content")),setTimeout((function(){return Sf(void 0,null,u.mark((function t(){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.emit("content",Te||""));case 1:case"end":return t.stop()}}),t)})))})),o.next=104;break;case 100:o.prev=100,o.t10=o.catch(69),Ie=o.t10 instanceof Error?o.t10:new Error(String(o.t10)),zd.error("[".concat(Ie.name,"]: ").concat(Ie.message),Ie);case 104:return o.prev=104,Pe.initiated=!0,o.finish(104);case 107:if(wd.component.label(W)&&"textBoard"in W&&(A.exports.isArr(z)?(A.exports.isStr(V)&&zd.error('%cA component cannot have a "text" and "textBoard" property because they both overlap. The "text" will take precedence.',"color:#ec0000;font-weight:bold;",e.toJSON()),Re=A.exports.isObj(Xd(e))?Xd(e):null==O?void 0:O.dataObject,De=Kd(e),z.forEach((function(r){if(wd.textBoardItem(r)){var o=E("br",R);null==w||w(o),e.createChild(o)}else{var i=null==r?void 0:r.text;if((null==r?void 0:r.dataKey)||i)if(r.dataKey||(r.dataKey=i),H&&(null==r?void 0:r.dataKey.startsWith(H))){var a=y.excludeIteratorVar(null==r?void 0:r.dataKey,H);r.text=a?qn(Re,a):Re}else if(H&&(null==r?void 0:r.dataKey.startsWith("listAttr"))){var c=y.excludeIteratorVar(null==r?void 0:r.dataKey,"listAttr");r.text=c?qn(De,c):De}else{var l=y.findDataValue([function(){return C()},function(){return C()[R.page]}],null==r?void 0:r.dataKey)||r.dataKey;r.text=A.exports.isObj(l)?qn(l,null==r?void 0:r.datKey):l}var u={type:"span",style:Ef(Ef(Ef(Ef(Ef({},"color"in r?{color:ko(r.color||"")}:void 0),"fontSize"in r?{fontSize:-1!=r.fontSize.search(/[a-z]/gi)?r.fontSize:r.fontSize+"px"}:void 0),"fontWeight"in r?{fontWeight:r.fontWeight}:void 0),"left"in r?{marginLeft:r.left.includes("px")?r.left:"".concat(r.left,"px")}:void 0),"top"in r?{marginTop:r.top.includes("px")?r.top:"".concat(r.top,"px")}:void 0),text:"text"in r?r.text:""};t.userEvent.forEach((function(e){null!=r&&r[e]&&(u[e]=null==r?void 0:r[e])}));var p=E(u,R);t.userEvent.forEach((function(e){var t;if(null!=r&&r[e]){var o=n.createActionChain(e,r[e]);null!=(t=n.on)&&t.actionChain&&o.use(n.on.actionChain),p.edit(s({},e,o))}})),e.createChild(p),null==w||w(p)}}))):zd.error('%cExpected textBoard to be an array but received "'.concat(typeof z,'". This part of the component will not be included in the output'),"color:#ec0000;font-weight:bold;",{component:e,textBoard:z})),"timer"===U&&F&&(nf(e)&&(Me=Xd(e)),void 0===Le&&(Me=y.findDataValue([function(){return C()},function(){return C()[R.page]}],F),Le=A.exports.isObj(Me)?qn(Me,F):Me),A.exports.isUnd(Le)?zd.error('%cNo data object or value could be found for a component with contentType: "timer".',"color:#ec0000;",{component:e,dataKey:F,dataObject:Me,dataValue:Le}):A.exports.isObj(Me)&&fd(Me,F,Le)),!K){o.next=119;break}if(We=K,null==K||!K.emit)for(Be=0,Ue=Object.keys(K);Be<Ue.length;Be++)Fe=Ue[Be],wd.reference(Fe)&&(We=qd(C(),Fe,R.page)[0]);return Ge=D("validateField",[{emit:We.emit,actionType:"emit"}]),null!=I&&I.actionChain&&Ge.use(I.actionChain),o.next=116,Ge.execute();case 116:Ve=o.sent,!0===(ze=null==(g=null==Ve?void 0:Ve[0])?void 0:g.result)||"true"===ze?(e.blueprint.style=od(W.validateClass),e.props.style=od(W.validateClass)):(e.blueprint.style=od(W.usuallyClass),e.props.style=od(W.usuallyClass));case 119:if(null==(m=null==W?void 0:W.style)||!m.emit){o.next=127;break}return Ke=W.style.emit,He=D("LoadStyle",[{emit:Ke,actionType:"emit"}]),null!=I&&I.actionChain&&He.use(I.actionChain),o.next=124,He.execute();case 124:if(qe=o.sent,Je=null==(b=null==qe?void 0:qe[0])?void 0:b.result,A.exports.isObj(Je))for(Xe=0,$e=Object.keys(Je);Xe<$e.length;Xe++)Qe=$e[Xe],W.style[Qe]=Je[Qe];case 127:if(rf(e)||wd.component.page(e)||!A.exports.isArr(null==(x=e.blueprint)?void 0:x.children)){o.next=141;break}Ye=e.blueprint.children.length,Ze=0;case 130:if(!(Ze<Ye)){o.next=141;break}return et=e.blueprint.children[Ze],tt=wd.component.page(e.parent)?e.parent.get("page"):R||R,nt=E(et,tt),nt=e.createChild(nt),o.next=136,M({callback:w,components:nt,context:kf(Ef({},O),{path:null!=O&&O.path?O.path.concat("children",Ze):["children",Ze]}),page:tt,on:n.on});case 136:nt=o.sent,!hf.component.has(nt)&&hf.component.add(nt,tt);case 138:Ze++,o.next=130;break;case 141:!hf.component.has(e)&&hf.component.add(e,R),o.next=147;break;case 144:o.prev=144,o.t11=o.catch(7),zd.error(o.t11 instanceof Error?o.t11:new Error(String(o.t11)));case 147:return o.abrupt("return",(A.exports.isObj(L)&&e.edit(L),null==r?void 0:r()));case 148:case"end":return o.stop()}}),o,null,[[7,144],[44,55],[69,100,104,107]])})))}));var Pf=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},jf=new Gd("resolveDataAttribs");jf.setResolver((function(e,n,r){return Pf(void 0,null,u.mark((function o(){var i,a,c,l,s,p,d,f,h,m,b,x,w,O,E,k,S,_,P,j,N,C,T,I,R,D,M,L,W,B,U,F,G,V,z,K,H,q,J,X,$,Q,Y,Z,ee,te,ne,re,oe,ie;return u.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(w=e.blueprint||{},O=n.context,E=n.getAssetsUrl,k=n.getQueryObjects,S=n.getRoot,_=n.page,P=w.contentType,j=w.controls,N=w.dataKey,C=w.image,T=w.options,I=w.popUpView,R=w.path,D=w.poster,M=w.resource,L=w.viewTag,W=(null==O?void 0:O.iteratorVar)||$d(e),t.Identify.component.listItem(e)&&!e.get(W)&&(null==O?void 0:O.dataObject)&&(e.edit(W,O.dataObject),!A.exports.isNil(O.index)&&e.edit("index",O.index)),(/(passwordHidden|messageHidden)/i.test(P)||/(vidoeSubStream|videoSubStream)/i.test(P)||"timerLabelPopUp"===P)&&e.edit({"data-ux":P}),e.has("global")&&e.edit({"data-globalid":Yn(e)}),t.Identify.component.popUp(w)&&e.edit({"data-ux":I||L}),rf(e)&&e.edit({"data-listid":e.id}),!A.exports.isStr(N)){o.next=24;break}if(t.Identify.folds.emit(N)){o.next=21;break}if(W&&(U=Kd(e),B=W===N?null==O?void 0:O.dataObject:N.startsWith("listAttr")?qn(U,y.excludeIteratorVar(N,"listAttr")):qn(null==O?void 0:O.dataObject,y.excludeIteratorVar(N,W))),A.exports.isUnd(B)&&(B=y.findDataValue(k({component:e,page:_}),y.excludeIteratorVar(N,W))),A.exports.isFnc(e.get("text=func"))&&("timer"===P&&(F=er(new Date),null===(B=Xn(F,{seconds:B}))&&(B=new Date)),B=e.get("text=func")(B)),o.t0=(t.Identify.component.image(e)||t.Identify.component.video(e))&&null!=(i=e.blueprint)&&i["path=func"],!o.t0){o.next=14;break}if(!e.get("wait")){o.next=13;break}return o.next=10,null==(a=e.get("path=func"))?void 0:a(B);case 10:B=o.sent,o.next=14;break;case 13:B=null==(c=e.get("path=func"))?void 0:c(B);case 14:if(!N.startsWith("_")){o.next=20;break}for(G=null==(l=null==N?void 0:N.split)?void 0:l.call(N,"."),V=G[0],z=G[1],K=e,H=0;H<V.length-1;H++)null!=K&&K.parent&&(K=K.parent);B=K.props[z];case 20:e.edit({"data-value":B});case 21:if(q=null==(s=null==N?void 0:N.split)?void 0:s.call(N,"."),J=(null==(p=null==q?void 0:q.shift)?void 0:p.call(q))||"",X=null==(f=null==(d=S())?void 0:d[null==_?void 0:_.page])?void 0:f[J],null!=q&&q.length)for(;q.length;)J=(null==(h=null==q?void 0:q.shift)?void 0:h.call(q))||"",J=(null==(b=null==(m=J[0])?void 0:m.toLowerCase)?void 0:b.call(m))+J.substring(1),X=null==X?void 0:X[J];else J=(null==q?void 0:q[0])||"";e.edit({"data-key":N,"data-name":J},{remove:"dataKey"});case 24:$=g(e);try{for($.s();!(Q=$.n()).done;)Y=v(Q.value,2),Z=Y[0],ee=void 0===Z?"":Z,te=Y[1],A.exports.isStr(te)&&t.Identify.reference(te)&&("style"===ee?A.exports.assign(e.style,of(te,{page:null==_?void 0:_.page,root:S()})):e.edit(of(te,{page:null==_?void 0:_.page,root:S()})))}catch(u){$.e(u)}finally{$.f()}return D&&e.edit({poster:lf(D,E())}),t.Identify.isBoolean(j)&&e.edit({controls:t.Identify.isBooleanTrue(j)}),(R||M||C)&&(ne="",A.exports.isStr(R)?ne=R:A.exports.isStr(M)?ne=M:A.exports.isStr(C)&&(ne=C),A.exports.isStr(ne)&&(t.Identify.reference(ne)&&(ne.startsWith("..")?(ne=ne.substring(2),ne=qn(S()[null==(x=null==n?void 0:n.page)?void 0:x.page],ne)):ne.startsWith(".")&&(ne=ne.substring(1),ne=qn(S(),ne))),W&&ne.startsWith(W)?(ne=y.excludeIteratorVar(ne,W)||"",ne=qn(null==O?void 0:O.dataObject,ne)||"",A.exports.isStr(ne)&&!ne.startsWith(E())&&(ne=E()+ne),e.edit({"data-src":ne,src:ne}),R&&e.emit("path",ne),C&&e.emit("image",ne)):ne&&(ne=lf(ne,E()),e.edit({"data-src":ne,path:ne}),setTimeout((function(){R&&e.emit("path",ne),C&&e.emit("image",ne)}))))),t.Identify.component.select(e)&&[N,T].find((function(e){return e&&A.exports.isStr(e)}))&&(re=N&&A.exports.isStr(N)?N:T,oe=T,ie=!(!W||!re.startsWith(W)),A.exports.isArr(oe)||(ie?(re=y.excludeIteratorVar(re,W),oe=re?qn(Xd(e),re):Xd(e)):(re=y.trimReference(re),oe=qn(t.Identify.localKey(re)?S()[_.page]:S(),re))),oe?(e.set("data-options",oe||[]),setTimeout((function(){return e.emit("options",e.get("data-options"))}))):zd.error('%cCould not find the list of options for a select component using the path "'.concat(T,'"'),"color:#ec0000;",e)),o.abrupt("return",(L&&(e.edit({"data-viewtag":L}),/(mainStream|selfStream|subStream|camera|microphone|hangUp|inviteOthers)/i.test(L)?e.edit({"data-ux":L}):(e.edit("data-viewtag",L),e.get("data-ux")||e.edit({"data-ux":L}))),null==r?void 0:r()));case 29:case"end":return o.stop()}}),o)})))}));var Nf=ba,Af=Ot;function Cf(e,t,n){(void 0!==n&&!Af(e[t],n)||void 0===n&&!(t in e))&&Nf(e,t,n)}var Tf=Cf;function If(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var l=a[e?c:++o];if(!1===n(i[l],l,i))break}return t}}var Rf=If(),Df=rl,Mf=ne;function Lf(e){return Mf(e)&&Df(e)}var Wf=Lf,Bf=ee,Uf=Kl,Ff=ne,Gf="[object Object]",Vf=Function.prototype,zf=Object.prototype,Kf=Vf.toString,Hf=zf.hasOwnProperty,qf=Kf.call(Object);function Jf(e){if(!Ff(e)||Bf(e)!=Gf)return!1;var t=Uf(e);if(null===t)return!0;var n=Hf.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Kf.call(n)==qf}var Xf=Jf;function $f(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Qf=$f,Yf=ja,Zf=El;function ev(e){return Yf(e,Zf(e))}var tv=ev,nv=Tf,rv=jl.exports,ov=nu,iv=Al,av=Mu,cv=Fa,lv=T,sv=Wf,uv=Ga.exports,pv=ke,dv=he,fv=Xf,vv=Rc,hv=Qf,gv=tv;function yv(e,t,n,r,o,i,a){var c=hv(e,n),l=hv(t,n),s=a.get(l);if(s)nv(e,n,s);else{var u=i?i(c,l,n+"",e,t,a):void 0,p=void 0===u;if(p){var d=lv(l),f=!d&&uv(l),v=!d&&!f&&vv(l);u=l,d||f||v?lv(c)?u=c:sv(c)?u=iv(c):f?(p=!1,u=rv(l,!0)):v?(p=!1,u=ov(l,!0)):u=[]:fv(l)||cv(l)?(u=c,cv(c)?u=gv(c):(!dv(c)||pv(c))&&(u=av(l))):p=!1}p&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),nv(e,n,u)}}var mv=da,bv=Tf,xv=Rf,wv=yv,Ov=he,Ev=El,kv=Qf;function Sv(e,t,n,r,o){e!==t&&xv(t,(function(i,a){if(o||(o=new mv),Ov(i))wv(e,t,a,n,Sv,r,o);else{var c=r?r(kv(e,a),i,a+"",e,t,o):void 0;void 0===c&&(c=i),bv(e,a,c)}}),Ev)}var _v=Sv;function Pv(e){return e}var jv=Pv;function Nv(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Av=Nv,Cv=Av,Tv=Math.max;function Iv(e,t,n){return t=Tv(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Tv(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),Cv(e,this,c)}}var Rv=Iv;function Dv(e){return function(){return e}}var Mv=Dv,Lv=ga,Wv=jv,Bv=Lv?function(e,t){return Lv(e,"toString",{configurable:!0,enumerable:!1,value:Mv(t),writable:!0})}:Wv,Uv=800,Fv=16,Gv=Date.now;function Vv(e){var t=0,n=0;return function(){var r=Gv(),o=Fv-(r-n);if(n=r,o>0){if(++t>=Uv)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zv=Vv,Kv=zv(Bv),Hv=jv,qv=Rv,Jv=Kv;function Xv(e,t){return Jv(qv(e,t,Hv),e+"")}var $v=Ot,Qv=rl,Yv=Ja,Zv=he;function eh(e,t,n){if(!Zv(n))return!1;var r=typeof t;return!!("number"==r?Qv(n)&&Yv(t,n.length):"string"==r&&t in n)&&$v(n[t],e)}var th=Xv,nh=eh;function rh(e){return th((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&nh(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))}var oh=_v,ih=rh((function(e,t,n){oh(e,t,n)})),ah=Object.defineProperty,ch=Object.defineProperties,lh=Object.getOwnPropertyDescriptors,sh=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,ph=Object.prototype.propertyIsEnumerable,dh=function(e,t,n){return t in e?ah(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},fh=function(e,t){for(var n in t||(t={}))uh.call(t,n)&&dh(e,n,t[n]);if(sh){var r,o=g(sh(t));try{for(o.s();!(r=o.n()).done;)n=r.value,ph.call(t,n)&&dh(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},vh=function(e,t){return ch(e,lh(t))};function hh(e,t){var n=(null==e?void 0:e.style)||{},r=fh({},n);return A.exports.isNil(n.top)||"auto"==n.top?r.position="relative":r.position="absolute","fixed"===n.position&&(r.position="fixed"),A.exports.isNil(n.height)&&(r.height="auto"),ih(vh(fh({},null==t?void 0:t.Style),{position:"absolute",outline:"none"}),n,r)}var gh=Object.defineProperty,yh=Object.defineProperties,mh=Object.getOwnPropertyDescriptors,bh=Object.getOwnPropertySymbols,xh=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable,Oh=function(e,t,n){return t in e?gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Eh=function(e,t){for(var n in t||(t={}))xh.call(t,n)&&Oh(e,n,t[n]);if(bh){var r,o=g(bh(t));try{for(o.s();!(r=o.n()).done;)n=r.value,wh.call(t,n)&&Oh(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},kh=function(e,t){return yh(e,mh(t))};function Sh(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,o=r.blueprint,i=r.context,a=r.props,c=r.root,l=r.rootKey,s=r.getParent;if(wd.traverseReference(n)&&A.exports.isFnc(s))for(var u=n.split("_"),p=u.filter((function(e){return""===e})).reduce((function(e){return++e}),0),d=u.shift();d&&!d.startsWith(".");){if(""!==d&&d.startsWith(".")){var f=s({blueprint:o,context:i||{},props:a,op:"traverse",opArgs:{depth:p,ref:n}});return qn(f,null==(e=d[1])?void 0:e.slice())}d=u.shift()}if(wd.localReference(n)?l&&(t=qn(c[l],k.toDataPath(k.trimReference(n)))):wd.rootReference(n)&&(t=qn(c,k.toDataPath(k.trimReference(n)))),A.exports.isStr(t)&&wd.reference(t)){var v=k.toDataPath(k.trimReference(t));if(wd.localReference(t)){var h=k.toDataPath(k.trimReference(n));h[0]!==l&&(l=h[0])}else v[0]!==l&&(l=v.shift());return Sh(t,kh(Eh({},arguments[1]),{rootKey:l}))}return void 0===t?n:t}var _h=["width","left"],Ph=["height","top","marginTop"],jh=[].concat(_h,Ph),Nh=[].concat(Ph,["borderRadius","fontSize","paddingTop","paddingBottom","marginBottom"]),Ah=[].concat(_h,["marginLeft","marginRight","paddingLeft","paddingRight"]);function Ch(e,t,n){if(e){var r=null==e?void 0:e[t];if(A.exports.isStr(r)){if("0"==r)return s({},t,"0px");if("1"==r)return s({},t,"".concat(n,"px"));if(!_o(r))return s({},t,Ih(n,r)+"px")}else if(So(null==e?void 0:e[t]))return s({},t,Ih(n,r)+"px")}}function Th(e,t){return"0"==e?"0px":"1"==e?"".concat(t,"px"):A.exports.isStr(e)?_o(e)?e:"".concat(Number(e)*t,"px"):isFinite(e)?So(e)?"".concat(e*t,"px"):"".concat(e,"px"):e}function Ih(e,t){return A.exports.isStr(t)||A.exports.isNum(t)?e*Number(t):e}function Rh(e,t){var n=Dh(t);return null!==n&&zh(e)?e[n]:null}function Dh(e){return Bh(e)||Vh(e)?"width":(Uh(e)||Gh(e),"height")}function Mh(e){return A.exports.isStr(e)&&!/[a-zA-Z]/i.test(e)&&e%1!=0}function Lh(e,t){return A.exports.isNum(t)?e.toFixed(t):e}function Wh(e){return A.exports.isStr(e)&&(e.endsWith("vw")||e.endsWith("vh"))}function Bh(e){return A.exports.isStr(e)&&e.endsWith("vw")}function Uh(e){return A.exports.isStr(e)&&e.endsWith("vh")}function Fh(e){return[Gh,Vh].some((function(t){return t(e)}))}function Gh(e){return[].concat(f(Nh),["center","centerY"]).includes(e)}function Vh(e){return[].concat(f(Ah),["centerX","right"]).includes(e)}function zh(e){return A.exports.isObj(e)&&("width"in e||"height"in e)&&A.exports.isNum(e.width||A.exports.isNum(e.height))}function Kh(e,t){return A.exports.isNum(e)?Number(Lh(Number(e),t)):A.exports.isStr(e)?Number(Lh(Number(e.replace(/[a-zA-Z]/gi,"")),t)):Number(e)}var Hh=Object.defineProperty,qh=Object.defineProperties,Jh=Object.getOwnPropertyDescriptors,Xh=Object.getOwnPropertySymbols,$h=Object.prototype.hasOwnProperty,Qh=Object.prototype.propertyIsEnumerable,Yh=function(e,t,n){return t in e?Hh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zh=function(e,t){for(var n in t||(t={}))$h.call(t,n)&&Yh(e,n,t[n]);if(Xh){var r,o=g(Xh(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Qh.call(t,n)&&Yh(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},eg=function(e,t){return qh(e,Jh(t))};function tg(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{style:{}},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(A.exports.isUnd(i))return i=o,o=r,tg(r={},o,eg(Zh({},i),{getHelpers:function(e){return Zh({blueprint:o,context:c||{},getParent:null==i?void 0:i.getParent,props:r,root:(null==i?void 0:i.root)||{},rootKey:(null==i?void 0:i.pageName)||""},e)}}));var a=i,c=a.context,l=a.getParent,s=a.getHelpers,u=a.keepVpUnit,p=a.pageName,d=void 0===p?"":p,f=a.root,h=void 0===f?{}:f,y=a.viewport;if(!A.exports.isFnc(s))return tg(r,o,eg(Zh({},arguments[2]),{getHelpers:function(e){return Zh({getParent:l,props:r,blueprint:o,context:c,root:h,rootKey:d},e)}}));if(r&&!r.style&&(r.style={}),A.exports.isObj(null==o?void 0:o.style)){var m,b=g(A.exports.entries(hh(o,h)));try{for(b.s();!(m=b.n()).done;){var x=v(m.value,2),w=x[0],O=x[1];r.style[w]=O}}catch(T){b.e(T)}finally{b.f()}}if(A.exports.isObj(o)){r.type=o.type;var E,S=(null==c?void 0:c.iteratorVar)||$d(r)||"",_=g(A.exports.entries(o));try{var P=function(){var e=v(E.value,2),t=e[0],n=e[1],i=null==r?void 0:r[t];if("dataKey"===t){if(A.exports.isStr(n)){var a=k.toDataPath(k.trimReference(n)),l=wd.localKey(a.join("."));return wd.reference(n)&&(l=wd.localReference(n)),r["data-value"]=qn(l?h[d]:h,a),wd.component.select(o)&&(r["data-options"]=A.exports.isStr(o.options)?qn(l?h[d]:h,a):A.exports.array(o.options)),"continue"}}else if("options"===t){if(wd.component.select(o)){var p=o.dataKey;if((A.exports.isStr(p)||A.exports.isStr(n))&&!A.exports.isArr(n)){var f,m=A.exports.isStr(p)?p:String(n),b=!!S&&m.startsWith(S);i=m?qn(f,m):f,A.exports.isArr(i)||(b?(m=k.excludeIteratorVar(m,S)||"",f=(null==c?void 0:c.dataObject)||Xd(r)):(m=k.trimReference(m),i=qn(wd.localKey(m)?h[d]:h,m)))}r["data-options"]=i||[],r.options||(r.options=r["data-options"])}}else if("style"===t){var x=[],w=function(e){return!x.includes(e)&&x.push(e)},O={};if(A.exports.isObj(n)){var _,P,j,N,C=n.align,I=n.axis,R=n.border,D=n.borderRadius,M=n.borderWidth,L=n.display,W=n.fontFamily,B=n.fontSize,U=n.fontStyle,F=n.textAlign,G=n.verticalAlign;if(A.exports.isStr(I)&&/horizontal|vertical/.test(I)&&(w("axis"),i.display="flex","horizontal"===I?i.flexWrap="nowrap":"vertical"===I&&(i.flexDirection="column")),A.exports.isStr(C)&&/center[xy]/.test(C)&&(w("align"),i.display="flex","centerX"===C?i.justifyContent="center":"centerY"===C&&(i.alignItems="center")),F)if(A.exports.isStr(F))"left"===F?i.textAlign="left":"center"===F?i.textAlign="center":"right"===F?i.textAlign="right":"centerX"===F?(i.textAlign="center",O.textAlign="center"):"centerY"===F&&(i.display="flex",i.alignItems="center",w("textAlign"));else if(A.exports.isObj(F)&&(A.exports.isNil(F.x)||(i.textAlign="centerX"===F.x?"center":F.x),null!=F.y&&("center"===F.y||"centerY"===F.y))){var V=new Map([["left","flex-start"],["right","flex-end"],["center","center"]]);i.display="flex",i.alignItems="center",i.justifyContent=V.get(F.x?F.x:"left"),F.x||w("textAlign")}if("inline"===L?i.display="inline":"inline-block"===L&&(i.display="inline-block",i.verticalAlign="top"),G&&(i.verticalAlign=G),void 0!==R&&("0"==R&&(i.borderStyle="none"),A.exports.isObj(R)&&(_=R.style,P=R.color,j=R.width,N=R.line),P&&(i.borderColor=String(P).replace("0x","#")),N&&(i.borderStyle=N),j&&(i.borderWidth=j),"1"==_?A.exports.assign(i,Lr.border[1]):"2"==_?A.exports.assign(i,Lr.border[2]):"3"==_?(A.exports.assign(i,Lr.border[3]),j||(i.borderWidth="thin")):"4"==_?(A.exports.assign(i,Lr.border[4]),j||(i.borderWidth="thin")):"5"==_?A.exports.assign(i,Lr.border[5]):"6"==_?A.exports.assign(i,Lr.border[6]):"7"==_&&A.exports.assign(i,Lr.border[7])),M&&(A.exports.isStr(M)?_o(M)||(i.borderWidth="".concat(M,"px")):A.exports.isNum(M)&&(i.borderWidth="".concat(M,"px"))),D)if(Mh(D))i.borderRadius=String(Th(D,null==y?void 0:y.height));else{A.exports.isStr(D)?i.borderRadius=_o(D)?"".concat(D):"".concat(D,"px"):A.exports.isNum(D)&&(i.borderRadius="".concat(D,"px"));var z=/[a-zA-Z]+$/,K=Number("".concat(D).replace(z,""));Number.isNaN(K)||(i.borderRadius="".concat(K,"px"),(!A.exports.isStr(i.border)||!i.border)&&(!i.borderWidth||"none"===i.borderWidth||"0px"===i.borderWidth)&&(i.borderWidth="1px",i.borderColor="rgba(0, 0, 0, 0)"))}null!=R&&R.style&&w("border"),A.exports.isUnd(B)||(A.exports.isStr(B)?_o(B)||(Mh(B)?i.fontSize=String(Bo.getSize(B,null==y?void 0:y.height)):i.fontSize="".concat(B,"px")):A.exports.isNum(B)&&(i.fontSize="".concat(B,"px")),A.exports.isStr(W)&&i.fontFamily),"bold"===U&&(i.fontWeight="bold",w("fontStyle")),jh.forEach((function(e){if(!A.exports.isNil(null==n?void 0:n[e])){var t=Ch(n,e,Rh(y,e));if(A.exports.isObj(t)){var r,o=g(A.exports.entries(t));try{for(o.s();!(r=o.n()).done;){var a=v(r.value,2),c=a[0],l=a[1];i[c]=l}}catch(T){o.e(T)}finally{o.f()}}}})),A.exports.isObj(null==i?void 0:i.textAlign)&&w("textAlign");for(var H=n||{},q=H.width,J=H.height,X=H.maxHeight,$=H.maxWidth,Q=H.minHeight,Y=H.minWidth,Z=0,ee=[["width",q],["height",J]];Z<ee.length;Z++){var te=v(ee[Z],2),ne=te[0],re=te[1];A.exports.isNil(re)||(i[ne]=String(Th(re,Rh(y,ne))))}for(var oe=0,ie=[["maxHeight","height",X],["minHeight","height",Q],["maxWidth","width",$],["minWidth","width",Y]];oe<ie.length;oe++){var ae=v(ie[oe],3),ce=ae[0],le=ae[1],se=ae[2];A.exports.isNil(se)||(i[ce]=String(Th(se,null==y?void 0:y[le])))}var ue,pe=g(A.exports.entries(n));try{for(pe.s();!(ue=pe.n()).done;){var de=v(ue.value,2),fe=de[0],ve=de[1];if(A.exports.isStr(ve)&&wd.reference(ve)){var he=wd.localReference(ve);ve=Sh(ve,Zh({},s({rootKey:he?d:void 0}))),"autoplay"===fe&&(o.autoplay=ve)}if(Fh(ve)&&(i[fe]=String(Bo.getSize(ve,Rh(y,fe),{unit:"px"}))),A.exports.isStr(ve)){for(;wd.reference(ve);){var ge=wd.localReference(ve),ye=Sh(ve,s({rootKey:ge?d:void 0}));if(ye===ve||wd.traverseReference(ve))break;ve=ye}if(Wh(ve))if(u)i[fe]="calc(".concat(ve,")");else{var me=Dh(ve),be=null==y?void 0:y[me],xe=Kh(ve)/100;A.exports.isNil(be)?i[fe]=ve:i[fe]=String(Th(xe,be))}var we=!!S&&String(ve).startsWith(S);if(Wh(ve)||Fh(fe)||["fontSize","borderRadius","borderWidth"].includes(fe)){if(y)if(Wh(ve)){var Oe=Kh(ve)/100;i[fe]=u?"calc(".concat(ve,")"):String(Th(Oe,Rh(y,ve)))}else if(Fh(fe)){var Ee=Mh(ve)?String(Bo.getSize(ve,Rh(y,fe),{unit:"px"})):void 0;Mh(ve)?i[fe]=Ee:Gh(fe)&&"borderRadius"==fe&&A.exports.isStr(ve)&&(ve.includes("px")?i[fe]="".concat(ve):i[fe]="".concat(ve,"px"))}}else i[fe]=ko(ve);if("pointerEvents"==fe&&"none"!=ve&&w("pointerEvents"),"isHidden"==fe&&wd.isBooleanTrue(ve)&&(r.style.visibility="hidden"),A.exports.isStr(ve)&&("textColor"===fe||ve.startsWith("0x")||we))if("textColor"===fe)i.color=ko(ve),w("textColor");else{if(we){var ke=(null==c?void 0:c.dataObject)||Xd(r);if(A.exports.isObj(ke)){var Se=k.excludeIteratorVar(ve,S),_e=ko(qn(ke,Se));Fh(fe)?Mh(_e)&&(i[fe]=String(Bo.getSize(_e,Rh(y,fe),{unit:"px"}))):"pointerEvents"===fe?i["pointer-events"]=_e:i[fe]=_e}else i[fe]=ko(String(ke))}A.exports.isStr(ve)&&ve.startsWith("0x")&&(i[fe]=ko(ve))}}}}catch(T){pe.e(T)}finally{pe.f()}}else A.exports.isStr(n);x.forEach((function(e){return delete i[e]})),A.exports.entries(O).forEach((function(e){var t=v(e,2),n=t[0],r=t[1];return i[n]=r}))}else if("viewTag"===t)r["data-viewtag"]=wd.reference(i)?Sh(i,s({rootKey:wd.localReference(i)?d:void 0})):i;else if("dataOption"===t){var Pe=k.toDataPath(k.trimReference(n)),je=wd.localKey(Pe.join("."));wd.reference(n)&&(je=wd.localReference(n)),r["data-option"]=qn(je?h[d]:h,Pe)}else if("videoOption"===t){var Ne=k.toDataPath(k.trimReference(n)),Ae=wd.localKey(Ne.join("."));wd.reference(n)&&(Ae=wd.localReference(n)),r["video-option"]=qn(Ae?h[d]:h,Ne)}else A.exports.isStr(n)&&wd.reference(n)&&(i=Sh(n,s({rootKey:d})),r[t]=i)};for(_.s();!(E=_.n()).done;)P()}catch(T){_.e(T)}finally{_.f()}if(wd.component.header(o))r.style.zIndex=100;else if(wd.component.image(o))"height"in(o.style||{})||delete r.style.height,"width"in(o.style||{})||delete r.style.width,"objectFit"in(o.style||{})||(r.style.objectFit="contain");else if(wd.component.listLike(o)&&"none"!==r.style.display){var j=null==(e=o.style)?void 0:e.axis;r.style.display="horizontal"===j||"vertical"===j?"flex":"block",r.style.listStyle="none",r.style.padding="0px"}else wd.component.listItem(o)?r.style.listStyle="none":wd.component.popUp(o)?r.style.visibility="hidden":wd.component.scrollView(o)&&"none"!==r.style.display?r.style.display="block":wd.component.textView(o)?(r.style.rows=10,r.style.resize="none"):wd.component.video(o)&&(r.style.objectFit="contain");wd.isBooleanTrue(null==(t=null==o?void 0:o.style)?void 0:t.shadow)&&(r.style.boxShadow="5px 5px 10px 3px rgba(0, 0, 0, 0.015)",delete r.style.shadow);var N=null==(n=null==o?void 0:o.style)?void 0:n.isHidden;if(wd.reference(N)){var C=wd.localReference(N);N=Sh(N,s({rootKey:C?d:void 0}))}wd.isBooleanTrue(N)&&(r.style.visibility="hidden"),wd.isBoolean(null==o?void 0:o.required)&&(r.required=wd.isBooleanTrue(null==o?void 0:o.required))}else{if(A.exports.isStr(o)&&wd.reference(o))return tg(r,Sh(o,s({rootKey:wd.localReference(o)?d:void 0})));console.log({SEE_WHAT_THIS_IS:o})}return r}var ng=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},rg=new Gd("resolveStyles"),og=function(e){var t,n,r,o,i=e.props,a=void 0===i?{}:i,c=e.op,l=e.opArgs;if(a.id&&"traverse"===c){var s=l||{},u=s.depth,p=s.ref;if(console.log({depth:u,ref:p}),A.exports.isNum(u)){for(var d=this,f=1;f<u;f++)d=null==d?void 0:d.parent;return d||null}if(this.id===a.id)return null==(t=this.parent)?void 0:t.props;if(a.id===(null==(n=this.parent)?void 0:n.id))return null==(o=null==(r=this.parent)?void 0:r.parent)?void 0:o.props;if(this.children.findIndex((function(e){return(null==e?void 0:e.id)===a.id})))return this.props}return(null==this?void 0:this.parent)||null};function ig(e){if(null!==e&&"object"==typeof e){if("actionType"in e)return e.actionType;if(t.Identify.folds.emit(e))return"emit";if(t.Identify.goto(e)||t.Identify.folds.goto(e))return"goto"}return"anonymous"}function ag(e){return"string"==typeof e&&t.Identify.reference(e)&&["=.builtIn",".Global._nonce@"].every((function(t){return!e.startsWith(t)}))}function cg(e){var n=[];if(!t.Identify.folds.emit(e)&&!t.Identify.goto(e)&&t.Identify.action.any(e)&&"anonymous"!==e.actionType&&!t.Identify.action.builtIn(e))if(t.Identify.action.evalObject(e)){if("object"in e)if(ag(e.object))n.push('Received a string reference "'.concat(e.object,'" as the "object" for action "evalObject"'));else if(null!==e.object&&"object"==typeof e.object)for(var r=0,o=Object.entries(e.object);r<o.length;r++){var i=v(o[r],2),a=i[0],c=i[1];ag(a)&&n.push('Received a string reference key "'.concat(a,'" inside evalObject')),ag(c)&&n.push('Received a string reference value "'.concat(a,'" inside evalObject'))}}else t.Identify.action.openCamera(e)||t.Identify.action.openDocumentManager(e)||t.Identify.action.openPhotoLibrary(e)||t.Identify.action.pageJump(e)||t.Identify.action.popUp(e)||t.Identify.action.popUpDismiss(e)||t.Identify.action.refresh(e)||t.Identify.action.removeSignature(e)||t.Identify.action.saveObject(e)||t.Identify.action.saveSignature(e)||t.Identify.action.updateObject(e)||t.Identify.action.getLocationAddress(e)||n.push('Encountered an unsupported action object of type "'.concat(e.actionType,'". Check typos or letter casings.'));return n}rg.setResolver((function(e,t,n){return ng(void 0,null,u.mark((function r(){var o,i,a,c,l;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.context,i=t.viewport,a=t.getRoot,c=t.page,l=t.keepVpUnit,r.abrupt("return",(e.edit(tg(e.props,e.blueprint,{context:o,getParent:og.bind(e),keepVpUnit:l,pageName:null==c?void 0:c.page,root:a(),viewport:i})),null==n?void 0:n()));case 2:case"end":return r.stop()}}),r)})))}));var lg=Object.defineProperty,sg=Object.defineProperties,ug=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,dg=Object.prototype.hasOwnProperty,fg=Object.prototype.propertyIsEnumerable,vg=function(e,t,n){return t in e?lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},hg=function(e,t){for(var n in t||(t={}))dg.call(t,n)&&vg(e,n,t[n]);if(pg){var r,o=g(pg(t));try{for(o.s();!(r=o.n()).done;)n=r.value,fg.call(t,n)&&vg(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},gg=function(e,t){return sg(e,ug(t))};function yg(e,n){var r;return A.exports.isStr(e)?t.Identify.folds.emit(n)?r=new Ji(e,n):n&&(A.exports.isStr(n)?r=m.createAction(e,{actionType:"goto",goto:n}):A.exports.isObj(n)&&("actionType"in n||(n.actionType=ig(n)),r=m.createAction(e,n))):"action"in e&&(t.Identify.folds.emit(e.action)?r=new Ji(e.trigger,e.action):("actionType"in(e.action||{})||(e.action=gg(hg({},e.action),{actionType:ig(e.action)})),r=m.createAction(e.trigger,e.action))),(null==r?void 0:r.original)&&!Po()&&cg(r.original).forEach((function(e){zd.error("%c".concat(e),"color:#ec0000;",null==r?void 0:r.original)})),r}function mg(e,t,n,r){return"string"==typeof e?m.createActionChain(e,t,n,r):m.createActionChain(e)}var bg=Object.defineProperty,xg=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,Og=Object.prototype.propertyIsEnumerable,Eg=function(e,t,n){return t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kg=function(e,t){for(var n in t||(t={}))wg.call(t,n)&&Eg(e,n,t[n]);if(xg){var r,o=g(xg(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Og.call(t,n)&&Eg(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e};function Sg(e,t){var n,r=_g(e,null==t?void 0:t.props);return"string"==typeof e?n=new jr(kg({type:e},r)):or(e)?(n=e,r&&A.exports.isObj(r)&&e.edit(r)):n=new jr(kg(kg({},e),r)),n}function _g(e,t){if(t)return"function"==typeof t?t(e):t}var Pg=Object.defineProperty,jg=Object.defineProperties,Ng=Object.getOwnPropertyDescriptors,Ag=Object.getOwnPropertySymbols,Cg=Object.prototype.hasOwnProperty,Tg=Object.prototype.propertyIsEnumerable,Ig=function(e,t,n){return t in e?Pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Rg=function(e,t){for(var n in t||(t={}))Cg.call(t,n)&&Ig(e,n,t[n]);if(Ag){var r,o=g(Ag(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Tg.call(t,n)&&Ig(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Dg=function(e,t){return jg(e,Ng(t))};function Mg(e){var t,n,r=arguments,o=e.dataObject,i=e.iteratorVar,a=void 0===i?"":i,c=e.path,l=void 0===c?[]:c,s=e.ref,u=e.root,p=e.rootKey,d=void 0===p?"":p,h=s;if(h)if(A.exports.isStr(h)){var g=y.toDataPath(y.trimReference(h));if(wd.reference(h),A.exports.isStr(h)){for(;wd.reference(h);){if(wd.traverseReference(h)){for(var m=h.trim().split("_"),b=m.length-1;(null==(t=m[0])||!t.startsWith("."))&&b>=0;)m.shift(),b--;if(b<0)return;if(m.length){null!=(n=m[0])&&n.startsWith(".")&&(m[0]=m[0].slice(1)),g=m;var x=qn(o||u,m);return null==x&&g.length&&wd.localKey(g[0])&&(x=qn(u,[d].concat(f(g)))),A.exports.isStr(x)?wd.reference(x)?(wd.rootReference(x)?(g=y.toDataPath(y.trimReference(x)))[0]===d&&g.shift():(g=y.toDataPath(y.trimReference(x))).unshift(d),Mg(Dg(Rg({},arguments[0]),{ref:qn(u,g)}))):qn(o,g):x}}else wd.localReference(h)?d&&g[0]===d&&g.shift():d!==g[0]?d=g.shift()||"":g.shift();"string"==typeof(h=qn(u,[d].concat(f(g))))&&(g=y.toDataPath(y.trimReference(h)))}if(A.exports.isStr(h)&&a&&h.startsWith(a)&&o)return h===a?o:Mg(Dg(Rg({},arguments[0]),{ref:qn(o,y.excludeIteratorVar(h,a)||"")}))}}else{if(A.exports.isArr(h))return h.map((function(e,t){return Mg(Dg(Rg({},r[0]),{path:l.concat(t),ref:e}))}));A.exports.isObj(h)&&A.exports.entries(h).forEach((function(e){var t=v(e,2),n=t[0],o=t[1];if(A.exports.isStr(o)&&wd.reference(o)||A.exports.isObj(o))return h[n]=Mg(Dg(Rg({},r[0]),{path:l.concat(n),ref:o}))}))}return h}function Lg(e){return!!(e&&"object"==typeof e&&"getWidth"in e&&"getHeight"in e&&"onResize"in e)}function Wg(e){var t=e.root,n=e.component,r=e.page,o=e.localKey,i=void 0===o?(null==r?void 0:r.page)||"":o,a=e.key,c=void 0===a?"":a,l=e.value,s=e.on,u=(new k.Parser).destination(l),p=u.currentPage,d=u.targetPage,f=u.viewTag;return null!=s&&s.pageComponentUrl?null==s?void 0:s.pageComponentUrl({component:n,page:r,key:c,value:l}):(E.Identify.reference(p)&&(p=Od({page:r,value:p,localKey:i,root:t})),E.Identify.reference(d)&&(d=Od({page:r,value:d,localKey:i,root:t})),E.Identify.reference(f)&&(f=Od({page:r,value:f,localKey:i,root:t})),"".concat(d,"@").concat(p,"#").concat(f))}var Bg=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Ug=["path","placeholder",{trigger:"dataValue",datasetKey:"value"}],Fg=new Gd("resolveSetup");Fg.setResolver(Gd.withHelpers((function(e,t,n){return Bg(this,null,u.mark((function r(){var o,i,a,c,l,p,d,f,v,h,y,m,b,x,w,O;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,c=t.createActionChain,l=t.getRoot,p=t.on,d=t.page,f=t.resolveReference,v=e.blueprint,!A.exports.isObj(v)){r.next=27;break}h=e.get.bind(e),y=function(t){var n,r,o=this.blueprint[t];if((null==v?void 0:v._key_)===t&&(null==v?void 0:v._ref_))return null==f?void 0:f(v._key_,v._ref_);if(A.exports.isStr(o)){if(wd.pageComponentUrl(o))return Wg({component:e,page:d,key:t,value:o,localKey:null==d?void 0:d.page,on:p,root:l});if(wd.reference(o))return null==f?void 0:f(t,o)}else{if(wd.if(o))return null!=p&&p.if?(o=p.if({component:e,page:d,key:t,value:o})?null==(n=o.if)?void 0:n[1]:null==(r=o.if)?void 0:r[2],wd.reference(o)?null==f?void 0:f(t,o):o):(o=tr(o),wd.reference(o)?null==f?void 0:f(t,o):o);if(!this)return null==h?void 0:h(t)}return h(t)},Object.defineProperty(e,"get",{configurable:!0,enumerable:!0,get:function(){return y.bind(this)}}),E.userEvent.concat("postMessage").forEach((function(t){if(v[t]){var n=c(t,v[t]);null!=p&&p.actionChain&&n.use(p.actionChain),e.edit(s({},t,n)),"postMessage"!==t&&(e.style.cursor="pointer")}if(v.onTextChange){var r=c("onInput",v.onTextChange);e.edit({onInput:r}),null!=p&&p.actionChain&&r.use(p.actionChain)}})),m=g(Ug),r.prev=7,m.s();case 9:if((b=m.n()).done){r.next=19;break}if(x=b.value,w="",A.exports.isObj(x)&&(w=x.trigger),!wd.folds.emit(v[w])){r.next=17;break}return O=c(w,[{emit:v[w].emit,actionType:"emit"}]),null!=p&&p.actionChain&&O.use(p.actionChain),r.next=17,null==(a=null==(o=null==p?void 0:p.emit)?void 0:o.createActionChain)?void 0:a.call(o,{actionChain:O,actions:(null==(i=v[w].emit)?void 0:i.actions)||[],component:e,trigger:w});case 17:r.next=9;break;case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(7),m.e(r.t0);case 24:return r.prev=24,m.f(),r.finish(24);case 27:r.next=32;break;case 29:r.prev=29,r.t1=r.catch(0),zd.error(r.t1 instanceof Error?r.t1:new Error(String(r.t1)));case 32:return r.abrupt("return",null==n?void 0:n());case 33:case"end":return r.stop()}}),r,null,[[0,29],[7,21,24,27]])})))})));var Gg,Vg,zg=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Kg=function(e,t,n){return zg(e,t,"read from private field"),n?n.call(e):t.get(e)},Hg=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qg=function(e,t,n,r){return zg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Jg=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Xg=function(){function e(){var t;p(this,e),Hg(this,Gg,[]),Hg(this,Vg,void 0),Kg(this,Gg).push(Fg,_f,rg,jf);for(var n=0,r=Kg(this,Gg)[n];r;)r.next=Kg(this,Gg)[++n],r=r.next;qg(this,Vg,null==(t=Kg(this,Gg)[0])?void 0:t.resolve.bind(Kg(this,Gg)[0]))}return d(e,[{key:"transform",value:function(e,t){return Jg(this,null,u.mark((function n(){var r;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,null==(r=Kg(this,Vg))?void 0:r.call(this,e,t);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),zd.error(n.t0 instanceof Error?n.t0:new Error(String(n.t0)));case 8:case"end":return n.stop()}}),n,this,[[0,5]])})))}}]),e}();Gg=new WeakMap,Vg=new WeakMap;var $g=ys,Qg=$g&&new $g,Yg=jv,Zg=Qg,ey=Zg?function(e,t){return Zg.set(e,t),e}:Yg,ty=Cu,ny=he;function ry(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ty(e.prototype),r=e.apply(n,t);return ny(r)?r:n}}var oy=ry,iy=oy,ay=M,cy=1;function ly(e,t,n){var r=t&cy,o=iy(e);function i(){return(this&&this!==ay&&this instanceof i?o:e).apply(r?n:this,arguments)}return i}var sy=ly,uy=Math.max;function py(e,t,n,r){for(var o=-1,i=e.length,a=n.length,c=-1,l=t.length,s=uy(i-a,0),u=Array(l+s),p=!r;++c<l;)u[c]=t[c];for(;++o<a;)(p||o<i)&&(u[n[o]]=e[o]);for(;s--;)u[c++]=e[o++];return u}var dy=py,fy=Math.max;function vy(e,t,n,r){for(var o=-1,i=e.length,a=-1,c=n.length,l=-1,s=t.length,u=fy(i-c,0),p=Array(u+s),d=!r;++o<u;)p[o]=e[o];for(var f=o;++l<s;)p[f+l]=t[l];for(;++a<c;)(d||o<i)&&(p[f+n[a]]=e[o++]);return p}var hy=vy;function gy(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var yy=gy;function my(){}var by=my,xy=Cu,wy=by,Oy=4294967295;function Ey(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oy,this.__views__=[]}Ey.prototype=xy(wy.prototype),Ey.prototype.constructor=Ey;var ky=Ey;function Sy(){}var _y=Qg,Py=Sy,jy=_y?function(e){return _y.get(e)}:Py,Ny={},Ay=Object.prototype.hasOwnProperty;function Cy(e){for(var t=e.name+"",n=Ny[t],r=Ay.call(Ny,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}var Ty=Cy,Iy=Cu,Ry=by;function Dy(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Dy.prototype=Iy(Ry.prototype),Dy.prototype.constructor=Dy;var My=ky,Ly=Dy,Wy=Al;function By(e){if(e instanceof My)return e.clone();var t=new Ly(e.__wrapped__,e.__chain__);return t.__actions__=Wy(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uy=ky,Fy=Dy,Gy=by,Vy=T,zy=ne,Ky=By,Hy=Object.prototype.hasOwnProperty;function qy(e){if(zy(e)&&!Vy(e)&&!(e instanceof Uy)){if(e instanceof Fy)return e;if(Hy.call(e,"__wrapped__"))return Ky(e)}return new Fy(e)}qy.prototype=Gy.prototype,qy.prototype.constructor=qy;var Jy=ky,Xy=jy,$y=Ty,Qy=qy;function Yy(e){var t=$y(e),n=Qy[t];if("function"!=typeof n||!(t in Jy.prototype))return!1;if(e===n)return!0;var r=Xy(n);return!!r&&e===r[0]}var Zy=Yy,em=zv(ey),tm=/\{\n\/\* \[wrapped with (.+)\] \*/,nm=/,? & /;function rm(e){var t=e.match(tm);return t?t[1].split(nm):[]}var om=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function im(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(om,"{\n/* [wrapped with "+t+"] */\n")}function am(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function cm(e){return e!=e}function lm(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var sm=am,um=cm,pm=lm;function dm(e,t,n){return t==t?pm(e,t,n):sm(e,um,n)}var fm=dm;function vm(e,t){return!(null==e||!e.length)&&fm(e,t,0)>-1}var hm=va,gm=vm,ym=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function mm(e,t){return hm(ym,(function(n){var r="_."+n[0];t&n[1]&&!gm(e,r)&&e.push(r)})),e.sort()}var bm=rm,xm=im,wm=Kv,Om=mm;function Em(e,t,n){var r=t+"";return wm(e,xm(r,Om(bm(r),n)))}var km=Em,Sm=Zy,_m=em,Pm=km,jm=1,Nm=2,Am=4,Cm=8,Tm=32,Im=64;function Rm(e,t,n,r,o,i,a,c,l,s){var u=t&Cm;t|=u?Tm:Im,(t&=~(u?Im:Tm))&Am||(t&=~(jm|Nm));var p=[e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,c,l,s],d=n.apply(void 0,p);return Sm(e)&&_m(d,p),d.placeholder=r,Pm(d,e,t)}var Dm=Rm;function Mm(e){return e.placeholder}var Lm=Mm,Wm=Al,Bm=Ja,Um=Math.min;function Fm(e,t){for(var n=e.length,r=Um(t.length,n),o=Wm(e);r--;){var i=t[r];e[r]=Bm(i,n)?o[i]:void 0}return e}var Gm="__lodash_placeholder__";function Vm(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];(a===t||a===Gm)&&(e[n]=Gm,i[o++]=n)}return i}var zm=dy,Km=hy,Hm=yy,qm=oy,Jm=Dm,Xm=Lm,$m=Fm,Qm=Vm,Ym=M,Zm=1,eb=2,tb=8,nb=16,rb=128,ob=512;function ib(e,t,n,r,o,i,a,c,l,s){var u=t&rb,p=t&Zm,d=t&eb,f=t&(tb|nb),v=t&ob,h=d?void 0:qm(e);function g(){for(var y=arguments.length,m=Array(y),b=y;b--;)m[b]=arguments[b];if(f)var x=Xm(g),w=Hm(m,x);if(r&&(m=zm(m,r,o,f)),i&&(m=Km(m,i,a,f)),y-=w,f&&y<s){var O=Qm(m,x);return Jm(e,t,ib,g.placeholder,n,m,O,c,l,s-y)}var E=p?n:this,k=d?E[e]:e;return y=m.length,c?m=$m(m,c):v&&y>1&&m.reverse(),u&&l<y&&(m.length=l),this&&this!==Ym&&this instanceof g&&(k=h||qm(k)),k.apply(E,m)}return g}var ab=ib,cb=Av,lb=oy,sb=ab,ub=Dm,pb=Lm,db=Vm,fb=M;function vb(e,t,n){var r=lb(e);function o(){for(var i=arguments.length,a=Array(i),c=i,l=pb(o);c--;)a[c]=arguments[c];var s=i<3&&a[0]!==l&&a[i-1]!==l?[]:db(a,l);return(i-=s.length)<n?ub(e,t,sb,o.placeholder,void 0,a,s,void 0,void 0,n-i):cb(this&&this!==fb&&this instanceof o?r:e,this,a)}return o}var hb=vb,gb=Av,yb=oy,mb=M,bb=1;function xb(e,t,n,r){var o=t&bb,i=yb(e);function a(){for(var t=-1,c=arguments.length,l=-1,s=r.length,u=Array(s+c),p=this&&this!==mb&&this instanceof a?i:e;++l<s;)u[l]=r[l];for(;c--;)u[l++]=arguments[++t];return gb(p,o?n:this,u)}return a}var wb=xb,Ob=dy,Eb=hy,kb=Vm,Sb="__lodash_placeholder__",_b=1,Pb=2,jb=4,Nb=8,Ab=128,Cb=256,Tb=Math.min;function Ib(e,t){var n=e[1],r=t[1],o=n|r,i=o<(_b|Pb|Ab),a=r==Ab&&n==Nb||r==Ab&&n==Cb&&e[7].length<=t[8]||r==(Ab|Cb)&&t[7].length<=t[8]&&n==Nb;if(!i&&!a)return e;r&_b&&(e[2]=t[2],o|=n&_b?0:jb);var c=t[3];if(c){var l=e[3];e[3]=l?Ob(l,c,t[4]):c,e[4]=l?kb(e[3],Sb):t[4]}return(c=t[5])&&(l=e[5],e[5]=l?Eb(l,c,t[6]):c,e[6]=l?kb(e[5],Sb):t[6]),(c=t[7])&&(e[7]=c),r&Ab&&(e[8]=null==e[8]?t[8]:Tb(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var Rb=/\s/;function Db(e){for(var t=e.length;t--&&Rb.test(e.charAt(t)););return t}var Mb=Db,Lb=/^\s+/;function Wb(e){return e&&e.slice(0,Mb(e)+1).replace(Lb,"")}var Bb=Wb,Ub=he,Fb=ce,Gb=NaN,Vb=/^[-+]0x[0-9a-f]+$/i,zb=/^0b[01]+$/i,Kb=/^0o[0-7]+$/i,Hb=parseInt;function qb(e){if("number"==typeof e)return e;if(Fb(e))return Gb;if(Ub(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ub(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Bb(e);var n=zb.test(e);return n||Kb.test(e)?Hb(e.slice(2),n?2:8):Vb.test(e)?Gb:+e}var Jb=qb,Xb=1/0,$b=17976931348623157e292;function Qb(e){return e?(e=Jb(e))===Xb||e===-Xb?(e<0?-1:1)*$b:e==e?e:0:0===e?e:0}var Yb=Qb;function Zb(e){var t=Yb(e),n=t%1;return t==t?n?t-n:t:0}var ex=ey,tx=sy,nx=hb,rx=ab,ox=wb,ix=jy,ax=Ib,cx=em,lx=km,sx=Zb,ux="Expected a function",px=1,dx=2,fx=8,vx=16,hx=32,gx=64,yx=Math.max;function mx(e,t,n,r,o,i,a,c){var l=t&dx;if(!l&&"function"!=typeof e)throw new TypeError(ux);var s=r?r.length:0;if(s||(t&=~(hx|gx),r=o=void 0),a=void 0===a?a:yx(sx(a),0),c=void 0===c?c:sx(c),s-=o?o.length:0,t&gx){var u=r,p=o;r=o=void 0}var d=l?void 0:ix(e),f=[e,t,n,r,o,u,p,i,a,c];if(d&&ax(f,d),e=f[0],t=f[1],n=f[2],r=f[3],o=f[4],!(c=f[9]=void 0===f[9]?l?0:e.length:yx(f[9]-s,0))&&t&(fx|vx)&&(t&=~(fx|vx)),t&&t!=px)v=t==fx||t==vx?nx(e,t,c):t!=hx&&t!=(px|hx)||o.length?rx.apply(void 0,f):ox(e,t,n,r);else var v=tx(e,t,n);return lx((d?ex:cx)(v,f),e,t)}var bx=mx,xx=bx,wx=128;function Ox(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,xx(e,wx,void 0,void 0,void 0,void 0,t)}var Ex=Ox;function kx(e){return Ex(e,1)}var Sx,_x,Px,jx,Nx=kx,Ax=Object.defineProperty,Cx=Object.defineProperties,Tx=Object.getOwnPropertyDescriptors,Ix=Object.getOwnPropertySymbols,Rx=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,Mx=function(e,t,n){return t in e?Ax(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Lx=function(e,t){for(var n in t||(t={}))Rx.call(t,n)&&Mx(e,n,t[n]);if(Ix){var r,o=g(Ix(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Dx.call(t,n)&&Mx(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Wx=function(e,t){return Cx(e,Tx(t))},Bx=function(e,t){var n={};for(var r in e)Rx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ix){var o,i=g(Ix(e));try{for(i.s();!(o=i.n()).done;)r=o.value,t.indexOf(r)<0&&Dx.call(e,r)&&(n[r]=e[r])}catch(a){i.e(a)}finally{i.f()}}return n},Ux=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Fx=function(){var e=new Map;function t(e,t){if(go(e)){var n=e.page;if(n){var r,o=0,i=g(hf.component);try{for(i.s();!(r=i.n()).done;){var a=r.value;a&&a.page===n&&(hf.component.remove(a.component),o++)}}catch(c){i.e(c)}finally{i.f()}null==t||t({componentsRemoved:o})}hf.page.remove(e)}}function n(e,t){var n;return n=or(e)?e:Sg(e),!hf.component.has(n)&&hf.component.add(n,t||x.getRootPage()),n}function r(){var e=[];return function(t){return e.push(t),function(t){return e.map((function(e){return null==e?void 0:e(t)}))}}}var o=r();function i(e,t){return Ux(this,null,u.mark((function n(){var r,o,i,a,c,s,p,d,v,h,g,m;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p=x.getRootPage(),!A.exports.isStr(e)){n.next=8;break}if(![].concat(f(x.getPages()),f(x.getPreloadPages())).includes(e)){n.next=5;break}return d=x.getBaseUrl()+e+"_en.yml",n.abrupt("return",(null==(r=null==s?void 0:s.emit)||r.call(s,"path",d),d));case 5:return n.abrupt("return",lf(e,x.getAssetsUrl()));case 8:if(!A.exports.isObj(e)){n.next=24;break}if(!E.Identify.folds.emit(e)){n.next=22;break}if(s=null==t?void 0:t.component,v=null==(o=x.cache.actions.emit.get("path"))?void 0:o[0],h=(null==(i=null==t?void 0:t.context)?void 0:i.iteratorVar)||$d(s),!A.exports.isFnc(null==v?void 0:v.fn)){n.next=20;break}return g=new Ji("path",e),"dataKey"in e.emit&&(g.dataKey=y.createEmitDataKey(e.emit.dataKey,l({component:s,page:p,listDataObject:null==t?void 0:t.dataObject}),{iteratorVar:h})),g.executor=function(){return Ux(this,null,u.mark((function n(){var r,o,i=this;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=(x.cache.actions.emit.get("path")||[]).reduce((function(e,t){return"path"===(null==t?void 0:t.trigger)?e.concat(t):e}),[])).length){n.next=3;break}return n.abrupt("return","");case 3:return n.next=5,Promise.race(r.map((function(n){return Ux(i,null,u.mark((function r(){var o;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null==(o=n.fn)?void 0:o.call(n,g,x.getConsumerOptions({component:s,on:null==t?void 0:t.on,page:p,path:e})));case 1:case"end":return r.stop()}}),r)})))})));case 5:return o=n.sent,n.abrupt("return",(A.exports.isArr(o)?o[0]:o)||"");case 7:case"end":return n.stop()}}),n)})))},n.next=17,g.execute.call(g,e);case 17:if(m=n.sent,!A.exports.isStr(m)){n.next=20;break}return n.abrupt("return",(m.startsWith("http")||(m=lf(m,x.getAssetsUrl())),null==(a=null==s?void 0:s.emit)||a.call(s,"path",m),m));case 20:n.next=24;break;case 22:if(!E.Identify.if(e)){n.next=24;break}return n.abrupt("return",A.exports.isObj(t)&&"on"in t&&t.on.if?null==(c=t.on)?void 0:c.if({key:t.key||"",component:t.component,page:t.page||p,value:e}):lf(y.evalIf((function(e){return E.Identify.isBoolean(e)?E.Identify.isBooleanTrue(e):A.exports.isFnc(e)?s?e(Xd(s)):e():!!e}),e),x.getAssetsUrl()));case 24:case"end":return n.stop()}}),n)})))}function a(e){return Ux(this,null,u.mark((function t(){var n,r,o,i,a,c,l,s,p,d,f;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.type!==Br.REGISTER){t.next=27;break}if(i=e.event,a=e.params,!hf.register.has(i)){t.next=24;break}if(c=[],!(l=hf.register.get(i)).handler){t.next=21;break}if(s=l.handler.fn,!A.exports.isFnc(s)){t.next=18;break}return zd.debug("%cThe callback exists in the handler object. It will be invoked","color:#95a5a6;"),t.next=11,null==s?void 0:s(l,e.params);case 11:if(p=t.sent,c.push(p),d=x.cache.transactions.getHandler("register",i),t.t0=A.exports.isFnc(d),!t.t0){t.next=18;break}return t.next=18,d(p);case 18:return t.abrupt("return",c);case 21:return t.abrupt("return",(zd.debug("%cA handler object did not exist. A default function will be used that calls the functions in the callbacks list by default","color:#95a5a6;"),null==(n=l.fn)?void 0:n.call(l,l,a)));case 22:t.next=25;break;case 24:zd.debug("%cWarning: Emitted a register object that was not in the store","color:#FF5722;",e);case 25:t.next=29;break;case 27:if(e.type!==Br.TRANSACTION){t.next=29;break}return t.abrupt("return",null==(o=null==(r=hf.transactions.get(e.transaction))?void 0:r.fn)?void 0:o.call(r,e.params));case 29:t.next=35;break;case 31:throw t.prev=31,t.t1=t.catch(0),f=t.t1 instanceof Error?t.t1:new Error(String(t.t1)),zd.error(f),f;case 35:case"end":return t.stop()}}),t,null,[[0,31]])})))}function c(e){return function(){var t,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.dataObject,l=a.iteratorVar,s=void 0===l?"":l,u=a.page,p=a.pageObject,d=i,f=(null==u?void 0:u.page)||(null==e?void 0:e.page)||"";if(A.exports.isStr(d)){if(E.Identify.reference(d)){if(d=y.trimReference(d),E.Identify.localKey(d))return qn(p||(null==(t=x.getRoot())?void 0:t[f]),d);if(E.Identify.rootKey(d))return qn(x.getRoot(),d)}if(s&&d.startsWith(s))return d=y.excludeIteratorVar(d,s)||"",c||zd.debug("%cAttempting to retrieve a value from a list data object but a data object was not provided. This may result in an unexpected value being returned","color:#ec0000;"),qn(c||p||(null==(n=x.getRoot())?void 0:n[f])||x.getRoot(),d);if((null==(r=d[0])?void 0:r.toLowerCase())===d[0]){var v=qn(c,d);return A.exports.isUnd(v)?qn(null==(o=x.getRoot())?void 0:o[f],d):v}var h=qn(c,d);return A.exports.isUnd(h)?qn(x.getRoot(),d):h}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];if(null!=e&&e.component&&nf(e.component)){var n=(null==e?void 0:e.listDataObject)||Xd(e.component);n?t.push(n):zd.debug('%cCould not find a data object for a list consumer "'.concat(e.component.type,'" component'),"color:#ec0000;",e.component)}return null!=e&&e.page&&t.push((function(){var t;return x.getRoot()[(null==(t=e.page)?void 0:t.page)||""]})),t.push((function(){return x.getRoot()})),null!=e&&e.queries&&A.exports.array(e.queries).forEach((function(e){return t.unshift(e)})),t}var p=new Xg;function d(e,t){return Ux(this,null,u.mark((function n(){var r,o,i,a,c,l,d,f,h,m,b,w,O,k,S,_;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h=function(e,t){return Ux(this,null,u.mark((function n(){var r,o,i,a,c,l,d,f,h,m,b,w,O,k,S,_,P,j,N,C,T;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(r=t).callback,i=r.context,a=r.on,c=r.page,l=Bx(r,["callback","context","on","page"]),d=x.getConsumerOptions(Lx({callback:o,component:e,context:i,on:a,page:c},l)),n.next=4,p.transform(e,d);case 4:f=(null==i?void 0:i.iteratorVar)||"",h=f&&A.exports.isObj(null==i?void 0:i.dataObject),m=g(A.exports.entries(e.props));try{for(m.s();!(b=m.n()).done;)if(w=v(b.value,2),O=w[0],k=w[1],"style"===O){if(h&&A.exports.isObj(k)){S=g(A.exports.entries(k));try{for(S.s();!(_=S.n()).done;)P=v(_.value,2),j=P[0],N=P[1],A.exports.isStr(N)&&(N.startsWith(f)?(C=y.excludeIteratorVar(N,f),T=N,(N=qn(null==i?void 0:i.dataObject,C))?e.edit({style:s({},j,N)}):zd.debug('%cEncountered an unparsed style value "'.concat(T,'" for style key "').concat(j,'"'),"color:#ec0000;",{component:e,possibleValue:N})):E.Identify.reference(N)&&zd.debug('%cEncountered an unparsed style value "'.concat(N,'" for style key "').concat(j,'"'),"color:#ec0000;",e))}catch(u){S.e(u)}finally{S.f()}}}else E.Identify.reference(k)&&E.Identify.reference(e.get(O))&&(zd.debug('%cEncountered an unparsed reference value "'.concat(k,'" for key "').concat(O,'"'),"color:#ec0000;",e),"data-value"===O&&(E.Identify.rootReference(k)||E.Identify.localReference(k))&&e.edit(s({},O,"")))}catch(u){m.e(u)}finally{m.f()}return n.abrupt("return",{component:e,options:d});case 8:case"end":return n.stop()}}),n)})))},r=!0,o=[],i=[],c={},f={},A.exports.isArr(e)?(i=e,go(t)?a=t:A.exports.isObj(t)&&(t.callback&&(l=t.callback),t.context&&(c=t.context),t.page&&(a=t.page),t.on&&(d=t.on),t.keepVpUnit&&(f.keepVpUnit=t.keepVpUnit))):A.exports.isObj(e)&&("type"in e||"children"in e||"style"in e?(i=[e],go(t)?a=t:A.exports.isObj(t)&&(go(t.page)&&(a=t.page),t.context&&(c=t.context),t.callback&&(l=t.callback),t.on&&(d=t.on)),r=!1):(e.callback&&(l=e.callback),e.context&&A.exports.assign(c,e.context),e.page&&(a=e.page),e.on&&(d=e.on),i=A.exports.array(e.components),r=A.exports.isArr(e.components),e.keepVpUnit&&(f.keepVpUnit=e.keepVpUnit))),!a&&(a=x.getRootPage()),m=A.exports.array(i),b=m.length,w=0;case 6:if(!(w<b)){n.next=17;break}return O=m[w],A.exports.isStr(O)&&E.Identify.reference(O)&&(O=rr(x.getRoot,a.page,O)),A.exports.isObj(O)&&!O.type&&(k=A.exports.keys(O).find((function(e){return E.Identify.reference(e)})))&&(O=rr(x.getRoot,a.page,k)),n.next=11,h(x.createComponent(O,a),Lx({callback:l,context:c,on:d,page:a},f));case 11:S=n.sent,_=S.component,o.push(_);case 14:w++,n.next=6;break;case 17:return n.abrupt("return",r?o:o[0]);case 18:case"end":return n.stop()}}),n)})))}function h(e){if(void 0===e)return hf.actions;switch(e){case"builtIn":return hf.actions.builtIn;case"emit":return hf.actions.emit;default:return hf.actions[e]}}function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var o,i="";if(A.exports.isStr(e))i=e,o=x.cache.register.get(i)||{},A.exports.isFnc(n)?(fd(o,"handler.fn",n),A.exports.isObj(r)&&(r.handler?(A.exports.assign(o,r),o.handler=Lx(Lx({},o.handler),r.handler)):A.exports.assign(o,r))):A.exports.isObj(n)&&A.exports.entries(n).forEach((function(e){var t=v(e,2),r=t[0],i=t[1];o&&("handler"===r?o.handler=Lx(Lx({},o.handler),n.handler):o[r]=i)})),A.exports.isFnc(null==(t=o.handler)?void 0:t.fn)&&A.exports.isFnc(o.fn)&&(o.fn=void 0),!o.page&&(o.page="_global"),!o.callbacks&&(o.callbacks=[]),o.name!==i&&(o.name=i);else if(A.exports.isObj(e)&&(i=e.onEvent,o=x.cache.register.get(i)||{},n&&A.exports.assign(o,n),!o.callbacks&&(o.callbacks=[]),o.name!==i&&(o.name=i),!o.page&&(o.page="_global"),!x.cache.register.has(i)&&(o.handler?A.exports.isFnc(o.handler.fn)&&A.exports.isFnc(o.fn)&&(o.fn=void 0):A.exports.isFnc(o.fn)||(o.fn=function(e,t){return Ux(this,null,u.mark((function n(){var r,o,a=this;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all((null==(o=null==(r=x.cache.register.get(i))?void 0:r.callbacks)?void 0:o.map((function(n){return Ux(a,null,u.mark((function r(){var o;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!m.isActionChain(n)){r.next=4;break}r.t0=null==(o=null==n?void 0:n.execute)?void 0:o.call(n,e,t),r.next=12;break;case 4:if(!A.exports.isFnc(n)){r.next=10;break}return r.next=7,n(e,t);case 7:r.t1=r.sent,r.next=11;break;case 10:r.t1=n;case 11:r.t0=r.t1;case 12:return r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r)})))})))||[]));case 1:case"end":return n.stop()}}),n)})))}),E.Identify.folds.emit(e)))){var a=x.createActionChain("register",{emit:e.emit,actionType:"emit"},{loadQueue:!0});o.callbacks.push(a)}return hf.register.set(i,o)}catch(i){var c=i instanceof Error?i:new Error(String(i));zd.error(c)}}var x={_experimental:{get register(){return b}},_defineGetter:function(e,t){Object.defineProperty(this,e,{get:A.exports.isFnc(t)?function(){return t}:function(){return t.get}})},get cache(){return hf},get clean(){return t},get createGetter(){return c},get createGoto(){return o},get createComponent(){return n},createPage:function(e){var t;if(go(e))return e;var n,r,o,i,a="";if(A.exports.isStr(e))a=e;else if(or(e)){if(n=e.id,a=String(e.get("path")||""),go(o=e.get("page")||(null==(t=hf.page.get(e.id))?void 0:t.page)))return o}else if(A.exports.isObj(e)){if(e.name&&(a=e.name),e.onChange&&(r=e.onChange),or(e.component)){var c=e.component.id;if(c&&hf.page.has(c))return hf.page.get(c).page}else n=e.id||n||"";null!=e&&e.viewport&&(Lg(e.viewport)?i=e.viewport:A.exports.isObj(e.viewport)&&(i=new Bo(e.viewport)))}return null==(o=hf.page.create({id:n,name:a,onChange:r,viewport:i}))||o.use((function(){var e;return null==(e=x.getRoot()[(null==o?void 0:o.page)||""])?void 0:e.components})),o},createPlugin:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"head",r=arguments.length>1?arguments[1]:void 0,o="",i=(or(r)?null==(e=r.blueprint)?void 0:e.path:null==r?void 0:r.path)||"";if(A.exports.isStr(n))o=n;else{r=n,i=(null==(t=n.blueprint)?void 0:t.path)||"";var a=null==n?void 0:n.type;i.endsWith(".css")?o="head":i.endsWith(".html")?o="body-top":"pluginHead"===a?o="head":"pluginBodyTop"===a?o="body-top":"pluginBodyTail"===a&&(o="body-bottom"),!o&&(o="head")}var c=i,l={id:c,content:"",initiated:!1,location:o,path:i};return i||(i="",l.id="",l.path=""),!hf.plugin.has(c)&&hf.plugin.add(o,l),l},createActionChain:function(e,t,n,r){var o,i;A.exports.isArr(t)||(t=[t]);var a=r||(null==n?void 0:n.id)||(null==(o=null==n?void 0:n.component)?void 0:o.id),c=mg({actions:A.exports.reduce(t,(function(e,t){var n=cg(t);return n.length&&!Po()&&n.forEach((function(e){return zd.error("%c".concat(e),"color:#ec0000;",t)})),A.exports.isObj(t)&&!("actionType"in t)?t=Wx(Lx({},t),{actionType:ig(t)}):A.exports.isFnc(t)&&(t={actionType:"anonymous",fn:t}),e.concat(t)}),[]),trigger:e,loader:function(t){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return function(o){return Ux(this,null,u.mark((function i(){var a,l,s=this;return u.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.length){i.next=7;break}return i.t0=f,i.next=4,Promise.allSettled(t.map((function(t){return Ux(s,null,u.mark((function i(){var a;return u.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,null==(a=t.fn)?void 0:a.call(t,e,Wx(Lx({},r),{component:null==n?void 0:n.component,event:o,ref:c}));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))})));case 4:return i.t1=i.sent.values(),l=(0,i.t0)(i.t1),i.abrupt("return",l.length<2?null==(a=l[0])?void 0:a.value:f(null==l?void 0:l.values()));case 7:case"end":return i.stop()}}),i)})))}}return t.map((function(t){var o,i,a,c;if(E.Identify.folds.emit(t)){var s,u=yg(e,t);if(null!=n&&n.component&&(s=Kd(null==n?void 0:n.component)),null!=n&&n.component){var p=(null==(o=null==n?void 0:n.context)?void 0:o.iteratorVar)||$d(n.component),d=(null==(i=null==n?void 0:n.context)?void 0:i.dataObject)||Xd(n.component);null!=(a=t.emit)&&a.dataKey&&(u.dataKey=y.createEmitDataKey(t.emit.dataKey,l({component:n.component,page:n.page,listDataObject:d}),{iteratorVar:p,listAttribute:s}))}var f=(null==(c=x.cache.actions.emit)?void 0:c.get(e))||[];return u.executor=r(u,f,x.getConsumerOptions({context:null==n?void 0:n.context,component:null==n?void 0:n.component,on:null==n?void 0:n.on,page:null==n?void 0:n.page})),u}var v=yg(e,t);return v.executor=r(v,E.Identify.action.builtIn(t)?x.cache.actions.builtIn.get(t.funcName):E.Identify.goto(t)?x.cache.actions.goto:x.cache.actions[t.actionType]||[],x.getConsumerOptions({context:null==n?void 0:n.context,component:null==n?void 0:n.component,on:null==n?void 0:n.on,page:null==n?void 0:n.page})),v}))},_id:a});return null!=n&&n.loadQueue&&c.loadQueue(),null!=(i=null==n?void 0:n.on)&&i.actionChain&&c.use(n.on.actionChain),c},get createSrc(){return i},get emit(){return a},getAssetsUrl:function(){return""},getActions:h,getBuiltIns:function(){return hf.actions.builtIn},getBaseUrl:function(){return""},getBaseStyles:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or(e)?e.blueprint:e,o=(or(e)?(null==(t=e.blueprint)?void 0:t.style)||e.style:r.style||(null==e?void 0:e.style))||{},i=Lx({},o);return Bo.isNil(null==o?void 0:o.top)||"auto"===(null==o?void 0:o.top)?i.position="relative":i.position="absolute","fixed"==(null==o?void 0:o.position)&&(i.position="fixed"),A.exports.isNil(o.height)&&(i.height="auto"),ih(Wx(Lx({},null==(n=x.getRoot())?void 0:n.Style),{position:"absolute",outline:"none"}),o,i)},getConsumerOptions:function(e){var t=e,n=t.callback,r=t.component,o=t.on,c=t.page,s=t.context,u=Bx(t,["callback","component","on","page","context"]),p=function(e,t){var n,r,o,i;if((null==t?void 0:t.parent)&&E.Identify.component.page(t.parent)){if(go(null==(r=null==(n=t.parent)?void 0:n.get)?void 0:r.call(n,"page")))return null==(i=null==(o=t.parent)?void 0:o.get)?void 0:i.call(o,"page");if(hf.page.has(t.id))return hf.page.get(t.id).page}return e||x.getRootPage()};return Wx(Lx(Lx({},x),u),{callback:n,cache:hf,component:r,context:s,get createPage(){return x.createPage},createActionChain:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.context,a=n.loadQueue,l=void 0===a||a,u=arguments.length>3?arguments[3]:void 0,p=A.exports.isStr(u)&&u&&u||(null==r?void 0:r.id);return x.createActionChain(e,t,{context:Lx(Lx({},s),i),component:r,loadQueue:l,id:p,on:o,page:c},p)},createSrc:function(e,t){return i({key:e,value:t,component:r,page:p(c,r)})},get emit(){return a},get getBaseStyles(){return u.getBaseStyles||x.getBaseStyles},get getQueryObjects(){return l},get on(){return o},get page(){return p(c,r)},get resolveComponents(){return d},get viewport(){var e;return null==(e=p(c,r))?void 0:e.viewport}})},getPlugins:function(e){return hf.plugin.get(e)},getPages:function(){return[]},getPreloadPages:function(){return[]},getRoot:function(){return{}},getRootPage:function(){var e;return hf.page.has("root")?null==(e=A.exports.array(hf.page.get("root"))[0])?void 0:e.page:hf.page.create({viewport:new Bo})},get resolveComponents(){return d},reset:function(){hf.actions.clear(),hf.actions.reset(),hf.component.clear(),hf.page.clear(),hf.plugin.clear(),hf.register.clear(),hf.transactions.clear(),x._defineGetter("getAssetsUrl",(function(){return""})),x._defineGetter("getBaseUrl",(function(){return""})),x._defineGetter("getPages",(function(){return[]})),x._defineGetter("getPreloadPages",(function(){return[]})),x._defineGetter("getRoot",(function(){return""}))},setLogLevel:function(e){return zd.setLevel(e)},use:function(t){var n,r,o,i=g(Mr);try{var a=function(){var e=o.value;e in t&&A.exports.forEach((function(t){var n;if(!A.exports.isFnc(t))throw new Error('fn is required for handling actionType "'.concat(e,'"'));null==(n=hf.actions[e])||n.push({actionType:e,fn:t})}),A.exports.array(t[e]))};for(i.s();!(o=i.n()).done;)a()}catch(y){i.e(y)}finally{i.f()}if("builtIn"in t&&A.exports.forEach((function(e){var t=v(e,2),n=t[0],r=t[1];A.exports.forEach((function(e){var t;if(!n)throw new Error("Missing funcName in a builtIn handler");hf.actions.builtIn.has(n)||hf.actions.builtIn.set(n,[]),null==(t=hf.actions.builtIn.get(n))||t.push({actionType:"builtIn",funcName:n,fn:e})}),A.exports.array(r))}),A.exports.entries(t.builtIn)),"emit"in t&&A.exports.forEach((function(e){var t=v(e,2),n=t[0],r=t[1];return A.exports.forEach((function(e){var t;null==(t=x.cache.actions.emit.get(n))||t.push({actionType:"emit",fn:e,trigger:n})}),A.exports.array(r))}),A.exports.entries(t.emit)),t.on){var c,l=g(A.exports.entries(t.on));try{for(l.s();!(c=l.n()).done;){var s=v(c.value,2),u=s[0],p=s[1];e.has(u)||e.set(u,[]),null==(r=null==(n=e.get(u))?void 0:n.push)||r.call(n,p)}}catch(y){l.e(y)}finally{l.f()}}"plugin"in t&&A.exports.forEach((function(e){return x.createPlugin(tf(),e)}),A.exports.array(t.plugin)),"register"in t&&(E.Identify.component.register(t.register)||A.exports.isArr(t.register)?A.exports.forEach(Nx(x._experimental.register),A.exports.array(t.register)):A.exports.entries(t.register).forEach((function(e){var t=v(e,2),n=t[0],r=t[1];A.exports.isFnc(r)&&x._experimental.register(n,r)}))),"transaction"in t&&A.exports.entries(t.transaction).forEach((function(e){var t=v(e,2),n=t[0],r=t[1],o={};A.exports.isFnc(r)?o.fn=r:A.exports.isObj(r)&&A.exports.assign(o,r),hf.transactions.set(n,o)}));for(var d=0,f=["getAssetsUrl","getBaseUrl","getPages","getPreloadPages","getRoot"];d<f.length;d++){var h=f[d];t[h]&&x._defineGetter(h,t[h])}return x}};return x}(),Gx=Object.defineProperty,Vx=Object.defineProperties,zx=Object.getOwnPropertyDescriptors,Kx=Object.getOwnPropertySymbols,Hx=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable,Jx=function(e,t,n){return t in e?Gx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xx=function(e,t){for(var n in t||(t={}))Hx.call(t,n)&&Jx(e,n,t[n]);if(Kx){var r,o=g(Kx(t));try{for(o.s();!(r=o.n()).done;)n=r.value,qx.call(t,n)&&Jx(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},$x=function(e,t){return Vx(e,zx(t))},Qx=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Yx=function(e,t,n){return Qx(e,t,"read from private field"),n?n.call(e):t.get(e)},Zx=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ew=function(e,t,n,r){return Qx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},tw=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},nw=function(e){function t(e){p(this,t),Zx(this,Sx,void 0),Zx(this,_x,{aspectRatio:1,aspectRatioMin:1,aspectRatioMax:1,previous:"",requesting:"",modifiers:{},status:$r.page.status.IDLE,node:!1}),Zx(this,Px,A.exports.values($r.page.on).reduce((function(e,t){return A.exports.assign(e,s({},t,[]))}),{})),Zx(this,jx,void 0),this.pageUrl=Gr,ew(this,Sx,e),this.clearNode(),"root"===this.id&&!document.body.contains(this.node)&&document.body.appendChild(this.node)}return d(t,[{key:e,value:function(){return $x(Xx({},this.snapshot()),{nuiPage:Yx(this,Sx)})}},{key:"clearNode",value:function(){return this.node||(this.node=document.getElementById(String(this.id))||document.createElement("div"),this.node.id=this.id),this.emitSync($r.page.on.ON_BEFORE_CLEAR_ROOT_NODE,this.node),this.node.textContent="",this.node.style.cssText="",this.node.style.position="absolute",this.node.style.width="100%",this.node.style.height="100%",this}},{key:"aspectRatio",get:function(){return Yx(this,_x).aspectRatio}},{key:"aspectRatio",set:function(e){Yx(this,_x).aspectRatio=e}},{key:"aspectRatioMin",get:function(){return Yx(this,_x).aspectRatioMin}},{key:"aspectRatioMin",set:function(e){var t=this.aspectRatioMin;Yx(this,_x).aspectRatioMin=e,this.emitSync($r.page.on.ON_ASPECT_RATIO_MIN,t,e)}},{key:"aspectRatioMax",get:function(){return Yx(this,_x).aspectRatioMax}},{key:"aspectRatioMax",set:function(e){var t=this.aspectRatioMax;Yx(this,_x).aspectRatioMax=e,this.emitSync($r.page.on.ON_ASPECT_RATIO_MAX,t,e)}},{key:"components",get:function(){var e;return(null==(e=Yx(this,Sx))?void 0:e.components)||null}},{key:"created",get:function(){var e;return(null==(e=Yx(this,Sx))?void 0:e.created)||null}},{key:"history",get:function(){var e;return(null==(e=this.getNuiPage())?void 0:e.history)||[]}},{key:"hooks",get:function(){return Yx(this,Px)}},{key:"id",get:function(){var e;return(null==(e=Yx(this,Sx))?void 0:e.id)||null}},{key:"modifiers",get:function(){return Yx(this,_x).modifiers||(Yx(this,_x).modifiers={}),Yx(this,_x).modifiers}},{key:"page",get:function(){var e;return(null==(e=Yx(this,Sx))?void 0:e.page)||""}},{key:"page",set:function(e){Yx(this,Sx)&&(Yx(this,Sx).page=e||"")}},{key:"previous",get:function(){return Yx(this,_x).previous}},{key:"previous",set:function(e){Yx(this,_x).previous=e||""}},{key:"requesting",get:function(){return Yx(this,_x).requesting}},{key:"requesting",set:function(e){""===e&&(Yx(this,_x).modifiers={}),Yx(this,_x).requesting=e||""}},{key:"node",get:function(){return Yx(this,jx)}},{key:"node",set:function(e){ew(this,jx,e),this.emitSync($r.page.on.ON_SET_ROOT_NODE,{node:e})}},{key:"tagName",get:function(){var e,t,n;return(null==(n=null==(t=null==(e=this.node)?void 0:e.tagName)?void 0:t.toLowerCase)?void 0:n.call(t))||""}},{key:"viewport",get:function(){var e;return null==(e=Yx(this,Sx))?void 0:e.viewport}},{key:"viewport",set:function(e){Yx(this,Sx).viewport=e}},{key:"getNuiPage",value:function(){return Yx(this,Sx)}},{key:"getCbs",value:function(){return this.hooks}},{key:"clearCbs",value:function(){return A.exports.forEach((function(e){for(;e.length;)e.pop()}),A.exports.values(this.hooks)),this}},{key:"getPreviousPage",value:function(e){var t,n;e=e||this.previous;var r,o=this.pageUrl.split("-");if(o.length>1){for(;(null==(t=o[o.length-1])?void 0:t.endsWith("MenuBar"))&&o.length>1;)o.pop();r=o.pop()}else r=1===o.length?null==(n=o[0])?void 0:n.split("?")[1]:e;return r||""}},{key:"snapshot",value:function(e){var t,n;return Xx({created:this.created,id:this.id,components:this.components,modifiers:this.modifiers,status:Yx(this,_x).status,previous:Yx(this,_x).previous,current:this.page,requesting:Yx(this,_x).requesting,pageUrl:this.pageUrl,viewport:{width:null==(t=this.viewport)?void 0:t.width,height:null==(n=this.viewport)?void 0:n.height},node:{id:this.node.id,width:this.node.style.width,height:this.node.style.height,childElementCount:this.node.childElementCount,tagName:this.node.tagName},tagName:this.tagName},e)}},{key:"on",value:function(e,t){return this.hooks[e]&&!this.hooks[e].some((function(t){return t.id===e}))&&this.hooks[e].push({id:e,fn:t}),this}},{key:"off",value:function(e,t){var n,r,o=(null==(r=null==(n=this.hooks[e])?void 0:n.findIndex)?void 0:r.call(n,(function(e){return e.fn===t})))||-1;return-1!==o&&this.hooks[e].splice(o,1),this}},{key:"once",value:function(e,t){var n={id:e,once:!0,fn:t};return this.hooks[e].push(n),this}},{key:"emitAsync",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tw(this,null,u.mark((function t(){var r;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=A.exports.isArr(this.hooks[e]),!t.t0){t.next=5;break}return t.next=4,Promise.all(A.exports.map((function(e){return e.fn.apply(e,n)}),this.hooks[e]));case 4:r=t.sent;case 5:return t.abrupt("return",r&&r.find(Boolean));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"emitSync",value:function(e){for(var t,n=this,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return null==(t=A.exports.forEach)||t.call(C,(function(t,r){var i,a,c;null==(c=null==(a=t.fn)?void 0:a.call)||(i=c).call.apply(i,[a,n].concat(o)),t.once&&n.hooks[e].splice(r,1)}),this.hooks[e]||[]),this}},{key:"setStatus",value:function(e){return Yx(this,_x).status=e,(e===$r.page.status.IDLE||e===$r.page.status.NAVIGATE_ERROR)&&(this.requesting=""),this.emitSync($r.page.on.ON_STATUS_CHANGE,e),this}},{key:"setModifier",value:function(e,t){return Yx(this,_x).modifiers[e]||(Yx(this,_x).modifiers[e]={}),A.exports.assign(Yx(this,_x).modifiers[e],t),this}},{key:"remove",value:function(){var e;try{null!=(e=Yx(this,Sx))&&e.viewport&&(Yx(this,Sx).viewport=null),A.exports.isArr(this.components)&&(this.components.length=0),A.exports.forEach((function(e){return e&&(e.length=0)}),A.exports.values(Yx(this,Px)))}catch(t){console.error(t)}}},{key:"toJSON",value:function(){return this.snapshot()}}]),t}(Symbol.for("nodejs.util.inspect.custom"));function rw(e){if(null!=e&&e.style)return A.exports.reduce(A.exports.entries(e.style),(function(t,n){var r,o=v(n,2),i=o[0],a=o[1];return(null==(r=Object.getOwnPropertyDescriptor(e.style,i))?void 0:r.writable)&&""!==a&&"length"!==i&&"parentRule"!==i&&(t[i]=a),t}),{})}function ow(e){return e?A.exports.reduce(A.exports.entries(e),(function(t,n){var r=v(n,2),o=r[0],i=r[1];return"style"===o?A.exports.assign(t.style,rw(e)):t[o]=i,t}),{}):void 0}Sx=new WeakMap,_x=new WeakMap,Px=new WeakMap,jx=new WeakMap;var iw,aw,cw,lw,sw,uw,pw=Object.defineProperty,dw=Object.defineProperties,fw=Object.getOwnPropertyDescriptors,vw=Object.getOwnPropertySymbols,hw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,yw=function(e,t,n){return t in e?pw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},mw=function(e,t){for(var n in t||(t={}))hw.call(t,n)&&yw(e,n,t[n]);if(vw){var r,o=g(vw(t));try{for(o.s();!(r=o.n()).done;)n=r.value,gw.call(t,n)&&yw(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},bw=function(e,t){return dw(e,fw(t))},xw=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},ww=function(e,t,n){return xw(e,t,"read from private field"),n?n.call(e):t.get(e)},Ow=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ew=function(e,t,n,r){return xw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},kw=function(e,t){a(r,e);var n=h(r);function r(e,t){var a,u,d,f,v,h,g,y,m,b;if(p(this,r),d=n.call(this,go(null==(f=null==e?void 0:e.get)?void 0:f.call(e,"page"))?null==(v=null==e?void 0:e.get)?void 0:v.call(e,"page"):e),Ow(o(d),iw,void 0),Ow(o(d),aw,(s(a={},$r.componentPage.on.ON_LOAD,[]),s(a,$r.componentPage.on.ON_ERROR,[]),s(a,$r.componentPage.on.ON_MESSAGE,[]),a)),Ow(o(d),cw,void 0),Ow(o(d),lw,null),d.initialized=!1,d.origin="",Ow(o(d),sw,(function(e){var t;console.log("%c[ComponentPage] Received message","color:#0047ff;",e),ww(o(d),aw);try{A.exports.isObj(e.data)?t=e.data:A.exports.isStr(e.data)&&(t=JSON.parse(e.data))}catch(n){console.error(n)}d.emitSync($r.componentPage.on.ON_MESSAGE,t)})),Ow(o(d),uw,(function(e){console.log("%c[ComponentPage] Received message error ","color:#0047ff;",e)})),Ew(o(d),iw,e),d.node=(null==t?void 0:t.node)||i((u=o(d),l(r.prototype)),"node",u),d.origin=window.origin,d.node){if("IFRAME"!==d.node.tagName){var x=ow(d.node);d.node.parentElement?d.node.parentElement.removeChild(d.node):null==(g=null==(h=d.node)?void 0:h.remove)||g.call(h),d.node=document.createElement("iframe"),d.node.id=e.id,A.exports.assign(d.node,x)}}else d.node=document.createElement("iframe");return null==window||window.addEventListener("message",ww(o(d),sw)),null==window||window.addEventListener("messageerror",ww(o(d),uw)),null==(y=d.node)||y.addEventListener("load",(function(e){console.log("[ComponentPage] DOM loaded",{event:e,instance:o(d),id:d.id})})),d.node.addEventListener("error",(function(e){console.error("[ComponentPage] Error",e)})),null==(b=null==(m=d.node)?void 0:m.addEventListener)||b.call(m,"unload",(function(e){try{d.body.innerHTML="",d.body.remove(),d.node.remove()}catch(t){console.error("[ComponentPage] Unload error",t)}})),d.configure({allow:"*",name:d.page,onLoad:null==t?void 0:t.onLoad,onError:null==t?void 0:t.onError}),c(d)}return d(r,[{key:t,value:function(){var e;return bw(mw({},this.snapshot()),{error:this.error,initialized:this.initialized,component:null==(e=this.component)?void 0:e.toJSON()})}},{key:"created",get:function(){return!i(l(r.prototype),"created",this)&&go(this.component)?this.component.created:i(l(r.prototype),"created",this)}},{key:"component",get:function(){return ww(this,iw)}},{key:"hasComponent",get:function(){return or(this.component)}},{key:"hasNuiPage",get:function(){return go(this.getNuiPage())}},{key:"window",get:function(){var e;return(null==(e=this.node)?void 0:e.contentWindow)||null}},{key:"document",get:function(){var e;return(null==(e=this.window)?void 0:e.document)||null}},{key:"head",get:function(){var e;return(null==(e=this.document)?void 0:e.head)||null}},{key:"body",get:function(){var e;return(null==(e=this.document)?void 0:e.body)||null}},{key:"error",get:function(){return ww(this,lw)||null}},{key:"parentElement",get:function(){var e;return(null==(e=this.node)?void 0:e.parentElement)||null}},{key:"remote",get:function(){return String(this.page).startsWith("http")||String(this.page).endsWith(".html")}},{key:"appendChild",value:function(e){var t,n;try{null==(n=null==(t=this.body)?void 0:t.appendChild)||n.call(t,e)}catch(r){throw console.error(r),r}}},{key:"clear",value:function(){var e,t;this.remove(),null==(t=null==(e=this.node)?void 0:e.remove)||t.call(e),A.exports.forEach(A.exports.clearArr,A.exports.values(ww(this,aw))),Ew(this,iw,null)}},{key:"configure",value:function(e){var t,n;if(e.className&&this.node.classList.add(e.className),this.node instanceof HTMLIFrameElement&&(e.name&&(this.node.name=e.name),e.width&&(this.node.width=e.width),e.height&&(this.node.height=e.height)),e.contentSecurityPolicy){var r=function(e,t){var n="";return n+="".concat(e," ").concat(A.exports.isBool(t)?"*":A.exports.array(t).reduce((function(e,t){return e+"".concat(t,";")}),""))},o=document.createElement("meta");o.setAttribute("http-equiv",Vr);var i="default-src 'self';",a=e.contentSecurityPolicy;a.allowImages&&(i+=r("img-src","*")),a.allowVideos&&(i+=r("media-src","*")),a.allowScripts&&(i+=r("script-src",a.allowScripts)),o.setAttribute("content",i),this.node instanceof HTMLIFrameElement&&(null==(n=null==(t=this.node)?void 0:t.contentDocument)||n.head.appendChild(o))}return e.onLoad&&this.on($r.componentPage.on.ON_LOAD,e.onLoad),e.onError&&this.on($r.componentPage.on.ON_ERROR,e.onError),e.sandbox&&(new DOMTokenList).add("allow-modals","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation"),this}},{key:"emitSync",value:function(e){for(var t,n,o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return e in i(l(r.prototype),"hooks",this)?(t=i(l(r.prototype),"emitSync",this)).call.apply(t,[this,e].concat(a)):e in ww(this,aw)&&(null==(n=A.exports.forEach)||n.call(C,(function(e){return null==e?void 0:e.apply(void 0,a)}),ww(this,aw)[e])),this}},{key:"getNuiPage",value:function(){var e,t,n=null==(t=null==(e=ww(this,iw))?void 0:e.get)?void 0:t.call(e,"page");return n&&ww(this,cw)!==n&&Ew(this,cw,n),ww(this,cw)}},{key:"on",value:function(e,t){return $r.page.on[e]?i(l(r.prototype),"on",this).call(this,e,t):e in ww(this,aw)&&ww(this,aw)[e].push(t),this}},{key:"patch",value:function(e){var t,n,r,o;go(e)?(e.page!==this.page&&(this.page=e.page),Ew(this,cw,e),or(this.component)?(null==(n=null==(t=this.component)?void 0:t.get)?void 0:n.call(t,"page"))!==e&&(null==(o=null==(r=this.component)?void 0:r.edit)||o.call(r,"page",e)):go(this.component)&&console.error('Received a NuiPage in the "component" property of a ComponentPage',this.component)):or(e)&&(Ew(this,iw,e),ww(this,cw)&&!e.get("page")?this.component.edit("page",e):!ww(this,cw)&&go(e.get("page"))&&Ew(this,cw,e.get("page")))}},{key:"replaceNode",value:function(e){try{this.parentElement?this.parentElement.replaceChild(e,this.node):this.node.remove(),this.node=e}catch(t){throw console.error(t),t}}},{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";console.log("%c[ComponentPage] Sending message to origin: ".concat(t),"color:#95a5a6;",e),this.window.postMessage(e,t)}}]),r}(nw,Symbol.for("nodejs.util.inspect.custom"));function Sw(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function _w(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Pw(e){_w(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function jw(e,t){_w(2,arguments);var n=Pw(e),r=Sw(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Nw(e,t){_w(2,arguments);var n=Pw(e),r=Sw(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());return i.setMonth(n.getMonth()+r+1,0),o>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Aw(e,t){if(_w(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?Sw(t.years):0,r=t.months?Sw(t.months):0,o=t.weeks?Sw(t.weeks):0,i=t.days?Sw(t.days):0,a=t.hours?Sw(t.hours):0,c=t.minutes?Sw(t.minutes):0,l=t.seconds?Sw(t.seconds):0,s=Pw(e),u=r||n?Nw(s,r+12*n):s,p=i||o?jw(u,i+7*o):u,d=1e3*(l+60*(c+60*a));return new Date(p.getTime()+d)}iw=new WeakMap,aw=new WeakMap,cw=new WeakMap,lw=new WeakMap,sw=new WeakMap,uw=new WeakMap;var Cw,Tw,Iw=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Rw=function(e,t,n){return Iw(e,t,"read from private field"),n?n.call(e):t.get(e)},Dw=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mw=function(e,t,n,r){return Iw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Lw=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dataKey,r=void 0===n?"":n,o=e.initialValue,i=e.pageName,a=void 0===i?"":i;p(this,t),Dw(this,Cw,void 0),Dw(this,Tw,void 0),this.dataKey=r,this.pageName=a,this.value=o}return d(t,[{key:e,value:function(){return{dataKey:this.dataKey,hasOnClearCallback:A.exports.isFnc(Rw(this,Cw)),hasOnIncrementCallback:A.exports.isFnc(Rw(this,Tw)),isGlobal:this.dataKey.replace(/(\.|=|-|@|_)/g,"").toLowerCase().startsWith("global"),isRunning:!A.exports.isUnd(this.ref),pageName:this.pageName,ref:this.ref,value:this.value}}},{key:"increment",value:function(){var e;return this.value=Aw(new Date(this.value),{seconds:1}),null==(e=Rw(this,Tw))||e.call(this,this.value),this.value}},{key:"start",value:function(){this.ref=setInterval(this.increment.bind(this),1e3)}},{key:"clear",value:function(){var e;clearInterval(this.ref),this.ref=void 0,null==(e=Rw(this,Cw))||e.call(this)}},{key:"on",value:function(e,t){return"increment"===e&&(this.onIncrement=t),this}},{key:"onClear",set:function(e){Mw(this,Cw,e)}},{key:"onIncrement",set:function(e){Mw(this,Tw,e)}}]),t}(Symbol.for("nodejs.util.inspect.custom"));Cw=new WeakMap,Tw=new WeakMap;var Ww,Bw=Object.defineProperty,Uw=Object.getOwnPropertySymbols,Fw=Object.prototype.hasOwnProperty,Gw=Object.prototype.propertyIsEnumerable,Vw=function(e,t,n){return t in e?Bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},zw=function(e,t){for(var n in t||(t={}))Fw.call(t,n)&&Vw(e,n,t[n]);if(Uw){var r,o=g(Uw(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Gw.call(t,n)&&Vw(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Kw=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Hw=function(e,t,n){return Kw(e,t,"read from private field"),n?n.call(e):t.get(e)},qw=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Jw=function(){function e(){p(this,e),qw(this,Ww,new Map)}return d(e,[{key:"has",value:function(e){return Hw(this,Ww).has(e)}},{key:"get",value:function(e){return e?Hw(this,Ww).get(e):Hw(this,Ww)}},{key:"set",value:function(e,t){return Hw(this,Ww).set(e,new Lw(zw({dataKey:e},t))),Hw(this,Ww).get(e)}},{key:"remove",value:function(e){var t;A.exports.isStr(e)?Hw(this,Ww).has(e)&&(t=Hw(this,Ww).get(e)):Hw(this,Ww).has(null==e?void 0:e.dataKey)&&Hw(this,Ww).delete(e.dataKey),t&&(console.log('%cRemoving timer using dataKey "'.concat(t.dataKey,'"'),"color:#95a5a6;"),Hw(this,Ww).delete(t.dataKey),t.onClear=void 0,t.onIncrement=void 0,t=void 0)}}]),e}();Ww=new WeakMap;var Xw,$w,Qw,Yw,Zw,eO,tO,nO=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},rO=function(e,t,n){return nO(e,t,"read from private field"),n?n.call(e):t.get(e)},oO=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},iO=function(e){function t(){return p(this,t),oO(this,Xw,new Map),oO(this,$w,new Map),oO(this,Qw,new Map),oO(this,Yw,new Map),oO(this,Zw,{}),oO(this,eO,new Jw),tO instanceof t||(tO=this),tO}return d(t,[{key:e,value:function(){return{components:this.components,pages:this.pages,timers:this.timers,register:this.register}}},{key:"components",get:function(){return rO(this,Xw)}},{key:"register",get:function(){return rO(this,$w)}},{key:"hooks",get:function(){return rO(this,Yw)}},{key:"pages",get:function(){return rO(this,Zw)}},{key:"pageIds",get:function(){return Object.keys(rO(this,Zw))}},{key:"pageNames",get:function(){return Object.values(rO(this,Zw)).reduce((function(e,t){return"string"==typeof t.page?e.concat(t.page):e}),[])}},{key:"timers",get:function(){return rO(this,eO)}},{key:"add",value:function(e){this.pages[e.id]=e}}]),t}(Symbol.for("nodejs.util.inspect.custom"));Xw=new WeakMap,$w=new WeakMap,Qw=new WeakMap,Yw=new WeakMap,Zw=new WeakMap,eO=new WeakMap;var aO,cO=d((function e(){p(this,e)})),lO=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},sO=function(e,t,n){return lO(e,t,"read from private field"),n?n.call(e):t.get(e)},uO=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},pO=function(e,t,n,r){return lO(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},dO=function(e,t){a(r,e);var n=h(r);function r(e){var t,i,a=e.id,c=e.component,l=e.node,s=e.page;return p(this,r),t=n.call(this),uO(o(t),aO,""),pO(o(t),aO,a||(null==(i=null==c?void 0:c.get)?void 0:i.call(c,Jr))),t.componentId=c.id,t.nodeId=(null==l?void 0:l.id)||c.id||"",t.pageId=s.id,t.pageName=s.page||"",t}return d(r,[{key:t,value:function(){return this.toJSON()}},{key:"globalId",get:function(){return sO(this,aO)}},{key:"toJSON",value:function(){return{globalId:this.globalId,componentId:this.componentId,nodeId:this.nodeId,pageId:this.pageId}}}]),r}(cO,Symbol.for("nodejs.util.inspect.custom"));aO=new WeakMap;var fO=bx,vO=8;function hO(e,t,n){var r=fO(e,vO,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=hO.placeholder,r}hO.placeholder={};var gO=hO;function yO(e){if("undefined"!=typeof window)if(window.length)for(var t=0;t<window.length;){if(e(window[t]))return window[t];t++}else if(e(window))return window;return null}function mO(e){var t;return t=yO((function(t){try{return e((null==t?void 0:t.contentDocument)||(null==t?void 0:t.document))}catch(N){var n=N instanceof Error?N:new Error(String(N));return"SecurityError"===n.name||18===n.code||console.error("[".concat(n.name,"]: ").concat(n.message)),!1}})),(null==t?void 0:t.contentDocument)||(null==t?void 0:t.document)}function bO(e){var t=mO((function(t){return!!e(t)})),n=e(t||document);if(n&&(n instanceof NodeList||n instanceof HTMLCollection)){if(n.length>1){var r,o=[],i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(a)}}catch(c){i.e(c)}finally{i.f()}return o}return n.item(0)}return n||null}function xO(e){return go(e)&&"window"in e&&"configure"in e}function wO(e){return!(!e||"object"!=typeof e||!("getNuiPage"in e))}var OO=!1,EO=!1;function kO(e,t){t.classList.contains(e)||t.classList.add(e)}function SO(e,t){function n(e,t,n){var r,o;if(!A.exports.isObj(e))return e;if("name.type"===t&&null!=(r=null==e?void 0:e.name)&&r.type){var i=qn(e,t);if(void 0!==i&&!i)return!1}return A.exports.isFnc(e.get)&&(o=e.get(t)),A.exports.isUnd(o)&&(o=qn(e,t)),A.exports.isUnd(o)&&(o=qn(e.blueprint,t)),o||n}function r(r){var o,i,a,c,l=A.exports.isStr(t)?"i":t.flags,s=A.exports.isStr(t)?new RegExp(t,l):t.value;return""===t&&(""===n(r,"subtype.mediaType")||""===n(r,"mediaType")||""===n(r,"mimeType")||n(r,"name.type")),!(!(null==(i=null==(o=n(r,"mimeType",""))?void 0:o.test)?void 0:i.call(o,s))&&!(null==(c=null==(a=n(r,"name.type",""))?void 0:a.test)?void 0:c.call(a,s))&&n(r,"mediaType","")!=e&&n(r,"subtype.mediaType","")!=e)}return r}function _O(e,t,n,r){return PO(e),n(e)||t(e,r)}function PO(e){return!(!e||!go(e)||wO(e))}function jO(e){return[t.Identify.component.plugin,t.Identify.component.pluginHead,t.Identify.component.pluginBodyTop,t.Identify.component.pluginBodyTail].some((function(t){return t(e)}))}var NO=SO(4,"image"),AO=SO(8,"markdown"),CO=SO(1,"json"),TO=SO(1,"pdf"),IO=function(e){var t,n,r,o=function(e){return A.exports.isStr(e)&&/text/i.test(e)||""===e};if(A.exports.isFnc(null==e?void 0:e.get)&&null!=(t=null==e?void 0:e.has)&&t.call(e,"ecosObj")){var i=qn(null==(n=null==e?void 0:e.get)?void 0:n.call(e,"ecosObj"),"name.type"),a=qn(null==(r=null==e?void 0:e.get)?void 0:r.call(e,"ecosObj"),"subtype.mediaType");if(A.exports.isStr(i)&&o(i)||A.exports.isNum(a)&&8===a)return!0}return!!o(qn(e,"name.type"))||8==qn(e,"subtype.mediaType")||8==qn(e,"blueprint.subtype.mediaType")||8==qn(e,"original.subtype.mediaType")},RO=SO(1,"(office|wordprocessingml|vnl.)");function DO(e){var t=A.exports.isStr(e)?function(t){return t.tagName===e}:e;return function(e){return null!==e&&"object"==typeof e&&t(e)}}DO("BUTTON");var MO=DO("DIV");DO("IMG"),DO("INPUT");var LO=DO("IFRAME"),WO=DO("LINK");DO("UL");var BO=DO("SCRIPT"),UO=DO("STYLE"),FO=["width","left"],GO=["height","top"],VO=[].concat(FO,GO),zO=["css","js"];function KO(e,t,n){var r,o,i=this,a=t.get(Jr),c=function(e,t){if(e){var n=function n(){e.removeEventListener("click",n),i.removeNode(e),i.removeGlobalComponent(i.global,t)};e.addEventListener("click",n)}};if(this.global.components.has(a)?o=this.global.components.get(a):(o=this.createGlobalRecord({type:"component",component:t,node:e,page:n}),this.global.components.set(a,o),(null==o?void 0:o.globalId)&&"extendView"!==(null==o?void 0:o.globalId)&&c(e,a)),o){var l;if(t.edit((s(l={},Jr,a),s(l,"globalId",a),l)),o.componentId!==t.id&&(console.log('%cThe component with id "'.concat(t.id||"<Missing ID>",'" is different than the one in the global object.'),"color:#CCCD17",o),this.removeComponent(null==(r=hf.component.get(o.componentId))?void 0:r.component),o.componentId=t.id),e)if(!e.id&&(e.id=t.id),o.nodeId){if(o.nodeId!==e.id){var u=document.getElementById(o.nodeId);u&&this.removeNode(u),o.nodeId=e.id,e.dataset.globalid=a}}else o.nodeId=e.id,e.dataset.globalid=a;o.pageId!==n.id&&console.log('%cPage ID for global object with id "'.concat(t.get(Jr),'" does not match with the page that is currently drawing for component "').concat(t.id,'"'),"color:#FF5722;",o)}}var HO=A.exports.callAll(hf.actions.clear.bind(hf.actions),hf.actions.reset.bind(hf.actions)),qO=hf.component.clear.bind(hf.component),JO=hf.register.clear.bind(hf.register),XO=hf.transactions.clear.bind(hf.transactions),$O=function(){var e=new Map,t=new Map,n="_EMPTY_",r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||n};function o(){var t=this,n=function(e){return{fetching:!1,initiated:!1,initialPageValue:e.page}},r=function(e){var n=e.id||"";hf.component.clear(e.page),hf.page.remove(e);var r=t.findPage(e);r&&r.getNuiPage()===e&&(r.remove(),xO(r)&&r.clear()),n in t.global.pages&&delete t.global.pages[n]},o=function(o){return function(i){var a,c,l,s,u,p="";if(go(i)?s=i:"page"in i&&(u=i.component,s=i.page),s)if(p="[".concat(o," #").concat(s.id,"]"),s.use({onChange:{id:"syncPages",fn:function(e,t){console.log("".concat(p,' Page changed from "').concat(e,'" to "').concat(t,'"'))}}}),o===Qr){var d,f=g(hf.page.get().values());try{for(f.s();!(d=f.n()).done;){var v=d.value,h=null==v?void 0:v.page;h&&h!==s&&h.page===s.page&&"root"!==h.id&&r(h)}}catch(x){f.e(x)}finally{f.f()}e.has(s.created)||e.set(s.created,n(s));var y=t.findPage(s),m=e.get(s.created)||n(s);if(!y)if(u)y=t.createPage(u);else{if(s.id){var b=null==(l=null==(c=null==(a=t.cache.component)?void 0:a.get)?void 0:c.call(a,s.id))?void 0:l.component;b&&(b.get("page")!==s&&b.edit("page",s),y=t.createPage(b))}!y&&(y=t.createPage(s))}t.global.pageIds.includes(y.id)||t.global.add(y),xO(y)&&(m.initiated=!!y.initialized)}else o===Yr&&e.delete(s.created)}};hf.page.on(Qr,o(Qr)).on(Yr,o(Yr));var i=gO((function(t,n){if(null==n||!n.created)return null;if(e.has(n.created)){var r=e.get(n.created);r&&(r.fetching=t)}}));this.on("onBeforeRequestPageObject",i(!0)),this.on("onAfterRequestPageObject",i(!1))}return hf.component.on("add",(function(e){var n=e.component,o=e.page,i=r(o);t.has(i)||t.set(i,[]);var a=t.get(i);!A.exports.isArr(a)&&(a=A.exports.array(a)),!a.includes(n.id)&&a.push(n.id)})).on("remove",(function(e){e.id,e.page})),o._pageState=e,o}();function QO(e){if(e instanceof NodeList||e instanceof HTMLCollection){if(0===e.length)return null;if(1===e.length)return e.item(0);var t,n=[],r=g(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o)}}catch(i){r.e(i)}finally{r.f()}return n}return e||null}function YO(e){var t=A.exports.isStr(e)?e:(null==e?void 0:e.type)||"",n=YO.prototype.elementMap[t];if(!n){var r="";return r+=t?'None of the node types matched with "'.concat(t,'". Perhaps it needs to be \' +\n      \'supported? (Defaulting to "div" instead)'):'Received an empty component type. The element tag will default to a "div"',console.log("%c".concat(r),"color:#e74c3c;font-weight:bold;",{component:e,componentType:t,elementMap:YO.prototype.elementMap}),"div"}return n}function ZO(e){return function(t){return void 0===t?eE("[".concat(e,"]")):t?Nr.dataAttributes.includes(e)?tE(e,or(t)?af(e,t):t):eE("[".concat(e,"]")):null}}function eE(e){var t={button:"button",canvas:"canvas",chart:".chart",chatList:"ul",divider:"hr",ecosDoc:".ecosDoc",footer:".footer",header:".header",label:".label",map:".map",page:".page",plugin:".plugin",pluginHead:".plugin-head",pluginBodyTop:".plugin-body-top",pluginBodyTail:".plugin-body-bottom",popUp:".popUp",image:"img",textField:"input",list:"ul",listItem:"li",select:"select",textView:"textarea",video:"video"};return e?bO((function(n){var r,o=null==(r=null==n?void 0:n.querySelectorAll)?void 0:r.call(n,t[e]||e);return null!=o&&o.length?o:null})):null}function tE(e,t){return eE(t?"[".concat(e,'="').concat(t,'"]'):"[".concat(e,"]"))}YO.prototype.elementMap={span:"span",br:"br",button:"button",canvas:"canvas",chart:"div",date:"input",dateSelect:"input",divider:"hr",ecosDoc:"div",footer:"div",header:"div",searchBar:"input",textField:"input",image:"img",label:"div",list:"ul",listItem:"li",map:"div",page:"iframe",popUp:"div",plugin:"div",pluginHead:"script",pluginBodyTail:"script",register:"div",scrollView:"div",select:"select",textView:"textarea",video:"video",view:"div"};var nE=ZO("data-key"),rE=ZO("data-globalid"),oE=ZO("data-placeholder"),iE=ZO("data-src"),aE=ZO("data-viewtag"),cE=ZO("data-ux");function lE(e){return bO((function(t){return null==t?void 0:t.getElementsByClassName(A.exports.isStr(e)?e:"")}))}function sE(e){return bO((function(t){return null==t?void 0:t.getElementById(A.exports.isStr(e)?e:(null==e?void 0:e.id)||"")}))}function uE(e){return function(t){return A.exports.filter(Boolean,A.exports.array(bO((function(n){return n&&e(n,t)}))))[0]}}var pE=uE((function(e,t){return e.querySelector(t)})),dE=uE((function(e,t){return e.querySelector('[data-key="'.concat(t,'"]'))})),fE=uE((function(e,t){return e.querySelector('[data-globalid="'.concat(t,'"]'))})),vE=uE((function(e,t){return e.querySelector('[data-viewtag="'.concat(t,'"]'))})),hE=uE((function(e,t){return e.getElementById(A.exports.isStr(t)?t:null==t?void 0:t.id)})),gE=uE((function(e,t){var n;return null==(n=e.getElementsByClassName(t))?void 0:n[0]}));function yE(e){return or(e)?"page"===e.type?e:Jd(e,wd.component.page):null}function mE(e){if((null==e?void 0:e.parentElement)||(null==e?void 0:e.parentNode)){if(1===e.childElementCount)return 0;if(e.childElementCount>1)return f(e.children).findIndex((function(t){return t===e}))}return-1}function bE(e){return function(t,n){var r=0;return A.exports.array(QO(t)).forEach((function(t){t&&(r++,e(t),null==n||n(t))})),r||!1}}function xE(e){return 0==e||A.exports.isStr(e)||A.exports.isNum(e)}function wE(e){return!!or(e)&&!!Jd(e,(function(e){return"page"===(null==e?void 0:e.type)}))}function OE(e){return A.exports.isStr(e)?e.startsWith("on")?e.replace("on","").toLowerCase():e.toLowerCase():e}function EE(e){"undefined"!=typeof window&&(window.location.href=e)}function kE(e){return!(!(e&&e instanceof HTMLElement)||"INPUT"!==e.tagName&&"SELECT"!==e.tagName&&"TEXTAREA"!==e.tagName)}function SE(e){return A.exports.isObj(e)?e:{key:e,label:e,value:e}}function _E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n;try{e?e.appendChild(r):t(r)}catch(o){console.error(o),n(o)}finally{r.dispatchEvent(new Event("load"))}}))}var PE={createComponentPage:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(kw,t)}},jE=Object.defineProperty,NE=Object.getOwnPropertySymbols,AE=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable,TE=function(e,t,n){return t in e?jE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},IE=function(e,t){for(var n in t||(t={}))AE.call(t,n)&&TE(e,n,t[n]);if(NE){var r,o=g(NE(t));try{for(o.s();!(r=o.n()).done;)n=r.value,CE.call(t,n)&&TE(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},RE={createResource:function(e){return gO((function(t,n,r){var o=new e(IE({type:t},r));return null==n||n(o),o}))}},DE=d((function e(){p(this,e)}));function ME(e){_w(1,arguments);var t=Pw(e);return t.setHours(0,0,0,0),t}var LE=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},WE=t.Identify;function BE(e){if(!e.innerHTML.trim()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.find(Boolean)||"";e.innerHTML=xE(o)?o:""}return e}function UE(e,t,n,r){var o,i,a=g(Nr.dataAttributes);try{for(a.s();!(i=a.n()).done;){var c=i.value;if(null!=(o=null==t?void 0:t.get)&&o.call(t,c)&&(r(c,t.get(c)||""),"value"in e&&c===Hr)){var l=t.get(c);n("value",l),A.exports.isStr(l)&&/hide_textfield/i.test(l)&&(e.style.visibility="hidden")}}}catch(s){a.e(s)}finally{a.f()}}function FE(e,n){t.userEvent.forEach((function(t){var r,o;if("onChange"!==t&&"onInput"!==t&&A.exports.isFnc(null==(o=null==(r=n.get)?void 0:r.call(n,t))?void 0:o.execute)){if("onLazyLoading"===t){var i=new Event("onLazyLoading",{bubbles:!0,cancelable:!1});return e.addEventListener("scroll",(function(){var t=e.clientHeight||document.documentElement.clientHeight;(e.scrollHeight||document.documentElement.scrollHeight)-t-(e.scrollTop||document.documentElement.scrollTop)==0&&e.dispatchEvent(i)})),void e.addEventListener("onLazyLoading",(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];setTimeout((function(){var e,o,i,a;null==(a=null==(i=null==(o=n.get)?void 0:o.call(n,t))?void 0:i.execute)||(e=a).call.apply(e,[i].concat(r))}))}))}e.addEventListener(OE(t),(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return setTimeout((function(){var e,o,i,a;return null==(a=null==(i=null==(o=n.get)?void 0:o.call(n,t))?void 0:i.execute)?void 0:(e=a).call.apply(e,[i].concat(r))}))}))}}))}function GE(e){function t(e,t){var n,r;if("Enter"===t.key){var o=document.querySelectorAll("input"),i=f(o).findIndex((function(t){return e.isEqualNode(t)})),a=(i+1)%o.length;i+1<o.length&&(null==(r=null==(n=o[a])?void 0:n.focus)||r.call(n))}}e.addEventListener("keypress",t.bind(null,e))}var VE={name:"[noodl-ui-dom] attributes",before:function(e){return LE(this,arguments,u.mark((function e(t){var n,r,o,i,a,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.componentType,r=t.elementType,o=t.component,i=t.node,a=t.setAttr,c=t.setStyleAttr;try{i&&o&&(a("id",o.id||""),"SCRIPT"===r?o.has("global")&&(o.get("data-src")||o.on("image",(function(e){return c("backgroundImage",'url("'.concat(e,'")'))})),c("backgroundImage",'url("'.concat(o.get("data-src"),'")'))):"page"===n&&"IFRAME"===r&&(i.style.position="absolute",i.style.width="100%",i.style.height="100%"))}catch(l){console.error(l)}case 2:case"end":return e.stop()}}),e)})))},resolve:function(e){return LE(this,null,u.mark((function n(){var r,o,i,a,c,l,s,p,d,f,h,y,m,b,x,w,O,E,k,S,_,P,j,N,C,T,I,R;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=e.elementType,p=e.setAttr,d=e.setDataAttr,f=e.setStyleAttr,n.prev=1,e.node&&e.component){if(t.Identify.component.page(e.component),h=e.component.blueprint||{},y=h.path,m=h.placeholder,b=h.style,BE(e.node,null==(o=null==(r=e.component)?void 0:r.get)?void 0:o.call(r,Hr),null==(a=null==(i=e.component)?void 0:i.blueprint)?void 0:a.text),UE(e.node,e.component,p,d),FE(e.node,e.component),"INPUT"===s&&GE(e.node),!["INPUT","SELECT","TEXTAREA"].includes(s)&&["text",Xr,Hr].some((function(t){return!!e.component.get(t)}))&&(x=e.component.get(Hr),w=e.component.get(Xr),O=e.component.get("text"),!(O=(A.exports.isStr(x)?x:O)||O||"")&&w&&(O=w),!O&&(O=""),O&&e.node&&p("innerHTML","".concat(O))),y&&!["IFRAME","VIDEO"].includes(s)&&e.component.get(qr)&&(E=e.component.get(qr),A.exports.forEach((function(e){return e("src",E)}),[p,d]),e.component.on("path",(function(e){return A.exports.forEach((function(t){return t("src",e)}),[p,d])}))),m&&(k=e.component.get(Xr)||m||"",A.exports.forEach((function(e){return e("placeholder",t.Identify.folds.emit(k)?"":k)}),[p,d])),!BO(e.node)&&A.exports.isObj(b)){A.exports.isObj(e.component.style.textAlign)&&delete e.component.style.textAlign,(!("marginTop"in e.component.style)||!("marginTop"in(b||{})))&&(e.component.style.marginTop="0px"),S=g(A.exports.entries(e.component.style));try{for(S.s();!(_=S.n()).done;)P=v(_.value,2),j=P[0],N=P[1],Number.isFinite(Number(j))||e.node.style&&f(j,String(N))}catch(u){S.e(u)}finally{S.f()}t.Identify.component.canvas(e.component)&&e.node.parentElement&&(C=e.node.parentElement.style.width,T=e.node.parentElement.style.height,p("width",Number(C.replace(/[a-zA-Z]+/g,""))),p("height",Number(T.replace(/[a-zA-Z]+/g,""))),f("width",C),f("height",T))}null!=(c=e.component.blueprint)&&c["text=func"]&&("timer"===e.component.contentType?(I=null==(l=e.component.blueprint)?void 0:l.dataKey,e.component.on("timer:init",(function(t){var n=e.page.page,r=e.global.timers.get(I)||e.global.timers.set(I,{initialValue:t||ME(new Date),pageName:n});t&&r.value!==t&&(r.value=t),r.pageName!==n&&(r.pageName=n),r.on("increment",(function(t){return e.component.emit("timer:interval",t)})),e.component.emit("timer:ref",r),e.page.once($r.page.on.ON_DOM_CLEANUP,(function(){r.clear(),r.onClear=void 0,r.onIncrement=void 0,e.component.clear("hooks")}))}))):e.node&&p("textContent",e.component.get("data-value")||"")),R={canvas:"canvas",global:{identify:function(e){return e.has("global")},className:"global"},label:"label",page:"page",popUp:"popup",scrollView:"scroll-view",textBoard:"text-board"},A.exports.forEach((function(t){var n,r,o,i=v(t,2),a=i[0],c=i[1];return(null==(r=[WE.component[a]||(null==(n=R[a])?void 0:n.identify)].find(A.exports.isFnc))?void 0:r(e.component))&&kO(A.exports.isStr(c)?c:(null==(o=R[a])?void 0:o.className)||"",e.node)}),A.exports.entries(R))}n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(1),console.error(n.t0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[1,5]])})))}},zE=Object.prototype.hasOwnProperty;function KE(e,t){return null!=e&&zE.call(e,t)}var HE=Ln,qE=Fa,JE=T,XE=Ja,$E=Qa,QE=Fn;function YE(e,t,n){for(var r=-1,o=(t=HE(t,e)).length,i=!1;++r<o;){var a=QE(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&$E(o)&&XE(a,o)&&(JE(e)||qE(e))}var ZE=KE,ek=YE;function tk(e,t){return null!=e&&ek(e,t,ZE)}var nk=tk;function rk(e,t){var n=document.createElement("div"),r=document.createTextNode(String(e));return t&&A.exports.entries(t).forEach((function(e){var t=v(e,2),r=t[0],o=t[1];"style"===r?A.exports.isObj(o)&&A.exports.entries(o).forEach((function(e){var t=v(e,2),r=t[0],o=t[1];n.style[r]=o})):"classList"===r?A.exports.array(o).forEach((function(e){e&&n.classList.add(e)})):n.setAttribute(r,o)})),n.appendChild(r),n}var ok=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},ik=t.Identify.ecosObj,ak=function(e){var t;return(null==(t=null==e?void 0:e.contentDocument)?void 0:t.body)||null};function ck(e,n){var r=this;return new Promise((function(o,i){return ok(r,null,u.mark((function r(){var a,c,l,s,p,d,f,v,h,g,y,m,b,x,w,O,E,k;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(y=Number(e.style.width.replace(/[a-zA-Z]/i,"")),m=Number(e.style.height.replace(/[a-zA-Z]/i,"")),b=document.createElement("iframe"),w=(null==n?void 0:n.ecosObj)||n,O="",null!=(a=null==w?void 0:w.name)&&a.type&&(O=w.name.type),b.classList.add(zr.ECOS_DOC),b.style.width="100%",b.style.height="100%",b.style.border="none",b.title=(null==(c=null==w?void 0:w.name)?void 0:c.title)||"eCOS Document",ik.image(w)||(b.onload=function(e){return ok(this,null,u.mark((function t(){var n,r,i,a,c,l,s,p;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p="",ik.doc(w)?/json/i.test(O)?p=zr.ECOS_DOC_NOTE:/pdf/i.test(O):ik.text(w)?/css/i.test(O)?p=zr.ECOS_DOC_TEXT_CSS:/html/i.test(O)?p=zr.ECOS_DOC_TEXT_HTML:/javascript/i.test(O)?p=zr.ECOS_DOC_TEXT_JAVASCRIPT:/plain/i.test(O)?p=zr.ECOS_DOC_TEXT_PLAIN:/markdown/i.test(O)&&(p=zr.ECOS_DOC_TEXT_MARKDOWN):ik.video(w)&&(p=zr.ECOS_DOC_VIDEO);try{x&&(null==(n=null==b?void 0:b.contentDocument)?void 0:n.body)&&!b.contentDocument.body.contains(x)&&(null==(r=ak(b))||r.appendChild(x),null==(a=null==(i=ak(b))?void 0:i.classList)||a.add(zr.ECOS_DOC_NOTE_DATA),/json/i.test(O)&&x.classList.add(zr.ECOS_DOC_NOTE_DATA))}catch(u){console.error(u)}p&&(null==(c=ak(b))||c.classList.add(p)),o({iframe:b,event:e,width:y,height:m,src:(null==(l=null==w?void 0:w.name)?void 0:l.data)||"",title:null==(s=null==w?void 0:w.name)?void 0:s.title});case 4:case"end":return t.stop()}}),t)})))},b.addEventListener("error",i)),!ik.image(w)){r.next=6;break}b.onload=function(e){return ok(this,null,u.mark((function t(){var n,r,a,c,l,s,p,d,f,v;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(n=b.contentDocument)&&n.body)try{(v=document.createElement("img")).src=(null==(r=null==w?void 0:w.name)?void 0:r.data)||"",v.style.width="100%",v.style.height="100%",x=v,null==(c=null==(a=ak(b))?void 0:a.appendChild)||c.call(a,x),null==(p=null==(s=null==(l=ak(b))?void 0:l.classList)?void 0:s.add)||p.call(s,zr.ECOS_DOC_IMAGE),o({iframe:b,event:e,width:y,height:m,src:(null==(d=null==w?void 0:w.name)?void 0:d.data)||"",title:null==(f=null==w?void 0:w.name)?void 0:f.title})}catch(v){i(v)}case 1:case"end":return t.stop()}}),t)})))},b.addEventListener("error",i),r.next=21;break;case 6:if(!ik.doc(w)){r.next=20;break}if(!/pdf/i.test((null==(l=w.name)?void 0:l.type)||"")){r.next=13;break}b.classList.add(zr.ECOS_DOC_PDF),E=null==(s=null==w?void 0:w.name)?void 0:s.data,A.exports.isStr(E)?E.startsWith("blob")||E.startsWith("data")||E.startsWith("http")?b.src=E:console.log('%cThe url is in an unknown format (expected to receive it as one of : "blob:...", "data:...", or "http")',"color:#ec0000;",E):console.log('%cExpected a URL string as a value for ecosObj.name.data but received "'.concat(typeof E,'" instead'),"color:#ec0000;",E),r.next=18;break;case 13:if(!/json/i.test((null==(p=w.name)?void 0:p.type)||"")){r.next=17;break}x=document.createElement("div"),null!=(d=w.name)&&d.data?A.exports.isStr(w.name.data)||A.exports.isNum(w.name.data)?b.addEventListener("load",(function(){var e,t,n;null!=(e=b.contentDocument)&&e.body&&null!=(t=null==w?void 0:w.name)&&t.data&&(x||(x=document.createElement("div")),x.querySelector(".".concat(zr.ECOS_DOC_NOTE_DATA))||null==x||x.appendChild(rk(w.name.data,{title:null==(n=w.name)?void 0:n.title,name:"Note",classList:zr.ECOS_DOC_NOTE_DATA})))})):console.log('%cExpected a string for a note\'s "data" but received "'.concat(typeof w.name.data,'"'),"color:#ec0000;",w):console.log('%cA note is missing the "data" property. No content will be shown',"color:#ec0000;",t.component),r.next=18;break;case 17:throw new Error('Could not handle an unknown ecosObj with mime type "'.concat(null==(f=w.name)?void 0:f.type,'"'));case 18:r.next=21;break;case 20:ik.text(w)&&(k=function(e){var t,n,r,o=(null==(t=null==w?void 0:w.name)?void 0:t[e])||"";if(A.exports.isStr(o)&&(o.startsWith("blob:")||o.startsWith("data:"))){var i=document.createElement("img");i.title=(null==(n=null==w?void 0:w.name)?void 0:n.title)||"",i.alt="eCOS image",i.src=o;try{x.appendChild(i)}catch(a){console.error(a)}}else try{x.appendChild(rk(o,{title:"title"===e?null==(r=null==w?void 0:w.name)?void 0:r[e]:void 0,name:e,classList:"title"===e?zr.ECOS_DOC_TEXT_TITLE:"content"===e||"data"===e?zr.ECOS_DOC_TEXT_BODY:void 0}))}catch(i){console.error(i)}},(x=document.createElement("div")).classList.add(zr.ECOS_DOC_TEXT),null!=(v=null==w?void 0:w.name)&&v.title&&k("title"),null!=(h=null==w?void 0:w.name)&&h.content&&k("content"),null!=(g=null==w?void 0:w.name)&&g.data&&k("data"),b.addEventListener("load",(function(){var e,t,n;try{null==(n=null==(t=null==(e=null==b?void 0:b.contentDocument)?void 0:e.body)?void 0:t.appendChild)||n.call(t,x)}catch(r){console.error(r)}})));case 21:x&&(x.style.width="100%",x.style.height="100%");try{e.appendChild(b)}catch(E){console.error(E)}return r.abrupt("return",b);case 24:case"end":return r.stop()}}),r)})))}))}function lk(e,t){if((null==e?void 0:e.style)&&A.exports.isObj(t)){var n,r=g(A.exports.entries(t));try{for(r.s();!(n=r.n()).done;){var o=v(n.value,2),i=o[0],a=o[1];e[i]=a}}catch(c){r.e(c)}finally{r.f()}}return e}var sk,uk,pk,dk,fk=Object.defineProperty,vk=Object.defineProperties,hk=Object.getOwnPropertyDescriptors,gk=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,mk=Object.prototype.propertyIsEnumerable,bk=function(e,t,n){return t in e?fk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xk=function(e,t){for(var n in t||(t={}))yk.call(t,n)&&bk(e,n,t[n]);if(gk){var r,o=g(gk(t));try{for(o.s();!(r=o.n()).done;)n=r.value,mk.call(t,n)&&bk(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},wk=function(e,t){return vk(e,hk(t))},Ok=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Ek={name:"[noodl-ui-dom] components",before:function(e){return Ok(this,null,u.mark((function n(){var r,o;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,t.Identify.component.page(e.component)&&e.component.get("page")&&(r=e.findPage(e.component.get("page")))&&r.node!==e.node&&(o=rw(e.node),r.replaceNode(e.node),e.node=r.node,e.node.style.width="inherit",e.node.style.height="inherit",lk(e.node,o)),n.next=7;break;case 4:throw n.prev=4,n.t0=n.catch(0),console.error(n.t0),new Error(n.t0);case 7:case"end":return n.stop()}}),n,null,[[0,4]])})))},resolve:function(e){return Ok(this,null,u.mark((function n(){var r,o,i,a,c,l,s,p,d,f,h,b,x,w,O,E,k,S,_,P,j,N,C,T,I,R,D,M,L,W,B,U,F,G,V,z,K,H,q,J,X,$,Q,Y,Z,ee,te,ne,re,oe,ie,ae,ce,le,se,ue,pe,de,fe,ve,he,ge,ye,me,be,xe,we,Oe,Ee,ke,Se,_e,Pe,je,Ne,Ae,Ce=this;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,R=e.nui,D=e.setAttr,M=e.setDataAttr,L=e.setStyleAttr,!A.exports.isFnc(e.node)){n.next=12;break}if(!jO(e.component)){n.next=10;break}W=function(e){switch(e){case"link":var t=document.createElement("link");return t.rel="stylesheet",t;case"iframe":return document.createElement("div");case"script":return document.createElement("script");case"style":return document.createElement("style");default:return null}},B=function(t,n,r){if(!n)return n;if(n.id=t.id,WO(n))n.innerHTML=String(r),n.rel="stylesheet";else if(BO(n))n.innerHTML=String(r),n.type=G;else if(UO(n))n.innerHTML=String(r);else if(LO(n)){var o=n.parentNode||e.page.node||document.body;n.innerHTML+=r,o.children.length?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)}return n},U=e.component.get("path")||e.component.blueprint.path,F="",G="",U.endsWith(".css")?(G="text/css",F="style"):U.endsWith(".html")?F="iframe":U.endsWith(".js")?(G="text/javascript",F="script"):(G="text/plain",F="script"),V=W(F),A.exports.isFnc(e.node)&&e.node(V),e.component.has("content")&&B(e.component,V,e.component.get("content")),e.component.on("content",(function(t){return B(e.component,V,t)}),"content");try{V&&function(t,n){var r,o=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t||e.node||document.body;r&&o.children.length?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)};t&&(LO(t)||MO(t)?o(e.page,t):WO(t)?LO(e.page.node)?null==(r=e.page.node.contentDocument)||r.head.appendChild(t):document.head.appendChild(t):BO(t)&&o(e.page,t,"body-bottom"===n))}(V,null==(r=e.component.get("plugin"))?void 0:r.location)}catch($){console.error($)}return n.abrupt("return",V);case 10:n.next=38;break;case 12:if(!e.node){n.next=38;break}if(z=e.component.blueprint||{},K=z.children,H=z.controls,q=z.dataKey,J=z.autoplay,X=z.onClick,$=z.options,Q=z.text,Y=z.videoType,!t.Identify.component.button(e.component)){n.next=18;break}e.node&&(e.component.get(qr)&&A.exports.forEach((function(e){var t=v(e,2),n=t[0],r=t[1];return L(n,r)}),[["overflow","hidden"],["display","flex"],["alignItems","center"]]),L("cursor",X?"pointer":"auto")),n.next=38;break;case 18:if(!t.Identify.component.canvas(e.component)){n.next=23;break}(Z=e.component.get(Kr)||q)?(ee=e.component.get("signaturePad"))?ee.addEventListener("endStroke",(function(){var t,n=(null==(t=ee.toDataURL().split(";")[0])?void 0:t.split(":")[1])||"";e.node.toBlob((function(t){var n,r,o;if(R){var i=function(e){var t;if("string"==typeof e){if(e.startsWith(".")&&(e=e.substring(e.search(/[a-zA-Z]/)).trim()),!/^[a-zA-Z]/i.test(e))return!1;if(e)return(null==(t=e[0])?void 0:t.toUpperCase())===e[0]}return!1}(Z)?R.getRoot():null==(r=R.getRoot())?void 0:r[(null==(n=e.page)?void 0:n.page)||""];nk(i,Z)||console.log('%cTried to set a signature blob using path "'.concat(Z,'" but it was not found in the root or local root object. It will be created now.'),"color:#ec0000;",{blob:t,currentPage:null==(o=null==e?void 0:e.page)?void 0:o.page,node:e.node,root:R.getRoot()})}else console.log('%c"nui" is missing in the "components" DOM resolver',"color:#ec0000;",Ce)}),n,8)})):console.log("%cSignature pad is missing from a canvas component!","color:#ec0000;",e):console.log('%cInvalid data key "'.concat(q,'" for a canvas component. There may be unexpected behavior'),"color:#ec0000;",e),n.next=38;break;case 23:if(!t.Identify.component.ecosDoc(e.component)){n.next=37;break}return te=(NO(e.component)?"image":AO(e.component)&&"markdown")||t.Identify.ecosObj.doc(e.component)&&"doc"||IO(e.component)&&"text"||RO(e.component)&&"word-doc"||"ecos",n.prev=25,n.next=28,ck(e.node,e.component.get("ecosObj")||(null==(i=null==(o=e.component)?void 0:o.blueprint)?void 0:i.ecosObj));case 28:ne=n.sent.iframe,n.next=34;break;case 31:n.prev=31,n.t0=n.catch(25),console.error(n.t0),ne=document.createElement("iframe");case 34:ne&&(ne.id="".concat(te,"-document-").concat(e.component.id)),ne.onerror=function(e){return console.error("[ERROR]: In ecosDoc component: ".concat(e),e)},null==(a=e.node)||a.appendChild(ne),n.next=38;break;case 37:t.Identify.component.image(e.component)?(e.node&&(X&&L("cursor","pointer"),K&&(L("width","100%"),L("height","100%"))),e.component.get(qr)&&(D("src",e.component.get(qr)),M("src",e.component.get(qr))),e.component.on("path",(function(t){e.node&&(D("src",t),M("src",t))})),null!=(c=e.component.blueprint)&&c["path=func"]&&(null!=(re=null==(s=null==(l=e.component)?void 0:l.get)?void 0:s.call(l,Hr))&&re.then?null==(p=re.then)||p.call(re,(function(t){var n,r,o,i;if(t||console.log('%cReceived an empty value from "path=func"! An empty string will be set as the image\'s "src" attribute',"color:#ec0000;",e.component),t&&(null==t?void 0:t.url))if((null==t?void 0:t.type)&&"application/pdf"==t.type){var a,c=document.createElement("iframe");c.src="".concat(t.url,"#toolbar=0&navpanes=0&scrollbar=0"),c.style.border="none";for(var l=0;l<e.node.style.length;l++)a=e.node.style[l],c.style[a]=e.node.style[a];var s=e.node.parentNode;null==s||s.appendChild(c),null==s||s.removeChild(e.node)}else console.log("load path",t),D("src",null==t?void 0:t.url);else{if(null==(r=null==(n=e.component)?void 0:n.get)||!r.call(n,qr))return;D("src",(null==(i=null==(o=e.component)?void 0:o.get)?void 0:i.call(o,qr))||"")}})).catch((function(t){var n,r,o,i;console.log(t),null!=(r=null==(n=e.component)?void 0:n.get)&&r.call(n,qr)&&D("src",(null==(i=null==(o=e.component)?void 0:o.get)?void 0:i.call(o,qr))||"")})):e.component.get("wait")&&D("src",null==re?void 0:re.url))):t.Identify.component.label(e.component)?e.node&&(e.component.get(Hr)?"function"==typeof(oe=e.component.get(Hr)).then?null==(d=oe.then)||d.call(oe,(function(e){e=-1!==e.indexOf("\n")?e.replace(/\n/g,"<br>"):e,D("innerHTML",e)})):(ie=-1!==(ie=String(oe)).indexOf("\n")?ie.replace(/\n/g,"<br>"):ie,D("innerHTML",ie)):Q?D("innerHTML",String(Q)):e.component.get(Xr)&&D("innerHTML",String(e.component.get(Xr))),X&&L("cursor","pointer")):t.Identify.component.listLike(e.component)||(t.Identify.component.page(e.component)?A.exports.isStr(e.component.get("path"))?(ae=_O(e.component,e.createPage,e.findPage,e.node),LO(e.node)?(ce=e.component.get("page")||(null==(f=hf.page.get(e.component.id))?void 0:f.page),le=null==ce?void 0:ce.page,ae.remote?(se=function(t){var n,r=(null==(n=t.component.get("page"))?void 0:n.page)||"",o=_O(e.component,e.createPage,e.findPage,e.node);if("root"!==o.id&&o.node!==t.node)try{o.replaceNode(t.node)}catch(i){console.error(i)}r&&t.node.src!==r&&(t.node.src=r)},ae.on($r.componentPage.on.ON_MESSAGE,(function(t){return Ok(Ce,null,u.mark((function n(){var r,o,i,a;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!m.isActionChain(e.component.get("postMessage"))){n.next=7;break}return i=e.component.get("postMessage"),(a=i.queue.find((function(e){return"postMessage"===e.trigger})))?a.dataKey=y.createEmitDataKey(null==(o=null==(r=a.original)?void 0:r.emit)?void 0:o.dataKey,t):console.log("%cCould not find a postMessage emit action inside a postMessage action chain","color:#ec0000;",wk(xk({},e),{dataObject:t})),n.next=5,i.execute();case 5:n.next=8;break;case 7:console.log('%cReceived a message from a child of a page component and expected an action chain but received "'.concat(typeof e.component.get("postMessage"),'"'),"color:#ec0000;",wk(xk({},e),{dataObject:t}));case 8:case"end":return n.stop()}}),n)})))})),le?se({component:e.component,createPage:e.createPage,findPage:e.findPage,node:e.node,resolvers:e.resolvers}):ae.window.onload=function(t){return se({event:t,createPage:e.createPage,component:e.component,node:e.node,findPage:e.findPage,resolvers:e.resolvers})},ae.node.onload=console.error):(ue=function(){return Ok(this,null,u.mark((function t(){var n,r,o,i,a,c,l,s,p,d,f,v,h,y,m,b,x,w=this;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(p=_O(e.component,e.createPage,e.findPage,e.node))){t.next=14;break}if((d=null==(n=e.cache.page.get(p.id))?void 0:n.page)?(or(e.component)&&or(p.component)&&e.component!==p.component&&(console.log("Incoming component is not the same as current component. Patching now"),p.patch(e.component)),!p.hasNuiPage&&d?(console.log("ComponentPage does not have a nuiPage. Patching now with a new one"),p.patch(d)):d&&d!==p.getNuiPage()&&(console.log("The nuiPage in the ComponentPage is different than the incoming one. Patching with the incoming one now",d),p.patch(d))):console.info("nuiPage does not exist in the PageCache"),f=p.requesting||p.page,!(A.exports.isStr(p.id)&&p.id in e.renderState.draw.loading&&e.renderState.draw.loading[p.id])){t.next=8;break}return t.abrupt("return",e.node);case 8:if(t.t0=R.getPages().includes(f),!t.t0){t.next=12;break}return t.next=12,e.transact("REQUEST_PAGE_OBJECT",p);case 12:t.next=15;break;case 14:console.log("ComponentPage is null or undefined inside onPageComponents");case 15:if(p.initialized||(p.initialized=!0),p.requesting&&e.cache.component.clear(p.requesting),e.node&&(v=e.node.contentWindow)&&(h=v.document,null!=(r=null==h?void 0:h.body)&&r.style&&(h.body.style.margin="0px")),null!=p&&p.component){y=function(e){var t=[];return cf(e,(function(e){return t.push(e.id)})),t}(p.component),m=g(y);try{for(m.s();!(b=m.n()).done;)x=b.value,e.cache.component.remove(x),null==(a=null==(i=null==(o=hE)?void 0:o(x))?void 0:i.remove)||a.call(i)}catch(O){m.e(O)}finally{m.f()}}return e.component.clear("children"),null==(l=null==(c=p.component)?void 0:c.clear)||l.call(c,"children"),t.next=21,Promise.all((null==(s=p.components)?void 0:s.map((function(t){return Ok(w,null,u.mark((function n(){var r=this;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){return Ok(r,null,u.mark((function r(){var o,i,a=this;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R.resolveComponents({components:t,page:ce,on:e.on});case 2:if(o=r.sent,e.component.createChild(o),null!=p.body){r.next=7;break}p.on("ON_LOAD",(function(){return Ok(a,null,u.mark((function t(){var r;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.draw(o,p.body,p,{on:e.on});case 2:(r=t.sent)&&p.appendChild(r),n(o);case 4:case"end":return t.stop()}}),t)})))})),r.next=11;break;case 7:return r.next=9,e.draw(o,p.body,p,{on:e.on});case 9:(i=r.sent)&&p.appendChild(i),n(o);case 11:case"end":return r.stop()}}),r)})))})));case 1:case"end":return n.stop()}}),n)})))})))||[]);case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(0),console.error(t.t1);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})))},e.node.onload=ue,null==(w=null==(x=null==(b=(h=e.component).get)?void 0:b.call(h,"page"))?void 0:x.on)||w.call(x,"PAGE_CHANGED",ue))):console.log("%cEncountered a page component with a node that is not an iframe. This is not supported yet","color:#FF5722;",e)):console.log("%cA page component did not receive its NUIPage instance","color:#ec0000;",e):t.Identify.component.select(z)?(pe=function(e){for(var t=e.options,n=0;n<t.length;n++){var r=e.options[n];null==r||r.remove()}e.options.length=0},de=function(t,n){A.exports.array(n).forEach((function(n,r){var o;n=SE(n);var i=document.createElement("option");t.appendChild(i),i.id=n.key,i.value=n.value,i.textContent=n.label,(null==n?void 0:n.value)===(null==(o=e.component.props[Hr])?void 0:o.toString())&&(t.selectedIndex=r,t.dataset.value=n.value,t.value=n.value)}))},fe=z.dataKey,e.component.get("size")&&(ve=e.component.get("size"),he=e.node,ge=null==(E=null==(O=e.component)?void 0:O.style)?void 0:E.height,ye="string"==typeof ge?parseFloat(ge.replace("px","")):ge,me="number"==typeof ye?ye*ve:0,he.onmouseup=function(){he.setAttribute("size",ve),he.style.height=me+"px"},he.onblur=function(){he.removeAttribute("size"),he.style.height=ye+"px"},he.onchange=function(){he.removeAttribute("size"),he.style.height=ye+"px"}),pe(e.node),A.exports.isArr($)&&null==e.component.get(Hr)?de(e.node,$):A.exports.isStr($)||fe&&A.exports.isStr(fe),e.component.on("options",(function(t){pe(e.node),de(e.node,t)})),null!=e.component.get(Hr)&&A.exports.isArr($)?-1!==(be=$.indexOf(e.component.get(Hr)))&&e.node.selectedIndex!==be&&(e.node.selectedIndex=be):-1===(null==(k=e.node)?void 0:k.selectedIndex)&&(e.node.selectedIndex=0)):t.Identify.textBoard(z)?(xe=e.component.props,we=xe.textBoard,Oe=xe.text,A.exports.isArr(e.component)&&(A.exports.isArr(we)?(A.exports.isStr(Oe)&&console.log('%cA component cannot have a "text" and "textBoard" property because they both overlap. The "text" will take precedence.',"color:#ec0000;",e.component.toJSON()),we.forEach((function(n){if(t.Identify.textBoardItem(n)){var r=e.nui.createComponent("view",e.page.getNuiPage());e.component.createChild(r)}else{var o=e.nui.createComponent({type:"label",style:xk({display:"inline-block"},n.color?{color:ko(n.color)}:void 0),text:n.text},e.page.getNuiPage());e.component.createChild(o)}}))):console.log('%cExpected textBoard to be an array but received "'.concat(typeof we,'". This part of the component will not be included in the output'),"color:#ec0000;",{component:e.component.toJSON(),textBoard:we}))):t.Identify.component.textView(e.component)?(e.component.has("isEditable")&&(Ee=e.component.get("isEditable"),(ke=t.Identify.isBooleanFalse(Ee))&&D("disabled",ke)),null==(S=e.node)||S.addEventListener("change",(function(){this.dataset.value=this.value,e.component.edit(Hr,this.value),e.component.emit(Hr,this.value)}))):t.Identify.component.textField(e.component)?(e.component.has("isEditable")&&(Se=e.component.get("isEditable"),(_e=t.Identify.isBooleanFalse(Se))&&D("disabled",_e)),null!=(_=e.component.blueprint)&&_.autocomplete&&(Pe=e.component.get("autocomplete"),D("autocomplete",Pe)),null==(P=e.node)||P.addEventListener("change",(function(){this.dataset.value=this.value,e.component.edit(Hr,this.value),e.component.emit(Hr,this.value)}))):t.Identify.component.video(e.component)&&((je=e.node).controls=t.Identify.isBooleanTrue(H),je.autoplay=t.Identify.isBooleanTrue(J),["poster",["src","path"]].forEach((function(t){if(A.exports.isArr(t)){var n=v(t,2),r=n[0],o=n[1],i=e.component.props[o];!A.exports.isNil(i)&&D(r,i),"src"===r&&(Ne=document.createElement("source"),Ae=document.createElement("p"),Y&&Ne.setAttribute("type",Y),Ne.setAttribute("src",i),Ae.style.textAlign="center",Ae.innerHTML="Sorry, your browser doesn's support embedded videos.",je.appendChild(Ne),je.appendChild(Ae))}else{var a=e.component.props[t];!A.exports.isNil(a)&&D(t,a)}})),null!=(j=e.component.blueprint)&&j["path=func"]&&(null==(I=null==(T=null==(C=null==(N=e.component)?void 0:N.get)?void 0:C.call(N,Hr))?void 0:T.then)||I.call(T,(function(e){D("src",null==e?void 0:e.url)}))),je.style.objectFit="contain"));case 38:return n.abrupt("return",e.node);case 41:throw n.prev=41,n.t1=n.catch(0),console.error(n.t1),n.t1;case 44:case"end":return n.stop()}}),n,null,[[0,41],[25,31]])})))}},kk=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Sk=function(){function e(){p(this,e)}return d(e,[{key:"createStyleEditor",value:function(e){function t(t){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).remove;t&&(null==(n=null==e?void 0:e.edit)||n.call(e,(function(){return{style:t}}))),A.exports.isArr(r)?A.exports.forEach((function(t){return t&&delete e.style[t]}),r):r&&A.exports.isStr(r)&&delete e.style[r]}return t}},{key:"getOptions",value:function(e){var t,n;return E.Identify.component.canvas(e.component)&&e.component.edit("signaturePad",new S.default(e.node,{dotSize:.2})),{cache:hf,component:e.component,createPage:e.ndom.createPage.bind(e.ndom),draw:e.ndom.draw.bind(e.ndom),editStyle:this.createStyleEditor(e.component),findPage:e.ndom.findPage.bind(e.ndom),global:e.ndom.global,on:e.on||e.ndom.renderState.options.on,node:e.node,nui:Fx,get page(){var t,n;return e.page||e.ndom.findPage(null==(n=null==(t=yE(e.component))?void 0:t.get)?void 0:n.call(t,"page"))||e.ndom.page},redraw:e.ndom.redraw.bind(e.ndom),renderPage:e.ndom.render.bind(e.ndom),get renderState(){return e.ndom.renderState},resolvers:[].concat(f(e.ndom.consumerResolvers),[Ek,VE]),elementType:(null==(t=e.node)?void 0:t.tagName)||"",componentType:(null==(n=e.component)?void 0:n.type)||"",setAttr:function(t,n){var r,o;/(innerHTML|innerText|textContent)/i.test(t)?e.node[t]=n:null==(o=null==(r=e.node)?void 0:r.setAttribute)||o.call(r,t,n)},setDataAttr:function(t,n){var r,o;return(null==(r=e.node)?void 0:r.dataset)&&t&&(e.node.dataset[null==(o=t.replace)?void 0:o.call(t,"data-","")]=n)},setStyleAttr:function(t,n){return e.node&&(e.node.style[t]=n)},transact:e.ndom.transact.bind(e.ndom)}}},{key:"run",value:function(e){return kk(this,arguments,u.mark((function e(t){var n,r,o,i,a,c,l,s,p=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.on,r=t.ndom,o=t.node,i=t.component,a=t.page,c=t.resolvers,l=this.getOptions({on:n,ndom:r,node:o,component:i,page:a}),s=A.exports.array(c),e.next=4,Promise.all(s.map((function(e){return p.resolve(e,l)})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolve",value:function(e,t){return kk(this,null,u.mark((function n(){var r=this;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.before,e.resolve,e.after].map((function(n){return n&&r.resolveCond(e.cond,t,n)})));case 2:case"end":return n.stop()}}),n)})))}},{key:"resolveCond",value:function(e,t,n){return kk(this,null,u.mark((function r(){var o;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!A.exports.isStr(e)){r.next=5;break}if(e!==(null==(o=t.component)?void 0:o.type)){r.next=3;break}return r.abrupt("return",n(t));case 3:case 8:r.next=11;break;case 5:if(!A.exports.isFnc(e)){r.next=10;break}if(!e(t)){r.next=8;break}return r.abrupt("return",n(t));case 10:return r.abrupt("return",n(t));case 11:case"end":return r.stop()}}),r)})))}}]),e}(),_k=Object.defineProperty,Pk=Object.defineProperties,jk=Object.getOwnPropertyDescriptors,Nk=Object.getOwnPropertySymbols,Ak=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,Tk=function(e,t,n){return t in e?_k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ik=function(e,t){for(var n in t||(t={}))Ak.call(t,n)&&Tk(e,n,t[n]);if(Nk){var r,o=g(Nk(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Ck.call(t,n)&&Tk(e,n,t[n])}catch(i){o.e(i)}finally{o.f()}}return e},Rk=function(e,t){return Pk(e,jk(t))},Dk=function(e,t){var n={};for(var r in e)Ak.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Nk){var o,i=g(Nk(e));try{for(i.s();!(o=i.n()).done;)r=o.value,t.indexOf(r)<0&&Ck.call(e,r)&&(n[r]=e[r])}catch(a){i.e(a)}finally{i.f()}}return n},Mk=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Lk=function(e,t,n){return Mk(e,t,"read from private field"),n?n.call(e):t.get(e)},Wk=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Bk=function(e,t,n,r){return Mk(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Uk=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{c(n.next(e))}catch(t){o(t)}},a=function(e){try{c(n.throw(e))}catch(t){o(t)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};c((n=n.apply(e,t)).next())}))},Fk=$r.page,Gk=[VE,Ek],Vk=function(e,n){a(i,e);var r=h(i);function i(){var e;return p(this,i),e=r.call(this),Wk(o(e),sk,void 0),Wk(o(e),uk,void 0),Wk(o(e),pk,{onRedrawStart:[],onBeforeRequestPageObject:[],onAfterRequestPageObject:[]}),Wk(o(e),dk,{draw:{active:{},loading:{}},options:{hooks:{}}}),e.consumerResolvers=[],e.global=new iO,Bk(o(e),sk,new Sk),$O.call(o(e)),e}return d(i,[{key:n,value:function(){return{consumerResolvers:this.consumerResolvers,global:{components:this.global.components,pages:this.global.pages,pageIds:this.global.pageIds,pageNames:this.global.pageNames,timers:this.global.timers},hooks:this.hooks,resolvers:this.resolvers}}},{key:"actions",get:function(){return hf.actions}},{key:"builtIns",get:function(){return this.actions.builtIn}},{key:"cache",get:function(){return hf}},{key:"hooks",get:function(){return Lk(this,pk)}},{key:"length",get:function(){return A.exports.keys(this.global.pages).length}},{key:"pages",get:function(){return this.global.pages}},{key:"resolvers",get:function(){return[].concat(Gk,f(this.consumerResolvers))}},{key:"renderState",get:function(){return Lk(this,dk)}},{key:"transactions",get:function(){return hf.transactions}},{key:"createPage",value:function(e,t){var n,r=function(e){return"root"===(null==e?void 0:e.id)?(go(e)||console.log("%cA root NDOMPage is being instantiated but the argument given was not a NUIPage","color:#ec0000;",e),new nw(e)):PE.createComponentPage(e,{node:t,onLoad:function(e,t){console.log('%c[onLoad] NuiPage loaded for page "'.concat(null==n?void 0:n.page,'" on a page component'),"color:#00b406;",{event:e,node:t})},onError:function(e){console.log("%c[onError] Error creating an NDOM page for a page component: ".concat(e.message),"color:#ec0000;",e)}})};if(go(e))return this.findPage(e)||r(e);if(or(e))return this.findPage(e)||r(e);if(A.exports.isObj(e)){if("page"in e)return this.createPage(e.page);if("component"in e)return this.createPage(e.component);if(e.id&&(n=this.findPage(e.id)),!n)return r(Fx.createPage(e))}else{if(!A.exports.isStr(e)&&!A.exports.isNum(e))return r(Fx.createPage({name:e}));if(""!==e)return this.findPage(e)||r(Fx.createPage({name:e}));if(!(n=this.findPage("")))return"root"===(n=r(Fx.createPage({id:this.global.pageIds.includes("root")?e||"":"root",name:""}))).id&&this.page!==n&&(this.page=n),n;if("root"!==n.id)return this.removePage(n),this.createPage("");this.page||(this.page=n)}return n}},{key:"createGlobalRecord",value:function(e){var t=this;if("component"===e.type)return RE.createResource(dO)(e.type,(function(e){t.global.components.set(e.globalId,e)}))({component:e.component,node:e.node,page:e.page||this.page})}},{key:"findPage",value:function(e,n){var r,o,i,a,c,l,s,u;if(or(e)){if(null!=(r=this.global.pages)&&r[null==e?void 0:e.id])return this.global.pages[e.id];var p=e,d=p.get("page"),f=p.get("path");if(go(d))return this.findPage(d);if(A.exports.isStr(f)||A.exports.isStr(n))return n&&this.findPage(n)||this.findPage(f);var v=Jd(p,t.Identify.component.page);if(v)return A.exports.values(this.global.pages).find((function(e){return e.component===v}))}else{if(go(e)){var h,y=g(A.exports.values(this.global.pages));try{for(y.s();!(h=y.n()).done;){var m=h.value;if(m.getNuiPage()===e||(null==(o=m.getNuiPage())?void 0:o.created)===e.created||(null==(a=null==(i=this.findPage(m.id))?void 0:i.getNuiPage)?void 0:a.call(i))===e||(null==(l=null==(c=this.findPage(m.page))?void 0:c.getNuiPage)?void 0:l.call(c))===e||(null==(u=null==(s=this.findPage(m.requesting))?void 0:s.getNuiPage)?void 0:u.call(s))===e)return m}}catch(x){y.e(x)}finally{y.f()}return this.findPage(e.id)}if(wO(e))return e;if(A.exports.isStr(e)&&""!==e){if(e in this.global.pages)return this.global.pages[e];var b=A.exports.values(this.pages).find((function(t){return t.page===e}));if(b&&"root"!==b.id)return b}}return null}},{key:"on",value:function(e,t){return Lk(this,pk)[e].push(t),this}},{key:"request",value:function(){return Uk(this,arguments,u.mark((function e(){var t,n,r,o=this,i=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.page,n=i.length>1&&void 0!==i[1]?i[1]:"",i.length>2&&i[2],n=n||t.requesting||"",e.prev=4,e.next=7,this.transact(Ur.REQUEST_PAGE_OBJECT,t);case 7:if(r=function(e){return Uk(o,null,u.mark((function r(){return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,(n||!t.requesting)&&n!==t.requesting){r.next=6;break}return r.next=4,e();case 4:r.next=8;break;case 6:if(!t.requesting){r.next=8;break}return r.abrupt("return",(console.log("%cAborting this navigate request to ".concat(n,' becausea more recent request for "').concat(t.requesting,'" was instantiated'),"color:#FF5722;",{pageAborting:n,pageRequesting:t.requesting}),delete t.modifiers[n],console.error('A more recent request from "'.concat(n,'" to "').concat(t.requesting,'" was called'))));case 8:r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))},t.setStatus(Fk.status.NAVIGATING),!n.startsWith("http")){e.next=12;break}return e.next=11,r((function(){t.requesting=""}));case 11:return e.abrupt("return",EE(n));case 12:return e.next=14,r((function(){t.emitSync(Fk.on.ON_NAVIGATE_START,t),!EO&&history.pushState({},"",t.pageUrl)}));case 14:return e.next=16,r((function(){t.previous=t.page,t.page=t.requesting,t.requesting=""}));case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(4),n===t.requesting&&(t.requesting=""),e.t0 instanceof Error?e.t0:new Error(e.t0);case 21:return e.abrupt("return",{render:this.render.bind(this,t)});case 22:case"end":return e.stop()}}),e,this,[[4,18]])})))}},{key:"render",value:function(e,t){return Uk(this,null,u.mark((function n(){var r,o,i,a,c,l,s;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null!=(r=A.exports.isFnc(t)?{callback:t}:t)&&r.on&&(o=r.on,i=this.renderState.options.hooks,o.actionChain&&(i.actionChain=o.actionChain),o.createComponent&&(i.createComponent=o.createComponent),o.emit&&(i.emit=o.emit),o.if&&(i.if=o.if),o.setup&&(i.setup=o.setup)),e.setStatus($r.page.status.RESOLVING_COMPONENTS),this.reset("componentCache",e),a=e.getNuiPage(),n.t0=A.exports,n.next=7,Fx.resolveComponents(Ik({components:e.components,page:a},r));case 7:n.t1=n.sent,c=n.t0.array.call(n.t0,n.t1),e.setStatus($r.page.status.COMPONENTS_RECEIVED),e.emitSync($r.page.on.ON_DOM_CLEANUP,{global:this.global,node:e.node}),!LO(e.node)&&e.clearNode(),e.setStatus($r.page.status.RENDERING_COMPONENTS),e.emitSync(Fk.on.ON_BEFORE_RENDER_COMPONENTS,e.snapshot({components:c})),l=c.length,s=0;case 12:if(!(s<l)){n.next=18;break}return n.next=15,this.draw(c[s],e.node,e,r);case 15:s++,n.next=12;break;case 18:return n.abrupt("return",(e.emitSync($r.page.on.ON_COMPONENTS_RENDERED,e),e.setStatus($r.page.status.COMPONENTS_RENDERED),c));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"draw",value:function(e,n,r,o){return Uk(this,null,u.mark((function i(){var a,c,l,s,p,d,f,v,h,y,m,b,x,w,O,E,k,S,_,P,j;return u.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(f=null==o?void 0:o.on,v=null,h=r||this.page,f&&(y=this.renderState.options.hooks,f.actionChain&&(y.actionChain=f.actionChain),f.createComponent&&(y.createComponent=f.createComponent),f.emit&&(y.emit=f.emit),f.if&&(y.if=f.if),f.setup&&(y.setup=f.setup)),null!=h&&h.id&&(""===h.requesting?(this.renderState.draw.active[h.id]&&delete this.renderState.draw.active[h.id],this.renderState.draw.loading[h.id]||(this.renderState.draw.loading[h.id]={pageName:"",timestamp:Date.now()}),(null==(a=this.renderState.draw.loading[h.id])?void 0:a.pageName)!==h.requesting&&(this.renderState.draw.loading[h.id].pageName=h.requesting)):h.requesting&&(this.renderState.draw.loading[h.id]&&delete this.renderState.draw.loading[h.id],this.renderState.draw.active[h.id]||(this.renderState.draw.active[h.id]={pageName:h.requesting,timestamp:Date.now()}),(null==(c=this.renderState.draw.active[h.id])?void 0:c.pageName)!==h.requesting&&(this.renderState.draw.active[h.id].pageName=h.requesting))),i.prev=3,!e){i.next=38;break}if(!jO(e)){i.next=12;break}return m=function(e){return v=e||v},i.next=9,Lk(this,sk).run({on:f,ndom:this,node:m,component:e,page:h,resolvers:this.resolvers});case 9:return i.abrupt("return",v);case 12:if(!t.Identify.component.image(e)){i.next=36;break}if(Lk(this,uk)&&(v=Lk(this,uk).call(this,e)),i.prev=14,!t.Identify.folds.emit(null==(l=e.blueprint)?void 0:l.path)){i.next=26;break}return i.prev=16,i.next=19,_E(n);case 19:(v=i.sent)&&(v.src=e.get(qr)),i.next=26;break;case 23:i.prev=23,i.t0=i.catch(16),console.error(i.t0);case 26:i.next=31;break;case 28:i.prev=28,i.t1=i.catch(14),console.error(i.t1);case 31:return i.prev=31,v||((v=document.createElement("img")).src=e.get(qr)),i.finish(31);case 34:i.next=37;break;case 36:t.Identify.component.page(e)?(b=_O(e,this.createPage.bind(this),this.findPage.bind(this)),v=document.createElement(YO(e)),b.replaceNode(v)):((v=(null==(s=Lk(this,uk))?void 0:s.call(this,e))||null)&&(v.isElementBinding=!0),!v&&(v=document.createElement(YO(e))));case 37:null!=(p=e.has)&&p.call(e,"global")&&KO.call(this,v,e,h),"register"===e.type&&(x=e.get("onEvent"),this.global.register.set(x,e));case 38:if(!v){i.next=69;break}if((w=null!=(d=e.has)&&d.call(e,"global")?document.body:n||document.body).contains(v)||(A.exports.isObj(o)&&A.exports.isNum(o.nodeIndex)?w.insertBefore(v,w.children.item(o.nodeIndex)):w.appendChild(v)),!t.Identify.component.page(e)){i.next=46;break}return O=e.get("path"),E=this.findPage(O),i.next=44,Lk(this,sk).run({on:f,ndom:this,node:v,component:e,page:E||h,resolvers:this.resolvers});case 44:i.next=69;break;case 46:return i.next=48,Lk(this,sk).run({on:f,ndom:this,node:v,component:e,page:h,resolvers:this.resolvers});case 48:k=t.Identify.component.list(e)?document.createDocumentFragment():v,S=g(e.children),i.prev=50,S.s();case 52:if((_=S.n()).done){i.next=60;break}return P=_.value,i.next=56,this.draw(P,v,h,Rk(Ik({},o),{on:f}));case 56:(j=i.sent)&&(null==k||k.appendChild(j));case 58:i.next=52;break;case 60:i.next=65;break;case 62:i.prev=62,i.t2=i.catch(50),S.e(i.t2);case 65:return i.prev=65,S.f(),i.finish(65);case 68:k.nodeType===k.DOCUMENT_FRAGMENT_NODE&&v.appendChild(k),k=null;case 69:i.next=74;break;case 71:throw i.prev=71,i.t3=i.catch(3),console.error(i.t3),i.t3;case 74:return i.prev=74,A.exports.isStr(null==h?void 0:h.id)&&(delete this.renderState.draw.active[h.id],delete this.renderState.draw.loading[h.id]),i.finish(74);case 77:return i.abrupt("return",v||null);case 78:case"end":return i.stop()}}),i,this,[[3,71,74,77],[14,28,31,34],[16,23],[50,62,65,68]])})))}},{key:"redraw",value:function(e,n,r,o){return Uk(this,null,u.mark((function i(){var a,c,l,s,p,d,f,v,h,g,y,m,b,x,w,O,E,k,S,_;return u.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(g=null==o?void 0:o.context,y=t.Identify.component.page(n),b=r||y&&this.findPage(n)||this.page||this.createPage({id:(null==n?void 0:n.id)||(null==e?void 0:e.id)}),x=null==n?void 0:n.parent,w=n.get("index")||0,i.prev=1,!n){i.next=12;break}return t.Identify.component.listItem(n)&&(O=$d(n)||(null==(c=null==(a=null==n?void 0:n.parent)?void 0:a.blueprint)?void 0:c.iteratorVar))&&(E=n.get("index")||0,(g=Ik({},g)).index=E,g.dataObject=(null==g?void 0:g.dataObject)||n.get(O)||(null==(l=g.listObject)?void 0:l[E]),g.iteratorVar=O),null==(s=null==b?void 0:b.emitSync)||s.call(b,$r.page.on.ON_REDRAW_BEFORE_CLEANUP,{parent:null==n?void 0:n.parent,component:n,context:g,node:e,page:b}),m=Fx.createComponent(n.blueprint,null==(p=null==b?void 0:b.getNuiPage)?void 0:p.call(b)),x&&(m.setParent(x),x.createChild(m)),w&&m.edit({index:w}),this.removeComponent(n),i.next=11,null==(v=(f=Fx).resolveComponents)?void 0:v.call(f,{callback:null==o?void 0:o.callback,components:m,page:null==(d=null==b?void 0:b.getNuiPage)?void 0:d.call(b),context:g,on:(null==o?void 0:o.on)||this.renderState.options.hooks});case 11:m=i.sent;case 12:if(!e||!m){i.next=19;break}return k=e.parentNode,S=mE(e),i.next=17,this.draw(m,k,b,Rk(Ik({},o),{on:(null==o?void 0:o.on)||this.renderState.options.hooks,context:g,nodeIndex:S}));case 17:_=i.sent,k?k.replaceChild(_,e):null==(h=null==e?void 0:e.remove)||h.call(e),e=_,_=null,k=null;case 19:i.next=24;break;case 21:throw i.prev=21,i.t0=i.catch(1),console.error(i.t0),new Error(i.t0);case 24:return i.abrupt("return",[e,m]);case 25:case"end":return i.stop()}}),i,this,[[1,21]])})))}},{key:"register",value:function(e){return("actionType"in e||"funcName"in e)&&Fx.use(s({},e.actionType,e)),this}},{key:"reset",value:function(e,t){var n=this,r=(null==t?void 0:t.requesting)||(null==t?void 0:t.page),o=function(){return A.exports.forEach(A.exports.clearArr,A.exports.values(n.hooks))},i=function(){n.page=void 0,A.exports.forEach((function(e){return n.removePage(e)}),A.exports.values(n.pages)),hf.page.clear()},a=function(){A.exports.forEach((function(e){return n.removeGlobalRecord(e)}),f(n.global.components.values())),A.exports.forEach((function(e){return delete n.global.timers[e]}),A.exports.keys(n.global.timers)),i()};return void 0!==e?(A.exports.isObj(e)?(e.componentCache&&qO(r),e.global&&a(),e.hooks&&o(),e.pages&&i(),e.transactions&&XO()):"actions"===e?HO():"componentCache"===e?qO(r):"hooks"===e?o():"register"===e?JO():"transactions"===e&&XO(),this):(A.exports.callAll(HO,qO,a,o,i,JO,XO)(),this)}},{key:"resync",value:function(){return $O.call(this)}},{key:"transact",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uk(this,null,u.mark((function t(){var r,o,i,a;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e===Ur.REQUEST_PAGE_OBJECT&&A.exports.forEach((function(e){return null==e?void 0:e(n[0])}),Lk(this,pk).onBeforeRequestPageObject),a=null==(i=null==(o=hf.transactions.get(e))?void 0:o.fn)?void 0:(r=i).call.apply(r,[o].concat(n)),t.abrupt("return",(e===Ur.REQUEST_PAGE_OBJECT&&A.exports.forEach((function(e){return null==e?void 0:e(n[0])}),Lk(this,pk).onAfterRequestPageObject),a));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"removeComponent",value:function(e){var t=this;if(e){var n=function e(n){var r,o,i,a,c,l,s;hf.component.remove(n),((null==(r=n.has)?void 0:r.call(n,"global"))||(null==(o=n.blueprint)?void 0:o.global))&&t.removeGlobalComponent(n.get(Jr)),null==(i=null==n?void 0:n.setParent)||i.call(n,null),null==(a=null==n?void 0:n.parent)||a.removeChild(n),null==(l=null==(c=n.children)?void 0:c.forEach)||l.call(c,(function(t){return e(t)})),n.has("page")&&n.remove("page"),null==(s=n.clear)||s.call(n)};n(e)}}},{key:"removeGlobalComponent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(n&&e.components.has(n)){var r=e.components.get(n),o=null==r?void 0:r.toJSON();if(o){var i=o.componentId,a=o.nodeId;if(i&&hf.component.has(i)&&this.removeComponent(null==(t=hf.component.get(i))?void 0:t.component),this.global.components.delete(n),a){var c=document.querySelector('[data-key="'.concat(n,'"]'));c&&this.removeNode(c)}}}}},{key:"removeGlobalRecord",value:function(e){var t,n,r,o=e.componentId,i=e.globalId,a=e.nodeId;a&&(null==(n=null==(t=document.getElementById(a))?void 0:t.remove)||n.call(t)),hf.component.has(o)&&this.removeComponent(null==(r=hf.component.get(o))?void 0:r.component),this.removeGlobalComponent(this.global,i)}},{key:"removeNode",value:function(e){var t,n,r;if(e)try{null==(n=null==(t=e.parentNode)?void 0:t.removeChild)||n.call(t,e),null==(r=e.remove)||r.call(e)}catch(o){console.error(o)}}},{key:"removePage",value:function(e){var t,n,r;if(e){var o=e.id;Fx.clean(e.getNuiPage()),e.remove(),null!=(t=null==this?void 0:this.global)&&t.pages&&o in this.global.pages&&delete this.global.pages[o];try{xO(e)?e.clear():(e.remove(),null==(r=null==(n=null==e?void 0:e.node)?void 0:n.remove)||r.call(n))}catch(i){console.error(i)}e=null}}},{key:"use",value:function(e){var t=this;if(e){if(go(e))return this.findPage(e)||this.createPage(e);var n=e,r=n.createElementBinding,o=n.resolver,i=n.transaction,a=Dk(n,["createElementBinding","resolver","transaction"]);return r&&Bk(this,uk,r),o&&this.consumerResolvers.push(o),i&&A.exports.entries(i).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];r===Ur.REQUEST_PAGE_OBJECT?Fx.use({transaction:s({},Ur.REQUEST_PAGE_OBJECT,(function(e){return Uk(t,null,u.mark((function t(){var n,r;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A.exports.isFnc(i[Ur.REQUEST_PAGE_OBJECT])){t.next=2;break}throw new Error("Missing transaction: ".concat(Ur.REQUEST_PAGE_OBJECT));case 2:return r=this.findPage(e),t.abrupt("return",(r?!r.requesting&&(r.requesting=(null==e?void 0:e.page)||""):(r=this.createPage(e)).requesting=e.page,null==(n=i[Ur.REQUEST_PAGE_OBJECT])?void 0:n.call(i,r)));case 4:case"end":return t.stop()}}),t,this)})))}))}):Fx.use({transaction:s({},r,o)})})),Fx.use(a),this}}}]),i}(DE,Symbol.for("nodejs.util.inspect.custom"));function zk(e){return mO((function(t){return!t||(e(t),!1)}))}sk=new WeakMap,uk=new WeakMap,pk=new WeakMap,dk=new WeakMap;var Kk=Nr.dataAttributes;e.ActionsCache=ho,e.BASE_PAGE_URL=Gr,e.Component=jr,e.ComponentCache=Eo,e.ComponentPage=kw,e.EmitAction=Ji,e.Global=iO,e.GlobalComponentRecord=dO,e.GlobalRecord=cO,e.GlobalTimer=Lw,e.GlobalTimers=Jw,e.NDOM=Vk,e.NDOMPage=nw,e.NDOMResolver=Sk,e.NUI=Fx,e.Page=$o,e.PageCache=vi,e.PluginCache=Oi,e.RegisterCache=Pi,e.Resolver=Gd,e.TransactionsCache=Ii,e.Transformer=Xg,e.Viewport=Bo,e._DEV_=OO,e._TEST_=EO,e.actionTypes=Ar,e.addClassName=kO,e.asHtmlElement=QO,e.createAction=yg,e.createActionChain=mg,e.createComponent=Sg,e.dataAttributes=Kk,e.deref=Mg,e.evalIf=Hd,e.event=Wr,e.eventId=$r,e.findByClassName=lE,e.findByDataAttrib=tE,e.findByDataKey=nE,e.findByElementId=sE,e.findByGlobalId=rE,e.findByPlaceholder=oE,e.findBySelector=eE,e.findBySrc=iE,e.findByUX=cE,e.findByViewTag=aE,e.findDocument=zk,e.findElement=bO,e.findFirstByClassName=gE,e.findFirstByDataKey=dE,e.findFirstByElementId=hE,e.findFirstByGlobalId=fE,e.findFirstBySelector=pE,e.findFirstByViewTag=vE,e.findIteratorVar=$d,e.findListDataObject=Xd,e.findParent=Jd,e.findWindow=yO,e.findWindowDocument=mO,e.flatten=Qd,e.formatColor=ko,e.getActionObjectErrors=cg,e.getBaseStyles=hh,e.getByRef=Sh,e.getDataValues=ef,e.getElementTag=YO,e.getPositionProps=Ch,e.getSize=Th,e.getViewportRatio=Ih,e.isComponent=or,e.isDisplayable=xE,e.isImageDoc=NO,e.isListConsumer=nf,e.isMarkdownDoc=AO,e.isNDOMPage=wO,e.isNoodlUnit=Mh,e.isNoteDoc=CO,e.isPage=go,e.isPageConsumer=wE,e.isPdfDoc=TO,e.isTextDoc=IO,e.isTextFieldLike=kE,e.isViewport=Lg,e.isWordDoc=RO,e.makeElemFn=bE,e.makeFindByAttr=ZO,e.makeFindFirstBy=uE,e.normalizeEventName=OE,e.normalizeProps=tg,e.nuiEmitTransaction=Ur,e.nuiEmitType=Br,e.nuiGroupedActionTypes=Mr,e.openOutboundURL=EE,e.parse=tg,e.parseReference=of,e.posKeys=VO,e.publish=cf,e.pullFromComponent=af,e.resolveAssetUrl=lf,e.resolveComponents=_f,e.resolveDataAttribs=jf,e.resolvePageComponentUrl=Wg,e.resolveReference=Od,e.resolveStyles=rg,e.resourceTypes=zO,e.toNum=Kh,e.toSelectOption=SE,e.trigger=Fr,e.triggers=Rr,e.xKeys=FO,e.yKeys=GO,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(4805),n(8173),n(8006),n(7941))}}]);